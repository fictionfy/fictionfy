var Zte=Object.defineProperty;var uI=n=>{throw TypeError(n)};var Qte=(n,e,t)=>e in n?Zte(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Wt=(n,e,t)=>Qte(n,typeof e!="symbol"?e+"":e,t),UU=(n,e,t)=>e.has(n)||uI("Cannot "+t);var _=(n,e,t)=>(UU(n,e,"read from private field"),t?t.call(n):e.get(n)),ee=(n,e,t)=>e.has(n)?uI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),V=(n,e,t,r)=>(UU(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),ie=(n,e,t)=>(UU(n,e,"access private method"),t);var Ki=(n,e,t,r)=>({set _(i){V(n,e,i,t)},get _(){return _(n,e,r)}});function Jte(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zF(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var OU={exports:{}},r_={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dI;function ene(){if(dI)return r_;dI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return r_.Fragment=e,r_.jsx=t,r_.jsxs=t,r_}var hI;function tne(){return hI||(hI=1,OU.exports=ene()),OU.exports}var d=tne(),MU={exports:{}},tn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI;function nne(){if(fI)return tn;fI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function m(G){return G===null||typeof G!="object"?null:(G=p&&G[p]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function w(G,Y,ne){this.props=G,this.context=Y,this.refs=x,this.updater=ne||y}w.prototype.isReactComponent={},w.prototype.setState=function(G,Y){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,Y,"setState")},w.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=w.prototype;function T(G,Y,ne){this.props=G,this.context=Y,this.refs=x,this.updater=ne||y}var E=T.prototype=new S;E.constructor=T,b(E,w.prototype),E.isPureReactComponent=!0;var R=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function O(G,Y,ne,le,xe,we){return ne=we.ref,{$$typeof:n,type:G,key:Y,ref:ne!==void 0?ne:null,props:we}}function M(G,Y){return O(G.type,Y,void 0,void 0,void 0,G.props)}function P(G){return typeof G=="object"&&G!==null&&G.$$typeof===n}function H(G){var Y={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ne){return Y[ne]})}var X=/\/+/g;function I(G,Y){return typeof G=="object"&&G!==null&&G.key!=null?H(""+G.key):Y.toString(36)}function q(){}function L(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(q,q):(G.status="pending",G.then(function(Y){G.status==="pending"&&(G.status="fulfilled",G.value=Y)},function(Y){G.status==="pending"&&(G.status="rejected",G.reason=Y)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function te(G,Y,ne,le,xe){var we=typeof G;(we==="undefined"||we==="boolean")&&(G=null);var Re=!1;if(G===null)Re=!0;else switch(we){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(G.$$typeof){case n:case e:Re=!0;break;case f:return Re=G._init,te(Re(G._payload),Y,ne,le,xe)}}if(Re)return xe=xe(G),Re=le===""?"."+I(G,0):le,R(xe)?(ne="",Re!=null&&(ne=Re.replace(X,"$&/")+"/"),te(xe,Y,ne,"",function(Ye){return Ye})):xe!=null&&(P(xe)&&(xe=M(xe,ne+(xe.key==null||G&&G.key===xe.key?"":(""+xe.key).replace(X,"$&/")+"/")+Re)),Y.push(xe)),1;Re=0;var Ee=le===""?".":le+":";if(R(G))for(var Me=0;Me<G.length;Me++)le=G[Me],we=Ee+I(le,Me),Re+=te(le,Y,ne,we,xe);else if(Me=m(G),typeof Me=="function")for(G=Me.call(G),Me=0;!(le=G.next()).done;)le=le.value,we=Ee+I(le,Me++),Re+=te(le,Y,ne,we,xe);else if(we==="object"){if(typeof G.then=="function")return te(L(G),Y,ne,le,xe);throw Y=String(G),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Re}function B(G,Y,ne){if(G==null)return G;var le=[],xe=0;return te(G,le,"","",function(we){return Y.call(ne,we,xe++)}),le}function W(G){if(G._status===-1){var Y=G._result;Y=Y(),Y.then(function(ne){(G._status===0||G._status===-1)&&(G._status=1,G._result=ne)},function(ne){(G._status===0||G._status===-1)&&(G._status=2,G._result=ne)}),G._status===-1&&(G._status=0,G._result=Y)}if(G._status===1)return G._result.default;throw G._result}var se=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function K(){}return tn.Children={map:B,forEach:function(G,Y,ne){B(G,function(){Y.apply(this,arguments)},ne)},count:function(G){var Y=0;return B(G,function(){Y++}),Y},toArray:function(G){return B(G,function(Y){return Y})||[]},only:function(G){if(!P(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},tn.Component=w,tn.Fragment=t,tn.Profiler=i,tn.PureComponent=T,tn.StrictMode=r,tn.Suspense=l,tn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,tn.__COMPILER_RUNTIME={__proto__:null,c:function(G){return N.H.useMemoCache(G)}},tn.cache=function(G){return function(){return G.apply(null,arguments)}},tn.cloneElement=function(G,Y,ne){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var le=b({},G.props),xe=G.key,we=void 0;if(Y!=null)for(Re in Y.ref!==void 0&&(we=void 0),Y.key!==void 0&&(xe=""+Y.key),Y)!U.call(Y,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Y.ref===void 0||(le[Re]=Y[Re]);var Re=arguments.length-2;if(Re===1)le.children=ne;else if(1<Re){for(var Ee=Array(Re),Me=0;Me<Re;Me++)Ee[Me]=arguments[Me+2];le.children=Ee}return O(G.type,xe,void 0,void 0,we,le)},tn.createContext=function(G){return G={$$typeof:a,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},tn.createElement=function(G,Y,ne){var le,xe={},we=null;if(Y!=null)for(le in Y.key!==void 0&&(we=""+Y.key),Y)U.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(xe[le]=Y[le]);var Re=arguments.length-2;if(Re===1)xe.children=ne;else if(1<Re){for(var Ee=Array(Re),Me=0;Me<Re;Me++)Ee[Me]=arguments[Me+2];xe.children=Ee}if(G&&G.defaultProps)for(le in Re=G.defaultProps,Re)xe[le]===void 0&&(xe[le]=Re[le]);return O(G,we,void 0,void 0,null,xe)},tn.createRef=function(){return{current:null}},tn.forwardRef=function(G){return{$$typeof:o,render:G}},tn.isValidElement=P,tn.lazy=function(G){return{$$typeof:f,_payload:{_status:-1,_result:G},_init:W}},tn.memo=function(G,Y){return{$$typeof:u,type:G,compare:Y===void 0?null:Y}},tn.startTransition=function(G){var Y=N.T,ne={};N.T=ne;try{var le=G(),xe=N.S;xe!==null&&xe(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(K,se)}catch(we){se(we)}finally{N.T=Y}},tn.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},tn.use=function(G){return N.H.use(G)},tn.useActionState=function(G,Y,ne){return N.H.useActionState(G,Y,ne)},tn.useCallback=function(G,Y){return N.H.useCallback(G,Y)},tn.useContext=function(G){return N.H.useContext(G)},tn.useDebugValue=function(){},tn.useDeferredValue=function(G,Y){return N.H.useDeferredValue(G,Y)},tn.useEffect=function(G,Y,ne){var le=N.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(G,Y)},tn.useId=function(){return N.H.useId()},tn.useImperativeHandle=function(G,Y,ne){return N.H.useImperativeHandle(G,Y,ne)},tn.useInsertionEffect=function(G,Y){return N.H.useInsertionEffect(G,Y)},tn.useLayoutEffect=function(G,Y){return N.H.useLayoutEffect(G,Y)},tn.useMemo=function(G,Y){return N.H.useMemo(G,Y)},tn.useOptimistic=function(G,Y){return N.H.useOptimistic(G,Y)},tn.useReducer=function(G,Y,ne){return N.H.useReducer(G,Y,ne)},tn.useRef=function(G){return N.H.useRef(G)},tn.useState=function(G){return N.H.useState(G)},tn.useSyncExternalStore=function(G,Y,ne){return N.H.useSyncExternalStore(G,Y,ne)},tn.useTransition=function(){return N.H.useTransition()},tn.version="19.1.0",tn}var pI;function xv(){return pI||(pI=1,MU.exports=nne()),MU.exports}var C=xv();const Wi=kh(C),Tz=Jte({__proto__:null,default:Wi},[C]);var PU={exports:{}},i_={},FU={exports:{}},LU={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function rne(){return mI||(mI=1,function(n){function e(B,W){var se=B.length;B.push(W);e:for(;0<se;){var K=se-1>>>1,G=B[K];if(0<i(G,W))B[K]=W,B[se]=G,se=K;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],se=B.pop();if(se!==W){B[0]=se;e:for(var K=0,G=B.length,Y=G>>>1;K<Y;){var ne=2*(K+1)-1,le=B[ne],xe=ne+1,we=B[xe];if(0>i(le,se))xe<G&&0>i(we,le)?(B[K]=we,B[xe]=se,K=xe):(B[K]=le,B[ne]=se,K=ne);else if(xe<G&&0>i(we,se))B[K]=we,B[xe]=se,K=xe;else break e}}return W}function i(B,W){var se=B.sortIndex-W.sortIndex;return se!==0?se:B.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,p=null,m=3,y=!1,b=!1,x=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=B)r(u),W.sortIndex=W.expirationTime,e(l,W);else break;W=t(u)}}function N(B){if(x=!1,R(B),!b)if(t(l)!==null)b=!0,U||(U=!0,I());else{var W=t(u);W!==null&&te(N,W.startTime-B)}}var U=!1,O=-1,M=5,P=-1;function H(){return w?!0:!(n.unstable_now()-P<M)}function X(){if(w=!1,U){var B=n.unstable_now();P=B;var W=!0;try{e:{b=!1,x&&(x=!1,T(O),O=-1),y=!0;var se=m;try{t:{for(R(B),p=t(l);p!==null&&!(p.expirationTime>B&&H());){var K=p.callback;if(typeof K=="function"){p.callback=null,m=p.priorityLevel;var G=K(p.expirationTime<=B);if(B=n.unstable_now(),typeof G=="function"){p.callback=G,R(B),W=!0;break t}p===t(l)&&r(l),R(B)}else r(l);p=t(l)}if(p!==null)W=!0;else{var Y=t(u);Y!==null&&te(N,Y.startTime-B),W=!1}}break e}finally{p=null,m=se,y=!1}W=void 0}}finally{W?I():U=!1}}}var I;if(typeof E=="function")I=function(){E(X)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,L=q.port2;q.port1.onmessage=X,I=function(){L.postMessage(null)}}else I=function(){S(X,0)};function te(B,W){O=S(function(){B(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(B){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var se=m;m=W;try{return B()}finally{m=se}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=m;m=B;try{return W()}finally{m=se}},n.unstable_scheduleCallback=function(B,W,se){var K=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?K+se:K):se=K,B){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=se+G,B={id:f++,callback:W,priorityLevel:B,startTime:se,expirationTime:G,sortIndex:-1},se>K?(B.sortIndex=se,e(u,B),t(l)===null&&B===t(u)&&(x?(T(O),O=-1):x=!0,te(N,se-K))):(B.sortIndex=G,e(l,B),b||y||(b=!0,U||(U=!0,I()))),B},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(B){var W=m;return function(){var se=m;m=W;try{return B.apply(this,arguments)}finally{m=se}}}}(LU)),LU}var gI;function ine(){return gI||(gI=1,FU.exports=rne()),FU.exports}var IU={exports:{}},Fs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function sne(){if(yI)return Fs;yI=1;var n=xv();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:u,implementation:f}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Fs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Fs.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,f)},Fs.flushSync=function(l){var u=a.T,f=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=u,r.p=f,r.d.f()}},Fs.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(l,u))},Fs.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Fs.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var f=u.as,p=o(f,u.crossOrigin),m=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):f==="script"&&r.d.X(l,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Fs.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=o(u.as,u.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(l)},Fs.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,p=o(f,u.crossOrigin);r.d.L(l,f,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Fs.preloadModule=function(l,u){if(typeof l=="string")if(u){var f=o(u.as,u.crossOrigin);r.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(l)},Fs.requestFormReset=function(l){r.d.r(l)},Fs.unstable_batchedUpdates=function(l,u){return l(u)},Fs.useFormState=function(l,u,f){return a.H.useFormState(l,u,f)},Fs.useFormStatus=function(){return a.H.useHostTransitionStatus()},Fs.version="19.1.0",Fs}var vI;function Ez(){if(vI)return IU.exports;vI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),IU.exports=sne(),IU.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bI;function ane(){if(bI)return i_;bI=1;var n=ine(),e=xv(),t=Ez();function r(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var h=c,g=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(g=h.return),c=h.return;while(c)}return h.tag===3?g:null}function a(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function o(c){if(s(c)!==c)throw Error(r(188))}function l(c){var h=c.alternate;if(!h){if(h=s(c),h===null)throw Error(r(188));return h!==c?null:c}for(var g=c,A=h;;){var j=g.return;if(j===null)break;var F=j.alternate;if(F===null){if(A=j.return,A!==null){g=A;continue}break}if(j.child===F.child){for(F=j.child;F;){if(F===g)return o(j),c;if(F===A)return o(j),h;F=F.sibling}throw Error(r(188))}if(g.return!==A.return)g=j,A=F;else{for(var Z=!1,he=j.child;he;){if(he===g){Z=!0,g=j,A=F;break}if(he===A){Z=!0,A=j,g=F;break}he=he.sibling}if(!Z){for(he=F.child;he;){if(he===g){Z=!0,g=F,A=j;break}if(he===A){Z=!0,A=F,g=j;break}he=he.sibling}if(!Z)throw Error(r(189))}}if(g.alternate!==A)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?c:h}function u(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=u(c),h!==null)return h;c=c.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),E=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function I(c){return c===null||typeof c!="object"?null:(c=X&&c[X]||c["@@iterator"],typeof c=="function"?c:null)}var q=Symbol.for("react.client.reference");function L(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===q?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case b:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case N:return"Suspense";case U:return"SuspenseList";case P:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case y:return"Portal";case E:return(c.displayName||"Context")+".Provider";case T:return(c._context.displayName||"Context")+".Consumer";case R:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case O:return h=c.displayName||null,h!==null?h:L(c.type)||"Memo";case M:h=c._payload,c=c._init;try{return L(c(h))}catch{}}return null}var te=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},K=[],G=-1;function Y(c){return{current:c}}function ne(c){0>G||(c.current=K[G],K[G]=null,G--)}function le(c,h){G++,K[G]=c.current,c.current=h}var xe=Y(null),we=Y(null),Re=Y(null),Ee=Y(null);function Me(c,h){switch(le(Re,h),le(we,c),le(xe,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?Sr(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=Sr(h),c=Rr(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}ne(xe),le(xe,c)}function Ye(){ne(xe),ne(we),ne(Re)}function Ke(c){c.memoizedState!==null&&le(Ee,c);var h=xe.current,g=Rr(h,c.type);h!==g&&(le(we,c),le(xe,g))}function Le(c){we.current===c&&(ne(xe),ne(we)),Ee.current===c&&(ne(Ee),jf._currentValue=se)}var lt=Object.prototype.hasOwnProperty,st=n.unstable_scheduleCallback,$=n.unstable_cancelCallback,ge=n.unstable_shouldYield,ve=n.unstable_requestPaint,ae=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,ye=n.unstable_ImmediatePriority,ke=n.unstable_UserBlockingPriority,be=n.unstable_NormalPriority,J=n.unstable_LowPriority,Q=n.unstable_IdlePriority,ue=n.log,me=n.unstable_setDisableYieldValue,Ae=null,Fe=null;function Ge(c){if(typeof ue=="function"&&me(c),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Ae,c)}catch{}}var at=Math.clz32?Math.clz32:He,ut=Math.log,Te=Math.LN2;function He(c){return c>>>=0,c===0?32:31-(ut(c)/Te|0)|0}var et=256,ht=4194304;function Tt(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function gt(c,h,g){var A=c.pendingLanes;if(A===0)return 0;var j=0,F=c.suspendedLanes,Z=c.pingedLanes;c=c.warmLanes;var he=A&134217727;return he!==0?(A=he&~F,A!==0?j=Tt(A):(Z&=he,Z!==0?j=Tt(Z):g||(g=he&~c,g!==0&&(j=Tt(g))))):(he=A&~F,he!==0?j=Tt(he):Z!==0?j=Tt(Z):g||(g=A&~c,g!==0&&(j=Tt(g)))),j===0?0:h!==0&&h!==j&&(h&F)===0&&(F=j&-j,g=h&-h,F>=g||F===32&&(g&4194048)!==0)?h:j}function Et(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function vn(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var c=et;return et<<=1,(et&4194048)===0&&(et=256),c}function Ea(){var c=ht;return ht<<=1,(ht&62914560)===0&&(ht=4194304),c}function oe(c){for(var h=[],g=0;31>g;g++)h.push(c);return h}function fe(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function De(c,h,g,A,j,F){var Z=c.pendingLanes;c.pendingLanes=g,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=g,c.entangledLanes&=g,c.errorRecoveryDisabledLanes&=g,c.shellSuspendCounter=0;var he=c.entanglements,Se=c.expirationTimes,Ie=c.hiddenUpdates;for(g=Z&~g;0<g;){var Qe=31-at(g),nt=1<<Qe;he[Qe]=0,Se[Qe]=-1;var We=Ie[Qe];if(We!==null)for(Ie[Qe]=null,Qe=0;Qe<We.length;Qe++){var $e=We[Qe];$e!==null&&($e.lane&=-536870913)}g&=~nt}A!==0&&ze(c,A,0),F!==0&&j===0&&c.tag!==0&&(c.suspendedLanes|=F&~(Z&~h))}function ze(c,h,g){c.pendingLanes|=h,c.suspendedLanes&=~h;var A=31-at(h);c.entangledLanes|=h,c.entanglements[A]=c.entanglements[A]|1073741824|g&4194090}function dt(c,h){var g=c.entangledLanes|=h;for(c=c.entanglements;g;){var A=31-at(g),j=1<<A;j&h|c[A]&h&&(c[A]|=h),g&=~j}}function Ct(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function On(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ii(){var c=W.p;return c!==0?c:(c=window.event,c===void 0?32:wC(c.type))}function co(c,h){var g=W.p;try{return W.p=c,h()}finally{W.p=g}}var Pi=Math.random().toString(36).slice(2),Yn="__reactFiber$"+Pi,Lr="__reactProps$"+Pi,Hi="__reactContainer$"+Pi,uo="__reactEvents$"+Pi,Ca="__reactListeners$"+Pi,Il="__reactHandles$"+Pi,Bc="__reactResources$"+Pi,Ir="__reactMarker$"+Pi;function Ph(c){delete c[Yn],delete c[Lr],delete c[uo],delete c[Ca],delete c[Il]}function Js(c){var h=c[Yn];if(h)return h;for(var g=c.parentNode;g;){if(h=g[Hi]||g[Yn]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(c=cC(c);c!==null;){if(g=c[Yn])return g;c=cC(c)}return h}c=g,g=c.parentNode}return null}function $l(c){if(c=c[Yn]||c[Hi]){var h=c.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return c}return null}function Fh(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(r(33))}function Lh(c){var h=c[Bc];return h||(h=c[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ai(c){c[Ir]=!0}var oT=new Set,lT={};function rd(c,h){Ih(c,h),Ih(c+"Capture",h)}function Ih(c,h){for(lT[c]=h,c=0;c<h.length;c++)oT.add(h[c])}var Bv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cT={},cm={};function Ck(c){return lt.call(cm,c)?!0:lt.call(cT,c)?!1:Bv.test(c)?cm[c]=!0:(cT[c]=!0,!1)}function Wv(c,h,g){if(Ck(h))if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var A=h.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+g)}}function zv(c,h,g){if(g===null)c.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+g)}}function Zo(c,h,g,A){if(A===null)c.removeAttribute(g);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(g);return}c.setAttributeNS(h,g,""+A)}}var qv,hw;function $h(c){if(qv===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);qv=h&&h[1]||"",hw=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qv+c+hw}var fw=!1;function pw(c,h){if(!c||fw)return"";fw=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(h){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch($e){var We=$e}Reflect.construct(c,[],nt)}else{try{nt.call()}catch($e){We=$e}c.call(nt.prototype)}}else{try{throw Error()}catch($e){We=$e}(nt=c())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch($e){if($e&&We&&typeof $e.stack=="string")return[$e.stack,We.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=A.DetermineComponentFrameRoot(),Z=F[0],he=F[1];if(Z&&he){var Se=Z.split(`
`),Ie=he.split(`
`);for(j=A=0;A<Se.length&&!Se[A].includes("DetermineComponentFrameRoot");)A++;for(;j<Ie.length&&!Ie[j].includes("DetermineComponentFrameRoot");)j++;if(A===Se.length||j===Ie.length)for(A=Se.length-1,j=Ie.length-1;1<=A&&0<=j&&Se[A]!==Ie[j];)j--;for(;1<=A&&0<=j;A--,j--)if(Se[A]!==Ie[j]){if(A!==1||j!==1)do if(A--,j--,0>j||Se[A]!==Ie[j]){var Qe=`
`+Se[A].replace(" at new "," at ");return c.displayName&&Qe.includes("<anonymous>")&&(Qe=Qe.replace("<anonymous>",c.displayName)),Qe}while(1<=A&&0<=j);break}}}finally{fw=!1,Error.prepareStackTrace=g}return(g=c?c.displayName||c.name:"")?$h(g):""}function Nk(c){switch(c.tag){case 26:case 27:case 5:return $h(c.type);case 16:return $h("Lazy");case 13:return $h("Suspense");case 19:return $h("SuspenseList");case 0:case 15:return pw(c.type,!1);case 11:return pw(c.type.render,!1);case 1:return pw(c.type,!0);case 31:return $h("Activity");default:return""}}function mw(c){try{var h="";do h+=Nk(c),c=c.return;while(c);return h}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ea(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function gw(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function yw(c){var h=gw(c)?"checked":"value",g=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),A=""+c[h];if(!c.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var j=g.get,F=g.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return j.call(this)},set:function(Z){A=""+Z,F.call(this,Z)}}),Object.defineProperty(c,h,{enumerable:g.enumerable}),{getValue:function(){return A},setValue:function(Z){A=""+Z},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Hv(c){c._valueTracker||(c._valueTracker=yw(c))}function vw(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var g=h.getValue(),A="";return c&&(A=gw(c)?c.checked?"true":"false":c.value),c=A,c!==g?(h.setValue(c),!0):!1}function id(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var uT=/[\n"\\]/g;function Na(c){return c.replace(uT,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Vv(c,h,g,A,j,F,Z,he){c.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?c.type=Z:c.removeAttribute("type"),h!=null?Z==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+ea(h)):c.value!==""+ea(h)&&(c.value=""+ea(h)):Z!=="submit"&&Z!=="reset"||c.removeAttribute("value"),h!=null?um(c,Z,ea(h)):g!=null?um(c,Z,ea(g)):A!=null&&c.removeAttribute("value"),j==null&&F!=null&&(c.defaultChecked=!!F),j!=null&&(c.checked=j&&typeof j!="function"&&typeof j!="symbol"),he!=null&&typeof he!="function"&&typeof he!="symbol"&&typeof he!="boolean"?c.name=""+ea(he):c.removeAttribute("name")}function bw(c,h,g,A,j,F,Z,he){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(c.type=F),h!=null||g!=null){if(!(F!=="submit"&&F!=="reset"||h!=null))return;g=g!=null?""+ea(g):"",h=h!=null?""+ea(h):g,he||h===c.value||(c.value=h),c.defaultValue=h}A=A??j,A=typeof A!="function"&&typeof A!="symbol"&&!!A,c.checked=he?c.checked:!!A,c.defaultChecked=!!A,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(c.name=Z)}function um(c,h,g){h==="number"&&id(c.ownerDocument)===c||c.defaultValue===""+g||(c.defaultValue=""+g)}function Bh(c,h,g,A){if(c=c.options,h){h={};for(var j=0;j<g.length;j++)h["$"+g[j]]=!0;for(g=0;g<c.length;g++)j=h.hasOwnProperty("$"+c[g].value),c[g].selected!==j&&(c[g].selected=j),j&&A&&(c[g].defaultSelected=!0)}else{for(g=""+ea(g),h=null,j=0;j<c.length;j++){if(c[j].value===g){c[j].selected=!0,A&&(c[j].defaultSelected=!0);return}h!==null||c[j].disabled||(h=c[j])}h!==null&&(h.selected=!0)}}function xw(c,h,g){if(h!=null&&(h=""+ea(h),h!==c.value&&(c.value=h),g==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=g!=null?""+ea(g):""}function Gv(c,h,g,A){if(h==null){if(A!=null){if(g!=null)throw Error(r(92));if(te(A)){if(1<A.length)throw Error(r(93));A=A[0]}g=A}g==null&&(g=""),h=g}g=ea(h),c.defaultValue=g,A=c.textContent,A===g&&A!==""&&A!==null&&(c.value=A)}function Wc(c,h){if(h){var g=c.firstChild;if(g&&g===c.lastChild&&g.nodeType===3){g.nodeValue=h;return}}c.textContent=h}var Wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ww(c,h,g){var A=h.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?A?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":A?c.setProperty(h,g):typeof g!="number"||g===0||Wh.has(h)?h==="float"?c.cssFloat=g:c[h]=(""+g).trim():c[h]=g+"px"}function _w(c,h,g){if(h!=null&&typeof h!="object")throw Error(r(62));if(c=c.style,g!=null){for(var A in g)!g.hasOwnProperty(A)||h!=null&&h.hasOwnProperty(A)||(A.indexOf("--")===0?c.setProperty(A,""):A==="float"?c.cssFloat="":c[A]="");for(var j in h)A=h[j],h.hasOwnProperty(j)&&g[j]!==A&&ww(c,j,A)}else for(var F in h)h.hasOwnProperty(F)&&ww(c,F,h[F])}function Sw(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dm(c){return hT.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var Xv=null;function Dw(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var zh=null,qh=null;function Aw(c){var h=$l(c);if(h&&(c=h.stateNode)){var g=c[Lr]||null;e:switch(c=h.stateNode,h.type){case"input":if(Vv(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),h=g.name,g.type==="radio"&&h!=null){for(g=c;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+Na(""+h)+'"][type="radio"]'),h=0;h<g.length;h++){var A=g[h];if(A!==c&&A.form===c.form){var j=A[Lr]||null;if(!j)throw Error(r(90));Vv(A,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(h=0;h<g.length;h++)A=g[h],A.form===c.form&&vw(A)}break e;case"textarea":xw(c,g.value,g.defaultValue);break e;case"select":h=g.value,h!=null&&Bh(c,!!g.multiple,h,!1)}}}var Tw=!1;function fT(c,h,g){if(Tw)return c(h,g);Tw=!0;try{var A=c(h);return A}finally{if(Tw=!1,(zh!==null||qh!==null)&&(Xb(),zh&&(h=zh,c=qh,qh=zh=null,Aw(h),c)))for(h=0;h<c.length;h++)Aw(c[h])}}function hm(c,h){var g=c.stateNode;if(g===null)return null;var A=g[Lr]||null;if(A===null)return null;g=A[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(c=c.type,A=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!A;break e;default:c=!1}if(c)return null;if(g&&typeof g!="function")throw Error(r(231,h,typeof g));return g}var Bl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=!1;if(Bl)try{var pm={};Object.defineProperty(pm,"passive",{get:function(){fm=!0}}),window.addEventListener("test",pm,pm),window.removeEventListener("test",pm,pm)}catch{fm=!1}var zc=null,Ew=null,Yv=null;function pT(){if(Yv)return Yv;var c,h=Ew,g=h.length,A,j="value"in zc?zc.value:zc.textContent,F=j.length;for(c=0;c<g&&h[c]===j[c];c++);var Z=g-c;for(A=1;A<=Z&&h[g-A]===j[F-A];A++);return Yv=j.slice(c,1<A?1-A:void 0)}function Kn(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function zn(){return!0}function mT(){return!1}function Ds(c){function h(g,A,j,F,Z){this._reactName=g,this._targetInst=j,this.type=A,this.nativeEvent=F,this.target=Z,this.currentTarget=null;for(var he in c)c.hasOwnProperty(he)&&(g=c[he],this[he]=g?g(F):F[he]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?zn:mT,this.isPropagationStopped=mT,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),h}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kv=Ds(sd),mm=f({},sd,{view:0,detail:0}),Rk=Ds(mm),Zv,Cw,Kr,Hh=f({},mm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Kr&&(Kr&&c.type==="mousemove"?(Zv=c.screenX-Kr.screenX,Cw=c.screenY-Kr.screenY):Cw=Zv=0,Kr=c),Zv)},movementY:function(c){return"movementY"in c?c.movementY:Cw}}),qc=Ds(Hh),gT=f({},Hh,{dataTransfer:0}),Nw=Ds(gT),Ra=f({},mm,{relatedTarget:0}),Qv=Ds(Ra),yT=f({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),vT=Ds(yT),bT=f({},sd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),xT=Ds(bT),wT=f({},sd,{data:0}),As=Ds(wT),jk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _T(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=kk[c])?!!h[c]:!1}function Qo(){return _T}var Jv=f({},mm,{key:function(c){if(c.key){var h=jk[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Kn(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?ja[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(c){return c.type==="keypress"?Kn(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Kn(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Rw=Ds(Jv),br=f({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wl=Ds(br),jw=f({},mm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Uk=Ds(jw),kw=f({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ok=Ds(kw),Mk=f({},Hh,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Pk=Ds(Mk),ST=f({},sd,{newState:0,oldState:0}),eb=Ds(ST),Vh=[9,13,27,32],Uw=Bl&&"CompositionEvent"in window,Gh=null;Bl&&"documentMode"in document&&(Gh=document.documentMode);var DT=Bl&&"TextEvent"in window&&!Gh,tb=Bl&&(!Uw||Gh&&8<Gh&&11>=Gh),nb=" ",Ow=!1;function AT(c,h){switch(c){case"keyup":return Vh.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rb(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Hc=!1;function Fk(c,h){switch(c){case"compositionend":return rb(h);case"keypress":return h.which!==32?null:(Ow=!0,nb);case"textInput":return c=h.data,c===nb&&Ow?null:c;default:return null}}function TT(c,h){if(Hc)return c==="compositionend"||!Uw&&AT(c,h)?(c=pT(),Yv=Ew=zc=null,Hc=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return tb&&h.locale!=="ko"?null:h.data;default:return null}}var ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!ta[c.type]:h==="textarea"}function Xh(c,h,g,A){zh?qh?qh.push(A):qh=[A]:zh=A,h=tx(h,"onChange"),0<h.length&&(g=new Kv("onChange","change",null,g,A),c.push({event:g,listeners:h}))}var Yh=null,Kh=null;function Lk(c){tC(c,0)}function sb(c){var h=Fh(c);if(vw(h))return c}function ET(c,h){if(c==="change")return h}var CT=!1;if(Bl){var Mw;if(Bl){var Vc="oninput"in document;if(!Vc){var NT=document.createElement("div");NT.setAttribute("oninput","return;"),Vc=typeof NT.oninput=="function"}Mw=Vc}else Mw=!1;CT=Mw&&(!document.documentMode||9<document.documentMode)}function RT(){Yh&&(Yh.detachEvent("onpropertychange",ab),Kh=Yh=null)}function ab(c){if(c.propertyName==="value"&&sb(Kh)){var h=[];Xh(h,Kh,c,Dw(c)),fT(Lk,h)}}function jT(c,h,g){c==="focusin"?(RT(),Yh=h,Kh=g,Yh.attachEvent("onpropertychange",ab)):c==="focusout"&&RT()}function Gc(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return sb(Kh)}function ob(c,h){if(c==="click")return sb(h)}function Ik(c,h){if(c==="input"||c==="change")return sb(h)}function $k(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var na=typeof Object.is=="function"?Object.is:$k;function Jo(c,h){if(na(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var g=Object.keys(c),A=Object.keys(h);if(g.length!==A.length)return!1;for(A=0;A<g.length;A++){var j=g[A];if(!lt.call(h,j)||!na(c[j],h[j]))return!1}return!0}function ka(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Pw(c,h){var g=ka(c);c=0;for(var A;g;){if(g.nodeType===3){if(A=c+g.textContent.length,c<=h&&A>=h)return{node:g,offset:h-c};c=A}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=ka(g)}}function kT(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?kT(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function UT(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=id(c.document);h instanceof c.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)c=h.contentWindow;else break;h=id(c.document)}return h}function Fw(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var Bk=Bl&&"documentMode"in document&&11>=document.documentMode,Zh=null,Xc=null,je=null,Ze=!1;function Ve(c,h,g){var A=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ze||Zh==null||Zh!==id(A)||(A=Zh,"selectionStart"in A&&Fw(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),je&&Jo(je,A)||(je=A,A=tx(Xc,"onSelect"),0<A.length&&(h=new Kv("onSelect","select",null,h,g),c.push({event:h,listeners:A}),h.target=Zh)))}function yt(c,h){var g={};return g[c.toLowerCase()]=h.toLowerCase(),g["Webkit"+c]="webkit"+h,g["Moz"+c]="moz"+h,g}var Bt={animationend:yt("Animation","AnimationEnd"),animationiteration:yt("Animation","AnimationIteration"),animationstart:yt("Animation","AnimationStart"),transitionrun:yt("Transition","TransitionRun"),transitionstart:yt("Transition","TransitionStart"),transitioncancel:yt("Transition","TransitionCancel"),transitionend:yt("Transition","TransitionEnd")},Tn={},si={};Bl&&(si=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);function En(c){if(Tn[c])return Tn[c];if(!Bt[c])return c;var h=Bt[c],g;for(g in h)if(h.hasOwnProperty(g)&&g in si)return Tn[c]=h[g];return c}var lb=En("animationend"),OT=En("animationiteration"),ra=En("animationstart"),cb=En("transitionrun"),Wk=En("transitionstart"),Qh=En("transitioncancel"),gm=En("transitionend"),ym=new Map,Pn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pn.push("scrollEnd");function ho(c,h){ym.set(c,h),rd(h,[c])}var Lw=new WeakMap;function cs(c,h){if(typeof c=="object"&&c!==null){var g=Lw.get(c);return g!==void 0?g:(h={value:c,source:h,stack:mw(h)},Lw.set(c,h),h)}return{value:c,source:h,stack:mw(h)}}var Ua=[],Jh=0,Iw=0;function ad(){for(var c=Jh,h=Iw=Jh=0;h<c;){var g=Ua[h];Ua[h++]=null;var A=Ua[h];Ua[h++]=null;var j=Ua[h];Ua[h++]=null;var F=Ua[h];if(Ua[h++]=null,A!==null&&j!==null){var Z=A.pending;Z===null?j.next=j:(j.next=Z.next,Z.next=j),A.pending=j}F!==0&&vm(g,j,F)}}function fo(c,h,g,A){Ua[Jh++]=c,Ua[Jh++]=h,Ua[Jh++]=g,Ua[Jh++]=A,Iw|=A,c.lanes|=A,c=c.alternate,c!==null&&(c.lanes|=A)}function ef(c,h,g,A){return fo(c,h,g,A),bm(c)}function od(c,h){return fo(c,null,null,h),bm(c)}function vm(c,h,g){c.lanes|=g;var A=c.alternate;A!==null&&(A.lanes|=g);for(var j=!1,F=c.return;F!==null;)F.childLanes|=g,A=F.alternate,A!==null&&(A.childLanes|=g),F.tag===22&&(c=F.stateNode,c===null||c._visibility&1||(j=!0)),c=F,F=F.return;return c.tag===3?(F=c.stateNode,j&&h!==null&&(j=31-at(g),c=F.hiddenUpdates,A=c[j],A===null?c[j]=[h]:A.push(h),h.lane=g|536870912),F):null}function bm(c){if(50<Sf)throw Sf=0,U2=null,Error(r(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var ld={};function ub(c,h,g,A){this.tag=c,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(c,h,g,A){return new ub(c,h,g,A)}function cd(c){return c=c.prototype,!(!c||!c.isReactComponent)}function us(c,h){var g=c.alternate;return g===null?(g=Ts(c.tag,h,c.key,c.mode),g.elementType=c.elementType,g.type=c.type,g.stateNode=c.stateNode,g.alternate=c,c.alternate=g):(g.pendingProps=h,g.type=c.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=c.flags&65011712,g.childLanes=c.childLanes,g.lanes=c.lanes,g.child=c.child,g.memoizedProps=c.memoizedProps,g.memoizedState=c.memoizedState,g.updateQueue=c.updateQueue,h=c.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=c.sibling,g.index=c.index,g.ref=c.ref,g.refCleanup=c.refCleanup,g}function xm(c,h){c.flags&=65011714;var g=c.alternate;return g===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=g.childLanes,c.lanes=g.lanes,c.child=g.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=g.memoizedProps,c.memoizedState=g.memoizedState,c.updateQueue=g.updateQueue,c.type=g.type,h=g.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function db(c,h,g,A,j,F){var Z=0;if(A=c,typeof c=="function")cd(c)&&(Z=1);else if(typeof c=="string")Z=bU(c,g,xe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case P:return c=Ts(31,g,h,j),c.elementType=P,c.lanes=F,c;case b:return ud(g.children,j,F,h);case x:Z=8,j|=24;break;case w:return c=Ts(12,g,h,j|2),c.elementType=w,c.lanes=F,c;case N:return c=Ts(13,g,h,j),c.elementType=N,c.lanes=F,c;case U:return c=Ts(19,g,h,j),c.elementType=U,c.lanes=F,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case S:case E:Z=10;break e;case T:Z=9;break e;case R:Z=11;break e;case O:Z=14;break e;case M:Z=16,A=null;break e}Z=29,g=Error(r(130,c===null?"null":typeof c,"")),A=null}return h=Ts(Z,g,h,j),h.elementType=c,h.type=A,h.lanes=F,h}function ud(c,h,g,A){return c=Ts(7,c,A,h),c.lanes=g,c}function $w(c,h,g){return c=Ts(6,c,null,h),c.lanes=g,c}function tf(c,h,g){return h=Ts(4,c.children!==null?c.children:[],c.key,h),h.lanes=g,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var zl=[],Yc=0,hb=null,wm=0,Oa=[],Ma=0,fr=null,xr=1,ql="";function dd(c,h){zl[Yc++]=wm,zl[Yc++]=hb,hb=c,wm=h}function Bw(c,h,g){Oa[Ma++]=xr,Oa[Ma++]=ql,Oa[Ma++]=fr,fr=c;var A=xr;c=ql;var j=32-at(A)-1;A&=~(1<<j),g+=1;var F=32-at(h)+j;if(30<F){var Z=j-j%5;F=(A&(1<<Z)-1).toString(32),A>>=Z,j-=Z,xr=1<<32-at(h)+j|g<<j|A,ql=F+c}else xr=1<<F|g<<j|A,ql=c}function Ww(c){c.return!==null&&(dd(c,1),Bw(c,1,0))}function _m(c){for(;c===hb;)hb=zl[--Yc],zl[Yc]=null,wm=zl[--Yc],zl[Yc]=null;for(;c===fr;)fr=Oa[--Ma],Oa[Ma]=null,ql=Oa[--Ma],Oa[Ma]=null,xr=Oa[--Ma],Oa[Ma]=null}var di=null,wr=null,pn=!1,po=null,Es=!1,nf=Error(r(519));function Pa(c){var h=Error(r(418,""));throw Kc(cs(h,c)),nf}function MT(c){var h=c.stateNode,g=c.type,A=c.memoizedProps;switch(h[Yn]=c,h[Lr]=A,g){case"dialog":fn("cancel",h),fn("close",h);break;case"iframe":case"object":case"embed":fn("load",h);break;case"video":case"audio":for(g=0;g<ug.length;g++)fn(ug[g],h);break;case"source":fn("error",h);break;case"img":case"image":case"link":fn("error",h),fn("load",h);break;case"details":fn("toggle",h);break;case"input":fn("invalid",h),bw(h,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0),Hv(h);break;case"select":fn("invalid",h);break;case"textarea":fn("invalid",h),Gv(h,A.value,A.defaultValue,A.children),Hv(h)}g=A.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||h.textContent===""+g||A.suppressHydrationWarning===!0||iC(h.textContent,g)?(A.popover!=null&&(fn("beforetoggle",h),fn("toggle",h)),A.onScroll!=null&&fn("scroll",h),A.onScrollEnd!=null&&fn("scrollend",h),A.onClick!=null&&(h.onclick=nx),h=!0):h=!1,h||Pa(c)}function PT(c){for(di=c.return;di;)switch(di.tag){case 5:case 13:Es=!1;return;case 27:case 3:Es=!0;return;default:di=di.return}}function Sm(c){if(c!==di)return!1;if(!pn)return PT(c),pn=!0,!1;var h=c.tag,g;if((g=h!==3&&h!==27)&&((g=h===5)&&(g=c.type,g=!(g!=="form"&&g!=="button")||ix(c.type,c.memoizedProps)),g=!g),g&&wr&&Pa(c),PT(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8)if(g=c.data,g==="/$"){if(h===0){wr=xo(c.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++;c=c.nextSibling}wr=null}}else h===27?(h=wr,Wa(c.type)?(c=G2,G2=null,wr=c):wr=h):wr=di?xo(c.stateNode.nextSibling):null;return!0}function Dm(){wr=di=null,pn=!1}function FT(){var c=po;return c!==null&&(Ms===null?Ms=c:Ms.push.apply(Ms,c),po=null),c}function Kc(c){po===null?po=[c]:po.push(c)}var hd=Y(null),Zc=null,de=null;function ia(c,h,g){le(hd,h._currentValue),h._currentValue=g}function Fa(c){c._currentValue=hd.current,ne(hd)}function Cs(c,h,g){for(;c!==null;){var A=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),c===g)break;c=c.return}}function on(c,h,g,A){var j=c.child;for(j!==null&&(j.return=c);j!==null;){var F=j.dependencies;if(F!==null){var Z=j.child;F=F.firstContext;e:for(;F!==null;){var he=F;F=j;for(var Se=0;Se<h.length;Se++)if(he.context===h[Se]){F.lanes|=g,he=F.alternate,he!==null&&(he.lanes|=g),Cs(F.return,g,c),A||(Z=null);break e}F=he.next}}else if(j.tag===18){if(Z=j.return,Z===null)throw Error(r(341));Z.lanes|=g,F=Z.alternate,F!==null&&(F.lanes|=g),Cs(Z,g,c),Z=null}else Z=j.child;if(Z!==null)Z.return=j;else for(Z=j;Z!==null;){if(Z===c){Z=null;break}if(j=Z.sibling,j!==null){j.return=Z.return,Z=j;break}Z=Z.return}j=Z}}function Am(c,h,g,A){c=null;for(var j=h,F=!1;j!==null;){if(!F){if((j.flags&524288)!==0)F=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var Z=j.alternate;if(Z===null)throw Error(r(387));if(Z=Z.memoizedProps,Z!==null){var he=j.type;na(j.pendingProps.value,Z.value)||(c!==null?c.push(he):c=[he])}}else if(j===Ee.current){if(Z=j.alternate,Z===null)throw Error(r(387));Z.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(c!==null?c.push(jf):c=[jf])}j=j.return}c!==null&&on(h,c,g,A),h.flags|=262144}function fb(c){for(c=c.firstContext;c!==null;){if(!na(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function fd(c){Zc=c,de=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function $r(c){return LT(Zc,c)}function pb(c,h){return Zc===null&&fd(c),LT(c,h)}function LT(c,h){var g=h._currentValue;if(h={context:h,memoizedValue:g,next:null},de===null){if(c===null)throw Error(r(308));de=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else de=de.next=h;return g}var zk=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(g,A){c.push(A)}};this.abort=function(){h.aborted=!0,c.forEach(function(g){return g()})}},qk=n.unstable_scheduleCallback,Hk=n.unstable_NormalPriority,nr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zw(){return{controller:new zk,data:new Map,refCount:0}}function Tm(c){c.refCount--,c.refCount===0&&qk(Hk,function(){c.controller.abort()})}var Em=null,qw=0,rf=0,Ns=null;function Vk(c,h){if(Em===null){var g=Em=[];qw=0,rf=ex(),Ns={status:"pending",value:void 0,then:function(A){g.push(A)}}}return qw++,h.then(IT,IT),h}function IT(){if(--qw===0&&Em!==null){Ns!==null&&(Ns.status="fulfilled");var c=Em;Em=null,rf=0,Ns=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function Gk(c,h){var g=[],A={status:"pending",value:null,reason:null,then:function(j){g.push(j)}};return c.then(function(){A.status="fulfilled",A.value=h;for(var j=0;j<g.length;j++)(0,g[j])(h)},function(j){for(A.status="rejected",A.reason=j,j=0;j<g.length;j++)(0,g[j])(void 0)}),A}var $T=B.S;B.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&Vk(c,h),$T!==null&&$T(c,h)};var pd=Y(null);function Hl(){var c=pd.current;return c!==null?c:cr.pooledCache}function mb(c,h){h===null?le(pd,pd.current):le(pd,h.pool)}function BT(){var c=Hl();return c===null?null:{parent:nr._currentValue,pool:c}}var ds=Error(r(460)),WT=Error(r(474)),gb=Error(r(542)),Hw={then:function(){}};function zT(c){return c=c.status,c==="fulfilled"||c==="rejected"}function yb(){}function Vw(c,h,g){switch(g=c[g],g===void 0?c.push(h):g!==h&&(h.then(yb,yb),h=g),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,HT(c),c;default:if(typeof h.status=="string")h.then(yb,yb);else{if(c=cr,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=h,c.status="pending",c.then(function(A){if(h.status==="pending"){var j=h;j.status="fulfilled",j.value=A}},function(A){if(h.status==="pending"){var j=h;j.status="rejected",j.reason=A}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,HT(c),c}throw sf=h,ds}}var sf=null;function qT(){if(sf===null)throw Error(r(459));var c=sf;return sf=null,c}function HT(c){if(c===ds||c===gb)throw Error(r(483))}var el=!1;function md(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Qc(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Vl(c,h,g){var A=c.updateQueue;if(A===null)return null;if(A=A.shared,(Hn&2)!==0){var j=A.pending;return j===null?h.next=h:(h.next=j.next,j.next=h),A.pending=h,h=bm(c),vm(c,null,g),h}return fo(c,A,h,g),bm(c)}function Cm(c,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194048)!==0)){var A=h.lanes;A&=c.pendingLanes,g|=A,h.lanes=g,dt(c,g)}}function mo(c,h){var g=c.updateQueue,A=c.alternate;if(A!==null&&(A=A.updateQueue,g===A)){var j=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var Z={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};F===null?j=F=Z:F=F.next=Z,g=g.next}while(g!==null);F===null?j=F=h:F=F.next=h}else j=F=h;g={baseState:A.baseState,firstBaseUpdate:j,lastBaseUpdate:F,shared:A.shared,callbacks:A.callbacks},c.updateQueue=g;return}c=g.lastBaseUpdate,c===null?g.firstBaseUpdate=h:c.next=h,g.lastBaseUpdate=h}var Nm=!1;function go(){if(Nm){var c=Ns;if(c!==null)throw c}}function Vi(c,h,g,A){Nm=!1;var j=c.updateQueue;el=!1;var F=j.firstBaseUpdate,Z=j.lastBaseUpdate,he=j.shared.pending;if(he!==null){j.shared.pending=null;var Se=he,Ie=Se.next;Se.next=null,Z===null?F=Ie:Z.next=Ie,Z=Se;var Qe=c.alternate;Qe!==null&&(Qe=Qe.updateQueue,he=Qe.lastBaseUpdate,he!==Z&&(he===null?Qe.firstBaseUpdate=Ie:he.next=Ie,Qe.lastBaseUpdate=Se))}if(F!==null){var nt=j.baseState;Z=0,Qe=Ie=Se=null,he=F;do{var We=he.lane&-536870913,$e=We!==he.lane;if($e?(_n&We)===We:(A&We)===We){We!==0&&We===rf&&(Nm=!0),Qe!==null&&(Qe=Qe.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var Lt=c,Mt=he;We=h;var Qn=g;switch(Mt.tag){case 1:if(Lt=Mt.payload,typeof Lt=="function"){nt=Lt.call(Qn,nt,We);break e}nt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Mt.payload,We=typeof Lt=="function"?Lt.call(Qn,nt,We):Lt,We==null)break e;nt=f({},nt,We);break e;case 2:el=!0}}We=he.callback,We!==null&&(c.flags|=64,$e&&(c.flags|=8192),$e=j.callbacks,$e===null?j.callbacks=[We]:$e.push(We))}else $e={lane:We,tag:he.tag,payload:he.payload,callback:he.callback,next:null},Qe===null?(Ie=Qe=$e,Se=nt):Qe=Qe.next=$e,Z|=We;if(he=he.next,he===null){if(he=j.shared.pending,he===null)break;$e=he,he=$e.next,$e.next=null,j.lastBaseUpdate=$e,j.shared.pending=null}}while(!0);Qe===null&&(Se=nt),j.baseState=Se,j.firstBaseUpdate=Ie,j.lastBaseUpdate=Qe,F===null&&(j.shared.lanes=0),ou|=Z,c.lanes=Z,c.memoizedState=nt}}function VT(c,h){if(typeof c!="function")throw Error(r(191,c));c.call(h)}function Gw(c,h){var g=c.callbacks;if(g!==null)for(c.callbacks=null,c=0;c<g.length;c++)VT(g[c],h)}var gd=Y(null),Jc=Y(0);function Gl(c,h){c=nc,le(Jc,c),le(gd,h),nc=c|h.baseLanes}function vb(){le(Jc,nc),le(gd,gd.current)}function Xw(){nc=Jc.current,ne(gd),ne(Jc)}var yo=0,en=null,qn=null,mn=null,of=!1,yd=!1,Gi=!1,lf=0,eu=0,La=null,GT=0;function bn(){throw Error(r(321))}function Rm(c,h){if(h===null)return!1;for(var g=0;g<h.length&&g<c.length;g++)if(!na(c[g],h[g]))return!1;return!0}function Yw(c,h,g,A,j,F){return yo=F,en=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,B.H=c===null||c.memoizedState===null?aE:f2,Gi=!1,F=g(A,j),Gi=!1,yd&&(F=YT(h,g,A,j)),XT(c),F}function XT(c){B.H=Bm;var h=qn!==null&&qn.next!==null;if(yo=0,mn=qn=en=null,of=!1,eu=0,La=null,h)throw Error(r(300));c===null||Ti||(c=c.dependencies,c!==null&&fb(c)&&(Ti=!0))}function YT(c,h,g,A){en=c;var j=0;do{if(yd&&(La=null),eu=0,yd=!1,25<=j)throw Error(r(301));if(j+=1,mn=qn=null,c.updateQueue!=null){var F=c.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}B.H=oE,F=h(g,A)}while(yd);return F}function Kw(){var c=B.H,h=c.useState()[0];return h=typeof h.then=="function"?jm(h):h,c=c.useState()[0],(qn!==null?qn.memoizedState:null)!==c&&(en.flags|=1024),h}function Zw(){var c=lf!==0;return lf=0,c}function vd(c,h,g){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~g}function bb(c){if(of){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}of=!1}yo=0,mn=qn=en=null,yd=!1,eu=lf=0,La=null}function Rs(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?en.memoizedState=mn=c:mn=mn.next=c,mn}function ai(){if(qn===null){var c=en.alternate;c=c!==null?c.memoizedState:null}else c=qn.next;var h=mn===null?en.memoizedState:mn.next;if(h!==null)mn=h,qn=c;else{if(c===null)throw en.alternate===null?Error(r(467)):Error(r(310));qn=c,c={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},mn===null?en.memoizedState=mn=c:mn=mn.next=c}return mn}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jm(c){var h=eu;return eu+=1,La===null&&(La=[]),c=Vw(La,c,h),h=en,(mn===null?h.memoizedState:mn.next)===null&&(h=h.alternate,B.H=h===null||h.memoizedState===null?aE:f2),c}function xb(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return jm(c);if(c.$$typeof===E)return $r(c)}throw Error(r(438,String(c)))}function km(c){var h=null,g=en.updateQueue;if(g!==null&&(h=g.memoCache),h==null){var A=en.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(h={data:A.data.map(function(j){return j.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),g===null&&(g=bd(),en.updateQueue=g),g.memoCache=h,g=h.data[h.index],g===void 0)for(g=h.data[h.index]=Array(c),A=0;A<c;A++)g[A]=H;return h.index++,g}function tl(c,h){return typeof h=="function"?h(c):h}function wb(c){var h=ai();return Qw(h,qn,c)}function Qw(c,h,g){var A=c.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=g;var j=c.baseQueue,F=A.pending;if(F!==null){if(j!==null){var Z=j.next;j.next=F.next,F.next=Z}h.baseQueue=j=F,A.pending=null}if(F=c.baseState,j===null)c.memoizedState=F;else{h=j.next;var he=Z=null,Se=null,Ie=h,Qe=!1;do{var nt=Ie.lane&-536870913;if(nt!==Ie.lane?(_n&nt)===nt:(yo&nt)===nt){var We=Ie.revertLane;if(We===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),nt===rf&&(Qe=!0);else if((yo&We)===We){Ie=Ie.next,We===rf&&(Qe=!0);continue}else nt={lane:0,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Se===null?(he=Se=nt,Z=F):Se=Se.next=nt,en.lanes|=We,ou|=We;nt=Ie.action,Gi&&g(F,nt),F=Ie.hasEagerState?Ie.eagerState:g(F,nt)}else We={lane:nt,revertLane:Ie.revertLane,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Se===null?(he=Se=We,Z=F):Se=Se.next=We,en.lanes|=nt,ou|=nt;Ie=Ie.next}while(Ie!==null&&Ie!==h);if(Se===null?Z=F:Se.next=he,!na(F,c.memoizedState)&&(Ti=!0,Qe&&(g=Ns,g!==null)))throw g;c.memoizedState=F,c.baseState=Z,c.baseQueue=Se,A.lastRenderedState=F}return j===null&&(A.lanes=0),[c.memoizedState,A.dispatch]}function Jw(c){var h=ai(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=c;var A=g.dispatch,j=g.pending,F=h.memoizedState;if(j!==null){g.pending=null;var Z=j=j.next;do F=c(F,Z.action),Z=Z.next;while(Z!==j);na(F,h.memoizedState)||(Ti=!0),h.memoizedState=F,h.baseQueue===null&&(h.baseState=F),g.lastRenderedState=F}return[F,A]}function e2(c,h,g){var A=en,j=ai(),F=pn;if(F){if(g===void 0)throw Error(r(407));g=g()}else g=h();var Z=!na((qn||j).memoizedState,g);Z&&(j.memoizedState=g,Ti=!0),j=j.queue;var he=Sb.bind(null,A,j,c);if(Mm(2048,8,he,[c]),j.getSnapshot!==h||Z||mn!==null&&mn.memoizedState.tag&1){if(A.flags|=2048,cf(9,Cb(),KT.bind(null,A,j,g,h),null),cr===null)throw Error(r(349));F||(yo&124)!==0||_b(A,h,g)}return g}function _b(c,h,g){c.flags|=16384,c={getSnapshot:h,value:g},h=en.updateQueue,h===null?(h=bd(),en.updateQueue=h,h.stores=[c]):(g=h.stores,g===null?h.stores=[c]:g.push(c))}function KT(c,h,g,A){h.value=g,h.getSnapshot=A,t2(h)&&n2(c)}function Sb(c,h,g){return g(function(){t2(h)&&n2(c)})}function t2(c){var h=c.getSnapshot;c=c.value;try{var g=h();return!na(c,g)}catch{return!0}}function n2(c){var h=od(c,2);h!==null&&ca(h,c,2)}function Db(c){var h=Rs();if(typeof c=="function"){var g=c;if(c=g(),Gi){Ge(!0);try{g()}finally{Ge(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:c},h}function Um(c,h,g,A){return c.baseState=g,Qw(c,qn,typeof A=="function"?A:tl)}function Xk(c,h,g,A,j){if(kb(c))throw Error(r(485));if(c=h.action,c!==null){var F={payload:j,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){F.listeners.push(Z)}};B.T!==null?g(!0):F.isTransition=!1,A(F),g=h.pending,g===null?(F.next=h.pending=F,r2(h,F)):(F.next=g.next,h.pending=g.next=F)}}function r2(c,h){var g=h.action,A=h.payload,j=c.state;if(h.isTransition){var F=B.T,Z={};B.T=Z;try{var he=g(j,A),Se=B.S;Se!==null&&Se(Z,he),i2(c,h,he)}catch(Ie){Ab(c,h,Ie)}finally{B.T=F}}else try{F=g(j,A),i2(c,h,F)}catch(Ie){Ab(c,h,Ie)}}function i2(c,h,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(A){ZT(c,h,A)},function(A){return Ab(c,h,A)}):ZT(c,h,g)}function ZT(c,h,g){h.status="fulfilled",h.value=g,QT(h),c.state=g,h=c.pending,h!==null&&(g=h.next,g===h?c.pending=null:(g=g.next,h.next=g,r2(c,g)))}function Ab(c,h,g){var A=c.pending;if(c.pending=null,A!==null){A=A.next;do h.status="rejected",h.reason=g,QT(h),h=h.next;while(h!==A)}c.action=null}function QT(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function Tb(c,h){return h}function s2(c,h){if(pn){var g=cr.formState;if(g!==null){e:{var A=en;if(pn){if(wr){t:{for(var j=wr,F=Es;j.nodeType!==8;){if(!F){j=null;break t}if(j=xo(j.nextSibling),j===null){j=null;break t}}F=j.data,j=F==="F!"||F==="F"?j:null}if(j){wr=xo(j.nextSibling),A=j.data==="F!";break e}}Pa(A)}A=!1}A&&(h=g[0])}}return g=Rs(),g.memoizedState=g.baseState=h,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tb,lastRenderedState:h},g.queue=A,g=u2.bind(null,en,A),A.dispatch=g,A=Db(!1),F=d2.bind(null,en,!1,A.queue),A=Rs(),j={state:h,dispatch:null,action:c,pending:null},A.queue=j,g=Xk.bind(null,en,j,F,g),j.dispatch=g,A.memoizedState=c,[h,g,!1]}function Eb(c){var h=ai();return JT(h,qn,c)}function JT(c,h,g){if(h=Qw(c,h,Tb)[0],c=wb(tl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var A=jm(h)}catch(Z){throw Z===ds?gb:Z}else A=h;h=ai();var j=h.queue,F=j.dispatch;return g!==h.memoizedState&&(en.flags|=2048,cf(9,Cb(),a2.bind(null,j,g),null)),[A,F,c]}function a2(c,h){c.action=h}function Qt(c){var h=ai(),g=qn;if(g!==null)return JT(h,g,c);ai(),h=h.memoizedState,g=ai();var A=g.queue.dispatch;return g.memoizedState=c,[h,A,!1]}function cf(c,h,g,A){return c={tag:c,create:g,deps:A,inst:h,next:null},h=en.updateQueue,h===null&&(h=bd(),en.updateQueue=h),g=h.lastEffect,g===null?h.lastEffect=c.next=c:(A=g.next,g.next=c,c.next=A,h.lastEffect=c),c}function Cb(){return{destroy:void 0,resource:void 0}}function uf(){return ai().memoizedState}function Om(c,h,g,A){var j=Rs();A=A===void 0?null:A,en.flags|=c,j.memoizedState=cf(1|h,Cb(),g,A)}function Mm(c,h,g,A){var j=ai();A=A===void 0?null:A;var F=j.memoizedState.inst;qn!==null&&A!==null&&Rm(A,qn.memoizedState.deps)?j.memoizedState=cf(h,F,g,A):(en.flags|=c,j.memoizedState=cf(1|h,F,g,A))}function eE(c,h){Om(8390656,8,c,h)}function sa(c,h){Mm(2048,8,c,h)}function tE(c,h){return Mm(4,2,c,h)}function Pm(c,h){return Mm(4,4,c,h)}function Nb(c,h){if(typeof h=="function"){c=c();var g=h(c);return function(){typeof g=="function"?g():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function o2(c,h,g){g=g!=null?g.concat([c]):null,Mm(4,4,Nb.bind(null,h,c),g)}function Rb(){}function js(c,h){var g=ai();h=h===void 0?null:h;var A=g.memoizedState;return h!==null&&Rm(h,A[1])?A[0]:(g.memoizedState=[c,h],c)}function Xl(c,h){var g=ai();h=h===void 0?null:h;var A=g.memoizedState;if(h!==null&&Rm(h,A[1]))return A[0];if(A=c(),Gi){Ge(!0);try{c()}finally{Ge(!1)}}return g.memoizedState=[A,h],A}function Fm(c,h,g){return g===void 0||(yo&1073741824)!==0?c.memoizedState=h:(c.memoizedState=g,c=OE(),en.lanes|=c,ou|=c,g)}function l2(c,h,g,A){return na(g,h)?g:gd.current!==null?(c=Fm(c,g,A),na(c,h)||(Ti=!0),c):(yo&42)===0?(Ti=!0,c.memoizedState=g):(c=OE(),en.lanes|=c,ou|=c,h)}function Lm(c,h,g,A,j){var F=W.p;W.p=F!==0&&8>F?F:8;var Z=B.T,he={};B.T=he,d2(c,!1,h,g);try{var Se=j(),Ie=B.S;if(Ie!==null&&Ie(he,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Qe=Gk(Se,A);xd(c,h,Qe,Yi(c))}else xd(c,h,A,Yi(c))}catch(nt){xd(c,h,{then:function(){},status:"rejected",reason:nt},Yi())}finally{W.p=F,B.T=Z}}function nE(){}function Im(c,h,g,A){if(c.tag!==5)throw Error(r(476));var j=c2(c).queue;Lm(c,j,h,se,g===null?nE:function(){return jb(c),g(A)})}function c2(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:se},next:null};var g={};return h.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:g},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function jb(c){var h=c2(c).next.queue;xd(c,h,{},Yi())}function $m(){return $r(jf)}function Yl(){return ai().memoizedState}function rE(){return ai().memoizedState}function tu(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var g=Yi();c=Qc(g);var A=Vl(h,c,g);A!==null&&(ca(A,h,g),Cm(A,h,g)),h={cache:zw()},c.payload=h;return}h=h.return}}function iE(c,h,g){var A=Yi();g={lane:A,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},kb(c)?sE(h,g):(g=ef(c,h,g,A),g!==null&&(ca(g,c,A),h2(g,h,A)))}function u2(c,h,g){var A=Yi();xd(c,h,g,A)}function xd(c,h,g,A){var j={lane:A,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(kb(c))sE(h,j);else{var F=c.alternate;if(c.lanes===0&&(F===null||F.lanes===0)&&(F=h.lastRenderedReducer,F!==null))try{var Z=h.lastRenderedState,he=F(Z,g);if(j.hasEagerState=!0,j.eagerState=he,na(he,Z))return fo(c,h,j,0),cr===null&&ad(),!1}catch{}finally{}if(g=ef(c,h,j,A),g!==null)return ca(g,c,A),h2(g,h,A),!0}return!1}function d2(c,h,g,A){if(A={lane:2,revertLane:ex(),action:A,hasEagerState:!1,eagerState:null,next:null},kb(c)){if(h)throw Error(r(479))}else h=ef(c,g,A,2),h!==null&&ca(h,c,2)}function kb(c){var h=c.alternate;return c===en||h!==null&&h===en}function sE(c,h){yd=of=!0;var g=c.pending;g===null?h.next=h:(h.next=g.next,g.next=h),c.pending=h}function h2(c,h,g){if((g&4194048)!==0){var A=h.lanes;A&=c.pendingLanes,g|=A,h.lanes=g,dt(c,g)}}var Bm={readContext:$r,use:xb,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn},aE={readContext:$r,use:xb,useCallback:function(c,h){return Rs().memoizedState=[c,h===void 0?null:h],c},useContext:$r,useEffect:eE,useImperativeHandle:function(c,h,g){g=g!=null?g.concat([c]):null,Om(4194308,4,Nb.bind(null,h,c),g)},useLayoutEffect:function(c,h){return Om(4194308,4,c,h)},useInsertionEffect:function(c,h){Om(4,2,c,h)},useMemo:function(c,h){var g=Rs();h=h===void 0?null:h;var A=c();if(Gi){Ge(!0);try{c()}finally{Ge(!1)}}return g.memoizedState=[A,h],A},useReducer:function(c,h,g){var A=Rs();if(g!==void 0){var j=g(h);if(Gi){Ge(!0);try{g(h)}finally{Ge(!1)}}}else j=h;return A.memoizedState=A.baseState=j,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:j},A.queue=c,c=c.dispatch=iE.bind(null,en,c),[A.memoizedState,c]},useRef:function(c){var h=Rs();return c={current:c},h.memoizedState=c},useState:function(c){c=Db(c);var h=c.queue,g=u2.bind(null,en,h);return h.dispatch=g,[c.memoizedState,g]},useDebugValue:Rb,useDeferredValue:function(c,h){var g=Rs();return Fm(g,c,h)},useTransition:function(){var c=Db(!1);return c=Lm.bind(null,en,c.queue,!0,!1),Rs().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,g){var A=en,j=Rs();if(pn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=h(),cr===null)throw Error(r(349));(_n&124)!==0||_b(A,h,g)}j.memoizedState=g;var F={value:g,getSnapshot:h};return j.queue=F,eE(Sb.bind(null,A,F,c),[c]),A.flags|=2048,cf(9,Cb(),KT.bind(null,A,F,g,h),null),g},useId:function(){var c=Rs(),h=cr.identifierPrefix;if(pn){var g=ql,A=xr;g=(A&~(1<<32-at(A)-1)).toString(32)+g,h="«"+h+"R"+g,g=lf++,0<g&&(h+="H"+g.toString(32)),h+="»"}else g=GT++,h="«"+h+"r"+g.toString(32)+"»";return c.memoizedState=h},useHostTransitionStatus:$m,useFormState:s2,useActionState:s2,useOptimistic:function(c){var h=Rs();h.memoizedState=h.baseState=c;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=g,h=d2.bind(null,en,!0,g),g.dispatch=h,[c,h]},useMemoCache:km,useCacheRefresh:function(){return Rs().memoizedState=tu.bind(null,en)}},f2={readContext:$r,use:xb,useCallback:js,useContext:$r,useEffect:sa,useImperativeHandle:o2,useInsertionEffect:tE,useLayoutEffect:Pm,useMemo:Xl,useReducer:wb,useRef:uf,useState:function(){return wb(tl)},useDebugValue:Rb,useDeferredValue:function(c,h){var g=ai();return l2(g,qn.memoizedState,c,h)},useTransition:function(){var c=wb(tl)[0],h=ai().memoizedState;return[typeof c=="boolean"?c:jm(c),h]},useSyncExternalStore:e2,useId:Yl,useHostTransitionStatus:$m,useFormState:Eb,useActionState:Eb,useOptimistic:function(c,h){var g=ai();return Um(g,qn,c,h)},useMemoCache:km,useCacheRefresh:rE},oE={readContext:$r,use:xb,useCallback:js,useContext:$r,useEffect:sa,useImperativeHandle:o2,useInsertionEffect:tE,useLayoutEffect:Pm,useMemo:Xl,useReducer:Jw,useRef:uf,useState:function(){return Jw(tl)},useDebugValue:Rb,useDeferredValue:function(c,h){var g=ai();return qn===null?Fm(g,c,h):l2(g,qn.memoizedState,c,h)},useTransition:function(){var c=Jw(tl)[0],h=ai().memoizedState;return[typeof c=="boolean"?c:jm(c),h]},useSyncExternalStore:e2,useId:Yl,useHostTransitionStatus:$m,useFormState:Qt,useActionState:Qt,useOptimistic:function(c,h){var g=ai();return qn!==null?Um(g,qn,c,h):(g.baseState=c,[c,g.queue.dispatch])},useMemoCache:km,useCacheRefresh:rE},hi=null,ks=0;function Ub(c){var h=ks;return ks+=1,hi===null&&(hi=[]),Vw(hi,c,h)}function Wm(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function wd(c,h){throw h.$$typeof===p?Error(r(525)):(c=Object.prototype.toString.call(h),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function _d(c){var h=c._init;return h(c._payload)}function p2(c){function h(Ue,Ne){if(c){var Pe=Ue.deletions;Pe===null?(Ue.deletions=[Ne],Ue.flags|=16):Pe.push(Ne)}}function g(Ue,Ne){if(!c)return null;for(;Ne!==null;)h(Ue,Ne),Ne=Ne.sibling;return null}function A(Ue){for(var Ne=new Map;Ue!==null;)Ue.key!==null?Ne.set(Ue.key,Ue):Ne.set(Ue.index,Ue),Ue=Ue.sibling;return Ne}function j(Ue,Ne){return Ue=us(Ue,Ne),Ue.index=0,Ue.sibling=null,Ue}function F(Ue,Ne,Pe){return Ue.index=Pe,c?(Pe=Ue.alternate,Pe!==null?(Pe=Pe.index,Pe<Ne?(Ue.flags|=67108866,Ne):Pe):(Ue.flags|=67108866,Ne)):(Ue.flags|=1048576,Ne)}function Z(Ue){return c&&Ue.alternate===null&&(Ue.flags|=67108866),Ue}function he(Ue,Ne,Pe,Je){return Ne===null||Ne.tag!==6?(Ne=$w(Pe,Ue.mode,Je),Ne.return=Ue,Ne):(Ne=j(Ne,Pe),Ne.return=Ue,Ne)}function Se(Ue,Ne,Pe,Je){var xt=Pe.type;return xt===b?Qe(Ue,Ne,Pe.props.children,Je,Pe.key):Ne!==null&&(Ne.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===M&&_d(xt)===Ne.type)?(Ne=j(Ne,Pe.props),Wm(Ne,Pe),Ne.return=Ue,Ne):(Ne=db(Pe.type,Pe.key,Pe.props,null,Ue.mode,Je),Wm(Ne,Pe),Ne.return=Ue,Ne)}function Ie(Ue,Ne,Pe,Je){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Pe.containerInfo||Ne.stateNode.implementation!==Pe.implementation?(Ne=tf(Pe,Ue.mode,Je),Ne.return=Ue,Ne):(Ne=j(Ne,Pe.children||[]),Ne.return=Ue,Ne)}function Qe(Ue,Ne,Pe,Je,xt){return Ne===null||Ne.tag!==7?(Ne=ud(Pe,Ue.mode,Je,xt),Ne.return=Ue,Ne):(Ne=j(Ne,Pe),Ne.return=Ue,Ne)}function nt(Ue,Ne,Pe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=$w(""+Ne,Ue.mode,Pe),Ne.return=Ue,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case m:return Pe=db(Ne.type,Ne.key,Ne.props,null,Ue.mode,Pe),Wm(Pe,Ne),Pe.return=Ue,Pe;case y:return Ne=tf(Ne,Ue.mode,Pe),Ne.return=Ue,Ne;case M:var Je=Ne._init;return Ne=Je(Ne._payload),nt(Ue,Ne,Pe)}if(te(Ne)||I(Ne))return Ne=ud(Ne,Ue.mode,Pe,null),Ne.return=Ue,Ne;if(typeof Ne.then=="function")return nt(Ue,Ub(Ne),Pe);if(Ne.$$typeof===E)return nt(Ue,pb(Ue,Ne),Pe);wd(Ue,Ne)}return null}function We(Ue,Ne,Pe,Je){var xt=Ne!==null?Ne.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return xt!==null?null:he(Ue,Ne,""+Pe,Je);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case m:return Pe.key===xt?Se(Ue,Ne,Pe,Je):null;case y:return Pe.key===xt?Ie(Ue,Ne,Pe,Je):null;case M:return xt=Pe._init,Pe=xt(Pe._payload),We(Ue,Ne,Pe,Je)}if(te(Pe)||I(Pe))return xt!==null?null:Qe(Ue,Ne,Pe,Je,null);if(typeof Pe.then=="function")return We(Ue,Ne,Ub(Pe),Je);if(Pe.$$typeof===E)return We(Ue,Ne,pb(Ue,Pe),Je);wd(Ue,Pe)}return null}function $e(Ue,Ne,Pe,Je,xt){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Ue=Ue.get(Pe)||null,he(Ne,Ue,""+Je,xt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case m:return Ue=Ue.get(Je.key===null?Pe:Je.key)||null,Se(Ne,Ue,Je,xt);case y:return Ue=Ue.get(Je.key===null?Pe:Je.key)||null,Ie(Ne,Ue,Je,xt);case M:var ln=Je._init;return Je=ln(Je._payload),$e(Ue,Ne,Pe,Je,xt)}if(te(Je)||I(Je))return Ue=Ue.get(Pe)||null,Qe(Ne,Ue,Je,xt,null);if(typeof Je.then=="function")return $e(Ue,Ne,Pe,Ub(Je),xt);if(Je.$$typeof===E)return $e(Ue,Ne,Pe,pb(Ne,Je),xt);wd(Ne,Je)}return null}function Lt(Ue,Ne,Pe,Je){for(var xt=null,ln=null,Rt=Ne,It=Ne=0,Ni=null;Rt!==null&&It<Pe.length;It++){Rt.index>It?(Ni=Rt,Rt=null):Ni=Rt.sibling;var Cn=We(Ue,Rt,Pe[It],Je);if(Cn===null){Rt===null&&(Rt=Ni);break}c&&Rt&&Cn.alternate===null&&h(Ue,Rt),Ne=F(Cn,Ne,It),ln===null?xt=Cn:ln.sibling=Cn,ln=Cn,Rt=Ni}if(It===Pe.length)return g(Ue,Rt),pn&&dd(Ue,It),xt;if(Rt===null){for(;It<Pe.length;It++)Rt=nt(Ue,Pe[It],Je),Rt!==null&&(Ne=F(Rt,Ne,It),ln===null?xt=Rt:ln.sibling=Rt,ln=Rt);return pn&&dd(Ue,It),xt}for(Rt=A(Rt);It<Pe.length;It++)Ni=$e(Rt,Ue,It,Pe[It],Je),Ni!==null&&(c&&Ni.alternate!==null&&Rt.delete(Ni.key===null?It:Ni.key),Ne=F(Ni,Ne,It),ln===null?xt=Ni:ln.sibling=Ni,ln=Ni);return c&&Rt.forEach(function(yu){return h(Ue,yu)}),pn&&dd(Ue,It),xt}function Mt(Ue,Ne,Pe,Je){if(Pe==null)throw Error(r(151));for(var xt=null,ln=null,Rt=Ne,It=Ne=0,Ni=null,Cn=Pe.next();Rt!==null&&!Cn.done;It++,Cn=Pe.next()){Rt.index>It?(Ni=Rt,Rt=null):Ni=Rt.sibling;var yu=We(Ue,Rt,Cn.value,Je);if(yu===null){Rt===null&&(Rt=Ni);break}c&&Rt&&yu.alternate===null&&h(Ue,Rt),Ne=F(yu,Ne,It),ln===null?xt=yu:ln.sibling=yu,ln=yu,Rt=Ni}if(Cn.done)return g(Ue,Rt),pn&&dd(Ue,It),xt;if(Rt===null){for(;!Cn.done;It++,Cn=Pe.next())Cn=nt(Ue,Cn.value,Je),Cn!==null&&(Ne=F(Cn,Ne,It),ln===null?xt=Cn:ln.sibling=Cn,ln=Cn);return pn&&dd(Ue,It),xt}for(Rt=A(Rt);!Cn.done;It++,Cn=Pe.next())Cn=$e(Rt,Ue,It,Cn.value,Je),Cn!==null&&(c&&Cn.alternate!==null&&Rt.delete(Cn.key===null?It:Cn.key),Ne=F(Cn,Ne,It),ln===null?xt=Cn:ln.sibling=Cn,ln=Cn);return c&&Rt.forEach(function(RU){return h(Ue,RU)}),pn&&dd(Ue,It),xt}function Qn(Ue,Ne,Pe,Je){if(typeof Pe=="object"&&Pe!==null&&Pe.type===b&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case m:e:{for(var xt=Pe.key;Ne!==null;){if(Ne.key===xt){if(xt=Pe.type,xt===b){if(Ne.tag===7){g(Ue,Ne.sibling),Je=j(Ne,Pe.props.children),Je.return=Ue,Ue=Je;break e}}else if(Ne.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===M&&_d(xt)===Ne.type){g(Ue,Ne.sibling),Je=j(Ne,Pe.props),Wm(Je,Pe),Je.return=Ue,Ue=Je;break e}g(Ue,Ne);break}else h(Ue,Ne);Ne=Ne.sibling}Pe.type===b?(Je=ud(Pe.props.children,Ue.mode,Je,Pe.key),Je.return=Ue,Ue=Je):(Je=db(Pe.type,Pe.key,Pe.props,null,Ue.mode,Je),Wm(Je,Pe),Je.return=Ue,Ue=Je)}return Z(Ue);case y:e:{for(xt=Pe.key;Ne!==null;){if(Ne.key===xt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Pe.containerInfo&&Ne.stateNode.implementation===Pe.implementation){g(Ue,Ne.sibling),Je=j(Ne,Pe.children||[]),Je.return=Ue,Ue=Je;break e}else{g(Ue,Ne);break}else h(Ue,Ne);Ne=Ne.sibling}Je=tf(Pe,Ue.mode,Je),Je.return=Ue,Ue=Je}return Z(Ue);case M:return xt=Pe._init,Pe=xt(Pe._payload),Qn(Ue,Ne,Pe,Je)}if(te(Pe))return Lt(Ue,Ne,Pe,Je);if(I(Pe)){if(xt=I(Pe),typeof xt!="function")throw Error(r(150));return Pe=xt.call(Pe),Mt(Ue,Ne,Pe,Je)}if(typeof Pe.then=="function")return Qn(Ue,Ne,Ub(Pe),Je);if(Pe.$$typeof===E)return Qn(Ue,Ne,pb(Ue,Pe),Je);wd(Ue,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,Ne!==null&&Ne.tag===6?(g(Ue,Ne.sibling),Je=j(Ne,Pe),Je.return=Ue,Ue=Je):(g(Ue,Ne),Je=$w(Pe,Ue.mode,Je),Je.return=Ue,Ue=Je),Z(Ue)):g(Ue,Ne)}return function(Ue,Ne,Pe,Je){try{ks=0;var xt=Qn(Ue,Ne,Pe,Je);return hi=null,xt}catch(Rt){if(Rt===ds||Rt===gb)throw Rt;var ln=Ts(29,Rt,null,Ue.mode);return ln.lanes=Je,ln.return=Ue,ln}finally{}}}var Sd=p2(!0),lE=p2(!1),aa=Y(null),hs=null;function Ia(c){var h=c.alternate;le(Br,Br.current&1),le(aa,c),hs===null&&(h===null||gd.current!==null||h.memoizedState!==null)&&(hs=c)}function cE(c){if(c.tag===22){if(le(Br,Br.current),le(aa,c),hs===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(hs=c)}}else Kl()}function Kl(){le(Br,Br.current),le(aa,aa.current)}function nl(c){ne(aa),hs===c&&(hs=null),ne(Br)}var Br=Y(0);function zm(c){for(var h=c;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||ps(g)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function df(c,h,g,A){h=c.memoizedState,g=g(A,h),g=g==null?h:f({},h,g),c.memoizedState=g,c.lanes===0&&(c.updateQueue.baseState=g)}var qm={enqueueSetState:function(c,h,g){c=c._reactInternals;var A=Yi(),j=Qc(A);j.payload=h,g!=null&&(j.callback=g),h=Vl(c,j,A),h!==null&&(ca(h,c,A),Cm(h,c,A))},enqueueReplaceState:function(c,h,g){c=c._reactInternals;var A=Yi(),j=Qc(A);j.tag=1,j.payload=h,g!=null&&(j.callback=g),h=Vl(c,j,A),h!==null&&(ca(h,c,A),Cm(h,c,A))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var g=Yi(),A=Qc(g);A.tag=2,h!=null&&(A.callback=h),h=Vl(c,A,g),h!==null&&(ca(h,c,g),Cm(h,c,g))}};function Hm(c,h,g,A,j,F,Z){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(A,F,Z):h.prototype&&h.prototype.isPureReactComponent?!Jo(g,A)||!Jo(j,F):!0}function uE(c,h,g,A){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,A),h.state!==c&&qm.enqueueReplaceState(h,h.state,null)}function nu(c,h){var g=h;if("ref"in h){g={};for(var A in h)A!=="ref"&&(g[A]=h[A])}if(c=c.defaultProps){g===h&&(g=f({},g));for(var j in c)g[j]===void 0&&(g[j]=c[j])}return g}var Dd=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function m2(c){Dd(c)}function Ob(c){console.error(c)}function dE(c){Dd(c)}function Vm(c,h){try{var g=c.onUncaughtError;g(h.value,{componentStack:h.stack})}catch(A){setTimeout(function(){throw A})}}function rl(c,h,g){try{var A=c.onCaughtError;A(g.value,{componentStack:g.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function Mb(c,h,g){return g=Qc(g),g.tag=3,g.payload={element:null},g.callback=function(){Vm(c,h)},g}function g2(c){return c=Qc(c),c.tag=3,c}function hE(c,h,g,A){var j=g.type.getDerivedStateFromError;if(typeof j=="function"){var F=A.value;c.payload=function(){return j(F)},c.callback=function(){rl(h,g,A)}}var Z=g.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(c.callback=function(){rl(h,g,A),typeof j!="function"&&(lu===null?lu=new Set([this]):lu.add(this));var he=A.stack;this.componentDidCatch(A.value,{componentStack:he!==null?he:""})})}function fE(c,h,g,A,j){if(g.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(h=g.alternate,h!==null&&Am(h,g,j,!0),g=aa.current,g!==null){switch(g.tag){case 13:return hs===null?M2():g.alternate===null&&Wr===0&&(Wr=3),g.flags&=-257,g.flags|=65536,g.lanes=j,A===Hw?g.flags|=16384:(h=g.updateQueue,h===null?g.updateQueue=new Set([A]):h.add(A),L2(c,A,j)),!1;case 22:return g.flags|=65536,A===Hw?g.flags|=16384:(h=g.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([A])},g.updateQueue=h):(g=h.retryQueue,g===null?h.retryQueue=new Set([A]):g.add(A)),L2(c,A,j)),!1}throw Error(r(435,g.tag))}return L2(c,A,j),M2(),!1}if(pn)return h=aa.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=j,A!==nf&&(c=Error(r(422),{cause:A}),Kc(cs(c,g)))):(A!==nf&&(h=Error(r(423),{cause:A}),Kc(cs(h,g))),c=c.current.alternate,c.flags|=65536,j&=-j,c.lanes|=j,A=cs(A,g),j=Mb(c.stateNode,A,j),mo(c,j),Wr!==4&&(Wr=2)),!1;var F=Error(r(520),{cause:A});if(F=cs(F,g),ng===null?ng=[F]:ng.push(F),Wr!==4&&(Wr=2),h===null)return!0;A=cs(A,g),g=h;do{switch(g.tag){case 3:return g.flags|=65536,c=j&-j,g.lanes|=c,c=Mb(g.stateNode,A,c),mo(g,c),!1;case 1:if(h=g.type,F=g.stateNode,(g.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(lu===null||!lu.has(F))))return g.flags|=65536,j&=-j,g.lanes|=j,j=g2(j),hE(j,c,g,A),mo(g,j),!1}g=g.return}while(g!==null);return!1}var pE=Error(r(461)),Ti=!1;function pr(c,h,g,A){h.child=c===null?lE(h,null,g,A):Sd(h,c.child,g,A)}function Pb(c,h,g,A,j){g=g.render;var F=h.ref;if("ref"in A){var Z={};for(var he in A)he!=="ref"&&(Z[he]=A[he])}else Z=A;return fd(h),A=Yw(c,h,g,Z,F,j),he=Zw(),c!==null&&!Ti?(vd(c,h,j),Zl(c,h,j)):(pn&&he&&Ww(h),h.flags|=1,pr(c,h,A,j),h.child)}function Fb(c,h,g,A,j){if(c===null){var F=g.type;return typeof F=="function"&&!cd(F)&&F.defaultProps===void 0&&g.compare===null?(h.tag=15,h.type=F,Lb(c,h,F,A,j)):(c=db(g.type,null,A,h,h.mode,j),c.ref=h.ref,c.return=h,h.child=c)}if(F=c.child,!vo(c,j)){var Z=F.memoizedProps;if(g=g.compare,g=g!==null?g:Jo,g(Z,A)&&c.ref===h.ref)return Zl(c,h,j)}return h.flags|=1,c=us(F,A),c.ref=h.ref,c.return=h,h.child=c}function Lb(c,h,g,A,j){if(c!==null){var F=c.memoizedProps;if(Jo(F,A)&&c.ref===h.ref)if(Ti=!1,h.pendingProps=A=F,vo(c,j))(c.flags&131072)!==0&&(Ti=!0);else return h.lanes=c.lanes,Zl(c,h,j)}return hf(c,h,g,A,j)}function Gm(c,h,g){var A=h.pendingProps,j=A.children,F=c!==null?c.memoizedState:null;if(A.mode==="hidden"){if((h.flags&128)!==0){if(A=F!==null?F.baseLanes|g:g,c!==null){for(j=h.child=c.child,F=0;j!==null;)F=F|j.lanes|j.childLanes,j=j.sibling;h.childLanes=F&~A}else h.childLanes=0,h.child=null;return Ad(c,h,A,g)}if((g&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&mb(h,F!==null?F.cachePool:null),F!==null?Gl(h,F):vb(),cE(h);else return h.lanes=h.childLanes=536870912,Ad(c,h,F!==null?F.baseLanes|g:g,g)}else F!==null?(mb(h,F.cachePool),Gl(h,F),Kl(),h.memoizedState=null):(c!==null&&mb(h,null),vb(),Kl());return pr(c,h,j,g),h.child}function Ad(c,h,g,A){var j=Hl();return j=j===null?null:{parent:nr._currentValue,pool:j},h.memoizedState={baseLanes:g,cachePool:j},c!==null&&mb(h,null),vb(),cE(h),c!==null&&Am(c,h,A,!0),null}function Ot(c,h){var g=h.ref;if(g===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(c===null||c.ref!==g)&&(h.flags|=4194816)}}function hf(c,h,g,A,j){return fd(h),g=Yw(c,h,g,A,void 0,j),A=Zw(),c!==null&&!Ti?(vd(c,h,j),Zl(c,h,j)):(pn&&A&&Ww(h),h.flags|=1,pr(c,h,g,j),h.child)}function Ib(c,h,g,A,j,F){return fd(h),h.updateQueue=null,g=YT(h,A,g,j),XT(c),A=Zw(),c!==null&&!Ti?(vd(c,h,F),Zl(c,h,F)):(pn&&A&&Ww(h),h.flags|=1,pr(c,h,g,F),h.child)}function ru(c,h,g,A,j){if(fd(h),h.stateNode===null){var F=ld,Z=g.contextType;typeof Z=="object"&&Z!==null&&(F=$r(Z)),F=new g(A,F),h.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=qm,h.stateNode=F,F._reactInternals=h,F=h.stateNode,F.props=A,F.state=h.memoizedState,F.refs={},md(h),Z=g.contextType,F.context=typeof Z=="object"&&Z!==null?$r(Z):ld,F.state=h.memoizedState,Z=g.getDerivedStateFromProps,typeof Z=="function"&&(df(h,g,Z,A),F.state=h.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(Z=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),Z!==F.state&&qm.enqueueReplaceState(F,F.state,null),Vi(h,A,F,j),go(),F.state=h.memoizedState),typeof F.componentDidMount=="function"&&(h.flags|=4194308),A=!0}else if(c===null){F=h.stateNode;var he=h.memoizedProps,Se=nu(g,he);F.props=Se;var Ie=F.context,Qe=g.contextType;Z=ld,typeof Qe=="object"&&Qe!==null&&(Z=$r(Qe));var nt=g.getDerivedStateFromProps;Qe=typeof nt=="function"||typeof F.getSnapshotBeforeUpdate=="function",he=h.pendingProps!==he,Qe||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(he||Ie!==Z)&&uE(h,F,A,Z),el=!1;var We=h.memoizedState;F.state=We,Vi(h,A,F,j),go(),Ie=h.memoizedState,he||We!==Ie||el?(typeof nt=="function"&&(df(h,g,nt,A),Ie=h.memoizedState),(Se=el||Hm(h,g,Se,A,We,Ie,Z))?(Qe||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(h.flags|=4194308)):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=Ie),F.props=A,F.state=Ie,F.context=Z,A=Se):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{F=h.stateNode,af(c,h),Z=h.memoizedProps,Qe=nu(g,Z),F.props=Qe,nt=h.pendingProps,We=F.context,Ie=g.contextType,Se=ld,typeof Ie=="object"&&Ie!==null&&(Se=$r(Ie)),he=g.getDerivedStateFromProps,(Ie=typeof he=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==nt||We!==Se)&&uE(h,F,A,Se),el=!1,We=h.memoizedState,F.state=We,Vi(h,A,F,j),go();var $e=h.memoizedState;Z!==nt||We!==$e||el||c!==null&&c.dependencies!==null&&fb(c.dependencies)?(typeof he=="function"&&(df(h,g,he,A),$e=h.memoizedState),(Qe=el||Hm(h,g,Qe,A,We,$e,Se)||c!==null&&c.dependencies!==null&&fb(c.dependencies))?(Ie||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(A,$e,Se),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(A,$e,Se)),typeof F.componentDidUpdate=="function"&&(h.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof F.componentDidUpdate!="function"||Z===c.memoizedProps&&We===c.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&We===c.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=$e),F.props=A,F.state=$e,F.context=Se,A=Qe):(typeof F.componentDidUpdate!="function"||Z===c.memoizedProps&&We===c.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&We===c.memoizedState||(h.flags|=1024),A=!1)}return F=A,Ot(c,h),A=(h.flags&128)!==0,F||A?(F=h.stateNode,g=A&&typeof g.getDerivedStateFromError!="function"?null:F.render(),h.flags|=1,c!==null&&A?(h.child=Sd(h,c.child,null,j),h.child=Sd(h,null,g,j)):pr(c,h,g,j),h.memoizedState=F.state,c=h.child):c=Zl(c,h,j),c}function mE(c,h,g,A){return Dm(),h.flags|=256,pr(c,h,g,A),h.child}var Xm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $b(c){return{baseLanes:c,cachePool:BT()}}function Ei(c,h,g){return c=c!==null?c.childLanes&~g:0,h&&(c|=Ba),c}function gE(c,h,g){var A=h.pendingProps,j=!1,F=(h.flags&128)!==0,Z;if((Z=F)||(Z=c!==null&&c.memoizedState===null?!1:(Br.current&2)!==0),Z&&(j=!0,h.flags&=-129),Z=(h.flags&32)!==0,h.flags&=-33,c===null){if(pn){if(j?Ia(h):Kl(),pn){var he=wr,Se;if(Se=he){e:{for(Se=he,he=Es;Se.nodeType!==8;){if(!he){he=null;break e}if(Se=xo(Se.nextSibling),Se===null){he=null;break e}}he=Se}he!==null?(h.memoizedState={dehydrated:he,treeContext:fr!==null?{id:xr,overflow:ql}:null,retryLane:536870912,hydrationErrors:null},Se=Ts(18,null,null,0),Se.stateNode=he,Se.return=h,h.child=Se,di=h,wr=null,Se=!0):Se=!1}Se||Pa(h)}if(he=h.memoizedState,he!==null&&(he=he.dehydrated,he!==null))return ps(he)?h.lanes=32:h.lanes=536870912,null;nl(h)}return he=A.children,A=A.fallback,j?(Kl(),j=h.mode,he=Ym({mode:"hidden",children:he},j),A=ud(A,j,g,null),he.return=h,A.return=h,he.sibling=A,h.child=he,j=h.child,j.memoizedState=$b(g),j.childLanes=Ei(c,Z,g),h.memoizedState=Xm,A):(Ia(h),y2(h,he))}if(Se=c.memoizedState,Se!==null&&(he=Se.dehydrated,he!==null)){if(F)h.flags&256?(Ia(h),h.flags&=-257,h=v2(c,h,g)):h.memoizedState!==null?(Kl(),h.child=c.child,h.flags|=128,h=null):(Kl(),j=A.fallback,he=h.mode,A=Ym({mode:"visible",children:A.children},he),j=ud(j,he,g,null),j.flags|=2,A.return=h,j.return=h,A.sibling=j,h.child=A,Sd(h,c.child,null,g),A=h.child,A.memoizedState=$b(g),A.childLanes=Ei(c,Z,g),h.memoizedState=Xm,h=j);else if(Ia(h),ps(he)){if(Z=he.nextSibling&&he.nextSibling.dataset,Z)var Ie=Z.dgst;Z=Ie,A=Error(r(419)),A.stack="",A.digest=Z,Kc({value:A,source:null,stack:null}),h=v2(c,h,g)}else if(Ti||Am(c,h,g,!1),Z=(g&c.childLanes)!==0,Ti||Z){if(Z=cr,Z!==null&&(A=g&-g,A=(A&42)!==0?1:Ct(A),A=(A&(Z.suspendedLanes|g))!==0?0:A,A!==0&&A!==Se.retryLane))throw Se.retryLane=A,od(c,A),ca(Z,c,A),pE;he.data==="$?"||M2(),h=v2(c,h,g)}else he.data==="$?"?(h.flags|=192,h.child=c.child,h=null):(c=Se.treeContext,wr=xo(he.nextSibling),di=h,pn=!0,po=null,Es=!1,c!==null&&(Oa[Ma++]=xr,Oa[Ma++]=ql,Oa[Ma++]=fr,xr=c.id,ql=c.overflow,fr=h),h=y2(h,A.children),h.flags|=4096);return h}return j?(Kl(),j=A.fallback,he=h.mode,Se=c.child,Ie=Se.sibling,A=us(Se,{mode:"hidden",children:A.children}),A.subtreeFlags=Se.subtreeFlags&65011712,Ie!==null?j=us(Ie,j):(j=ud(j,he,g,null),j.flags|=2),j.return=h,A.return=h,A.sibling=j,h.child=A,A=j,j=h.child,he=c.child.memoizedState,he===null?he=$b(g):(Se=he.cachePool,Se!==null?(Ie=nr._currentValue,Se=Se.parent!==Ie?{parent:Ie,pool:Ie}:Se):Se=BT(),he={baseLanes:he.baseLanes|g,cachePool:Se}),j.memoizedState=he,j.childLanes=Ei(c,Z,g),h.memoizedState=Xm,A):(Ia(h),g=c.child,c=g.sibling,g=us(g,{mode:"visible",children:A.children}),g.return=h,g.sibling=null,c!==null&&(Z=h.deletions,Z===null?(h.deletions=[c],h.flags|=16):Z.push(c)),h.child=g,h.memoizedState=null,g)}function y2(c,h){return h=Ym({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function Ym(c,h){return c=Ts(22,c,null,h),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function v2(c,h,g){return Sd(h,c.child,null,g),c=y2(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function b2(c,h,g){c.lanes|=h;var A=c.alternate;A!==null&&(A.lanes|=h),Cs(c.return,h,g)}function x2(c,h,g,A,j){var F=c.memoizedState;F===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:g,tailMode:j}:(F.isBackwards=h,F.rendering=null,F.renderingStartTime=0,F.last=A,F.tail=g,F.tailMode=j)}function yE(c,h,g){var A=h.pendingProps,j=A.revealOrder,F=A.tail;if(pr(c,h,A.children,g),A=Br.current,(A&2)!==0)A=A&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&b2(c,g,h);else if(c.tag===19)b2(c,g,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}A&=1}switch(le(Br,A),j){case"forwards":for(g=h.child,j=null;g!==null;)c=g.alternate,c!==null&&zm(c)===null&&(j=g),g=g.sibling;g=j,g===null?(j=h.child,h.child=null):(j=g.sibling,g.sibling=null),x2(h,!1,j,g,F);break;case"backwards":for(g=null,j=h.child,h.child=null;j!==null;){if(c=j.alternate,c!==null&&zm(c)===null){h.child=j;break}c=j.sibling,j.sibling=g,g=j,j=c}x2(h,!0,g,null,F);break;case"together":x2(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Zl(c,h,g){if(c!==null&&(h.dependencies=c.dependencies),ou|=h.lanes,(g&h.childLanes)===0)if(c!==null){if(Am(c,h,g,!1),(g&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(r(153));if(h.child!==null){for(c=h.child,g=us(c,c.pendingProps),h.child=g,g.return=h;c.sibling!==null;)c=c.sibling,g=g.sibling=us(c,c.pendingProps),g.return=h;g.sibling=null}return h.child}function vo(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&fb(c)))}function fs(c,h,g){switch(h.tag){case 3:Me(h,h.stateNode.containerInfo),ia(h,nr,c.memoizedState.cache),Dm();break;case 27:case 5:Ke(h);break;case 4:Me(h,h.stateNode.containerInfo);break;case 10:ia(h,h.type,h.memoizedProps.value);break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(Ia(h),h.flags|=128,null):(g&h.child.childLanes)!==0?gE(c,h,g):(Ia(h),c=Zl(c,h,g),c!==null?c.sibling:null);Ia(h);break;case 19:var j=(c.flags&128)!==0;if(A=(g&h.childLanes)!==0,A||(Am(c,h,g,!1),A=(g&h.childLanes)!==0),j){if(A)return yE(c,h,g);h.flags|=128}if(j=h.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),le(Br,Br.current),A)break;return null;case 22:case 23:return h.lanes=0,Gm(c,h,g);case 24:ia(h,nr,c.memoizedState.cache)}return Zl(c,h,g)}function Bb(c,h,g){if(c!==null)if(c.memoizedProps!==h.pendingProps)Ti=!0;else{if(!vo(c,g)&&(h.flags&128)===0)return Ti=!1,fs(c,h,g);Ti=(c.flags&131072)!==0}else Ti=!1,pn&&(h.flags&1048576)!==0&&Bw(h,wm,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var A=h.elementType,j=A._init;if(A=j(A._payload),h.type=A,typeof A=="function")cd(A)?(c=nu(A,c),h.tag=1,h=ru(null,h,A,c,g)):(h.tag=0,h=hf(null,h,A,c,g));else{if(A!=null){if(j=A.$$typeof,j===R){h.tag=11,h=Pb(null,h,A,c,g);break e}else if(j===O){h.tag=14,h=Fb(null,h,A,c,g);break e}}throw h=L(A)||A,Error(r(306,h,""))}}return h;case 0:return hf(c,h,h.type,h.pendingProps,g);case 1:return A=h.type,j=nu(A,h.pendingProps),ru(c,h,A,j,g);case 3:e:{if(Me(h,h.stateNode.containerInfo),c===null)throw Error(r(387));A=h.pendingProps;var F=h.memoizedState;j=F.element,af(c,h),Vi(h,A,null,g);var Z=h.memoizedState;if(A=Z.cache,ia(h,nr,A),A!==F.cache&&on(h,[nr],g,!0),go(),A=Z.element,F.isDehydrated)if(F={element:A,isDehydrated:!1,cache:Z.cache},h.updateQueue.baseState=F,h.memoizedState=F,h.flags&256){h=mE(c,h,A,g);break e}else if(A!==j){j=cs(Error(r(424)),h),Kc(j),h=mE(c,h,A,g);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(wr=xo(c.firstChild),di=h,pn=!0,po=null,Es=!0,g=lE(h,null,A,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Dm(),A===j){h=Zl(c,h,g);break e}pr(c,h,A,g)}h=h.child}return h;case 26:return Ot(c,h),c===null?(g=fC(h.type,null,h.pendingProps,null))?h.memoizedState=g:pn||(g=h.type,c=h.pendingProps,A=Cd(Re.current).createElement(g),A[Yn]=h,A[Lr]=c,mi(A,g,c),Ai(A),h.stateNode=A):h.memoizedState=fC(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return Ke(h),c===null&&pn&&(A=h.stateNode=uC(h.type,h.pendingProps,Re.current),di=h,Es=!0,j=wr,Wa(h.type)?(G2=j,wr=xo(A.firstChild)):wr=j),pr(c,h,h.pendingProps.children,g),Ot(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&pn&&((j=A=wr)&&(A=lC(A,h.type,h.pendingProps,Es),A!==null?(h.stateNode=A,di=h,wr=xo(A.firstChild),Es=!1,j=!0):j=!1),j||Pa(h)),Ke(h),j=h.type,F=h.pendingProps,Z=c!==null?c.memoizedProps:null,A=F.children,ix(j,F)?A=null:Z!==null&&ix(j,Z)&&(h.flags|=32),h.memoizedState!==null&&(j=Yw(c,h,Kw,null,null,g),jf._currentValue=j),Ot(c,h),pr(c,h,A,g),h.child;case 6:return c===null&&pn&&((c=g=wr)&&(g=ax(g,h.pendingProps,Es),g!==null?(h.stateNode=g,di=h,wr=null,c=!0):c=!1),c||Pa(h)),null;case 13:return gE(c,h,g);case 4:return Me(h,h.stateNode.containerInfo),A=h.pendingProps,c===null?h.child=Sd(h,null,A,g):pr(c,h,A,g),h.child;case 11:return Pb(c,h,h.type,h.pendingProps,g);case 7:return pr(c,h,h.pendingProps,g),h.child;case 8:return pr(c,h,h.pendingProps.children,g),h.child;case 12:return pr(c,h,h.pendingProps.children,g),h.child;case 10:return A=h.pendingProps,ia(h,h.type,A.value),pr(c,h,A.children,g),h.child;case 9:return j=h.type._context,A=h.pendingProps.children,fd(h),j=$r(j),A=A(j),h.flags|=1,pr(c,h,A,g),h.child;case 14:return Fb(c,h,h.type,h.pendingProps,g);case 15:return Lb(c,h,h.type,h.pendingProps,g);case 19:return yE(c,h,g);case 31:return A=h.pendingProps,g=h.mode,A={mode:A.mode,children:A.children},c===null?(g=Ym(A,g),g.ref=h.ref,h.child=g,g.return=h,h=g):(g=us(c.child,A),g.ref=h.ref,h.child=g,g.return=h,h=g),h;case 22:return Gm(c,h,g);case 24:return fd(h),A=$r(nr),c===null?(j=Hl(),j===null&&(j=cr,F=zw(),j.pooledCache=F,F.refCount++,F!==null&&(j.pooledCacheLanes|=g),j=F),h.memoizedState={parent:A,cache:j},md(h),ia(h,nr,j)):((c.lanes&g)!==0&&(af(c,h),Vi(h,null,null,g),go()),j=c.memoizedState,F=h.memoizedState,j.parent!==A?(j={parent:A,cache:A},h.memoizedState=j,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=j),ia(h,nr,A)):(A=F.cache,ia(h,nr,A),A!==j.cache&&on(h,[nr],g,!0))),pr(c,h,h.pendingProps.children,g),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Ql(c){c.flags|=4}function Wb(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!gi(h)){if(h=aa.current,h!==null&&((_n&4194048)===_n?hs!==null:(_n&62914560)!==_n&&(_n&536870912)===0||h!==hs))throw sf=Hw,WT;c.flags|=8192}}function zb(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?Ea():536870912,c.lanes|=h,bf|=h)}function Km(c,h){if(!pn)switch(c.tailMode){case"hidden":h=c.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c.tail=null:g.sibling=null;break;case"collapsed":g=c.tail;for(var A=null;g!==null;)g.alternate!==null&&(A=g),g=g.sibling;A===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:A.sibling=null}}function rr(c){var h=c.alternate!==null&&c.alternate.child===c.child,g=0,A=0;if(h)for(var j=c.child;j!==null;)g|=j.lanes|j.childLanes,A|=j.subtreeFlags&65011712,A|=j.flags&65011712,j.return=c,j=j.sibling;else for(j=c.child;j!==null;)g|=j.lanes|j.childLanes,A|=j.subtreeFlags,A|=j.flags,j.return=c,j=j.sibling;return c.subtreeFlags|=A,c.childLanes=g,h}function vE(c,h,g){var A=h.pendingProps;switch(_m(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(h),null;case 1:return rr(h),null;case 3:return g=h.stateNode,A=null,c!==null&&(A=c.memoizedState.cache),h.memoizedState.cache!==A&&(h.flags|=2048),Fa(nr),Ye(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(c===null||c.child===null)&&(Sm(h)?Ql(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,FT())),rr(h),null;case 26:return g=h.memoizedState,c===null?(Ql(h),g!==null?(rr(h),Wb(h,g)):(rr(h),h.flags&=-16777217)):g?g!==c.memoizedState?(Ql(h),rr(h),Wb(h,g)):(rr(h),h.flags&=-16777217):(c.memoizedProps!==A&&Ql(h),rr(h),h.flags&=-16777217),null;case 27:Le(h),g=Re.current;var j=h.type;if(c!==null&&h.stateNode!=null)c.memoizedProps!==A&&Ql(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return rr(h),null}c=xe.current,Sm(h)?MT(h):(c=uC(j,A,g),h.stateNode=c,Ql(h))}return rr(h),null;case 5:if(Le(h),g=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==A&&Ql(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return rr(h),null}if(c=xe.current,Sm(h))MT(h);else{switch(j=Cd(Re.current),c){case 1:c=j.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:c=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":c=j.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":c=j.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":c=j.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof A.is=="string"?j.createElement("select",{is:A.is}):j.createElement("select"),A.multiple?c.multiple=!0:A.size&&(c.size=A.size);break;default:c=typeof A.is=="string"?j.createElement(g,{is:A.is}):j.createElement(g)}}c[Yn]=h,c[Lr]=A;e:for(j=h.child;j!==null;){if(j.tag===5||j.tag===6)c.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===h)break e;for(;j.sibling===null;){if(j.return===null||j.return===h)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}h.stateNode=c;e:switch(mi(c,g,A),g){case"button":case"input":case"select":case"textarea":c=!!A.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ql(h)}}return rr(h),h.flags&=-16777217,null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==A&&Ql(h);else{if(typeof A!="string"&&h.stateNode===null)throw Error(r(166));if(c=Re.current,Sm(h)){if(c=h.stateNode,g=h.memoizedProps,A=null,j=di,j!==null)switch(j.tag){case 27:case 5:A=j.memoizedProps}c[Yn]=h,c=!!(c.nodeValue===g||A!==null&&A.suppressHydrationWarning===!0||iC(c.nodeValue,g)),c||Pa(h)}else c=Cd(c).createTextNode(A),c[Yn]=h,h.stateNode=c}return rr(h),null;case 13:if(A=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(j=Sm(h),A!==null&&A.dehydrated!==null){if(c===null){if(!j)throw Error(r(318));if(j=h.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[Yn]=h}else Dm(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;rr(h),j=!1}else j=FT(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=j),j=!0;if(!j)return h.flags&256?(nl(h),h):(nl(h),null)}if(nl(h),(h.flags&128)!==0)return h.lanes=g,h;if(g=A!==null,c=c!==null&&c.memoizedState!==null,g){A=h.child,j=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(j=A.alternate.memoizedState.cachePool.pool);var F=null;A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(F=A.memoizedState.cachePool.pool),F!==j&&(A.flags|=2048)}return g!==c&&g&&(h.child.flags|=8192),zb(h,h.updateQueue),rr(h),null;case 4:return Ye(),c===null&&z2(h.stateNode.containerInfo),rr(h),null;case 10:return Fa(h.type),rr(h),null;case 19:if(ne(Br),j=h.memoizedState,j===null)return rr(h),null;if(A=(h.flags&128)!==0,F=j.rendering,F===null)if(A)Km(j,!1);else{if(Wr!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(F=zm(c),F!==null){for(h.flags|=128,Km(j,!1),c=F.updateQueue,h.updateQueue=c,zb(h,c),h.subtreeFlags=0,c=g,g=h.child;g!==null;)xm(g,c),g=g.sibling;return le(Br,Br.current&1|2),h.child}c=c.sibling}j.tail!==null&&ae()>xf&&(h.flags|=128,A=!0,Km(j,!1),h.lanes=4194304)}else{if(!A)if(c=zm(F),c!==null){if(h.flags|=128,A=!0,c=c.updateQueue,h.updateQueue=c,zb(h,c),Km(j,!0),j.tail===null&&j.tailMode==="hidden"&&!F.alternate&&!pn)return rr(h),null}else 2*ae()-j.renderingStartTime>xf&&g!==536870912&&(h.flags|=128,A=!0,Km(j,!1),h.lanes=4194304);j.isBackwards?(F.sibling=h.child,h.child=F):(c=j.last,c!==null?c.sibling=F:h.child=F,j.last=F)}return j.tail!==null?(h=j.tail,j.rendering=h,j.tail=h.sibling,j.renderingStartTime=ae(),h.sibling=null,c=Br.current,le(Br,A?c&1|2:c&1),h):(rr(h),null);case 22:case 23:return nl(h),Xw(),A=h.memoizedState!==null,c!==null?c.memoizedState!==null!==A&&(h.flags|=8192):A&&(h.flags|=8192),A?(g&536870912)!==0&&(h.flags&128)===0&&(rr(h),h.subtreeFlags&6&&(h.flags|=8192)):rr(h),g=h.updateQueue,g!==null&&zb(h,g.retryQueue),g=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==g&&(h.flags|=2048),c!==null&&ne(pd),null;case 24:return g=null,c!==null&&(g=c.memoizedState.cache),h.memoizedState.cache!==g&&(h.flags|=2048),Fa(nr),rr(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function bE(c,h){switch(_m(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Fa(nr),Ye(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return Le(h),null;case 13:if(nl(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Dm()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return ne(Br),null;case 4:return Ye(),null;case 10:return Fa(h.type),null;case 22:case 23:return nl(h),Xw(),c!==null&&ne(pd),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Fa(nr),null;case 25:return null;default:return null}}function xE(c,h){switch(_m(h),h.tag){case 3:Fa(nr),Ye();break;case 26:case 27:case 5:Le(h);break;case 4:Ye();break;case 13:nl(h);break;case 19:ne(Br);break;case 10:Fa(h.type);break;case 22:case 23:nl(h),Xw(),c!==null&&ne(pd);break;case 24:Fa(nr)}}function Zm(c,h){try{var g=h.updateQueue,A=g!==null?g.lastEffect:null;if(A!==null){var j=A.next;g=j;do{if((g.tag&c)===c){A=void 0;var F=g.create,Z=g.inst;A=F(),Z.destroy=A}g=g.next}while(g!==j)}}catch(he){ir(h,h.return,he)}}function iu(c,h,g){try{var A=h.updateQueue,j=A!==null?A.lastEffect:null;if(j!==null){var F=j.next;A=F;do{if((A.tag&c)===c){var Z=A.inst,he=Z.destroy;if(he!==void 0){Z.destroy=void 0,j=h;var Se=g,Ie=he;try{Ie()}catch(Qe){ir(j,Se,Qe)}}}A=A.next}while(A!==F)}}catch(Qe){ir(h,h.return,Qe)}}function wE(c){var h=c.updateQueue;if(h!==null){var g=c.stateNode;try{Gw(h,g)}catch(A){ir(c,c.return,A)}}}function w2(c,h,g){g.props=nu(c.type,c.memoizedProps),g.state=c.memoizedState;try{g.componentWillUnmount()}catch(A){ir(c,h,A)}}function ff(c,h){try{var g=c.ref;if(g!==null){switch(c.tag){case 26:case 27:case 5:var A=c.stateNode;break;case 30:A=c.stateNode;break;default:A=c.stateNode}typeof g=="function"?c.refCleanup=g(A):g.current=A}}catch(j){ir(c,h,j)}}function il(c,h){var g=c.ref,A=c.refCleanup;if(g!==null)if(typeof A=="function")try{A()}catch(j){ir(c,h,j)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(j){ir(c,h,j)}else g.current=null}function qb(c){var h=c.type,g=c.memoizedProps,A=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":g.autoFocus&&A.focus();break e;case"img":g.src?A.src=g.src:g.srcSet&&(A.srcset=g.srcSet)}}catch(j){ir(c,c.return,j)}}function Hb(c,h,g){try{var A=c.stateNode;cU(A,c.type,g,h),A[Lr]=h}catch(j){ir(c,c.return,j)}}function pf(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Wa(c.type)||c.tag===4}function Qm(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||pf(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Wa(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Vb(c,h,g){var A=c.tag;if(A===5||A===6)c=c.stateNode,h?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(c,h):(h=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,h.appendChild(c),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=nx));else if(A!==4&&(A===27&&Wa(c.type)&&(g=c.stateNode,h=null),c=c.child,c!==null))for(Vb(c,h,g),c=c.sibling;c!==null;)Vb(c,h,g),c=c.sibling}function Jm(c,h,g){var A=c.tag;if(A===5||A===6)c=c.stateNode,h?g.insertBefore(c,h):g.appendChild(c);else if(A!==4&&(A===27&&Wa(c.type)&&(g=c.stateNode),c=c.child,c!==null))for(Jm(c,h,g),c=c.sibling;c!==null;)Jm(c,h,g),c=c.sibling}function eg(c){var h=c.stateNode,g=c.memoizedProps;try{for(var A=c.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);mi(h,A,g),h[Yn]=c,h[Lr]=g}catch(F){ir(c,c.return,F)}}var sl=!1,$n=!1,Jl=!1,_E=typeof WeakSet=="function"?WeakSet:Set,fi=null;function Yk(c,h){if(c=c.containerInfo,bo=ux,c=UT(c),Fw(c)){if("selectionStart"in c)var g={start:c.selectionStart,end:c.selectionEnd};else e:{g=(g=c.ownerDocument)&&g.defaultView||window;var A=g.getSelection&&g.getSelection();if(A&&A.rangeCount!==0){g=A.anchorNode;var j=A.anchorOffset,F=A.focusNode;A=A.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var Z=0,he=-1,Se=-1,Ie=0,Qe=0,nt=c,We=null;t:for(;;){for(var $e;nt!==g||j!==0&&nt.nodeType!==3||(he=Z+j),nt!==F||A!==0&&nt.nodeType!==3||(Se=Z+A),nt.nodeType===3&&(Z+=nt.nodeValue.length),($e=nt.firstChild)!==null;)We=nt,nt=$e;for(;;){if(nt===c)break t;if(We===g&&++Ie===j&&(he=Z),We===F&&++Qe===A&&(Se=Z),($e=nt.nextSibling)!==null)break;nt=We,We=nt.parentNode}nt=$e}g=he===-1||Se===-1?null:{start:he,end:Se}}else g=null}g=g||{start:0,end:0}}else g=null;for(rx={focusedElem:c,selectionRange:g},ux=!1,fi=h;fi!==null;)if(h=fi,c=h.child,(h.subtreeFlags&1024)!==0&&c!==null)c.return=h,fi=c;else for(;fi!==null;){switch(h=fi,F=h.alternate,c=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&F!==null){c=void 0,g=h,j=F.memoizedProps,F=F.memoizedState,A=g.stateNode;try{var Lt=nu(g.type,j,g.elementType===g.type);c=A.getSnapshotBeforeUpdate(Lt,F),A.__reactInternalSnapshotBeforeUpdate=c}catch(Mt){ir(g,g.return,Mt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,g=c.nodeType,g===9)V2(c);else if(g===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":V2(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=h.sibling,c!==null){c.return=h.return,fi=c;break}fi=h.return}}function SE(c,h,g){var A=g.flags;switch(g.tag){case 0:case 11:case 15:su(c,g),A&4&&Zm(5,g);break;case 1:if(su(c,g),A&4)if(c=g.stateNode,h===null)try{c.componentDidMount()}catch(Z){ir(g,g.return,Z)}else{var j=nu(g.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(j,h,c.__reactInternalSnapshotBeforeUpdate)}catch(Z){ir(g,g.return,Z)}}A&64&&wE(g),A&512&&ff(g,g.return);break;case 3:if(su(c,g),A&64&&(c=g.updateQueue,c!==null)){if(h=null,g.child!==null)switch(g.child.tag){case 27:case 5:h=g.child.stateNode;break;case 1:h=g.child.stateNode}try{Gw(c,h)}catch(Z){ir(g,g.return,Z)}}break;case 27:h===null&&A&4&&eg(g);case 26:case 5:su(c,g),h===null&&A&4&&qb(g),A&512&&ff(g,g.return);break;case 12:su(c,g);break;case 13:su(c,g),A&4&&TE(c,g),A&64&&(c=g.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(g=Zb.bind(null,g),Tf(c,g))));break;case 22:if(A=g.memoizedState!==null||sl,!A){h=h!==null&&h.memoizedState!==null||$n,j=sl;var F=$n;sl=A,($n=h)&&!F?tc(c,g,(g.subtreeFlags&8772)!==0):su(c,g),sl=j,$n=F}break;case 30:break;default:su(c,g)}}function DE(c){var h=c.alternate;h!==null&&(c.alternate=null,DE(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Ph(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var _r=null,Us=!1;function ec(c,h,g){for(g=g.child;g!==null;)AE(c,h,g),g=g.sibling}function AE(c,h,g){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Ae,g)}catch{}switch(g.tag){case 26:$n||il(g,h),ec(c,h,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:$n||il(g,h);var A=_r,j=Us;Wa(g.type)&&(_r=g.stateNode,Us=!1),ec(c,h,g),dg(g.stateNode),_r=A,Us=j;break;case 5:$n||il(g,h);case 6:if(A=_r,j=Us,_r=null,ec(c,h,g),_r=A,Us=j,_r!==null)if(Us)try{(_r.nodeType===9?_r.body:_r.nodeName==="HTML"?_r.ownerDocument.body:_r).removeChild(g.stateNode)}catch(F){ir(g,h,F)}else try{_r.removeChild(g.stateNode)}catch(F){ir(g,h,F)}break;case 18:_r!==null&&(Us?(c=_r,sx(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,g.stateNode),bg(c)):sx(_r,g.stateNode));break;case 4:A=_r,j=Us,_r=g.stateNode.containerInfo,Us=!0,ec(c,h,g),_r=A,Us=j;break;case 0:case 11:case 14:case 15:$n||iu(2,g,h),$n||iu(4,g,h),ec(c,h,g);break;case 1:$n||(il(g,h),A=g.stateNode,typeof A.componentWillUnmount=="function"&&w2(g,h,A)),ec(c,h,g);break;case 21:ec(c,h,g);break;case 22:$n=(A=$n)||g.memoizedState!==null,ec(c,h,g),$n=A;break;default:ec(c,h,g)}}function TE(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{bg(c)}catch(g){ir(h,h.return,g)}}function Kk(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new _E),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new _E),h;default:throw Error(r(435,c.tag))}}function _2(c,h){var g=Kk(c);h.forEach(function(A){var j=nU.bind(null,c,A);g.has(A)||(g.add(A),A.then(j,j))})}function oa(c,h){var g=h.deletions;if(g!==null)for(var A=0;A<g.length;A++){var j=g[A],F=c,Z=h,he=Z;e:for(;he!==null;){switch(he.tag){case 27:if(Wa(he.type)){_r=he.stateNode,Us=!1;break e}break;case 5:_r=he.stateNode,Us=!1;break e;case 3:case 4:_r=he.stateNode.containerInfo,Us=!0;break e}he=he.return}if(_r===null)throw Error(r(160));AE(F,Z,j),_r=null,Us=!1,F=j.alternate,F!==null&&(F.return=null),j.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)S2(h,c),h=h.sibling}var $a=null;function S2(c,h){var g=c.alternate,A=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:oa(h,c),Os(c),A&4&&(iu(3,c,c.return),Zm(3,c),iu(5,c,c.return));break;case 1:oa(h,c),Os(c),A&512&&($n||g===null||il(g,g.return)),A&64&&sl&&(c=c.updateQueue,c!==null&&(A=c.callbacks,A!==null&&(g=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=g===null?A:g.concat(A))));break;case 26:var j=$a;if(oa(h,c),Os(c),A&512&&($n||g===null||il(g,g.return)),A&4){var F=g!==null?g.memoizedState:null;if(A=c.memoizedState,g===null)if(A===null)if(c.stateNode===null){e:{A=c.type,g=c.memoizedProps,j=j.ownerDocument||j;t:switch(A){case"title":F=j.getElementsByTagName("title")[0],(!F||F[Ir]||F[Yn]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=j.createElement(A),j.head.insertBefore(F,j.querySelector("head > title"))),mi(F,A,g),F[Yn]=c,Ai(F),A=F;break e;case"link":var Z=gC("link","href",j).get(A+(g.href||""));if(Z){for(var he=0;he<Z.length;he++)if(F=Z[he],F.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&F.getAttribute("rel")===(g.rel==null?null:g.rel)&&F.getAttribute("title")===(g.title==null?null:g.title)&&F.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){Z.splice(he,1);break t}}F=j.createElement(A),mi(F,A,g),j.head.appendChild(F);break;case"meta":if(Z=gC("meta","content",j).get(A+(g.content||""))){for(he=0;he<Z.length;he++)if(F=Z[he],F.getAttribute("content")===(g.content==null?null:""+g.content)&&F.getAttribute("name")===(g.name==null?null:g.name)&&F.getAttribute("property")===(g.property==null?null:g.property)&&F.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&F.getAttribute("charset")===(g.charSet==null?null:g.charSet)){Z.splice(he,1);break t}}F=j.createElement(A),mi(F,A,g),j.head.appendChild(F);break;default:throw Error(r(468,A))}F[Yn]=c,Ai(F),A=F}c.stateNode=A}else yC(j,c.type,c.stateNode);else c.stateNode=mC(j,A,c.memoizedProps);else F!==A?(F===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):F.count--,A===null?yC(j,c.type,c.stateNode):mC(j,A,c.memoizedProps)):A===null&&c.stateNode!==null&&Hb(c,c.memoizedProps,g.memoizedProps)}break;case 27:oa(h,c),Os(c),A&512&&($n||g===null||il(g,g.return)),g!==null&&A&4&&Hb(c,c.memoizedProps,g.memoizedProps);break;case 5:if(oa(h,c),Os(c),A&512&&($n||g===null||il(g,g.return)),c.flags&32){j=c.stateNode;try{Wc(j,"")}catch($e){ir(c,c.return,$e)}}A&4&&c.stateNode!=null&&(j=c.memoizedProps,Hb(c,j,g!==null?g.memoizedProps:j)),A&1024&&(Jl=!0);break;case 6:if(oa(h,c),Os(c),A&4){if(c.stateNode===null)throw Error(r(162));A=c.memoizedProps,g=c.stateNode;try{g.nodeValue=A}catch($e){ir(c,c.return,$e)}}break;case 3:if(Rf=null,j=$a,$a=Yt(h.containerInfo),oa(h,c),$a=j,Os(c),A&4&&g!==null&&g.memoizedState.isDehydrated)try{bg(h.containerInfo)}catch($e){ir(c,c.return,$e)}Jl&&(Jl=!1,EE(c));break;case 4:A=$a,$a=Yt(c.stateNode.containerInfo),oa(h,c),Os(c),$a=A;break;case 12:oa(h,c),Os(c);break;case 13:oa(h,c),Os(c),c.child.flags&8192&&c.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(R2=ae()),A&4&&(A=c.updateQueue,A!==null&&(c.updateQueue=null,_2(c,A)));break;case 22:j=c.memoizedState!==null;var Se=g!==null&&g.memoizedState!==null,Ie=sl,Qe=$n;if(sl=Ie||j,$n=Qe||Se,oa(h,c),$n=Qe,sl=Ie,Os(c),A&8192)e:for(h=c.stateNode,h._visibility=j?h._visibility&-2:h._visibility|1,j&&(g===null||Se||sl||$n||Td(c)),g=null,h=c;;){if(h.tag===5||h.tag===26){if(g===null){Se=g=h;try{if(F=Se.stateNode,j)Z=F.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{he=Se.stateNode;var nt=Se.memoizedProps.style,We=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;he.style.display=We==null||typeof We=="boolean"?"":(""+We).trim()}}catch($e){ir(Se,Se.return,$e)}}}else if(h.tag===6){if(g===null){Se=h;try{Se.stateNode.nodeValue=j?"":Se.memoizedProps}catch($e){ir(Se,Se.return,$e)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;g===h&&(g=null),h=h.return}g===h&&(g=null),h.sibling.return=h.return,h=h.sibling}A&4&&(A=c.updateQueue,A!==null&&(g=A.retryQueue,g!==null&&(A.retryQueue=null,_2(c,g))));break;case 19:oa(h,c),Os(c),A&4&&(A=c.updateQueue,A!==null&&(c.updateQueue=null,_2(c,A)));break;case 30:break;case 21:break;default:oa(h,c),Os(c)}}function Os(c){var h=c.flags;if(h&2){try{for(var g,A=c.return;A!==null;){if(pf(A)){g=A;break}A=A.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var j=g.stateNode,F=Qm(c);Jm(c,F,j);break;case 5:var Z=g.stateNode;g.flags&32&&(Wc(Z,""),g.flags&=-33);var he=Qm(c);Jm(c,he,Z);break;case 3:case 4:var Se=g.stateNode.containerInfo,Ie=Qm(c);Vb(c,Ie,Se);break;default:throw Error(r(161))}}catch(Qe){ir(c,c.return,Qe)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function EE(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;EE(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function su(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)SE(c,h.alternate,h),h=h.sibling}function Td(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:iu(4,h,h.return),Td(h);break;case 1:il(h,h.return);var g=h.stateNode;typeof g.componentWillUnmount=="function"&&w2(h,h.return,g),Td(h);break;case 27:dg(h.stateNode);case 26:case 5:il(h,h.return),Td(h);break;case 22:h.memoizedState===null&&Td(h);break;case 30:Td(h);break;default:Td(h)}c=c.sibling}}function tc(c,h,g){for(g=g&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var A=h.alternate,j=c,F=h,Z=F.flags;switch(F.tag){case 0:case 11:case 15:tc(j,F,g),Zm(4,F);break;case 1:if(tc(j,F,g),A=F,j=A.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(Ie){ir(A,A.return,Ie)}if(A=F,j=A.updateQueue,j!==null){var he=A.stateNode;try{var Se=j.shared.hiddenCallbacks;if(Se!==null)for(j.shared.hiddenCallbacks=null,j=0;j<Se.length;j++)VT(Se[j],he)}catch(Ie){ir(A,A.return,Ie)}}g&&Z&64&&wE(F),ff(F,F.return);break;case 27:eg(F);case 26:case 5:tc(j,F,g),g&&A===null&&Z&4&&qb(F),ff(F,F.return);break;case 12:tc(j,F,g);break;case 13:tc(j,F,g),g&&Z&4&&TE(j,F);break;case 22:F.memoizedState===null&&tc(j,F,g),ff(F,F.return);break;case 30:break;default:tc(j,F,g)}h=h.sibling}}function D2(c,h){var g=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==g&&(c!=null&&c.refCount++,g!=null&&Tm(g))}function A2(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Tm(c))}function al(c,h,g,A){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)CE(c,h,g,A),h=h.sibling}function CE(c,h,g,A){var j=h.flags;switch(h.tag){case 0:case 11:case 15:al(c,h,g,A),j&2048&&Zm(9,h);break;case 1:al(c,h,g,A);break;case 3:al(c,h,g,A),j&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Tm(c)));break;case 12:if(j&2048){al(c,h,g,A),c=h.stateNode;try{var F=h.memoizedProps,Z=F.id,he=F.onPostCommit;typeof he=="function"&&he(Z,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Se){ir(h,h.return,Se)}}else al(c,h,g,A);break;case 13:al(c,h,g,A);break;case 23:break;case 22:F=h.stateNode,Z=h.alternate,h.memoizedState!==null?F._visibility&2?al(c,h,g,A):tg(c,h):F._visibility&2?al(c,h,g,A):(F._visibility|=2,mf(c,h,g,A,(h.subtreeFlags&10256)!==0)),j&2048&&D2(Z,h);break;case 24:al(c,h,g,A),j&2048&&A2(h.alternate,h);break;default:al(c,h,g,A)}}function mf(c,h,g,A,j){for(j=j&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var F=c,Z=h,he=g,Se=A,Ie=Z.flags;switch(Z.tag){case 0:case 11:case 15:mf(F,Z,he,Se,j),Zm(8,Z);break;case 23:break;case 22:var Qe=Z.stateNode;Z.memoizedState!==null?Qe._visibility&2?mf(F,Z,he,Se,j):tg(F,Z):(Qe._visibility|=2,mf(F,Z,he,Se,j)),j&&Ie&2048&&D2(Z.alternate,Z);break;case 24:mf(F,Z,he,Se,j),j&&Ie&2048&&A2(Z.alternate,Z);break;default:mf(F,Z,he,Se,j)}h=h.sibling}}function tg(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var g=c,A=h,j=A.flags;switch(A.tag){case 22:tg(g,A),j&2048&&D2(A.alternate,A);break;case 24:tg(g,A),j&2048&&A2(A.alternate,A);break;default:tg(g,A)}h=h.sibling}}var Xi=8192;function gf(c){if(c.subtreeFlags&Xi)for(c=c.child;c!==null;)NE(c),c=c.sibling}function NE(c){switch(c.tag){case 26:gf(c),c.flags&Xi&&c.memoizedState!==null&&wU($a,c.memoizedState,c.memoizedProps);break;case 5:gf(c);break;case 3:case 4:var h=$a;$a=Yt(c.stateNode.containerInfo),gf(c),$a=h;break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=Xi,Xi=16777216,gf(c),Xi=h):gf(c));break;default:gf(c)}}function RE(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function yf(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var A=h[g];fi=A,kE(A,c)}RE(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)jE(c),c=c.sibling}function jE(c){switch(c.tag){case 0:case 11:case 15:yf(c),c.flags&2048&&iu(9,c,c.return);break;case 3:yf(c);break;case 12:yf(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,Gb(c)):yf(c);break;default:yf(c)}}function Gb(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var g=0;g<h.length;g++){var A=h[g];fi=A,kE(A,c)}RE(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:iu(8,h,h.return),Gb(h);break;case 22:g=h.stateNode,g._visibility&2&&(g._visibility&=-3,Gb(h));break;default:Gb(h)}c=c.sibling}}function kE(c,h){for(;fi!==null;){var g=fi;switch(g.tag){case 0:case 11:case 15:iu(8,g,h);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var A=g.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:Tm(g.memoizedState.cache)}if(A=g.child,A!==null)A.return=g,fi=A;else e:for(g=c;fi!==null;){A=fi;var j=A.sibling,F=A.return;if(DE(A),A===g){fi=null;break e}if(j!==null){j.return=F,fi=j;break e}fi=F}}}var Zk={getCacheForType:function(c){var h=$r(nr),g=h.data.get(c);return g===void 0&&(g=c(),h.data.set(c,g)),g}},T2=typeof WeakMap=="function"?WeakMap:Map,Hn=0,cr=null,hn=null,_n=0,Vn=0,la=null,au=!1,vf=!1,E2=!1,nc=0,Wr=0,ou=0,Ed=0,C2=0,Ba=0,bf=0,ng=null,Ms=null,N2=!1,R2=0,xf=1/0,rg=null,lu=null,Fi=0,cu=null,wf=null,_f=0,j2=0,k2=null,UE=null,Sf=0,U2=null;function Yi(){if((Hn&2)!==0&&_n!==0)return _n&-_n;if(B.T!==null){var c=rf;return c!==0?c:ex()}return ii()}function OE(){Ba===0&&(Ba=(_n&536870912)===0||pn?vr():536870912);var c=aa.current;return c!==null&&(c.flags|=32),Ba}function ca(c,h,g){(c===cr&&(Vn===2||Vn===9)||c.cancelPendingCommit!==null)&&(Df(c,0),uu(c,_n,Ba,!1)),fe(c,g),((Hn&2)===0||c!==cr)&&(c===cr&&((Hn&2)===0&&(Ed|=g),Wr===4&&uu(c,_n,Ba,!1)),ol(c))}function ME(c,h,g){if((Hn&6)!==0)throw Error(r(327));var A=!g&&(h&124)===0&&(h&c.expiredLanes)===0||Et(c,h),j=A?eU(c,h):P2(c,h,!0),F=A;do{if(j===0){vf&&!A&&uu(c,h,0,!1);break}else{if(g=c.current.alternate,F&&!Qk(g)){j=P2(c,h,!1),F=!1;continue}if(j===2){if(F=h,c.errorRecoveryDisabledLanes&F)var Z=0;else Z=c.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){h=Z;e:{var he=c;j=ng;var Se=he.current.memoizedState.isDehydrated;if(Se&&(Df(he,Z).flags|=256),Z=P2(he,Z,!1),Z!==2){if(E2&&!Se){he.errorRecoveryDisabledLanes|=F,Ed|=F,j=4;break e}F=Ms,Ms=j,F!==null&&(Ms===null?Ms=F:Ms.push.apply(Ms,F))}j=Z}if(F=!1,j!==2)continue}}if(j===1){Df(c,0),uu(c,h,0,!0);break}e:{switch(A=c,F=j,F){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:uu(A,h,Ba,!au);break e;case 2:Ms=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(j=R2+300-ae(),10<j)){if(uu(A,h,Ba,!au),gt(A,0,!0)!==0)break e;A.timeoutHandle=sC(PE.bind(null,A,g,Ms,rg,N2,h,Ba,Ed,bf,au,F,2,-0,0),j);break e}PE(A,g,Ms,rg,N2,h,Ba,Ed,bf,au,F,0,-0,0)}}break}while(!0);ol(c)}function PE(c,h,g,A,j,F,Z,he,Se,Ie,Qe,nt,We,$e){if(c.timeoutHandle=-1,nt=h.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(Ci={stylesheets:null,count:0,unsuspend:xU},NE(h),nt=_U(),nt!==null)){c.cancelPendingCommit=nt(ig.bind(null,c,h,F,g,A,j,Z,he,Se,Qe,1,We,$e)),uu(c,F,Z,!Ie);return}ig(c,h,F,g,A,j,Z,he,Se)}function Qk(c){for(var h=c;;){var g=h.tag;if((g===0||g===11||g===15)&&h.flags&16384&&(g=h.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var A=0;A<g.length;A++){var j=g[A],F=j.getSnapshot;j=j.value;try{if(!na(F(),j))return!1}catch{return!1}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function uu(c,h,g,A){h&=~C2,h&=~Ed,c.suspendedLanes|=h,c.pingedLanes&=~h,A&&(c.warmLanes|=h),A=c.expirationTimes;for(var j=h;0<j;){var F=31-at(j),Z=1<<F;A[F]=-1,j&=~Z}g!==0&&ze(c,g,h)}function Xb(){return(Hn&6)===0?(og(0),!1):!0}function O2(){if(hn!==null){if(Vn===0)var c=hn.return;else c=hn,de=Zc=null,bb(c),hi=null,ks=0,c=hn;for(;c!==null;)xE(c.alternate,c),c=c.return;hn=null}}function Df(c,h){var g=c.timeoutHandle;g!==-1&&(c.timeoutHandle=-1,dU(g)),g=c.cancelPendingCommit,g!==null&&(c.cancelPendingCommit=null,g()),O2(),cr=c,hn=g=us(c.current,null),_n=h,Vn=0,la=null,au=!1,vf=Et(c,h),E2=!1,bf=Ba=C2=Ed=ou=Wr=0,Ms=ng=null,N2=!1,(h&8)!==0&&(h|=h&32);var A=c.entangledLanes;if(A!==0)for(c=c.entanglements,A&=h;0<A;){var j=31-at(A),F=1<<j;h|=c[j],A&=~F}return nc=h,ad(),g}function FE(c,h){en=null,B.H=Bm,h===ds||h===gb?(h=qT(),Vn=3):h===WT?(h=qT(),Vn=4):Vn=h===pE?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,la=h,hn===null&&(Wr=1,Vm(c,cs(h,c.current)))}function LE(){var c=B.H;return B.H=Bm,c===null?Bm:c}function IE(){var c=B.A;return B.A=Zk,c}function M2(){Wr=4,au||(_n&4194048)!==_n&&aa.current!==null||(vf=!0),(ou&134217727)===0&&(Ed&134217727)===0||cr===null||uu(cr,_n,Ba,!1)}function P2(c,h,g){var A=Hn;Hn|=2;var j=LE(),F=IE();(cr!==c||_n!==h)&&(rg=null,Df(c,h)),h=!1;var Z=Wr;e:do try{if(Vn!==0&&hn!==null){var he=hn,Se=la;switch(Vn){case 8:O2(),Z=6;break e;case 3:case 2:case 9:case 6:aa.current===null&&(h=!0);var Ie=Vn;if(Vn=0,la=null,Af(c,he,Se,Ie),g&&vf){Z=0;break e}break;default:Ie=Vn,Vn=0,la=null,Af(c,he,Se,Ie)}}Jk(),Z=Wr;break}catch(Qe){FE(c,Qe)}while(!0);return h&&c.shellSuspendCounter++,de=Zc=null,Hn=A,B.H=j,B.A=F,hn===null&&(cr=null,_n=0,ad()),Z}function Jk(){for(;hn!==null;)F2(hn)}function eU(c,h){var g=Hn;Hn|=2;var A=LE(),j=IE();cr!==c||_n!==h?(rg=null,xf=ae()+500,Df(c,h)):vf=Et(c,h);e:do try{if(Vn!==0&&hn!==null){h=hn;var F=la;t:switch(Vn){case 1:Vn=0,la=null,Af(c,h,F,1);break;case 2:case 9:if(zT(F)){Vn=0,la=null,BE(h);break}h=function(){Vn!==2&&Vn!==9||cr!==c||(Vn=7),ol(c)},F.then(h,h);break e;case 3:Vn=7;break e;case 4:Vn=5;break e;case 7:zT(F)?(Vn=0,la=null,BE(h)):(Vn=0,la=null,Af(c,h,F,7));break;case 5:var Z=null;switch(hn.tag){case 26:Z=hn.memoizedState;case 5:case 27:var he=hn;if(!Z||gi(Z)){Vn=0,la=null;var Se=he.sibling;if(Se!==null)hn=Se;else{var Ie=he.return;Ie!==null?(hn=Ie,Yb(Ie)):hn=null}break t}}Vn=0,la=null,Af(c,h,F,5);break;case 6:Vn=0,la=null,Af(c,h,F,6);break;case 8:O2(),Wr=6;break e;default:throw Error(r(462))}}$E();break}catch(Qe){FE(c,Qe)}while(!0);return de=Zc=null,B.H=A,B.A=j,Hn=g,hn!==null?0:(cr=null,_n=0,ad(),Wr)}function $E(){for(;hn!==null&&!ge();)F2(hn)}function F2(c){var h=Bb(c.alternate,c,nc);c.memoizedProps=c.pendingProps,h===null?Yb(c):hn=h}function BE(c){var h=c,g=h.alternate;switch(h.tag){case 15:case 0:h=Ib(g,h,h.pendingProps,h.type,void 0,_n);break;case 11:h=Ib(g,h,h.pendingProps,h.type.render,h.ref,_n);break;case 5:bb(h);default:xE(g,h),h=hn=xm(h,nc),h=Bb(g,h,nc)}c.memoizedProps=c.pendingProps,h===null?Yb(c):hn=h}function Af(c,h,g,A){de=Zc=null,bb(h),hi=null,ks=0;var j=h.return;try{if(fE(c,j,h,g,_n)){Wr=1,Vm(c,cs(g,c.current)),hn=null;return}}catch(F){if(j!==null)throw hn=j,F;Wr=1,Vm(c,cs(g,c.current)),hn=null;return}h.flags&32768?(pn||A===1?c=!0:vf||(_n&536870912)!==0?c=!1:(au=c=!0,(A===2||A===9||A===3||A===6)&&(A=aa.current,A!==null&&A.tag===13&&(A.flags|=16384))),WE(h,c)):Yb(h)}function Yb(c){var h=c;do{if((h.flags&32768)!==0){WE(h,au);return}c=h.return;var g=vE(h.alternate,h,nc);if(g!==null){hn=g;return}if(h=h.sibling,h!==null){hn=h;return}hn=h=c}while(h!==null);Wr===0&&(Wr=5)}function WE(c,h){do{var g=bE(c.alternate,c);if(g!==null){g.flags&=32767,hn=g;return}if(g=c.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!h&&(c=c.sibling,c!==null)){hn=c;return}hn=c=g}while(c!==null);Wr=6,hn=null}function ig(c,h,g,A,j,F,Z,he,Se){c.cancelPendingCommit=null;do Kb();while(Fi!==0);if((Hn&6)!==0)throw Error(r(327));if(h!==null){if(h===c.current)throw Error(r(177));if(F=h.lanes|h.childLanes,F|=Iw,De(c,g,F,Z,he,Se),c===cr&&(hn=cr=null,_n=0),wf=h,cu=c,_f=g,j2=F,k2=j,UE=A,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,KE(be,function(){return GE(),null})):(c.callbackNode=null,c.callbackPriority=0),A=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||A){A=B.T,B.T=null,j=W.p,W.p=2,Z=Hn,Hn|=4;try{Yk(c,h,g)}finally{Hn=Z,W.p=j,B.T=A}}Fi=1,zE(),qE(),HE()}}function zE(){if(Fi===1){Fi=0;var c=cu,h=wf,g=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||g){g=B.T,B.T=null;var A=W.p;W.p=2;var j=Hn;Hn|=4;try{S2(h,c);var F=rx,Z=UT(c.containerInfo),he=F.focusedElem,Se=F.selectionRange;if(Z!==he&&he&&he.ownerDocument&&kT(he.ownerDocument.documentElement,he)){if(Se!==null&&Fw(he)){var Ie=Se.start,Qe=Se.end;if(Qe===void 0&&(Qe=Ie),"selectionStart"in he)he.selectionStart=Ie,he.selectionEnd=Math.min(Qe,he.value.length);else{var nt=he.ownerDocument||document,We=nt&&nt.defaultView||window;if(We.getSelection){var $e=We.getSelection(),Lt=he.textContent.length,Mt=Math.min(Se.start,Lt),Qn=Se.end===void 0?Mt:Math.min(Se.end,Lt);!$e.extend&&Mt>Qn&&(Z=Qn,Qn=Mt,Mt=Z);var Ue=Pw(he,Mt),Ne=Pw(he,Qn);if(Ue&&Ne&&($e.rangeCount!==1||$e.anchorNode!==Ue.node||$e.anchorOffset!==Ue.offset||$e.focusNode!==Ne.node||$e.focusOffset!==Ne.offset)){var Pe=nt.createRange();Pe.setStart(Ue.node,Ue.offset),$e.removeAllRanges(),Mt>Qn?($e.addRange(Pe),$e.extend(Ne.node,Ne.offset)):(Pe.setEnd(Ne.node,Ne.offset),$e.addRange(Pe))}}}}for(nt=[],$e=he;$e=$e.parentNode;)$e.nodeType===1&&nt.push({element:$e,left:$e.scrollLeft,top:$e.scrollTop});for(typeof he.focus=="function"&&he.focus(),he=0;he<nt.length;he++){var Je=nt[he];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}ux=!!bo,rx=bo=null}finally{Hn=j,W.p=A,B.T=g}}c.current=h,Fi=2}}function qE(){if(Fi===2){Fi=0;var c=cu,h=wf,g=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||g){g=B.T,B.T=null;var A=W.p;W.p=2;var j=Hn;Hn|=4;try{SE(c,h.alternate,h)}finally{Hn=j,W.p=A,B.T=g}}Fi=3}}function HE(){if(Fi===4||Fi===3){Fi=0,ve();var c=cu,h=wf,g=_f,A=UE;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Fi=5:(Fi=0,wf=cu=null,VE(c,c.pendingLanes));var j=c.pendingLanes;if(j===0&&(lu=null),On(g),h=h.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Ae,h,void 0,(h.current.flags&128)===128)}catch{}if(A!==null){h=B.T,j=W.p,W.p=2,B.T=null;try{for(var F=c.onRecoverableError,Z=0;Z<A.length;Z++){var he=A[Z];F(he.value,{componentStack:he.stack})}}finally{B.T=h,W.p=j}}(_f&3)!==0&&Kb(),ol(c),j=c.pendingLanes,(g&4194090)!==0&&(j&42)!==0?c===U2?Sf++:(Sf=0,U2=c):Sf=0,og(0)}}function VE(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Tm(h)))}function Kb(c){return zE(),qE(),HE(),GE()}function GE(){if(Fi!==5)return!1;var c=cu,h=j2;j2=0;var g=On(_f),A=B.T,j=W.p;try{W.p=32>g?32:g,B.T=null,g=k2,k2=null;var F=cu,Z=_f;if(Fi=0,wf=cu=null,_f=0,(Hn&6)!==0)throw Error(r(331));var he=Hn;if(Hn|=4,jE(F.current),CE(F,F.current,Z,g),Hn=he,og(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Ae,F)}catch{}return!0}finally{W.p=j,B.T=A,VE(c,h)}}function XE(c,h,g){h=cs(g,h),h=Mb(c.stateNode,h,2),c=Vl(c,h,2),c!==null&&(fe(c,2),ol(c))}function ir(c,h,g){if(c.tag===3)XE(c,c,g);else for(;h!==null;){if(h.tag===3){XE(h,c,g);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(lu===null||!lu.has(A))){c=cs(g,c),g=g2(2),A=Vl(h,g,2),A!==null&&(hE(g,A,h,c),fe(A,2),ol(A));break}}h=h.return}}function L2(c,h,g){var A=c.pingCache;if(A===null){A=c.pingCache=new T2;var j=new Set;A.set(h,j)}else j=A.get(h),j===void 0&&(j=new Set,A.set(h,j));j.has(g)||(E2=!0,j.add(g),c=tU.bind(null,c,h,g),h.then(c,c))}function tU(c,h,g){var A=c.pingCache;A!==null&&A.delete(h),c.pingedLanes|=c.suspendedLanes&g,c.warmLanes&=~g,cr===c&&(_n&g)===g&&(Wr===4||Wr===3&&(_n&62914560)===_n&&300>ae()-R2?(Hn&2)===0&&Df(c,0):C2|=g,bf===_n&&(bf=0)),ol(c)}function YE(c,h){h===0&&(h=Ea()),c=od(c,h),c!==null&&(fe(c,h),ol(c))}function Zb(c){var h=c.memoizedState,g=0;h!==null&&(g=h.retryLane),YE(c,g)}function nU(c,h){var g=0;switch(c.tag){case 13:var A=c.stateNode,j=c.memoizedState;j!==null&&(g=j.retryLane);break;case 19:A=c.stateNode;break;case 22:A=c.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(h),YE(c,g)}function KE(c,h){return st(c,h)}var sg=null,du=null,Qb=!1,ag=!1,Jb=!1,hu=0;function ol(c){c!==du&&c.next===null&&(du===null?sg=du=c:du=du.next=c),ag=!0,Qb||(Qb=!0,I2())}function og(c,h){if(!Jb&&ag){Jb=!0;do for(var g=!1,A=sg;A!==null;){if(c!==0){var j=A.pendingLanes;if(j===0)var F=0;else{var Z=A.suspendedLanes,he=A.pingedLanes;F=(1<<31-at(42|c)+1)-1,F&=j&~(Z&~he),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(g=!0,QE(A,F))}else F=_n,F=gt(A,A===cr?F:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(F&3)===0||Et(A,F)||(g=!0,QE(A,F));A=A.next}while(g);Jb=!1}}function rU(){lg()}function lg(){ag=Qb=!1;var c=0;hu!==0&&(uU()&&(c=hu),hu=0);for(var h=ae(),g=null,A=sg;A!==null;){var j=A.next,F=cg(A,h);F===0?(A.next=null,g===null?sg=j:g.next=j,j===null&&(du=g)):(g=A,(c!==0||(F&3)!==0)&&(ag=!0)),A=j}og(c)}function cg(c,h){for(var g=c.suspendedLanes,A=c.pingedLanes,j=c.expirationTimes,F=c.pendingLanes&-62914561;0<F;){var Z=31-at(F),he=1<<Z,Se=j[Z];Se===-1?((he&g)===0||(he&A)!==0)&&(j[Z]=vn(he,h)):Se<=h&&(c.expiredLanes|=he),F&=~he}if(h=cr,g=_n,g=gt(c,c===h?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),A=c.callbackNode,g===0||c===h&&(Vn===2||Vn===9)||c.cancelPendingCommit!==null)return A!==null&&A!==null&&$(A),c.callbackNode=null,c.callbackPriority=0;if((g&3)===0||Et(c,g)){if(h=g&-g,h===c.callbackPriority)return h;switch(A!==null&&$(A),On(g)){case 2:case 8:g=ke;break;case 32:g=be;break;case 268435456:g=Q;break;default:g=be}return A=ZE.bind(null,c),g=st(g,A),c.callbackPriority=h,c.callbackNode=g,h}return A!==null&&A!==null&&$(A),c.callbackPriority=2,c.callbackNode=null,2}function ZE(c,h){if(Fi!==0&&Fi!==5)return c.callbackNode=null,c.callbackPriority=0,null;var g=c.callbackNode;if(Kb()&&c.callbackNode!==g)return null;var A=_n;return A=gt(c,c===cr?A:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),A===0?null:(ME(c,A,h),cg(c,ae()),c.callbackNode!=null&&c.callbackNode===g?ZE.bind(null,c):null)}function QE(c,h){if(Kb())return null;ME(c,h,!0)}function I2(){hU(function(){(Hn&6)!==0?st(ye,rU):lg()})}function ex(){return hu===0&&(hu=vr()),hu}function JE(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:dm(""+c)}function eC(c,h){var g=h.ownerDocument.createElement("input");return g.name=h.name,g.value=h.value,c.id&&g.setAttribute("form",c.id),h.parentNode.insertBefore(g,h),c=new FormData(c),g.parentNode.removeChild(g),c}function iU(c,h,g,A,j){if(h==="submit"&&g&&g.stateNode===j){var F=JE((j[Lr]||null).action),Z=A.submitter;Z&&(h=(h=Z[Lr]||null)?JE(h.formAction):Z.getAttribute("formAction"),h!==null&&(F=h,Z=null));var he=new Kv("action","action",null,A,j);c.push({event:he,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(hu!==0){var Se=Z?eC(j,Z):new FormData(j);Im(g,{pending:!0,data:Se,method:j.method,action:F},null,Se)}}else typeof F=="function"&&(he.preventDefault(),Se=Z?eC(j,Z):new FormData(j),Im(g,{pending:!0,data:Se,method:j.method,action:F},F,Se))},currentTarget:j}]})}}for(var $2=0;$2<Pn.length;$2++){var B2=Pn[$2],sU=B2.toLowerCase(),aU=B2[0].toUpperCase()+B2.slice(1);ho(sU,"on"+aU)}ho(lb,"onAnimationEnd"),ho(OT,"onAnimationIteration"),ho(ra,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(cb,"onTransitionRun"),ho(Wk,"onTransitionStart"),ho(Qh,"onTransitionCancel"),ho(gm,"onTransitionEnd"),Ih("onMouseEnter",["mouseout","mouseover"]),Ih("onMouseLeave",["mouseout","mouseover"]),Ih("onPointerEnter",["pointerout","pointerover"]),Ih("onPointerLeave",["pointerout","pointerover"]),rd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rd("onBeforeInput",["compositionend","keypress","textInput","paste"]),rd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ug="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ug));function tC(c,h){h=(h&4)!==0;for(var g=0;g<c.length;g++){var A=c[g],j=A.event;A=A.listeners;e:{var F=void 0;if(h)for(var Z=A.length-1;0<=Z;Z--){var he=A[Z],Se=he.instance,Ie=he.currentTarget;if(he=he.listener,Se!==F&&j.isPropagationStopped())break e;F=he,j.currentTarget=Ie;try{F(j)}catch(Qe){Dd(Qe)}j.currentTarget=null,F=Se}else for(Z=0;Z<A.length;Z++){if(he=A[Z],Se=he.instance,Ie=he.currentTarget,he=he.listener,Se!==F&&j.isPropagationStopped())break e;F=he,j.currentTarget=Ie;try{F(j)}catch(Qe){Dd(Qe)}j.currentTarget=null,F=Se}}}}function fn(c,h){var g=h[uo];g===void 0&&(g=h[uo]=new Set);var A=c+"__bubble";g.has(A)||(nC(h,c,2,!1),g.add(A))}function W2(c,h,g){var A=0;h&&(A|=4),nC(g,c,A,h)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function z2(c){if(!c[Ps]){c[Ps]=!0,oT.forEach(function(g){g!=="selectionchange"&&(oU.has(g)||W2(g,!1,c),W2(g,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Ps]||(h[Ps]=!0,W2("selectionchange",!1,h))}}function nC(c,h,g,A){switch(wC(h)){case 2:var j=AU;break;case 8:j=kf;break;default:j=J2}g=j.bind(null,h,g,c),j=void 0,!fm||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(j=!0),A?j!==void 0?c.addEventListener(h,g,{capture:!0,passive:j}):c.addEventListener(h,g,!0):j!==void 0?c.addEventListener(h,g,{passive:j}):c.addEventListener(h,g,!1)}function rc(c,h,g,A,j){var F=A;if((h&1)===0&&(h&2)===0&&A!==null)e:for(;;){if(A===null)return;var Z=A.tag;if(Z===3||Z===4){var he=A.stateNode.containerInfo;if(he===j)break;if(Z===4)for(Z=A.return;Z!==null;){var Se=Z.tag;if((Se===3||Se===4)&&Z.stateNode.containerInfo===j)return;Z=Z.return}for(;he!==null;){if(Z=Js(he),Z===null)return;if(Se=Z.tag,Se===5||Se===6||Se===26||Se===27){A=F=Z;continue e}he=he.parentNode}}A=A.return}fT(function(){var Ie=F,Qe=Dw(g),nt=[];e:{var We=ym.get(c);if(We!==void 0){var $e=Kv,Lt=c;switch(c){case"keypress":if(Kn(g)===0)break e;case"keydown":case"keyup":$e=Rw;break;case"focusin":Lt="focus",$e=Qv;break;case"focusout":Lt="blur",$e=Qv;break;case"beforeblur":case"afterblur":$e=Qv;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=Nw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=Uk;break;case lb:case OT:case ra:$e=vT;break;case gm:$e=Ok;break;case"scroll":case"scrollend":$e=Rk;break;case"wheel":$e=Pk;break;case"copy":case"cut":case"paste":$e=xT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Wl;break;case"toggle":case"beforetoggle":$e=eb}var Mt=(h&4)!==0,Qn=!Mt&&(c==="scroll"||c==="scrollend"),Ue=Mt?We!==null?We+"Capture":null:We;Mt=[];for(var Ne=Ie,Pe;Ne!==null;){var Je=Ne;if(Pe=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||Pe===null||Ue===null||(Je=hm(Ne,Ue),Je!=null&&Mt.push(Gt(Ne,Je,Pe))),Qn)break;Ne=Ne.return}0<Mt.length&&(We=new $e(We,Lt,null,g,Qe),nt.push({event:We,listeners:Mt}))}}if((h&7)===0){e:{if(We=c==="mouseover"||c==="pointerover",$e=c==="mouseout"||c==="pointerout",We&&g!==Xv&&(Lt=g.relatedTarget||g.fromElement)&&(Js(Lt)||Lt[Hi]))break e;if(($e||We)&&(We=Qe.window===Qe?Qe:(We=Qe.ownerDocument)?We.defaultView||We.parentWindow:window,$e?(Lt=g.relatedTarget||g.toElement,$e=Ie,Lt=Lt?Js(Lt):null,Lt!==null&&(Qn=s(Lt),Mt=Lt.tag,Lt!==Qn||Mt!==5&&Mt!==27&&Mt!==6)&&(Lt=null)):($e=null,Lt=Ie),$e!==Lt)){if(Mt=qc,Je="onMouseLeave",Ue="onMouseEnter",Ne="mouse",(c==="pointerout"||c==="pointerover")&&(Mt=Wl,Je="onPointerLeave",Ue="onPointerEnter",Ne="pointer"),Qn=$e==null?We:Fh($e),Pe=Lt==null?We:Fh(Lt),We=new Mt(Je,Ne+"leave",$e,g,Qe),We.target=Qn,We.relatedTarget=Pe,Je=null,Js(Qe)===Ie&&(Mt=new Mt(Ue,Ne+"enter",Lt,g,Qe),Mt.target=Pe,Mt.relatedTarget=Qn,Je=Mt),Qn=Je,$e&&Lt)t:{for(Mt=$e,Ue=Lt,Ne=0,Pe=Mt;Pe;Pe=pi(Pe))Ne++;for(Pe=0,Je=Ue;Je;Je=pi(Je))Pe++;for(;0<Ne-Pe;)Mt=pi(Mt),Ne--;for(;0<Pe-Ne;)Ue=pi(Ue),Pe--;for(;Ne--;){if(Mt===Ue||Ue!==null&&Mt===Ue.alternate)break t;Mt=pi(Mt),Ue=pi(Ue)}Mt=null}else Mt=null;$e!==null&&zr(nt,We,$e,Mt,!1),Lt!==null&&Qn!==null&&zr(nt,Qn,Lt,Mt,!0)}}e:{if(We=Ie?Fh(Ie):window,$e=We.nodeName&&We.nodeName.toLowerCase(),$e==="select"||$e==="input"&&We.type==="file")var xt=ET;else if(ib(We))if(CT)xt=Ik;else{xt=Gc;var ln=jT}else $e=We.nodeName,!$e||$e.toLowerCase()!=="input"||We.type!=="checkbox"&&We.type!=="radio"?Ie&&Sw(Ie.elementType)&&(xt=ET):xt=ob;if(xt&&(xt=xt(c,Ie))){Xh(nt,xt,g,Qe);break e}ln&&ln(c,We,Ie),c==="focusout"&&Ie&&We.type==="number"&&Ie.memoizedProps.value!=null&&um(We,"number",We.value)}switch(ln=Ie?Fh(Ie):window,c){case"focusin":(ib(ln)||ln.contentEditable==="true")&&(Zh=ln,Xc=Ie,je=null);break;case"focusout":je=Xc=Zh=null;break;case"mousedown":Ze=!0;break;case"contextmenu":case"mouseup":case"dragend":Ze=!1,Ve(nt,g,Qe);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":Ve(nt,g,Qe)}var Rt;if(Uw)e:{switch(c){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Hc?AT(c,g)&&(It="onCompositionEnd"):c==="keydown"&&g.keyCode===229&&(It="onCompositionStart");It&&(tb&&g.locale!=="ko"&&(Hc||It!=="onCompositionStart"?It==="onCompositionEnd"&&Hc&&(Rt=pT()):(zc=Qe,Ew="value"in zc?zc.value:zc.textContent,Hc=!0)),ln=tx(Ie,It),0<ln.length&&(It=new As(It,c,null,g,Qe),nt.push({event:It,listeners:ln}),Rt?It.data=Rt:(Rt=rb(g),Rt!==null&&(It.data=Rt)))),(Rt=DT?Fk(c,g):TT(c,g))&&(It=tx(Ie,"onBeforeInput"),0<It.length&&(ln=new As("onBeforeInput","beforeinput",null,g,Qe),nt.push({event:ln,listeners:It}),ln.data=Rt)),iU(nt,c,Ie,g,Qe)}tC(nt,h)})}function Gt(c,h,g){return{instance:c,listener:h,currentTarget:g}}function tx(c,h){for(var g=h+"Capture",A=[];c!==null;){var j=c,F=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||F===null||(j=hm(c,g),j!=null&&A.unshift(Gt(c,j,F)),j=hm(c,h),j!=null&&A.push(Gt(c,j,F))),c.tag===3)return A;c=c.return}return[]}function pi(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function zr(c,h,g,A,j){for(var F=h._reactName,Z=[];g!==null&&g!==A;){var he=g,Se=he.alternate,Ie=he.stateNode;if(he=he.tag,Se!==null&&Se===A)break;he!==5&&he!==26&&he!==27||Ie===null||(Se=Ie,j?(Ie=hm(g,F),Ie!=null&&Z.unshift(Gt(g,Ie,Se))):j||(Ie=hm(g,F),Ie!=null&&Z.push(Gt(g,Ie,Se)))),g=g.return}Z.length!==0&&c.push({event:h,listeners:Z})}var lU=/\r\n?/g,fu=/\u0000|\uFFFD/g;function rC(c){return(typeof c=="string"?c:""+c).replace(lU,`
`).replace(fu,"")}function iC(c,h){return h=rC(h),rC(c)===h}function nx(){}function Zn(c,h,g,A,j,F){switch(g){case"children":typeof A=="string"?h==="body"||h==="textarea"&&A===""||Wc(c,A):(typeof A=="number"||typeof A=="bigint")&&h!=="body"&&Wc(c,""+A);break;case"className":zv(c,"class",A);break;case"tabIndex":zv(c,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":zv(c,g,A);break;case"style":_w(c,A,F);break;case"data":if(h!=="object"){zv(c,"data",A);break}case"src":case"href":if(A===""&&(h!=="a"||g!=="href")){c.removeAttribute(g);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){c.removeAttribute(g);break}A=dm(""+A),c.setAttribute(g,A);break;case"action":case"formAction":if(typeof A=="function"){c.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(g==="formAction"?(h!=="input"&&Zn(c,h,"name",j.name,j,null),Zn(c,h,"formEncType",j.formEncType,j,null),Zn(c,h,"formMethod",j.formMethod,j,null),Zn(c,h,"formTarget",j.formTarget,j,null)):(Zn(c,h,"encType",j.encType,j,null),Zn(c,h,"method",j.method,j,null),Zn(c,h,"target",j.target,j,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){c.removeAttribute(g);break}A=dm(""+A),c.setAttribute(g,A);break;case"onClick":A!=null&&(c.onclick=nx);break;case"onScroll":A!=null&&fn("scroll",c);break;case"onScrollEnd":A!=null&&fn("scrollend",c);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(g=A.__html,g!=null){if(j.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"multiple":c.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":c.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){c.removeAttribute("xlink:href");break}g=dm(""+A),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?c.setAttribute(g,""+A):c.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?c.setAttribute(g,""):c.removeAttribute(g);break;case"capture":case"download":A===!0?c.setAttribute(g,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?c.setAttribute(g,A):c.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?c.setAttribute(g,A):c.removeAttribute(g);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?c.removeAttribute(g):c.setAttribute(g,A);break;case"popover":fn("beforetoggle",c),fn("toggle",c),Wv(c,"popover",A);break;case"xlinkActuate":Zo(c,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":Zo(c,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":Zo(c,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":Zo(c,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":Zo(c,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":Zo(c,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":Zo(c,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":Zo(c,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":Zo(c,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Wv(c,"is",A);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=dT.get(g)||g,Wv(c,g,A))}}function q2(c,h,g,A,j,F){switch(g){case"style":_w(c,A,F);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(g=A.__html,g!=null){if(j.children!=null)throw Error(r(60));c.innerHTML=g}}break;case"children":typeof A=="string"?Wc(c,A):(typeof A=="number"||typeof A=="bigint")&&Wc(c,""+A);break;case"onScroll":A!=null&&fn("scroll",c);break;case"onScrollEnd":A!=null&&fn("scrollend",c);break;case"onClick":A!=null&&(c.onclick=nx);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lT.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(j=g.endsWith("Capture"),h=g.slice(2,j?g.length-7:void 0),F=c[Lr]||null,F=F!=null?F[g]:null,typeof F=="function"&&c.removeEventListener(h,F,j),typeof A=="function")){typeof F!="function"&&F!==null&&(g in c?c[g]=null:c.hasAttribute(g)&&c.removeAttribute(g)),c.addEventListener(h,A,j);break e}g in c?c[g]=A:A===!0?c.setAttribute(g,""):Wv(c,g,A)}}}function mi(c,h,g){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fn("error",c),fn("load",c);var A=!1,j=!1,F;for(F in g)if(g.hasOwnProperty(F)){var Z=g[F];if(Z!=null)switch(F){case"src":A=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Zn(c,h,F,Z,g,null)}}j&&Zn(c,h,"srcSet",g.srcSet,g,null),A&&Zn(c,h,"src",g.src,g,null);return;case"input":fn("invalid",c);var he=F=Z=j=null,Se=null,Ie=null;for(A in g)if(g.hasOwnProperty(A)){var Qe=g[A];if(Qe!=null)switch(A){case"name":j=Qe;break;case"type":Z=Qe;break;case"checked":Se=Qe;break;case"defaultChecked":Ie=Qe;break;case"value":F=Qe;break;case"defaultValue":he=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,h));break;default:Zn(c,h,A,Qe,g,null)}}bw(c,F,he,Se,Ie,Z,j,!1),Hv(c);return;case"select":fn("invalid",c),A=Z=F=null;for(j in g)if(g.hasOwnProperty(j)&&(he=g[j],he!=null))switch(j){case"value":F=he;break;case"defaultValue":Z=he;break;case"multiple":A=he;default:Zn(c,h,j,he,g,null)}h=F,g=Z,c.multiple=!!A,h!=null?Bh(c,!!A,h,!1):g!=null&&Bh(c,!!A,g,!0);return;case"textarea":fn("invalid",c),F=j=A=null;for(Z in g)if(g.hasOwnProperty(Z)&&(he=g[Z],he!=null))switch(Z){case"value":A=he;break;case"defaultValue":j=he;break;case"children":F=he;break;case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(91));break;default:Zn(c,h,Z,he,g,null)}Gv(c,A,j,F),Hv(c);return;case"option":for(Se in g)if(g.hasOwnProperty(Se)&&(A=g[Se],A!=null))switch(Se){case"selected":c.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Zn(c,h,Se,A,g,null)}return;case"dialog":fn("beforetoggle",c),fn("toggle",c),fn("cancel",c),fn("close",c);break;case"iframe":case"object":fn("load",c);break;case"video":case"audio":for(A=0;A<ug.length;A++)fn(ug[A],c);break;case"image":fn("error",c),fn("load",c);break;case"details":fn("toggle",c);break;case"embed":case"source":case"link":fn("error",c),fn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in g)if(g.hasOwnProperty(Ie)&&(A=g[Ie],A!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Zn(c,h,Ie,A,g,null)}return;default:if(Sw(h)){for(Qe in g)g.hasOwnProperty(Qe)&&(A=g[Qe],A!==void 0&&q2(c,h,Qe,A,g,void 0));return}}for(he in g)g.hasOwnProperty(he)&&(A=g[he],A!=null&&Zn(c,h,he,A,g,null))}function cU(c,h,g,A){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,F=null,Z=null,he=null,Se=null,Ie=null,Qe=null;for($e in g){var nt=g[$e];if(g.hasOwnProperty($e)&&nt!=null)switch($e){case"checked":break;case"value":break;case"defaultValue":Se=nt;default:A.hasOwnProperty($e)||Zn(c,h,$e,null,A,nt)}}for(var We in A){var $e=A[We];if(nt=g[We],A.hasOwnProperty(We)&&($e!=null||nt!=null))switch(We){case"type":F=$e;break;case"name":j=$e;break;case"checked":Ie=$e;break;case"defaultChecked":Qe=$e;break;case"value":Z=$e;break;case"defaultValue":he=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,h));break;default:$e!==nt&&Zn(c,h,We,$e,A,nt)}}Vv(c,Z,he,Se,Ie,Qe,F,j);return;case"select":$e=Z=he=We=null;for(F in g)if(Se=g[F],g.hasOwnProperty(F)&&Se!=null)switch(F){case"value":break;case"multiple":$e=Se;default:A.hasOwnProperty(F)||Zn(c,h,F,null,A,Se)}for(j in A)if(F=A[j],Se=g[j],A.hasOwnProperty(j)&&(F!=null||Se!=null))switch(j){case"value":We=F;break;case"defaultValue":he=F;break;case"multiple":Z=F;default:F!==Se&&Zn(c,h,j,F,A,Se)}h=he,g=Z,A=$e,We!=null?Bh(c,!!g,We,!1):!!A!=!!g&&(h!=null?Bh(c,!!g,h,!0):Bh(c,!!g,g?[]:"",!1));return;case"textarea":$e=We=null;for(he in g)if(j=g[he],g.hasOwnProperty(he)&&j!=null&&!A.hasOwnProperty(he))switch(he){case"value":break;case"children":break;default:Zn(c,h,he,null,A,j)}for(Z in A)if(j=A[Z],F=g[Z],A.hasOwnProperty(Z)&&(j!=null||F!=null))switch(Z){case"value":We=j;break;case"defaultValue":$e=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:j!==F&&Zn(c,h,Z,j,A,F)}xw(c,We,$e);return;case"option":for(var Lt in g)if(We=g[Lt],g.hasOwnProperty(Lt)&&We!=null&&!A.hasOwnProperty(Lt))switch(Lt){case"selected":c.selected=!1;break;default:Zn(c,h,Lt,null,A,We)}for(Se in A)if(We=A[Se],$e=g[Se],A.hasOwnProperty(Se)&&We!==$e&&(We!=null||$e!=null))switch(Se){case"selected":c.selected=We&&typeof We!="function"&&typeof We!="symbol";break;default:Zn(c,h,Se,We,A,$e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Mt in g)We=g[Mt],g.hasOwnProperty(Mt)&&We!=null&&!A.hasOwnProperty(Mt)&&Zn(c,h,Mt,null,A,We);for(Ie in A)if(We=A[Ie],$e=g[Ie],A.hasOwnProperty(Ie)&&We!==$e&&(We!=null||$e!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,h));break;default:Zn(c,h,Ie,We,A,$e)}return;default:if(Sw(h)){for(var Qn in g)We=g[Qn],g.hasOwnProperty(Qn)&&We!==void 0&&!A.hasOwnProperty(Qn)&&q2(c,h,Qn,void 0,A,We);for(Qe in A)We=A[Qe],$e=g[Qe],!A.hasOwnProperty(Qe)||We===$e||We===void 0&&$e===void 0||q2(c,h,Qe,We,A,$e);return}}for(var Ue in g)We=g[Ue],g.hasOwnProperty(Ue)&&We!=null&&!A.hasOwnProperty(Ue)&&Zn(c,h,Ue,null,A,We);for(nt in A)We=A[nt],$e=g[nt],!A.hasOwnProperty(nt)||We===$e||We==null&&$e==null||Zn(c,h,nt,We,A,$e)}var bo=null,rx=null;function Cd(c){return c.nodeType===9?c:c.ownerDocument}function Sr(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rr(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function ix(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var H2=null;function uU(){var c=window.event;return c&&c.type==="popstate"?c===H2?!1:(H2=c,!0):(H2=null,!1)}var sC=typeof setTimeout=="function"?setTimeout:void 0,dU=typeof clearTimeout=="function"?clearTimeout:void 0,aC=typeof Promise=="function"?Promise:void 0,hU=typeof queueMicrotask=="function"?queueMicrotask:typeof aC<"u"?function(c){return aC.resolve(null).then(c).catch(oC)}:sC;function oC(c){setTimeout(function(){throw c})}function Wa(c){return c==="head"}function sx(c,h){var g=h,A=0,j=0;do{var F=g.nextSibling;if(c.removeChild(g),F&&F.nodeType===8)if(g=F.data,g==="/$"){if(0<A&&8>A){g=A;var Z=c.ownerDocument;if(g&1&&dg(Z.documentElement),g&2&&dg(Z.body),g&4)for(g=Z.head,dg(g),Z=g.firstChild;Z;){var he=Z.nextSibling,Se=Z.nodeName;Z[Ir]||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||g.removeChild(Z),Z=he}}if(j===0){c.removeChild(F),bg(h);return}j--}else g==="$"||g==="$?"||g==="$!"?j++:A=g.charCodeAt(0)-48;else A=0;g=F}while(g);bg(h)}function V2(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var g=h;switch(h=h.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":V2(g),Ph(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}c.removeChild(g)}}function lC(c,h,g,A){for(;c.nodeType===1;){var j=g;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!A&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(A){if(!c[Ir])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(F=c.getAttribute("rel"),F==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(F!==j.rel||c.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||c.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||c.getAttribute("title")!==(j.title==null?null:j.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(F=c.getAttribute("src"),(F!==(j.src==null?null:j.src)||c.getAttribute("type")!==(j.type==null?null:j.type)||c.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&F&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var F=j.name==null?null:""+j.name;if(j.type==="hidden"&&c.getAttribute("name")===F)return c}else return c;if(c=xo(c.nextSibling),c===null)break}return null}function ax(c,h,g){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!g||(c=xo(c.nextSibling),c===null))return null;return c}function ps(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function Tf(c,h){var g=c.ownerDocument;if(c.data!=="$?"||g.readyState==="complete")h();else{var A=function(){h(),g.removeEventListener("DOMContentLoaded",A)};g.addEventListener("DOMContentLoaded",A),c._reactRetry=A}}function xo(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return c}var G2=null;function cC(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var g=c.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return c;h--}else g==="/$"&&h++}c=c.previousSibling}return null}function uC(c,h,g){switch(h=Cd(g),c){case"html":if(c=h.documentElement,!c)throw Error(r(452));return c;case"head":if(c=h.head,!c)throw Error(r(453));return c;case"body":if(c=h.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function dg(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);Ph(c)}var ua=new Map,ll=new Set;function Yt(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var cl=W.d;W.d={f:za,r:dC,D:fU,C:hC,L:ox,m:pU,X:gU,S:mU,M:yU};function za(){var c=cl.f(),h=Xb();return c||h}function dC(c){var h=$l(c);h!==null&&h.tag===5&&h.type==="form"?jb(h):cl.r(c)}var Ef=typeof document>"u"?null:document;function Fn(c,h,g){var A=Ef;if(A&&typeof h=="string"&&h){var j=Na(h);j='link[rel="'+c+'"][href="'+j+'"]',typeof g=="string"&&(j+='[crossorigin="'+g+'"]'),ll.has(j)||(ll.add(j),c={rel:c,crossOrigin:g,href:h},A.querySelector(j)===null&&(h=A.createElement("link"),mi(h,"link",c),Ai(h),A.head.appendChild(h)))}}function fU(c){cl.D(c),Fn("dns-prefetch",c,null)}function hC(c,h){cl.C(c,h),Fn("preconnect",c,h)}function ox(c,h,g){cl.L(c,h,g);var A=Ef;if(A&&c&&h){var j='link[rel="preload"][as="'+Na(h)+'"]';h==="image"&&g&&g.imageSrcSet?(j+='[imagesrcset="'+Na(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(j+='[imagesizes="'+Na(g.imageSizes)+'"]')):j+='[href="'+Na(c)+'"]';var F=j;switch(h){case"style":F=Cf(c);break;case"script":F=Nf(c)}ua.has(F)||(c=f({rel:"preload",href:h==="image"&&g&&g.imageSrcSet?void 0:c,as:h},g),ua.set(F,c),A.querySelector(j)!==null||h==="style"&&A.querySelector(hg(F))||h==="script"&&A.querySelector(fg(F))||(h=A.createElement("link"),mi(h,"link",c),Ai(h),A.head.appendChild(h)))}}function pU(c,h){cl.m(c,h);var g=Ef;if(g&&c){var A=h&&typeof h.as=="string"?h.as:"script",j='link[rel="modulepreload"][as="'+Na(A)+'"][href="'+Na(c)+'"]',F=j;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Nf(c)}if(!ua.has(F)&&(c=f({rel:"modulepreload",href:c},h),ua.set(F,c),g.querySelector(j)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(fg(F)))return}A=g.createElement("link"),mi(A,"link",c),Ai(A),g.head.appendChild(A)}}}function mU(c,h,g){cl.S(c,h,g);var A=Ef;if(A&&c){var j=Lh(A).hoistableStyles,F=Cf(c);h=h||"default";var Z=j.get(F);if(!Z){var he={loading:0,preload:null};if(Z=A.querySelector(hg(F)))he.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":h},g),(g=ua.get(F))&&pg(c,g);var Se=Z=A.createElement("link");Ai(Se),mi(Se,"link",c),Se._p=new Promise(function(Ie,Qe){Se.onload=Ie,Se.onerror=Qe}),Se.addEventListener("load",function(){he.loading|=1}),Se.addEventListener("error",function(){he.loading|=2}),he.loading|=4,lx(Z,h,A)}Z={type:"stylesheet",instance:Z,count:1,state:he},j.set(F,Z)}}}function gU(c,h){cl.X(c,h);var g=Ef;if(g&&c){var A=Lh(g).hoistableScripts,j=Nf(c),F=A.get(j);F||(F=g.querySelector(fg(j)),F||(c=f({src:c,async:!0},h),(h=ua.get(j))&&X2(c,h),F=g.createElement("script"),Ai(F),mi(F,"link",c),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(j,F))}}function yU(c,h){cl.M(c,h);var g=Ef;if(g&&c){var A=Lh(g).hoistableScripts,j=Nf(c),F=A.get(j);F||(F=g.querySelector(fg(j)),F||(c=f({src:c,async:!0,type:"module"},h),(h=ua.get(j))&&X2(c,h),F=g.createElement("script"),Ai(F),mi(F,"link",c),g.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(j,F))}}function fC(c,h,g,A){var j=(j=Re.current)?Yt(j):null;if(!j)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(h=Cf(g.href),g=Lh(j).hoistableStyles,A=g.get(h),A||(A={type:"style",instance:null,count:0,state:null},g.set(h,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){c=Cf(g.href);var F=Lh(j).hoistableStyles,Z=F.get(c);if(Z||(j=j.ownerDocument||j,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(c,Z),(F=j.querySelector(hg(c)))&&!F._p&&(Z.instance=F,Z.state.loading=5),ua.has(c)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ua.set(c,g),F||vU(j,c,g,Z.state))),h&&A===null)throw Error(r(528,""));return Z}if(h&&A!==null)throw Error(r(529,""));return null;case"script":return h=g.async,g=g.src,typeof g=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Nf(g),g=Lh(j).hoistableScripts,A=g.get(h),A||(A={type:"script",instance:null,count:0,state:null},g.set(h,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function Cf(c){return'href="'+Na(c)+'"'}function hg(c){return'link[rel="stylesheet"]['+c+"]"}function pC(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function vU(c,h,g,A){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?A.loading=1:(h=c.createElement("link"),A.preload=h,h.addEventListener("load",function(){return A.loading|=1}),h.addEventListener("error",function(){return A.loading|=2}),mi(h,"link",g),Ai(h),c.head.appendChild(h))}function Nf(c){return'[src="'+Na(c)+'"]'}function fg(c){return"script[async]"+c}function mC(c,h,g){if(h.count++,h.instance===null)switch(h.type){case"style":var A=c.querySelector('style[data-href~="'+Na(g.href)+'"]');if(A)return h.instance=A,Ai(A),A;var j=f({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return A=(c.ownerDocument||c).createElement("style"),Ai(A),mi(A,"style",j),lx(A,g.precedence,c),h.instance=A;case"stylesheet":j=Cf(g.href);var F=c.querySelector(hg(j));if(F)return h.state.loading|=4,h.instance=F,Ai(F),F;A=pC(g),(j=ua.get(j))&&pg(A,j),F=(c.ownerDocument||c).createElement("link"),Ai(F);var Z=F;return Z._p=new Promise(function(he,Se){Z.onload=he,Z.onerror=Se}),mi(F,"link",A),h.state.loading|=4,lx(F,g.precedence,c),h.instance=F;case"script":return F=Nf(g.src),(j=c.querySelector(fg(F)))?(h.instance=j,Ai(j),j):(A=g,(j=ua.get(F))&&(A=f({},g),X2(A,j)),c=c.ownerDocument||c,j=c.createElement("script"),Ai(j),mi(j,"link",A),c.head.appendChild(j),h.instance=j);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(A=h.instance,h.state.loading|=4,lx(A,g.precedence,c));return h.instance}function lx(c,h,g){for(var A=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=A.length?A[A.length-1]:null,F=j,Z=0;Z<A.length;Z++){var he=A[Z];if(he.dataset.precedence===h)F=he;else if(F!==j)break}F?F.parentNode.insertBefore(c,F.nextSibling):(h=g.nodeType===9?g.head:g,h.insertBefore(c,h.firstChild))}function pg(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function X2(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var Rf=null;function gC(c,h,g){if(Rf===null){var A=new Map,j=Rf=new Map;j.set(g,A)}else j=Rf,A=j.get(g),A||(A=new Map,j.set(g,A));if(A.has(c))return A;for(A.set(c,null),g=g.getElementsByTagName(c),j=0;j<g.length;j++){var F=g[j];if(!(F[Ir]||F[Yn]||c==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=F.getAttribute(h)||"";Z=c+Z;var he=A.get(Z);he?he.push(F):A.set(Z,[F])}}return A}function yC(c,h,g){c=c.ownerDocument||c,c.head.insertBefore(g,h==="title"?c.querySelector("head > title"):null)}function bU(c,h,g){if(g===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function gi(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var Ci=null;function xU(){}function wU(c,h,g){if(Ci===null)throw Error(r(475));var A=Ci;if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var j=Cf(g.href),F=c.querySelector(hg(j));if(F){c=F._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(A.count++,A=mg.bind(A),c.then(A,A)),h.state.loading|=4,h.instance=F,Ai(F);return}F=c.ownerDocument||c,g=pC(g),(j=ua.get(j))&&pg(g,j),F=F.createElement("link"),Ai(F);var Z=F;Z._p=new Promise(function(he,Se){Z.onload=he,Z.onerror=Se}),mi(F,"link",g),h.instance=F}A.stylesheets===null&&(A.stylesheets=new Map),A.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(A.count++,h=mg.bind(A),c.addEventListener("load",h),c.addEventListener("error",h))}}function _U(){if(Ci===null)throw Error(r(475));var c=Ci;return c.stylesheets&&c.count===0&&Y2(c,c.stylesheets),0<c.count?function(h){var g=setTimeout(function(){if(c.stylesheets&&Y2(c,c.stylesheets),c.unsuspend){var A=c.unsuspend;c.unsuspend=null,A()}},6e4);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(g)}}:null}function mg(){if(this.count--,this.count===0){if(this.stylesheets)Y2(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var cx=null;function Y2(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,cx=new Map,h.forEach(SU,c),cx=null,mg.call(c))}function SU(c,h){if(!(h.state.loading&4)){var g=cx.get(c);if(g)var A=g.get(null);else{g=new Map,cx.set(c,g);for(var j=c.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<j.length;F++){var Z=j[F];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(g.set(Z.dataset.precedence,Z),A=Z)}A&&g.set(null,A)}j=h.instance,Z=j.getAttribute("data-precedence"),F=g.get(Z)||A,F===A&&g.set(null,j),g.set(Z,j),this.count++,A=mg.bind(this),j.addEventListener("load",A),j.addEventListener("error",A),F?F.parentNode.insertBefore(j,F.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(j,c.firstChild)),h.state.loading|=4}}var jf={$$typeof:E,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function DU(c,h,g,A,j,F,Z,he){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oe(0),this.hiddenUpdates=oe(null),this.identifierPrefix=A,this.onUncaughtError=j,this.onCaughtError=F,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function vC(c,h,g,A,j,F,Z,he,Se,Ie,Qe,nt){return c=new DU(c,h,g,Z,he,Se,Ie,nt),h=1,F===!0&&(h|=24),F=Ts(3,null,null,h),c.current=F,F.stateNode=c,h=zw(),h.refCount++,c.pooledCache=h,h.refCount++,F.memoizedState={element:A,isDehydrated:g,cache:h},md(F),c}function bC(c){return c?(c=ld,c):ld}function K2(c,h,g,A,j,F){j=bC(j),A.context===null?A.context=j:A.pendingContext=j,A=Qc(h),A.payload={element:g},F=F===void 0?null:F,F!==null&&(A.callback=F),g=Vl(c,A,h),g!==null&&(ca(g,c,h),Cm(g,c,h))}function Z2(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var g=c.retryLane;c.retryLane=g!==0&&g<h?g:h}}function Q2(c,h){Z2(c,h),(c=c.alternate)&&Z2(c,h)}function xC(c){if(c.tag===13){var h=od(c,67108864);h!==null&&ca(h,c,67108864),Q2(c,67108864)}}var ux=!0;function AU(c,h,g,A){var j=B.T;B.T=null;var F=W.p;try{W.p=2,J2(c,h,g,A)}finally{W.p=F,B.T=j}}function kf(c,h,g,A){var j=B.T;B.T=null;var F=W.p;try{W.p=8,J2(c,h,g,A)}finally{W.p=F,B.T=j}}function J2(c,h,g,A){if(ux){var j=e_(A);if(j===null)rc(c,h,A,dx,g),_C(c,A);else if(EU(j,c,h,g,A))A.stopPropagation();else if(_C(c,A),h&4&&-1<TU.indexOf(c)){for(;j!==null;){var F=$l(j);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var Z=Tt(F.pendingLanes);if(Z!==0){var he=F;for(he.pendingLanes|=2,he.entangledLanes|=2;Z;){var Se=1<<31-at(Z);he.entanglements[1]|=Se,Z&=~Se}ol(F),(Hn&6)===0&&(xf=ae()+500,og(0))}}break;case 13:he=od(F,2),he!==null&&ca(he,F,2),Xb(),Q2(F,2)}if(F=e_(A),F===null&&rc(c,h,A,dx,g),F===j)break;j=F}j!==null&&A.stopPropagation()}else rc(c,h,A,null,g)}}function e_(c){return c=Dw(c),t_(c)}var dx=null;function t_(c){if(dx=null,c=Js(c),c!==null){var h=s(c);if(h===null)c=null;else{var g=h.tag;if(g===13){if(c=a(h),c!==null)return c;c=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return dx=c,null}function wC(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ye:return 2;case ke:return 8;case be:case J:return 32;case Q:return 268435456;default:return 32}default:return 32}}var hx=!1,ic=null,pu=null,mu=null,gg=new Map,yg=new Map,gu=[],TU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _C(c,h){switch(c){case"focusin":case"focusout":ic=null;break;case"dragenter":case"dragleave":pu=null;break;case"mouseover":case"mouseout":mu=null;break;case"pointerover":case"pointerout":gg.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":yg.delete(h.pointerId)}}function vg(c,h,g,A,j,F){return c===null||c.nativeEvent!==F?(c={blockedOn:h,domEventName:g,eventSystemFlags:A,nativeEvent:F,targetContainers:[j]},h!==null&&(h=$l(h),h!==null&&xC(h)),c):(c.eventSystemFlags|=A,h=c.targetContainers,j!==null&&h.indexOf(j)===-1&&h.push(j),c)}function EU(c,h,g,A,j){switch(h){case"focusin":return ic=vg(ic,c,h,g,A,j),!0;case"dragenter":return pu=vg(pu,c,h,g,A,j),!0;case"mouseover":return mu=vg(mu,c,h,g,A,j),!0;case"pointerover":var F=j.pointerId;return gg.set(F,vg(gg.get(F)||null,c,h,g,A,j)),!0;case"gotpointercapture":return F=j.pointerId,yg.set(F,vg(yg.get(F)||null,c,h,g,A,j)),!0}return!1}function SC(c){var h=Js(c.target);if(h!==null){var g=s(h);if(g!==null){if(h=g.tag,h===13){if(h=a(g),h!==null){c.blockedOn=h,co(c.priority,function(){if(g.tag===13){var A=Yi();A=Ct(A);var j=od(g,A);j!==null&&ca(j,g,A),Q2(g,A)}});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){c.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}c.blockedOn=null}function fx(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var g=e_(c.nativeEvent);if(g===null){g=c.nativeEvent;var A=new g.constructor(g.type,g);Xv=A,g.target.dispatchEvent(A),Xv=null}else return h=$l(g),h!==null&&xC(h),c.blockedOn=g,!1;h.shift()}return!0}function DC(c,h,g){fx(c)&&g.delete(h)}function CU(){hx=!1,ic!==null&&fx(ic)&&(ic=null),pu!==null&&fx(pu)&&(pu=null),mu!==null&&fx(mu)&&(mu=null),gg.forEach(DC),yg.forEach(DC)}function px(c,h){c.blockedOn===h&&(c.blockedOn=null,hx||(hx=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CU)))}var mx=null;function AC(c){mx!==c&&(mx=c,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mx===c&&(mx=null);for(var h=0;h<c.length;h+=3){var g=c[h],A=c[h+1],j=c[h+2];if(typeof A!="function"){if(t_(A||g)===null)continue;break}var F=$l(g);F!==null&&(c.splice(h,3),h-=3,Im(F,{pending:!0,data:j,method:g.method,action:A},A,j))}}))}function bg(c){function h(Se){return px(Se,c)}ic!==null&&px(ic,c),pu!==null&&px(pu,c),mu!==null&&px(mu,c),gg.forEach(h),yg.forEach(h);for(var g=0;g<gu.length;g++){var A=gu[g];A.blockedOn===c&&(A.blockedOn=null)}for(;0<gu.length&&(g=gu[0],g.blockedOn===null);)SC(g),g.blockedOn===null&&gu.shift();if(g=(c.ownerDocument||c).$$reactFormReplay,g!=null)for(A=0;A<g.length;A+=3){var j=g[A],F=g[A+1],Z=j[Lr]||null;if(typeof F=="function")Z||AC(g);else if(Z){var he=null;if(F&&F.hasAttribute("formAction")){if(j=F,Z=F[Lr]||null)he=Z.formAction;else if(t_(j)!==null)continue}else he=Z.action;typeof he=="function"?g[A+1]=he:(g.splice(A,3),A-=3),AC(g)}}}function n_(c){this._internalRoot=c}gx.prototype.render=n_.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(r(409));var g=h.current,A=Yi();K2(g,A,c,h,null,null)},gx.prototype.unmount=n_.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;K2(c.current,2,null,c,null,null),Xb(),h[Hi]=null}};function gx(c){this._internalRoot=c}gx.prototype.unstable_scheduleHydration=function(c){if(c){var h=ii();c={blockedOn:null,target:c,priority:h};for(var g=0;g<gu.length&&h!==0&&h<gu[g].priority;g++);gu.splice(g,0,c),g===0&&SC(c)}};var TC=e.version;if(TC!=="19.1.0")throw Error(r(527,TC,"19.1.0"));W.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=l(h),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var NU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yx.isDisabled&&yx.supportsFiber)try{Ae=yx.inject(NU),Fe=yx}catch{}}return i_.createRoot=function(c,h){if(!i(c))throw Error(r(299));var g=!1,A="",j=m2,F=Ob,Z=dE,he=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(j=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(Z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(he=h.unstable_transitionCallbacks)),h=vC(c,1,!1,null,null,g,A,j,F,Z,he,null),c[Hi]=h.current,z2(c),new n_(h)},i_.hydrateRoot=function(c,h,g){if(!i(c))throw Error(r(299));var A=!1,j="",F=m2,Z=Ob,he=dE,Se=null,Ie=null;return g!=null&&(g.unstable_strictMode===!0&&(A=!0),g.identifierPrefix!==void 0&&(j=g.identifierPrefix),g.onUncaughtError!==void 0&&(F=g.onUncaughtError),g.onCaughtError!==void 0&&(Z=g.onCaughtError),g.onRecoverableError!==void 0&&(he=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Se=g.unstable_transitionCallbacks),g.formState!==void 0&&(Ie=g.formState)),h=vC(c,1,!0,h,g??null,A,j,F,Z,he,Se,Ie),h.context=bC(null),g=h.current,A=Yi(),A=Ct(A),j=Qc(A),j.callback=null,Vl(g,j,A),g=A,h.current.lanes=g,fe(h,g),ol(h),c[Hi]=h.current,z2(c),new gx(h)},i_.version="19.1.0",i_}var xI;function one(){if(xI)return PU.exports;xI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),PU.exports=ane(),PU.exports}var lne=one();const cne=kh(lne);var s_={},wI;function une(){if(wI)return s_;wI=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.parse=a,s_.serialize=u;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function a(m,y){const b=new s,x=m.length;if(x<2)return b;const w=(y==null?void 0:y.decode)||f;let S=0;do{const T=m.indexOf("=",S);if(T===-1)break;const E=m.indexOf(";",S),R=E===-1?x:E;if(T>R){S=m.lastIndexOf(";",T-1)+1;continue}const N=o(m,S,T),U=l(m,T,N),O=m.slice(N,U);if(b[O]===void 0){let M=o(m,T+1,R),P=l(m,R,M);const H=w(m.slice(M,P));b[O]=H}S=R+1}while(S<x);return b}function o(m,y,b){do{const x=m.charCodeAt(y);if(x!==32&&x!==9)return y}while(++y<b);return b}function l(m,y,b){for(;y>b;){const x=m.charCodeAt(--y);if(x!==32&&x!==9)return y+1}return b}function u(m,y,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(m))throw new TypeError(`argument name is invalid: ${m}`);const w=x(y);if(!e.test(w))throw new TypeError(`argument val is invalid: ${y}`);let S=m+"="+w;if(!b)return S;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);S+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);S+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);S+="; Path="+b.path}if(b.expires){if(!p(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);S+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(S+="; HttpOnly"),b.secure&&(S+="; Secure"),b.partitioned&&(S+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return S}function f(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function p(m){return i.call(m)==="[object Date]"}return s_}une();var _I="popstate";function dne(n={}){function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return aP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:hS(i)}return fne(e,t,null,n)}function Xr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ml(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hne(){return Math.random().toString(36).substring(2,10)}function SI(n,e){return{usr:n.state,key:n.key,idx:e}}function aP(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?z1(e):e,state:t,key:e&&e.key||r||hne()}}function hS({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function z1(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function fne(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,u=f();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function f(){return(a.state||{idx:null}).idx}function p(){o="POP";let w=f(),S=w==null?null:w-u;u=w,l&&l({action:o,location:x.location,delta:S})}function m(w,S){o="PUSH";let T=aP(x.location,w,S);u=f()+1;let E=SI(T,u),R=x.createHref(T);try{a.pushState(E,"",R)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(R)}s&&l&&l({action:o,location:x.location,delta:1})}function y(w,S){o="REPLACE";let T=aP(x.location,w,S);u=f();let E=SI(T,u),R=x.createHref(T);a.replaceState(E,"",R),s&&l&&l({action:o,location:x.location,delta:0})}function b(w){return pne(w)}let x={get action(){return o},get location(){return n(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_I,p),l=w,()=>{i.removeEventListener(_I,p),l=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let S=b(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:y,go(w){return a.go(w)}};return x}function pne(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Xr(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:hS(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Cz(n,e,t="/"){return mne(n,e,t,!1)}function mne(n,e,t,r){let i=typeof e=="string"?z1(e):e,s=Sh(i.pathname||"/",t);if(s==null)return null;let a=Nz(n);gne(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Ene(s);o=Ane(a[l],u,r)}return o}function Nz(n,e=[],t=[],r=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Xr(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=mh([r,l.relativePath]),f=t.concat(l);s.children&&s.children.length>0&&(Xr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),Nz(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Sne(u,s.index),routesMeta:f})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Rz(s.path))i(s,a,l)}),e}function Rz(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Rz(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function gne(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Dne(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var yne=/^:[\w-]+$/,vne=3,bne=2,xne=1,wne=10,_ne=-2,DI=n=>n==="*";function Sne(n,e){let t=n.split("/"),r=t.length;return t.some(DI)&&(r+=_ne),e&&(r+=bne),t.filter(i=>!DI(i)).reduce((i,s)=>i+(yne.test(s)?vne:s===""?xne:wne),r)}function Dne(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Ane(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=wR({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),m=l.route;if(!p&&u&&t&&!r[r.length-1].route.index&&(p=wR({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:mh([s,p.pathname]),pathnameBase:jne(mh([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=mh([s,p.pathnameBase]))}return a}function wR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Tne(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,{paramName:f,isOptional:p},m)=>{if(f==="*"){let b=o[m]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[m];return p&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Tne(n,e=!1,t=!0){Ml(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ene(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ml(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Sh(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Cne(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?z1(n):n;return{pathname:t?t.startsWith("/")?t:Nne(t,e):e,search:kne(r),hash:Une(i)}}function Nne(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function $U(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rne(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qF(n){let e=Rne(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function HF(n,e,t,r=!1){let i;typeof n=="string"?i=z1(n):(i={...n},Xr(!i.pathname||!i.pathname.includes("?"),$U("?","pathname","search",i)),Xr(!i.pathname||!i.pathname.includes("#"),$U("#","pathname","hash",i)),Xr(!i.search||!i.search.includes("#"),$U("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let p=e.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=Cne(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}var mh=n=>n.join("/").replace(/\/\/+/g,"/"),jne=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),kne=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Une=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function One(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var jz=["POST","PUT","PATCH","DELETE"];new Set(jz);var Mne=["GET",...jz];new Set(Mne);var q1=C.createContext(null);q1.displayName="DataRouter";var kj=C.createContext(null);kj.displayName="DataRouterState";var kz=C.createContext({isTransitioning:!1});kz.displayName="ViewTransition";var Pne=C.createContext(new Map);Pne.displayName="Fetchers";var Fne=C.createContext(null);Fne.displayName="Await";var Lc=C.createContext(null);Lc.displayName="Navigation";var yA=C.createContext(null);yA.displayName="Location";var Ic=C.createContext({outlet:null,matches:[],isDataRoute:!1});Ic.displayName="Route";var VF=C.createContext(null);VF.displayName="RouteError";function Lne(n,{relative:e}={}){Xr(H1(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=C.useContext(Lc),{hash:i,pathname:s,search:a}=vA(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:mh([t,s])),r.createHref({pathname:o,search:a,hash:i})}function H1(){return C.useContext(yA)!=null}function Ju(){return Xr(H1(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(yA).location}var Uz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Oz(n){C.useContext(Lc).static||C.useLayoutEffect(n)}function Fr(){let{isDataRoute:n}=C.useContext(Ic);return n?Zne():Ine()}function Ine(){Xr(H1(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(q1),{basename:e,navigator:t}=C.useContext(Lc),{matches:r}=C.useContext(Ic),{pathname:i}=Ju(),s=JSON.stringify(qF(r)),a=C.useRef(!1);return Oz(()=>{a.current=!0}),C.useCallback((l,u={})=>{if(Ml(a.current,Uz),!a.current)return;if(typeof l=="number"){t.go(l);return}let f=HF(l,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:mh([e,f.pathname])),(u.replace?t.replace:t.push)(f,u.state,u)},[e,t,s,i,n])}C.createContext(null);function V1(){let{matches:n}=C.useContext(Ic),e=n[n.length-1];return e?e.params:{}}function vA(n,{relative:e}={}){let{matches:t}=C.useContext(Ic),{pathname:r}=Ju(),i=JSON.stringify(qF(t));return C.useMemo(()=>HF(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function $ne(n,e){return Mz(n,e)}function Mz(n,e,t,r){var T;Xr(H1(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=C.useContext(Lc),{matches:a}=C.useContext(Ic),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let E=p&&p.path||"";Pz(u,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let m=Ju(),y;if(e){let E=typeof e=="string"?z1(e):e;Xr(f==="/"||((T=E.pathname)==null?void 0:T.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=m;let b=y.pathname||"/",x=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=!s&&t&&t.matches&&t.matches.length>0?t.matches:Cz(n,{pathname:x});Ml(p||w!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ml(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=Hne(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:mh([f,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:mh([f,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,t,r);return e&&S?C.createElement(yA.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},S):S}function Bne(){let n=Kne(),e=One(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=C.createElement(C.Fragment,null,C.createElement("p",null,"💿 Hey developer 👋"),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:i},t):null,a)}var Wne=C.createElement(Bne,null),zne=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?C.createElement(Ic.Provider,{value:this.props.routeContext},C.createElement(VF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qne({routeContext:n,match:e,children:t}){let r=C.useContext(q1);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(Ic.Provider,{value:n},t)}function Hne(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);Xr(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(t)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:f,errors:p}=t,m=u.route.loader&&!f.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||m){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,u,f)=>{let p,m=!1,y=null,b=null;t&&(p=s&&u.route.id?s[u.route.id]:void 0,y=u.route.errorElement||Wne,a&&(o<0&&f===0?(Pz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):o===f&&(m=!0,b=u.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,f+1)),w=()=>{let S;return p?S=y:m?S=b:u.route.Component?S=C.createElement(u.route.Component,null):u.route.element?S=u.route.element:S=l,C.createElement(qne,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:t!=null},children:S})};return t&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?C.createElement(zne,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}function GF(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vne(n){let e=C.useContext(q1);return Xr(e,GF(n)),e}function Gne(n){let e=C.useContext(kj);return Xr(e,GF(n)),e}function Xne(n){let e=C.useContext(Ic);return Xr(e,GF(n)),e}function XF(n){let e=Xne(n),t=e.matches[e.matches.length-1];return Xr(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Yne(){return XF("useRouteId")}function Kne(){var r;let n=C.useContext(VF),e=Gne("useRouteError"),t=XF("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Zne(){let{router:n}=Vne("useNavigate"),e=XF("useNavigate"),t=C.useRef(!1);return Oz(()=>{t.current=!0}),C.useCallback(async(i,s={})=>{Ml(t.current,Uz),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var AI={};function Pz(n,e,t){!e&&!AI[n]&&(AI[n]=!0,Ml(!1,t))}C.memo(Qne);function Qne({routes:n,future:e,state:t}){return Mz(n,void 0,t,e)}function Fz({to:n,replace:e,state:t,relative:r}){Xr(H1(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=C.useContext(Lc);Ml(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(Ic),{pathname:a}=Ju(),o=Fr(),l=HF(n,qF(s),a,r==="path"),u=JSON.stringify(l);return C.useEffect(()=>{o(JSON.parse(u),{replace:e,state:t,relative:r})},[o,u,r,e,t]),null}function ji(n){Xr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jne({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Xr(!H1(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),o=C.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=z1(t));let{pathname:l="/",search:u="",hash:f="",state:p=null,key:m="default"}=t,y=C.useMemo(()=>{let b=Sh(l,a);return b==null?null:{location:{pathname:b,search:u,hash:f,state:p,key:m},navigationType:r}},[a,l,u,f,p,m,r]);return Ml(y!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:C.createElement(Lc.Provider,{value:o},C.createElement(yA.Provider,{children:e,value:y}))}function TI({children:n,location:e}){return $ne(oP(n),e)}function oP(n,e=[]){let t=[];return C.Children.forEach(n,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){t.push.apply(t,oP(r.props.children,s));return}Xr(r.type===ji,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=oP(r.props.children,s)),t.push(a)}),t}var fN="get",pN="application/x-www-form-urlencoded";function Uj(n){return n!=null&&typeof n.tagName=="string"}function ere(n){return Uj(n)&&n.tagName.toLowerCase()==="button"}function tre(n){return Uj(n)&&n.tagName.toLowerCase()==="form"}function nre(n){return Uj(n)&&n.tagName.toLowerCase()==="input"}function rre(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function ire(n,e){return n.button===0&&(!e||e==="_self")&&!rre(n)}function lP(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function sre(n,e){let t=lP(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var EC=null;function are(){if(EC===null)try{new FormData(document.createElement("form"),0),EC=!1}catch{EC=!0}return EC}var ore=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function BU(n){return n!=null&&!ore.has(n)?(Ml(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pN}"`),null):n}function lre(n,e){let t,r,i,s,a;if(tre(n)){let o=n.getAttribute("action");r=o?Sh(o,e):null,t=n.getAttribute("method")||fN,i=BU(n.getAttribute("enctype"))||pN,s=new FormData(n)}else if(ere(n)||nre(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(r=l?Sh(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||fN,i=BU(n.getAttribute("formenctype"))||BU(o.getAttribute("enctype"))||pN,s=new FormData(o,n),!are()){let{name:u,type:f,value:p}=n;if(f==="image"){let m=u?`${u}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else u&&s.append(u,p)}}else{if(Uj(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fN,r=null,i=pN,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}function YF(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function cre(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ure(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function dre(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await cre(s,t);return a.links?a.links():[]}return[]}));return mre(r.flat(1).filter(ure).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function EI(n,e,t,r,i,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>{var f;return t[u].pathname!==l.pathname||((f=t[u].route.path)==null?void 0:f.endsWith("*"))&&t[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{var p;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let m=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=t[0])==null?void 0:p.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function hre(n,e,{includeHydrateFallback:t}={}){return fre(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function fre(n){return[...new Set(n)]}function pre(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function mre(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(pre(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var gre=new Set([100,101,204,205]);function yre(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Sh(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Lz(){let n=C.useContext(q1);return YF(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vre(){let n=C.useContext(kj);return YF(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var KF=C.createContext(void 0);KF.displayName="FrameworkContext";function Iz(){let n=C.useContext(KF);return YF(n,"You must render this element inside a <HydratedRouter> element"),n}function bre(n,e){let t=C.useContext(KF),[r,i]=C.useState(!1),[s,a]=C.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:f,onTouchStart:p}=e,m=C.useRef(null);C.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let x=S=>{S.forEach(T=>{a(T.isIntersecting)})},w=new IntersectionObserver(x,{threshold:.5});return m.current&&w.observe(m.current),()=>{w.disconnect()}}},[n]),C.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,m,{}]:[s,m,{onFocus:a_(o,y),onBlur:a_(l,b),onMouseEnter:a_(u,y),onMouseLeave:a_(f,b),onTouchStart:a_(p,y)}]:[!1,m,{}]}function a_(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function xre({page:n,...e}){let{router:t}=Lz(),r=C.useMemo(()=>Cz(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?C.createElement(_re,{page:n,matches:r,...e}):null}function wre(n){let{manifest:e,routeModules:t}=Iz(),[r,i]=C.useState([]);return C.useEffect(()=>{let s=!1;return dre(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function _re({page:n,matches:e,...t}){let r=Ju(),{manifest:i,routeModules:s}=Iz(),{basename:a}=Lz(),{loaderData:o,matches:l}=vre(),u=C.useMemo(()=>EI(n,e,l,i,r,"data"),[n,e,l,i,r]),f=C.useMemo(()=>EI(n,e,l,i,r,"assets"),[n,e,l,i,r]),p=C.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(e.forEach(S=>{var E;let T=i.routes[S.route.id];!T||!T.hasLoader||(!u.some(R=>R.route.id===S.route.id)&&S.route.id in o&&((E=s[S.route.id])!=null&&E.shouldRevalidate)||T.hasClientLoader?x=!0:b.add(S.route.id))}),b.size===0)return[];let w=yre(n,a);return x&&b.size>0&&w.searchParams.set("_routes",e.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[w.pathname+w.search]},[a,o,r,i,u,e,n,s]),m=C.useMemo(()=>hre(f,i),[f,i]),y=wre(f);return C.createElement(C.Fragment,null,p.map(b=>C.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),m.map(b=>C.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:x})=>C.createElement("link",{key:b,...x})))}function Sre(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$z&&(window.__reactRouterVersion="7.6.0")}catch{}function Dre({basename:n,children:e,window:t}){let r=C.useRef();r.current==null&&(r.current=dne({window:t,v5Compat:!0}));let i=r.current,[s,a]=C.useState({action:i.action,location:i.location}),o=C.useCallback(l=>{C.startTransition(()=>a(l))},[a]);return C.useLayoutEffect(()=>i.listen(o),[i,o]),C.createElement(Jne,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var Bz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=C.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:f,viewTransition:p,...m},y){let{basename:b}=C.useContext(Lc),x=typeof u=="string"&&Bz.test(u),w,S=!1;if(typeof u=="string"&&x&&(w=u,$z))try{let P=new URL(window.location.href),H=u.startsWith("//")?new URL(P.protocol+u):new URL(u),X=Sh(H.pathname,b);H.origin===P.origin&&X!=null?u=X+H.search+H.hash:S=!0}catch{Ml(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=Lne(u,{relative:i}),[E,R,N]=bre(r,m),U=Cre(u,{replace:a,state:o,target:l,preventScrollReset:f,relative:i,viewTransition:p});function O(P){e&&e(P),P.defaultPrevented||U(P)}let M=C.createElement("a",{...m,...N,href:w||T,onClick:S||s?e:O,ref:Sre(y,R),target:l,"data-discover":!x&&t==="render"?"true":void 0});return E&&!x?C.createElement(C.Fragment,null,M,C.createElement(xre,{page:T})):M});ui.displayName="Link";var Are=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},f){let p=vA(a,{relative:u.relative}),m=Ju(),y=C.useContext(kj),{navigator:b,basename:x}=C.useContext(Lc),w=y!=null&&Ure(p)&&o===!0,S=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,T=m.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&x&&(E=Sh(E,x)||E);const R=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let N=T===S||!i&&T.startsWith(S)&&T.charAt(R)==="/",U=E!=null&&(E===S||!i&&E.startsWith(S)&&E.charAt(S.length)==="/"),O={isActive:N,isPending:U,isTransitioning:w},M=N?e:void 0,P;typeof r=="function"?P=r(O):P=[r,N?"active":null,U?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(O):s;return C.createElement(ui,{...u,"aria-current":M,className:P,ref:f,style:H,to:a,viewTransition:o},typeof l=="function"?l(O):l)});Are.displayName="NavLink";var Tre=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=fN,action:o,onSubmit:l,relative:u,preventScrollReset:f,viewTransition:p,...m},y)=>{let b=jre(),x=kre(o,{relative:u}),w=a.toLowerCase()==="get"?"get":"post",S=typeof o=="string"&&Bz.test(o),T=E=>{if(l&&l(E),E.defaultPrevented)return;E.preventDefault();let R=E.nativeEvent.submitter,N=(R==null?void 0:R.getAttribute("formmethod"))||a;b(R||E.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:i,state:s,relative:u,preventScrollReset:f,viewTransition:p})};return C.createElement("form",{ref:y,method:w,action:x,onSubmit:r?l:T,...m,"data-discover":!S&&n==="render"?"true":void 0})});Tre.displayName="Form";function Ere(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wz(n){let e=C.useContext(q1);return Xr(e,Ere(n)),e}function Cre(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=Fr(),l=Ju(),u=vA(n,{relative:s});return C.useCallback(f=>{if(ire(f,e)){f.preventDefault();let p=t!==void 0?t:hS(l)===hS(u);o(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,u,t,r,e,n,i,s,a])}function ZF(n){Ml(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=C.useRef(lP(n)),t=C.useRef(!1),r=Ju(),i=C.useMemo(()=>sre(r.search,t.current?null:e.current),[r.search]),s=Fr(),a=C.useCallback((o,l)=>{const u=lP(typeof o=="function"?o(i):o);t.current=!0,s("?"+u,l)},[s,i]);return[i,a]}var Nre=0,Rre=()=>`__${String(++Nre)}__`;function jre(){let{router:n}=Wz("useSubmit"),{basename:e}=C.useContext(Lc),t=Yne();return C.useCallback(async(r,i={})=>{let{action:s,method:a,encType:o,formData:l,body:u}=lre(r,e);if(i.navigate===!1){let f=i.fetcherKey||Rre();await n.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function kre(n,{relative:e}={}){let{basename:t}=C.useContext(Lc),r=C.useContext(Ic);Xr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...vA(n||".",{relative:e})},a=Ju();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:mh([t,s.pathname])),hS(s)}function Ure(n,e={}){let t=C.useContext(kz);Xr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Wz("useViewTransitionState"),i=vA(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Sh(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Sh(t.nextLocation.pathname,r)||t.nextLocation.pathname;return wR(i.pathname,a)!=null||wR(i.pathname,s)!=null}[...gre];function cP(n,...e){let t=e[0];return n.split("/").map(r=>{const i=r.match(/^:([\w-]+)(\?)?/);if(!i)return r;const s=i[1],a=t?t[s]:void 0;if(i[2]===void 0&&a===void 0)throw Error(`Path '${n}' requires param '${s}' but it was not provided`);return a}).filter(r=>r!==void 0).join("/")}var bA=Ez();const Ore=kh(bA);function CI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function QF(...n){return e=>{let t=!1;const r=n.map(i=>{const s=CI(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():CI(n[i],null)}}}}function dn(...n){return C.useCallback(QF(...n),n)}function Mp(n){const e=Mre(n),t=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Fre);if(l){const u=l.props.children,f=o.map(p=>p===l?C.Children.count(u)>1?C.Children.only(null):C.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...a,ref:i,children:C.isValidElement(u)?C.cloneElement(u,void 0,f):null})}return d.jsx(e,{...a,ref:i,children:s})});return t.displayName=`${n}.Slot`,t}var G1=Mp("Slot");function Mre(n){const e=C.forwardRef((t,r)=>{const{children:i,...s}=t,a=C.isValidElement(i)?Ire(i):void 0,o=dn(a,r);if(C.isValidElement(i)){const l=Lre(s,i.props);return i.type!==C.Fragment&&(l.ref=o),C.cloneElement(i,l)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var zz=Symbol("radix.slottable");function Pre(n){const e=({children:t})=>d.jsx(d.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=zz,e}function Fre(n){return C.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===zz}function Lre(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}function Ire(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function qz(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=qz(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Hz(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=qz(n))&&(r&&(r+=" "),r+=e);return r}const NI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,RI=Hz,xA=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return RI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const f=t==null?void 0:t[u],p=s==null?void 0:s[u];if(f===null)return null;const m=NI(f)||NI(p);return i[u][m]}),o=t&&Object.entries(t).reduce((u,f)=>{let[p,m]=f;return m===void 0||(u[p]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:p,className:m,...y}=f;return Object.entries(y).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...s,...o}[x]):{...s,...o}[x]===w})?[...u,p,m]:u},[]);return RI(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vz=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...Bre,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Vz("lucide",i),...o},[...a.map(([u,f])=>C.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(n,e)=>{const t=C.forwardRef(({className:r,...i},s)=>C.createElement(Wre,{ref:s,iconNode:e,className:Vz(`lucide-${$re(n)}`,r),...i}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Gz=At("ArrowLeft",zre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["circle",{cx:"9",cy:"9",r:"7",key:"p2h5vp"}],["circle",{cx:"15",cy:"15",r:"7",key:"19ennj"}]],Hre=At("Blend",qre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jI=At("BookOpen",Vre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Xre=At("Book",Gre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Kre=At("Bookmark",Yre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],no=At("Check",Zre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JF=At("ChevronDown",Qre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Oj=At("ChevronLeft",Jre);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e4=At("ChevronRight",eie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wA=At("ChevronUp",tie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],rie=At("ChevronsLeft",nie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sie=At("CircleCheckBig",iie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oie=At("CircleHelp",aie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Xz=At("CircleMinus",lie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],uie=At("CircleUserRound",cie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hie=At("Circle",die);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],Yz=At("Clapperboard",fie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Kz=At("Copy",pie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],gie=At("Dices",mie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],_A=At("DoorOpen",yie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Mj=At("Ellipsis",vie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uP=At("EyeOff",bie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t4=At("Eye",xie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]],kI=At("Glasses",wie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],n4=At("Heart",_ie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zz=At("Image",Sie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],fS=At("Info",Die);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Tie=At("Library",Aie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],dP=At("Link2",Eie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yr=At("LoaderCircle",Cie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qz=At("Lock",Nie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],jie=At("LogOut",Rie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UI=At("MapPin",kie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Jz=At("Menu",Uie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],eq=At("MessageCircleMore",Oie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Pie=At("MessageCirclePlus",Mie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Lie=At("MessageCircle",Fie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],OI=At("Palette",Iie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Bie=At("PanelLeft",$ie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],X1=At("Pencil",Wie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Y1=At("Plus",zie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Hie=At("Quote",qie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],r4=At("RotateCw",Vie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],Xie=At("Scroll",Gie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],_R=At("Search",Yie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Zie=At("Send",Kie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jie=At("Settings",Qie);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}]],hP=At("Sparkle",ese);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Pj=At("Sparkles",tse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"M21 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6",key:"y09zxi"}],["path",{d:"m21 3-9 9",key:"mpx6sq"}],["path",{d:"M15 3h6v6",key:"1q9fwt"}]],WU=At("SquareArrowOutUpRight",nse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],tq=At("SquarePen",rse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"M18 21a6 6 0 0 0-12 0",key:"kaz2du"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],sse=At("SquareUserRound",ise);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]],ose=At("Stamp",ase);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],cse=At("ThumbsDown",lse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],dse=At("ThumbsUp",use);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],nq=At("Trash",hse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],i4=At("Upload",fse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M2 21a8 8 0 0 1 10.821-7.487",key:"1c8h7z"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}]],mse=At("UserRoundPen",pse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rq=At("User",gse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],vse=At("UsersRound",yse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fP=At("Users",bse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["path",{d:"M18 11c-1.5 0-2.5.5-3 2",key:"1fod00"}],["path",{d:"M4 6a2 2 0 0 0-2 2v4a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V8a2 2 0 0 0-2-2h-3a8 8 0 0 0-5 2 8 8 0 0 0-5-2z",key:"d70hit"}],["path",{d:"M6 11c1.5 0 2.5.5 3 2",key:"136fht"}]],s4=At("VenetianMask",xse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],_se=At("WandSparkles",wse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Go=At("X",Sse);/**
 * @license lucide-react v0.471.2 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],MI=At("Zap",Dse),zU=768;function Ase(){const[n,e]=C.useState(void 0);return C.useEffect(()=>{const t=window.matchMedia(`(max-width: ${zU-1}px)`),r=()=>{e(window.innerWidth<zU)};return t.addEventListener("change",r),e(window.innerWidth<zU),()=>t.removeEventListener("change",r)},[]),!!n}const a4="-",Tse=n=>{const e=Cse(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:a=>{const o=a.split(a4);return o[0]===""&&o.length!==1&&o.shift(),iq(o,e)||Ese(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},iq=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),i=r?iq(n.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=n.join(a4);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},PI=/^\[(.+)\]$/,Ese=n=>{if(PI.test(n)){const e=PI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},Cse=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return Rse(Object.entries(n.classGroups),t).forEach(([s,a])=>{pP(a,r,s,e)}),r},pP=(n,e,t,r)=>{n.forEach(i=>{if(typeof i=="string"){const s=i===""?e:FI(e,i);s.classGroupId=t;return}if(typeof i=="function"){if(Nse(i)){pP(i(r),e,t,r);return}e.validators.push({validator:i,classGroupId:t});return}Object.entries(i).forEach(([s,a])=>{pP(a,FI(e,s),t,r)})})},FI=(n,e)=>{let t=n;return e.split(a4).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Nse=n=>n.isThemeGetter,Rse=(n,e)=>e?n.map(([t,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[t,i]}):n,jse=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const i=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,r=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){t.has(s)?t.set(s,a):i(s,a)}}},sq="!",kse=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,f=0,p;for(let w=0;w<o.length;w++){let S=o[w];if(u===0){if(S===i&&(r||o.slice(w,w+s)===e)){l.push(o.slice(f,w)),f=w+s;continue}if(S==="/"){p=w;continue}}S==="["?u++:S==="]"&&u--}const m=l.length===0?o:o.substring(f),y=m.startsWith(sq),b=y?m.substring(1):m,x=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:x}};return t?o=>t({className:o,parseClassName:a}):a},Use=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},Ose=n=>({cache:jse(n.cacheSize),parseClassName:kse(n),...Tse(n)}),Mse=/\s+/,Pse=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=n.trim().split(Mse);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:y}=t(u);let b=!!y,x=r(b?m.substring(0,y):m);if(!x){if(!b){o=u+(o.length>0?" "+o:o);continue}if(x=r(m),!x){o=u+(o.length>0?" "+o:o);continue}b=!1}const w=Use(f).join(":"),S=p?w+sq:w,T=S+x;if(s.includes(T))continue;s.push(T);const E=i(x,b);for(let R=0;R<E.length;++R){const N=E[R];s.push(S+N)}o=u+(o.length>0?" "+o:o)}return o};function Fse(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=aq(e))&&(r&&(r+=" "),r+=t);return r}const aq=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=aq(n[r]))&&(t&&(t+=" "),t+=e);return t};function Lse(n,...e){let t,r,i,s=a;function a(l){const u=e.reduce((f,p)=>p(f),n());return t=Ose(u),r=t.cache.get,i=t.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const f=Pse(l,t);return i(l,f),f}return function(){return s(Fse.apply(null,arguments))}}const jr=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},oq=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ise=/^\d+\/\d+$/,$se=new Set(["px","full","screen"]),Bse=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wse=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zse=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qse=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Hse=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rd=n=>Zx(n)||$se.has(n)||Ise.test(n),Uf=n=>K1(n,"length",Jse),Zx=n=>!!n&&!Number.isNaN(Number(n)),qU=n=>K1(n,"number",Zx),o_=n=>!!n&&Number.isInteger(Number(n)),Vse=n=>n.endsWith("%")&&Zx(n.slice(0,-1)),nn=n=>oq.test(n),Of=n=>Bse.test(n),Gse=new Set(["length","size","percentage"]),Xse=n=>K1(n,Gse,lq),Yse=n=>K1(n,"position",lq),Kse=new Set(["image","url"]),Zse=n=>K1(n,Kse,tae),Qse=n=>K1(n,"",eae),l_=()=>!0,K1=(n,e,t)=>{const r=oq.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},Jse=n=>Wse.test(n)&&!zse.test(n),lq=()=>!1,eae=n=>qse.test(n),tae=n=>Hse.test(n),nae=()=>{const n=jr("colors"),e=jr("spacing"),t=jr("blur"),r=jr("brightness"),i=jr("borderColor"),s=jr("borderRadius"),a=jr("borderSpacing"),o=jr("borderWidth"),l=jr("contrast"),u=jr("grayscale"),f=jr("hueRotate"),p=jr("invert"),m=jr("gap"),y=jr("gradientColorStops"),b=jr("gradientColorStopPositions"),x=jr("inset"),w=jr("margin"),S=jr("opacity"),T=jr("padding"),E=jr("saturate"),R=jr("scale"),N=jr("sepia"),U=jr("skew"),O=jr("space"),M=jr("translate"),P=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",nn,e],I=()=>[nn,e],q=()=>["",Rd,Uf],L=()=>["auto",Zx,nn],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",nn],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Zx,nn];return{cacheSize:500,separator:":",theme:{colors:[l_],spacing:[Rd,Uf],blur:["none","",Of,nn],brightness:Y(),borderColor:[n],borderRadius:["none","","full",Of,nn],borderSpacing:I(),borderWidth:q(),contrast:Y(),grayscale:K(),hueRotate:Y(),invert:K(),gap:I(),gradientColorStops:[n],gradientColorStopPositions:[Vse,Uf],inset:X(),margin:X(),opacity:Y(),padding:I(),saturate:Y(),scale:Y(),sepia:K(),skew:Y(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",nn]}],container:["container"],columns:[{columns:[Of]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),nn]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",o_,nn]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nn]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",o_,nn]}],"grid-cols":[{"grid-cols":[l_]}],"col-start-end":[{col:["auto",{span:["full",o_,nn]},nn]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[l_]}],"row-start-end":[{row:["auto",{span:[o_,nn]},nn]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nn,e]}],"min-w":[{"min-w":[nn,e,"min","max","fit"]}],"max-w":[{"max-w":[nn,e,"none","full","min","max","fit","prose",{screen:[Of]},Of]}],h:[{h:[nn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Of,Uf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qU]}],"font-family":[{font:[l_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nn]}],"line-clamp":[{"line-clamp":["none",Zx,qU]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rd,nn]}],"list-image":[{"list-image":["none",nn]}],"list-style-type":[{list:["none","disc","decimal",nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rd,Uf]}],"underline-offset":[{"underline-offset":["auto",Rd,nn]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),Yse]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xse]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Zse]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Rd,nn]}],"outline-w":[{outline:[Rd,Uf]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Rd,Uf]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Of,Qse]}],"shadow-color":[{shadow:[l_]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Of,nn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[E]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nn]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",nn]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[o_,nn]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nn]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nn]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nn]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Rd,Uf,qU]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rae=Lse(nae);function ft(...n){return rae(Hz(n))}function mP(n){let e;if(typeof n=="string")e=new Date(n).getTime();else if(n&&typeof n=="object"&&"seconds"in n)e=n.seconds*1e3+(n.nanoseconds||0)/1e6;else return console.error("Invalid timestamp provided:",n),"";if(isNaN(e))return console.error("Invalid timestamp provided:",n),"";const t=Math.max(0,Math.floor((Date.now()-e)/1e3));if(t<60)return`${t}s`;const r=Math.floor(t/60);if(r<60)return`${r}m`;const i=Math.floor(r/60);if(i<24)return`${i}h`;const s=Math.floor(i/24);return s<365?`${s}d`:`${Math.floor(s/365)}y`}const kn=(n,e)=>n?n.length>e?n.slice(0,e):n:"",Or=n=>n?n<1e3?n.toString():n<1e6?`${(n/1e3).toFixed(n%1e3!==0?1:0)}k`:`${(n/1e6).toFixed(1)}mil`:0;function iae(n,e,t){const r=new Date;r.setTime(r.getTime()+t*24*60*60*1e3);const i="expires="+r.toUTCString();document.cookie=`${n}=${e};${i};path=/`}function Fl(n){const e=n+"=",r=decodeURIComponent(document.cookie).split(";");for(let i of r)if(i=i.trim(),i.indexOf(e)===0)return i.substring(e.length);return"automatic"}function Pt(n){if(n==="dark"||n==="light")return n;const e=Fl("theme");if(n==="automatic"||e==="automatic"){const r=new Date().getHours();return r>=18||r<6?"dark":"light"}return e}function jc(n){var i,s,a;if(!n)return!1;const e=new Date;let t=e.getFullYear()-((i=new Date(n))==null?void 0:i.getFullYear());const r=e.getMonth()-((s=new Date(n))==null?void 0:s.getMonth());return(r<0||r===0&&e.getDate()<((a=new Date(n))==null?void 0:a.getDate()))&&t--,t>=13&&t<=17}const dr=n=>n?n.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2):"",mr="https://persoa-backend-vx7j.onrender.com",_t="bg-[hsl(var(--background-light))]",LI="hover:bg-[hsl(var(--background-light))]",Bo="bg-[hsl(var(--background))]",Fj="hover:bg-[hsl(var(--background))]",Zt="bg-[hsl(var(--background-secondary))]",Dn="hover:bg-[hsl(var(--background-secondary))]",$t="bg-[hsl(var(--background-tertiary))]",wn="hover:bg-[hsl(var(--background-tertiary))]",Cr="bg-gradient-to-b from-[hsl(var(--background-light))] to-[hsl(var(--background))]",Yr="bg-gradient-to-b from-[hsl(var(--background))] to-[hsl(var(--background-secondary))]",sae="bg-gradient-to-b from-[hsl(var(--background-light))] to-[#ffe8f5]",Xe="text-[hsl(var(--text-light))]",Be="text-[hsl(var(--text-main))]",it="text-[hsl(var(--text-dark))]",CC="text-[#5ab873]",T1="text-[hsl(var(--text-magenta))]",ti="bg-[hsl(var(--button-primary-background))]",ni="hover:bg-[hsl(var(--button-primary-hover))]",ri="text-[hsl(var(--button-primary-text))]",cq=xA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:`${ti} ${ri} ${ni}`,destructive:"bg-destructive/30 text-destructive-foreground hover:bg-destructive/80",outline:`border border-input ${_t} ${Dn} hover:text-accent-foreground`,secondary:"bg-[hsl(var(--background-secondary))] text-[hsl(var(--text-main))] hover:bg-[hsl(var(--background-tertiary))]",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ct=C.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...i},s)=>{const a=r?G1:"button";return d.jsx(a,{className:ft(cq({variant:e,size:t,className:n})),ref:s,...i})});ct.displayName="Button";const lr=C.forwardRef(({className:n,type:e,...t},r)=>(C.useEffect(()=>{if(!document.getElementById("autofill-style")){const i=document.createElement("style");i.id="autofill-style",i.innerHTML=`
          input:-webkit-autofill,
          input:-webkit-autofill:focus,
          input:-webkit-autofill:hover {
            -webkit-box-shadow: 0 0 0px 100px transparent inset !important;
            box-shadow: 0 0 0px 100px transparent inset !important;
            -webkit-text-fill-color: hsl(var(--text-main)) !important;
            transition: background-color 5000s ease-in-out 0s !important;
          }
        `,document.head.appendChild(i)}},[]),d.jsx("input",{type:e,className:ft(`flex h-10 w-full bg-transparent ${Be} rounded-md border border-input px-3 py-2 ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-[hsl(var(--text-main))] placeholder:text-[hsl(var(--text-muted))] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,n),ref:r,...t})));lr.displayName="Input";var aae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ft=aae.reduce((n,e)=>{const t=Mp(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function uq(n,e){n&&bA.flushSync(()=>n.dispatchEvent(e))}var oae="Separator",II="horizontal",lae=["horizontal","vertical"],dq=C.forwardRef((n,e)=>{const{decorative:t,orientation:r=II,...i}=n,s=cae(r)?r:II,o=t?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return d.jsx(Ft.div,{"data-orientation":s,...o,...i,ref:e})});dq.displayName=oae;function cae(n){return lae.includes(n)}var hq=dq;const o4=C.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},i)=>d.jsx(hq,{ref:i,decorative:t,orientation:e,className:ft("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));o4.displayName=hq.displayName;function pt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function uae(n,e){const t=C.createContext(e),r=s=>{const{children:a,...o}=s,l=C.useMemo(()=>o,Object.values(o));return d.jsx(t.Provider,{value:l,children:a})};r.displayName=n+"Provider";function i(s){const a=C.useContext(t);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[r,i]}function Yo(n,e=[]){let t=[];function r(s,a){const o=C.createContext(a),l=t.length;t=[...t,a];const u=p=>{var S;const{scope:m,children:y,...b}=p,x=((S=m==null?void 0:m[n])==null?void 0:S[l])||o,w=C.useMemo(()=>b,Object.values(b));return d.jsx(x.Provider,{value:w,children:y})};u.displayName=s+"Provider";function f(p,m){var x;const y=((x=m==null?void 0:m[n])==null?void 0:x[l])||o,b=C.useContext(y);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=t.map(a=>C.createContext(a));return function(o){const l=(o==null?void 0:o[n])||s;return C.useMemo(()=>({[`__scope${n}`]:{...o,[n]:l}}),[o,l])}};return i.scopeName=n,[r,dae(i,...e)]}function dae(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const p=l(s)[`__scope${u}`];return{...o,...p}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return t.scopeName=e.scopeName,t}var Mi=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},hae=Tz[" useId ".trim().toString()]||(()=>{}),fae=0;function El(n){const[e,t]=C.useState(hae());return Mi(()=>{t(r=>r??String(fae++))},[n]),n||(e?`radix-${e}`:"")}var pae=Tz[" useInsertionEffect ".trim().toString()]||Mi;function Dh({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[i,s,a]=mae({defaultProp:e,onChange:t}),o=n!==void 0,l=o?n:i;{const f=C.useRef(n!==void 0);C.useEffect(()=>{const p=f.current;p!==o&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,r])}const u=C.useCallback(f=>{var p;if(o){const m=gae(f)?f(n):f;m!==n&&((p=a.current)==null||p.call(a,m))}else s(f)},[o,n,s,a]);return[l,u]}function mae({defaultProp:n,onChange:e}){const[t,r]=C.useState(n),i=C.useRef(t),s=C.useRef(e);return pae(()=>{s.current=e},[e]),C.useEffect(()=>{var a;i.current!==t&&((a=s.current)==null||a.call(s,t),i.current=t)},[t,i]),[t,r,s]}function gae(n){return typeof n=="function"}function as(n){const e=C.useRef(n);return C.useEffect(()=>{e.current=n}),C.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function yae(n,e=globalThis==null?void 0:globalThis.document){const t=as(n);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var vae="DismissableLayer",gP="dismissableLayer.update",bae="dismissableLayer.pointerDownOutside",xae="dismissableLayer.focusOutside",$I,fq=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Z1=C.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=n,u=C.useContext(fq),[f,p]=C.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=C.useState({}),b=dn(e,O=>p(O)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(w),T=f?x.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,R=T>=S,N=Sae(O=>{const M=O.target,P=[...u.branches].some(H=>H.contains(M));!R||P||(i==null||i(O),a==null||a(O),O.defaultPrevented||o==null||o())},m),U=Dae(O=>{const M=O.target;[...u.branches].some(H=>H.contains(M))||(s==null||s(O),a==null||a(O),O.defaultPrevented||o==null||o())},m);return yae(O=>{T===u.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&o&&(O.preventDefault(),o()))},m),C.useEffect(()=>{if(f)return t&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($I=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),BI(),()=>{t&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=$I)}},[f,m,t,u]),C.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),BI())},[f,u]),C.useEffect(()=>{const O=()=>y({});return document.addEventListener(gP,O),()=>document.removeEventListener(gP,O)},[]),d.jsx(Ft.div,{...l,ref:b,style:{pointerEvents:E?R?"auto":"none":void 0,...n.style},onFocusCapture:pt(n.onFocusCapture,U.onFocusCapture),onBlurCapture:pt(n.onBlurCapture,U.onBlurCapture),onPointerDownCapture:pt(n.onPointerDownCapture,N.onPointerDownCapture)})});Z1.displayName=vae;var wae="DismissableLayerBranch",_ae=C.forwardRef((n,e)=>{const t=C.useContext(fq),r=C.useRef(null),i=dn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),d.jsx(Ft.div,{...n,ref:i})});_ae.displayName=wae;function Sae(n,e=globalThis==null?void 0:globalThis.document){const t=as(n),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){pq(bae,t,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Dae(n,e=globalThis==null?void 0:globalThis.document){const t=as(n),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&pq(xae,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function BI(){const n=new CustomEvent(gP);document.dispatchEvent(n)}function pq(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?uq(i,s):i.dispatchEvent(s)}var HU="focusScope.autoFocusOnMount",VU="focusScope.autoFocusOnUnmount",WI={bubbles:!1,cancelable:!0},Aae="FocusScope",SA=C.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=n,[o,l]=C.useState(null),u=as(i),f=as(s),p=C.useRef(null),m=dn(e,x=>l(x)),y=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let x=function(E){if(y.paused||!o)return;const R=E.target;o.contains(R)?p.current=R:Lf(p.current,{select:!0})},w=function(E){if(y.paused||!o)return;const R=E.relatedTarget;R!==null&&(o.contains(R)||Lf(p.current,{select:!0}))},S=function(E){if(document.activeElement===document.body)for(const N of E)N.removedNodes.length>0&&Lf(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const T=new MutationObserver(S);return o&&T.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),T.disconnect()}}},[r,o,y.paused]),C.useEffect(()=>{if(o){qI.add(y);const x=document.activeElement;if(!o.contains(x)){const S=new CustomEvent(HU,WI);o.addEventListener(HU,u),o.dispatchEvent(S),S.defaultPrevented||(Tae(jae(mq(o)),{select:!0}),document.activeElement===x&&Lf(o))}return()=>{o.removeEventListener(HU,u),setTimeout(()=>{const S=new CustomEvent(VU,WI);o.addEventListener(VU,f),o.dispatchEvent(S),S.defaultPrevented||Lf(x??document.body,{select:!0}),o.removeEventListener(VU,f),qI.remove(y)},0)}}},[o,u,f,y]);const b=C.useCallback(x=>{if(!t&&!r||y.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(w&&S){const T=x.currentTarget,[E,R]=Eae(T);E&&R?!x.shiftKey&&S===R?(x.preventDefault(),t&&Lf(E,{select:!0})):x.shiftKey&&S===E&&(x.preventDefault(),t&&Lf(R,{select:!0})):S===T&&x.preventDefault()}},[t,r,y.paused]);return d.jsx(Ft.div,{tabIndex:-1,...a,ref:m,onKeyDown:b})});SA.displayName=Aae;function Tae(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Lf(r,{select:e}),document.activeElement!==t)return}function Eae(n){const e=mq(n),t=zI(e,n),r=zI(e.reverse(),n);return[t,r]}function mq(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function zI(n,e){for(const t of n)if(!Cae(t,{upTo:e}))return t}function Cae(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Nae(n){return n instanceof HTMLInputElement&&"select"in n}function Lf(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Nae(n)&&e&&n.select()}}var qI=Rae();function Rae(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=HI(n,e),n.unshift(e)},remove(e){var t;n=HI(n,e),(t=n[0])==null||t.resume()}}}function HI(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function jae(n){return n.filter(e=>e.tagName!=="A")}var kae="Portal",DA=C.forwardRef((n,e)=>{var o;const{container:t,...r}=n,[i,s]=C.useState(!1);Mi(()=>s(!0),[]);const a=t||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?Ore.createPortal(d.jsx(Ft.div,{...r,ref:e}),a):null});DA.displayName=kae;function Uae(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var Zs=n=>{const{present:e,children:t}=n,r=Oae(e),i=typeof t=="function"?t({present:r.isPresent}):C.Children.only(t),s=dn(r.ref,Mae(i));return typeof t=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Zs.displayName="Presence";function Oae(n){const[e,t]=C.useState(),r=C.useRef(null),i=C.useRef(n),s=C.useRef("none"),a=n?"mounted":"unmounted",[o,l]=Uae(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=NC(r.current);s.current=o==="mounted"?u:"none"},[o]),Mi(()=>{const u=r.current,f=i.current;if(f!==n){const m=s.current,y=NC(u);n?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Mi(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,p=y=>{const x=NC(r.current).includes(y.animationName);if(y.target===e&&x&&(l("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=y=>{y.target===e&&(s.current=NC(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(u=>{r.current=u?getComputedStyle(u):null,t(u)},[])}}function NC(n){return(n==null?void 0:n.animationName)||"none"}function Mae(n){var r,i;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var GU=0;function Lj(){C.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??VI()),document.body.insertAdjacentElement("beforeend",n[1]??VI()),GU++,()=>{GU===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),GU--}},[])}function VI(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var qu=function(){return qu=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},qu.apply(this,arguments)};function gq(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Pae(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var mN="right-scroll-bar-position",gN="width-before-scroll-bar",Fae="with-scroll-bars-hidden",Lae="--removed-body-scroll-bar-size";function XU(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function Iae(n,e){var t=C.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var i=t.value;i!==r&&(t.value=r,t.callback(r,i))}}}})[0];return t.callback=e,t.facade}var $ae=typeof window<"u"?C.useLayoutEffect:C.useEffect,GI=new WeakMap;function Bae(n,e){var t=Iae(null,function(r){return n.forEach(function(i){return XU(i,r)})});return $ae(function(){var r=GI.get(t);if(r){var i=new Set(r),s=new Set(n),a=t.current;i.forEach(function(o){s.has(o)||XU(o,null)}),s.forEach(function(o){i.has(o)||XU(o,a)})}GI.set(t,n)},[n]),t}function Wae(n){return n}function zae(n,e){e===void 0&&(e=Wae);var t=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var a=e(s,r);return t.push(a),function(){t=t.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;t.length;){var a=t;t=[],a.forEach(s)}t={push:function(o){return s(o)},filter:function(){return t}}},assignMedium:function(s){r=!0;var a=[];if(t.length){var o=t;t=[],o.forEach(s),a=t}var l=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),t={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),t}}}};return i}function qae(n){n===void 0&&(n={});var e=zae(null);return e.options=qu({async:!0,ssr:!1},n),e}var yq=function(n){var e=n.sideCar,t=gq(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,qu({},t))};yq.isSideCarExport=!0;function Hae(n,e){return n.useMedium(e),yq}var vq=qae(),YU=function(){},Ij=C.forwardRef(function(n,e){var t=C.useRef(null),r=C.useState({onScrollCapture:YU,onWheelCapture:YU,onTouchMoveCapture:YU}),i=r[0],s=r[1],a=n.forwardProps,o=n.children,l=n.className,u=n.removeScrollBar,f=n.enabled,p=n.shards,m=n.sideCar,y=n.noIsolation,b=n.inert,x=n.allowPinchZoom,w=n.as,S=w===void 0?"div":w,T=n.gapMode,E=gq(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=m,N=Bae([t,e]),U=qu(qu({},E),i);return C.createElement(C.Fragment,null,f&&C.createElement(R,{sideCar:vq,removeScrollBar:u,shards:p,noIsolation:y,inert:b,setCallbacks:s,allowPinchZoom:!!x,lockRef:t,gapMode:T}),a?C.cloneElement(C.Children.only(o),qu(qu({},U),{ref:N})):C.createElement(S,qu({},U,{className:l,ref:N}),o))});Ij.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ij.classNames={fullWidth:gN,zeroRight:mN};var Vae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Gae(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Vae();return e&&n.setAttribute("nonce",e),n}function Xae(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function Yae(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var Kae=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Gae())&&(Xae(e,t),Yae(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Zae=function(){var n=Kae();return function(e,t){C.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},bq=function(){var n=Zae(),e=function(t){var r=t.styles,i=t.dynamic;return n(r,i),null};return e},Qae={left:0,top:0,right:0,gap:0},KU=function(n){return parseInt(n||"",10)||0},Jae=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[KU(t),KU(r),KU(i)]},eoe=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return Qae;var e=Jae(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},toe=bq(),Qx="data-scroll-locked",noe=function(n,e,t,r){var i=n.left,s=n.top,a=n.right,o=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(Fae,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Qx,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mN,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(gN,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(mN," .").concat(mN,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gN," .").concat(gN,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qx,`] {
    `).concat(Lae,": ").concat(o,`px;
  }
`)},XI=function(){var n=parseInt(document.body.getAttribute(Qx)||"0",10);return isFinite(n)?n:0},roe=function(){C.useEffect(function(){return document.body.setAttribute(Qx,(XI()+1).toString()),function(){var n=XI()-1;n<=0?document.body.removeAttribute(Qx):document.body.setAttribute(Qx,n.toString())}},[])},ioe=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,i=r===void 0?"margin":r;roe();var s=C.useMemo(function(){return eoe(i)},[i]);return C.createElement(toe,{styles:noe(s,!e,i,t?"":"!important")})},yP=!1;if(typeof window<"u")try{var RC=Object.defineProperty({},"passive",{get:function(){return yP=!0,!0}});window.addEventListener("test",RC,RC),window.removeEventListener("test",RC,RC)}catch{yP=!1}var vx=yP?{passive:!1}:!1,soe=function(n){return n.tagName==="TEXTAREA"},xq=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!soe(n)&&t[e]==="visible")},aoe=function(n){return xq(n,"overflowY")},ooe=function(n){return xq(n,"overflowX")},YI=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wq(n,r);if(i){var s=_q(n,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},loe=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},coe=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},wq=function(n,e){return n==="v"?aoe(e):ooe(e)},_q=function(n,e){return n==="v"?loe(e):coe(e)},uoe=function(n,e){return n==="h"&&e==="rtl"?-1:1},doe=function(n,e,t,r,i){var s=uoe(n,window.getComputedStyle(e).direction),a=s*r,o=t.target,l=e.contains(o),u=!1,f=a>0,p=0,m=0;do{var y=_q(n,o),b=y[0],x=y[1],w=y[2],S=x-w-s*b;(b||S)&&wq(n,o)&&(p+=S,m+=b),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(f&&Math.abs(p)<1||!f&&Math.abs(m)<1)&&(u=!0),u},jC=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},KI=function(n){return[n.deltaX,n.deltaY]},ZI=function(n){return n&&"current"in n?n.current:n},hoe=function(n,e){return n[0]===e[0]&&n[1]===e[1]},foe=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},poe=0,bx=[];function moe(n){var e=C.useRef([]),t=C.useRef([0,0]),r=C.useRef(),i=C.useState(poe++)[0],s=C.useState(bq)[0],a=C.useRef(n);C.useEffect(function(){a.current=n},[n]),C.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Pae([n.lockRef.current],(n.shards||[]).map(ZI),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var o=C.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var S=jC(x),T=t.current,E="deltaX"in x?x.deltaX:T[0]-S[0],R="deltaY"in x?x.deltaY:T[1]-S[1],N,U=x.target,O=Math.abs(E)>Math.abs(R)?"h":"v";if("touches"in x&&O==="h"&&U.type==="range")return!1;var M=YI(O,U);if(!M)return!0;if(M?N=O:(N=O==="v"?"h":"v",M=YI(O,U)),!M)return!1;if(!r.current&&"changedTouches"in x&&(E||R)&&(r.current=N),!N)return!0;var P=r.current||N;return doe(P,w,x,P==="h"?E:R)},[]),l=C.useCallback(function(x){var w=x;if(!(!bx.length||bx[bx.length-1]!==s)){var S="deltaY"in w?KI(w):jC(w),T=e.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&hoe(N.delta,S)})[0];if(T&&T.should){w.cancelable&&w.preventDefault();return}if(!T){var E=(a.current.shards||[]).map(ZI).filter(Boolean).filter(function(N){return N.contains(w.target)}),R=E.length>0?o(w,E[0]):!a.current.noIsolation;R&&w.cancelable&&w.preventDefault()}}},[]),u=C.useCallback(function(x,w,S,T){var E={name:x,delta:w,target:S,should:T,shadowParent:goe(S)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(R){return R!==E})},1)},[]),f=C.useCallback(function(x){t.current=jC(x),r.current=void 0},[]),p=C.useCallback(function(x){u(x.type,KI(x),x.target,o(x,n.lockRef.current))},[]),m=C.useCallback(function(x){u(x.type,jC(x),x.target,o(x,n.lockRef.current))},[]);C.useEffect(function(){return bx.push(s),n.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,vx),document.addEventListener("touchmove",l,vx),document.addEventListener("touchstart",f,vx),function(){bx=bx.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,vx),document.removeEventListener("touchmove",l,vx),document.removeEventListener("touchstart",f,vx)}},[]);var y=n.removeScrollBar,b=n.inert;return C.createElement(C.Fragment,null,b?C.createElement(s,{styles:foe(i)}):null,y?C.createElement(ioe,{gapMode:n.gapMode}):null)}function goe(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const yoe=Hae(vq,moe);var AA=C.forwardRef(function(n,e){return C.createElement(Ij,qu({},n,{ref:e,sideCar:yoe}))});AA.classNames=Ij.classNames;var voe=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},xx=new WeakMap,kC=new WeakMap,UC={},ZU=0,Sq=function(n){return n&&(n.host||Sq(n.parentNode))},boe=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Sq(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},xoe=function(n,e,t,r){var i=boe(e,Array.isArray(n)?n:[n]);UC[t]||(UC[t]=new WeakMap);var s=UC[t],a=[],o=new Set,l=new Set(i),u=function(p){!p||o.has(p)||(o.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(o.has(m))f(m);else try{var y=m.getAttribute(r),b=y!==null&&y!=="false",x=(xx.get(m)||0)+1,w=(s.get(m)||0)+1;xx.set(m,x),s.set(m,w),a.push(m),x===1&&b&&kC.set(m,!0),w===1&&m.setAttribute(t,"true"),b||m.setAttribute(r,"true")}catch(S){console.error("aria-hidden: cannot operate on ",m,S)}})};return f(e),o.clear(),ZU++,function(){a.forEach(function(p){var m=xx.get(p)-1,y=s.get(p)-1;xx.set(p,m),s.set(p,y),m||(kC.has(p)||p.removeAttribute(r),kC.delete(p)),y||p.removeAttribute(t)}),ZU--,ZU||(xx=new WeakMap,xx=new WeakMap,kC=new WeakMap,UC={})}},$j=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),i=voe(n);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),xoe(r,i,t,"aria-hidden")):function(){return null}},Bj="Dialog",[Dq,DNe]=Yo(Bj),[woe,$c]=Dq(Bj),Aq=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=n,o=C.useRef(null),l=C.useRef(null),[u,f]=Dh({prop:r,defaultProp:i??!1,onChange:s,caller:Bj});return d.jsx(woe,{scope:e,triggerRef:o,contentRef:l,contentId:El(),titleId:El(),descriptionId:El(),open:u,onOpenChange:f,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),modal:a,children:t})};Aq.displayName=Bj;var Tq="DialogTrigger",_oe=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$c(Tq,t),s=dn(e,i.triggerRef);return d.jsx(Ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":u4(i.open),...r,ref:s,onClick:pt(n.onClick,i.onOpenToggle)})});_oe.displayName=Tq;var l4="DialogPortal",[Soe,Eq]=Dq(l4,{forceMount:void 0}),Cq=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:i}=n,s=$c(l4,e);return d.jsx(Soe,{scope:e,forceMount:t,children:C.Children.map(r,a=>d.jsx(Zs,{present:t||s.open,children:d.jsx(DA,{asChild:!0,container:i,children:a})}))})};Cq.displayName=l4;var SR="DialogOverlay",Nq=C.forwardRef((n,e)=>{const t=Eq(SR,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=$c(SR,n.__scopeDialog);return s.modal?d.jsx(Zs,{present:r||s.open,children:d.jsx(Aoe,{...i,ref:e})}):null});Nq.displayName=SR;var Doe=Mp("DialogOverlay.RemoveScroll"),Aoe=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$c(SR,t);return d.jsx(AA,{as:Doe,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Ft.div,{"data-state":u4(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sv="DialogContent",Rq=C.forwardRef((n,e)=>{const t=Eq(sv,n.__scopeDialog),{forceMount:r=t.forceMount,...i}=n,s=$c(sv,n.__scopeDialog);return d.jsx(Zs,{present:r||s.open,children:s.modal?d.jsx(Toe,{...i,ref:e}):d.jsx(Eoe,{...i,ref:e})})});Rq.displayName=sv;var Toe=C.forwardRef((n,e)=>{const t=$c(sv,n.__scopeDialog),r=C.useRef(null),i=dn(e,t.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return $j(s)},[]),d.jsx(jq,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(n.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:pt(n.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:pt(n.onFocusOutside,s=>s.preventDefault())})}),Eoe=C.forwardRef((n,e)=>{const t=$c(sv,n.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return d.jsx(jq,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(r.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),jq=C.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=n,o=$c(sv,t),l=C.useRef(null),u=dn(e,l);return Lj(),d.jsxs(d.Fragment,{children:[d.jsx(SA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(Z1,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":u4(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Coe,{titleId:o.titleId}),d.jsx(Roe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),c4="DialogTitle",kq=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$c(c4,t);return d.jsx(Ft.h2,{id:i.titleId,...r,ref:e})});kq.displayName=c4;var Uq="DialogDescription",Oq=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$c(Uq,t);return d.jsx(Ft.p,{id:i.descriptionId,...r,ref:e})});Oq.displayName=Uq;var Mq="DialogClose",Pq=C.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,i=$c(Mq,t);return d.jsx(Ft.button,{type:"button",...r,ref:e,onClick:pt(n.onClick,()=>i.onOpenChange(!1))})});Pq.displayName=Mq;function u4(n){return n?"open":"closed"}var Fq="DialogTitleWarning",[ANe,Lq]=uae(Fq,{contentName:sv,titleName:c4,docsSlug:"dialog"}),Coe=({titleId:n})=>{const e=Lq(Fq),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Noe="DialogDescriptionWarning",Roe=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Lq(Noe).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Iq=Aq,$q=Cq,Wj=Nq,zj=Rq,qj=kq,Hj=Oq,d4=Pq;const joe="modulepreload",koe=function(n){return"/"+n},QI={},ki=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let a=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(t.map(u=>{if(u=koe(u),u in QI)return;QI[u]=!0;const f=u.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":joe,f||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((y,b)=>{m.addEventListener("load",y),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Uoe=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ki(async()=>{const{default:r}=await Promise.resolve().then(()=>Q1);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class h4 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ooe extends h4{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Moe extends h4{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Poe extends h4{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vP;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(vP||(vP={}));var Foe=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};class Loe{constructor(e,{headers:t={},customFetch:r,region:i=vP.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=Uoe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return Foe(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(o["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(o["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(`${this.url}/${e}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:u}).catch(b=>{throw new Ooe(b)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Moe(f);if(!f.ok)throw new Poe(f);let m=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null}}catch(i){return{data:null,error:i}}})}}var Zi={},wx={},_x={},Sx={},Dx={},Ax={},Ioe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},E1=Ioe();const $oe=E1.fetch,Bq=E1.fetch.bind(E1),Wq=E1.Headers,Boe=E1.Request,Woe=E1.Response,Q1=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wq,Request:Boe,Response:Woe,default:Bq,fetch:$oe},Symbol.toStringTag,{value:"Module"})),zoe=zF(Q1);var OC={},JI;function zq(){if(JI)return OC;JI=1,Object.defineProperty(OC,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return OC.default=n,OC}var e6;function qq(){if(e6)return Ax;e6=1;var n=Ax&&Ax.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ax,"__esModule",{value:!0});const e=n(zoe),t=n(zq());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,a){return this.headers=Object.assign({},this.headers),this.headers[s]=a,this}then(s,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,m;let y=null,b=null,x=null,w=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const N=await u.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=N:b=JSON.parse(N))}const E=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),R=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");E&&R&&R.length>1&&(x=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(y={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,w=406,S="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const E=await u.text();try{y=JSON.parse(E),Array.isArray(y)&&u.status===404&&(b=[],y=null,w=200,S="OK")}catch{u.status===404&&E===""?(w=204,S="No Content"):y={message:E}}if(y&&this.isMaybeSingle&&(!((m=y==null?void 0:y.details)===null||m===void 0)&&m.includes("0 rows"))&&(y=null,w=200,S="OK"),y&&this.shouldThrowOnError)throw new t.default(y)}return{error:y,data:b,count:x,status:w,statusText:S}});return this.shouldThrowOnError||(l=l.catch(u=>{var f,p,m;return{error:{message:`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(p=u==null?void 0:u.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),l.then(s,a)}returns(){return this}overrideTypes(){return this}}return Ax.default=r,Ax}var t6;function Hq(){if(t6)return Dx;t6=1;var n=Dx&&Dx.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dx,"__esModule",{value:!0});const e=n(qq());class t extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${m}"; options=${p};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Dx.default=t,Dx}var n6;function f4(){if(n6)return Sx;n6=1;var n=Sx&&Sx.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sx,"__esModule",{value:!0});const e=n(Hq());class t extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const a=Array.from(new Set(s)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:a,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${l}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,a])=>{this.url.searchParams.append(s,`eq.${a}`)}),this}not(i,s,a){return this.url.searchParams.append(i,`not.${s}.${a}`),this}or(i,{foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${i})`),this}filter(i,s,a){return this.url.searchParams.append(i,`${s}.${a}`),this}}return Sx.default=t,Sx}var r6;function Vq(){if(r6)return _x;r6=1;var n=_x&&_x.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_x,"__esModule",{value:!0});const e=n(f4());class t{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=s,this.schema=a,this.fetch=o}select(i,{head:s=!1,count:a}={}){const o=s?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),a&&(this.headers.Prefer=`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:a=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(i)){const u=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(u.length>0){const f=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){const u="POST",f=[`resolution=${a?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),o&&f.push(`count=${o}`),l||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((m,y)=>m.concat(Object.keys(y)),[]);if(p.length>0){const m=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const a="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",a=[];return i&&a.push(`count=${i}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return _x.default=t,_x}var c_={},u_={},i6;function qoe(){return i6||(i6=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.version=void 0,u_.version="0.0.0-automated"),u_}var s6;function Hoe(){if(s6)return c_;s6=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.DEFAULT_HEADERS=void 0;const n=qoe();return c_.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},c_}var a6;function Voe(){if(a6)return wx;a6=1;var n=wx&&wx.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wx,"__esModule",{value:!0});const e=n(Vq()),t=n(f4()),r=Hoe();class i{constructor(a,{headers:o={},schema:l,fetch:u}={}){this.url=a,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=u}from(a){const o=new URL(`${this.url}/${a}`);return new e.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new i(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:l=!1,get:u=!1,count:f}={}){let p;const m=new URL(`${this.url}/rpc/${a}`);let y;l||u?(p=l?"HEAD":"GET",Object.entries(o).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{m.searchParams.append(x,w)})):(p="POST",y=o);const b=Object.assign({},this.headers);return f&&(b.Prefer=`count=${f}`),new t.default({method:p,url:m,headers:b,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return wx.default=i,wx}var o6;function Goe(){if(o6)return Zi;o6=1;var n=Zi&&Zi.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.PostgrestError=Zi.PostgrestBuilder=Zi.PostgrestTransformBuilder=Zi.PostgrestFilterBuilder=Zi.PostgrestQueryBuilder=Zi.PostgrestClient=void 0;const e=n(Voe());Zi.PostgrestClient=e.default;const t=n(Vq());Zi.PostgrestQueryBuilder=t.default;const r=n(f4());Zi.PostgrestFilterBuilder=r.default;const i=n(Hq());Zi.PostgrestTransformBuilder=i.default;const s=n(qq());Zi.PostgrestBuilder=s.default;const a=n(zq());return Zi.PostgrestError=a.default,Zi.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},Zi}var Xoe=Goe();const Yoe=kh(Xoe),{PostgrestClient:Koe,PostgrestQueryBuilder:TNe,PostgrestFilterBuilder:ENe,PostgrestTransformBuilder:CNe,PostgrestBuilder:NNe,PostgrestError:RNe}=Yoe,Zoe="2.11.2",Qoe={"X-Client-Info":`realtime-js/${Zoe}`},Joe="1.0.0",Gq=1e4,ele=1e3;var Jx;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Jx||(Jx={}));var So;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(So||(So={}));var Tc;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Tc||(Tc={}));var bP;(function(n){n.websocket="websocket"})(bP||(bP={}));var Ug;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ug||(Ug={}));class tle{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Xq{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dr;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Dr||(Dr={}));const l6=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=nle(a,n,e,i),s),{})},nle=(n,e,t,r)=>{const i=e.find(o=>o.name===n),s=i==null?void 0:i.type,a=t[n];return s&&!r.includes(s)?Yq(s,a):xP(a)},Yq=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return ale(e,t)}switch(n){case Dr.bool:return rle(e);case Dr.float4:case Dr.float8:case Dr.int2:case Dr.int4:case Dr.int8:case Dr.numeric:case Dr.oid:return ile(e);case Dr.json:case Dr.jsonb:return sle(e);case Dr.timestamp:return ole(e);case Dr.abstime:case Dr.date:case Dr.daterange:case Dr.int4range:case Dr.int8range:case Dr.money:case Dr.reltime:case Dr.text:case Dr.time:case Dr.timestamptz:case Dr.timetz:case Dr.tsrange:case Dr.tstzrange:return xP(e);default:return xP(e)}},xP=n=>n,rle=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ile=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},sle=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},ale=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const a=n.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Yq(e,o))}return n},ole=n=>typeof n=="string"?n.replace(" ","T"):n,Kq=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class QU{constructor(e,t,r={},i=Gq){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var c6;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(c6||(c6={}));class J_{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=J_.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=J_.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=J_.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(s,(u,f)=>{a[u]||(l[u]=f)}),this.map(a,(u,f)=>{const p=s[u];if(p){const m=f.map(w=>w.presence_ref),y=p.map(w=>w.presence_ref),b=f.filter(w=>y.indexOf(w.presence_ref)<0),x=p.filter(w=>m.indexOf(w.presence_ref)<0);b.length>0&&(o[u]=b),x.length>0&&(l[u]=x)}else o[u]=f}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const f=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),f.length>0){const p=e[o].map(y=>y.presence_ref),m=f.filter(y=>p.indexOf(y.presence_ref)<0);e[o].unshift(...m)}r(o,f,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const f=l.map(p=>p.presence_ref);u=u.filter(p=>f.indexOf(p.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u6;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(u6||(u6={}));var d6;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(d6||(d6={}));var Ld;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ld||(Ld={}));class p4{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=So.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new QU(this,Tc.join,this.params,this.timeout),this.rejoinTimer=new Xq(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=So.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=So.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=So.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=So.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tc.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new J_(this),this.broadcastEndpointURL=Kq(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(f=>e==null?void 0:e(Ld.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(Ld.CLOSED));const l={},u={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){e==null||e(Ld.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,b=[];for(let x=0;x<y;x++){const w=m[x],{filter:{event:S,schema:T,table:E,filter:R}}=w,N=f&&f[x];if(N&&N.event===S&&N.schema===T&&N.table===E&&N.filter===R)b.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),e==null||e(Ld.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Ld.SUBSCRIBED);return}}).receive("error",f=>{e==null||e(Ld.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ld.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=So.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tc.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const i=new QU(this,Tc.leave,{},e);i.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new QU(this,e,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:f}=Tc;if(r&&[o,l,u,f].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(y=>{var b,x,w;return((b=y.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=y.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(y=>y.callback(m,r)):(s=this.bindings[a])===null||s===void 0||s.filter(y=>{var b,x,w,S,T,E;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const R=y.id,N=(b=y.filter)===null||b===void 0?void 0:b.event;return R&&((x=t.ids)===null||x===void 0?void 0:x.includes(R))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const R=(T=(S=y==null?void 0:y.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return R==="*"||R===((E=t==null?void 0:t.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:x,table:w,commit_timestamp:S,type:T,errors:E}=b;m=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:S,eventType:T,new:{},old:{},errors:E}),this._getPayloadRecords(b))}y.callback(m,r)})}_isClosed(){return this.state===So.closed}_isJoined(){return this.state===So.joined}_isJoining(){return this.state===So.joining}_isLeaving(){return this.state===So.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&p4.isEqual(i.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Tc.close,{},e)}_onError(e){this._on(Tc.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=So.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=l6(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=l6(e.columns,e.old_record)),t}}const lle=()=>{},cle=typeof WebSocket<"u",ule=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dle{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Qoe,this.params={},this.timeout=Gq,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=lle,this.conn=null,this.sendBuffer=[],this.serializer=new tle,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>ki(async()=>{const{default:l}=await Promise.resolve().then(()=>Q1);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${bP.websocket}`,this.httpEndpoint=Kq(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(s,a)=>a(JSON.stringify(s)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xq(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(cle){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new hle(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ki(async()=>{const{default:e}=await import("./browser-0B9jBS1_.js").then(t=>t.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Joe}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jx.connecting:return Ug.Connecting;case Jx.open:return Ug.Open;case Jx.closing:return Ug.Closing;default:return Ug.Closed}}isConnected(){return this.connectionState()===Ug.Open}channel(e,t={config:{}}){const r=new p4(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(t){let r=null;try{r=JSON.parse(atob(t.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=t,this.channels.forEach(i=>{t&&i.updateJoinPayload({access_token:t}),i.joinedOnce&&i._isJoined()&&i._push(Tc.access_token,{access_token:t})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(ele,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:i,payload:s,ref:a}=t;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Tc.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([ule],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class hle{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Jx.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class m4 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ss(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class fle extends m4{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wP extends m4{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var ple=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const Zq=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ki(async()=>{const{default:r}=await Promise.resolve().then(()=>Q1);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},mle=()=>ple(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ki(()=>Promise.resolve().then(()=>Q1),void 0)).Response:Response}),_P=n=>{if(Array.isArray(n))return n.map(t=>_P(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=_P(r)}),e};var wv=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const JU=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),gle=(n,e,t)=>wv(void 0,void 0,void 0,function*(){const r=yield mle();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(i=>{e(new fle(JU(i),n.status||500))}).catch(i=>{e(new wP(JU(i),i))}):e(new wP(JU(n),n))}),yle=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function TA(n,e,t,r,i,s){return wv(this,void 0,void 0,function*(){return new Promise((a,o)=>{n(t,yle(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>gle(l,o,r))})})}function DR(n,e,t,r){return wv(this,void 0,void 0,function*(){return TA(n,"GET",e,t,r)})}function qf(n,e,t,r,i){return wv(this,void 0,void 0,function*(){return TA(n,"POST",e,r,i,t)})}function vle(n,e,t,r,i){return wv(this,void 0,void 0,function*(){return TA(n,"PUT",e,r,i,t)})}function ble(n,e,t,r){return wv(this,void 0,void 0,function*(){return TA(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Qq(n,e,t,r,i){return wv(this,void 0,void 0,function*(){return TA(n,"DELETE",e,r,i,t)})}var qa=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const xle={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wle{constructor(e,t={},r,i){this.url=e,this.headers=t,this.bucketId=r,this.fetch=Zq(i)}uploadOrUpdate(e,t,r,i){return qa(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},h6),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(t),f=this._getFinalPath(u),p=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield p.json();return p.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(s){if(ss(s))return{data:null,error:s};throw s}})}upload(e,t,r){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return qa(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const u=Object.assign({upsert:h6.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const p=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:f}),m=yield p.json();return p.ok?{data:{path:s,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(ss(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return qa(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=yield qf(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new m4("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(ss(r))return{data:null,error:r};throw r}})}update(e,t,r){return qa(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return qa(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ss(i))return{data:null,error:i};throw i}})}copy(e,t,r){return qa(this,void 0,void 0,function*(){try{return{data:{path:(yield qf(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ss(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return qa(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield qf(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(ss(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return qa(this,void 0,void 0,function*(){try{const i=yield qf(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(ss(i))return{data:null,error:i};throw i}})}download(e,t){return qa(this,void 0,void 0,function*(){const i=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield DR(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ss(o))return{data:null,error:o};throw o}})}info(e){return qa(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield DR(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:_P(r),error:null}}catch(r){if(ss(r))return{data:null,error:r};throw r}})}exists(e){return qa(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield ble(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ss(r)&&r instanceof wP){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(e){return qa(this,void 0,void 0,function*(){try{return{data:yield Qq(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(ss(t))return{data:null,error:t};throw t}})}list(e,t,r){return qa(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},xle),t),{prefix:e||""});return{data:yield qf(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ss(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const _le="2.7.1",Sle={"X-Client-Info":`storage-js/${_le}`};var Tx=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};class Dle{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Sle),t),this.fetch=Zq(r)}listBuckets(){return Tx(this,void 0,void 0,function*(){try{return{data:yield DR(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ss(e))return{data:null,error:e};throw e}})}getBucket(e){return Tx(this,void 0,void 0,function*(){try{return{data:yield DR(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(ss(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Tx(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ss(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Tx(this,void 0,void 0,function*(){try{return{data:yield vle(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ss(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Tx(this,void 0,void 0,function*(){try{return{data:yield qf(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ss(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Tx(this,void 0,void 0,function*(){try{return{data:yield Qq(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(ss(t))return{data:null,error:t};throw t}})}}class Ale extends Dle{constructor(e,t={},r){super(e,t,r)}from(e){return new wle(this.url,this.headers,e,this.fetch)}}const Tle="2.49.4";let E_="";typeof Deno<"u"?E_="deno":typeof document<"u"?E_="web":typeof navigator<"u"&&navigator.product==="ReactNative"?E_="react-native":E_="node";const Ele={"X-Client-Info":`supabase-js-${E_}/${Tle}`},Cle={headers:Ele},Nle={schema:"public"},Rle={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jle={};var kle=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};const Ule=n=>{let e;return n?e=n:typeof fetch>"u"?e=Bq:e=fetch,(...t)=>e(...t)},Ole=()=>typeof Headers>"u"?Wq:Headers,Mle=(n,e,t)=>{const r=Ule(t),i=Ole();return(s,a)=>kle(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:n;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:u}))})};var Ple=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};function Fle(n){return n.replace(/\/$/,"")}function Lle(n,e){const{db:t,auth:r,realtime:i,global:s}=n,{db:a,auth:o,realtime:l,global:u}=e,f={db:Object.assign(Object.assign({},a),t),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},u),s),accessToken:()=>Ple(this,void 0,void 0,function*(){return""})};return n.accessToken?f.accessToken=n.accessToken:delete f.accessToken,f}const Jq="2.69.1",Ox=30*1e3,SP=3,eO=SP*Ox,Ile="http://localhost:9999",$le="supabase.auth.token",Ble={"X-Client-Info":`gotrue-js/${Jq}`},DP="X-Supabase-Api-Version",eH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wle=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zle=6e5;class g4 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function rn(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class qle extends g4{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function Hle(n){return rn(n)&&n.name==="AuthApiError"}class tH extends g4{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Gp extends g4{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class If extends Gp{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vle(n){return rn(n)&&n.name==="AuthSessionMissingError"}class tO extends Gp{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class MC extends Gp{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class PC extends Gp{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gle(n){return rn(n)&&n.name==="AuthImplicitGrantRedirectError"}class f6 extends Gp{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AP extends Gp{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function nO(n){return rn(n)&&n.name==="AuthRetryableFetchError"}class p6 extends Gp{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class eS extends Gp{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const m6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g6=` 	
\r=`.split(""),Xle=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<g6.length;e+=1)n[g6[e].charCodeAt(0)]=-2;for(let e=0;e<m6.length;e+=1)n[m6[e].charCodeAt(0)]=e;return n})();function nH(n,e,t){const r=Xle[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function y6(n){const e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Zle(a,r,t)};for(let a=0;a<n.length;a+=1)nH(n.charCodeAt(a),i,s);return e.join("")}function Yle(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Kle(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}Yle(r,e)}}function Zle(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Qle(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)nH(n.charCodeAt(i),t,r);return new Uint8Array(e)}function Jle(n){const e=[];return Kle(n,t=>e.push(t)),new Uint8Array(e)}function ece(n){return Math.round(Date.now()/1e3)+n}function tce(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const wu=()=>typeof window<"u"&&typeof document<"u",xg={tested:!1,writable:!1},tS=()=>{if(!wu())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xg.tested)return xg.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),xg.tested=!0,xg.writable=!0}catch{xg.tested=!0,xg.writable=!1}return xg.writable};function nce(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const rH=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ki(async()=>{const{default:r}=await Promise.resolve().then(()=>Q1);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},rce=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",iH=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},FC=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},LC=async(n,e)=>{await n.removeItem(e)};class Vj{constructor(){this.promise=new Vj.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Vj.promiseConstructor=Promise;function rO(n){const e=n.split(".");if(e.length!==3)throw new eS("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Wle.test(e[r]))throw new eS("JWT not in base64url format");return{header:JSON.parse(y6(e[0])),payload:JSON.parse(y6(e[1])),signature:Qle(e[2]),raw:{header:e[0],payload:e[1]}}}async function ice(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function sce(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await n(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function ace(n){return("0"+n.toString(16)).substr(-2)}function oce(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,ace).join("")}async function lce(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function cce(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await lce(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ex(n,e,t=!1){const r=oce();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await iH(n,`${e}-code-verifier`,i);const s=await cce(r);return[s,r===s?"plain":"s256"]}const uce=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dce(n){const e=n.headers.get(DP);if(!e||!e.match(uce))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function hce(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function fce(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var pce=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};const Eg=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),mce=[502,503,504];async function v6(n){var e;if(!rce(n))throw new AP(Eg(n),0);if(mce.includes(n.status))throw new AP(Eg(n),n.status);let t;try{t=await n.json()}catch(s){throw new tH(Eg(s),s)}let r;const i=dce(n);if(i&&i.getTime()>=eH["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new p6(Eg(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new If}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new p6(Eg(t),n.status,t.weak_password.reasons);throw new qle(Eg(t),n.status||500,r)}const gce=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function Sn(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[DP]||(s[DP]=eH["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await yce(n,e,t+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function yce(n,e,t,r,i,s){const a=gce(e,r,i,s);let o;try{o=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new AP(Eg(l),0)}if(o.ok||await v6(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await v6(l)}}function $f(n){var e;let t=null;wce(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=ece(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function b6(n){const e=$f(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Vf(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function vce(n){return{data:n,error:null}}function bce(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,a=pce(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function xce(n){return n}function wce(n){return n.access_token&&n.refresh_token&&n.expires_in}var _ce=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t};class Sce{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=rH(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Sn(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Sn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Vf})}catch(r){if(rn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=_ce(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Sn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bce,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(rn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Sn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vf})}catch(t){if(rn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Sn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xce});if(f.error)throw f.error;const p=await f.json(),m=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(rn(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await Sn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vf})}catch(t){if(rn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Sn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Vf})}catch(r){if(rn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){try{return await Sn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Vf})}catch(r){if(rn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Sn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(rn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Sn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}}}const Dce={getItem:n=>tS()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{tS()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{tS()&&globalThis.localStorage.removeItem(n)}};function x6(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function Ace(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cx={debug:!!(globalThis&&tS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tce extends sH{}async function Ece(n,e,t){Cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Cx.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{Cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw Cx.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Tce(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Cx.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Ace();const Cce={url:Ile,storageKey:$le,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ble,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function w6(n,e,t){return await t()}class pS{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pS.nextInstanceID,pS.nextInstanceID+=1,this.instanceID>0&&wu()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Cce),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Sce({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=rH(i.fetch),this.lock=i.lock||w6,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:wu()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Ece:this.lock=w6,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:tS()?this.storage=Dce:(this.memoryStorage={},this.storage=x6(this.memoryStorage)):(this.memoryStorage={},this.storage=x6(this.memoryStorage)),wu()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jq}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=nce(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),wu()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Gle(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return rn(t)?{error:t}:{error:new tH("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await Sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:$f}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(rn(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:f,password:p,options:m}=e;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await Ex(this.storage,this.storageKey)),s=await Sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:p,data:(t=m==null?void 0:m.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:b},xform:$f})}else if("phone"in e){const{phone:f,password:p,options:m}=e;s=await Sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:$f})}else throw new MC("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(rn(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:o}=e;t=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:b6})}else if("phone"in e){const{phone:s,password:a,options:o}=e;t=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:b6})}else throw new MC("You must provide either an email or phone number and a password");const{data:r,error:i}=t;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tO}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(rn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await FC(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{const{data:s,error:a}=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:$f});if(await LC(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new tO}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(rn(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:a}=e,o=await Sn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:$f}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new tO}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(t){if(rn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Ex(this.storage,this.storageKey));const{error:p}=await Sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:f}=await Sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new MC("You must provide either an email or phone number.")}catch(o){if(rn(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Sn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:$f});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(rn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var t,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Ex(this.storage,this.storageKey)),await Sn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:vce})}catch(s){if(rn(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new If;const{error:i}=await Sn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(rn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Sn(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await Sn(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new MC("You must provide either an email or phone number and a type")}catch(t){if(rn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await FC(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<eO:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,f))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vf}):await this._useSession(async t=>{var r,i,s;const{data:a,error:o}=t;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new If}:await Sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Vf})})}catch(t){if(rn(t))return Vle(t)&&(await this._removeSession(),await LC(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new If;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Ex(this.storage,this.storageKey));const{data:u,error:f}=await Sn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Vf});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(rn(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new If;const t=Date.now()/1e3;let r=t,i=!0,s=null;const{payload:a}=rO(e.access_token);if(a.exp&&(r=a.exp,i=r<=t),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(t){if(rn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new If;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(rn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!wu())throw new PC("No browser detected.");if(e.error||e.error_description||e.error_code)throw new PC(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new f6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new PC("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new f6("No code detected.");const{data:T,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new PC("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(o);let m=f+p;l&&(m=parseInt(l));const y=m-f;y*1e3<=Ox&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const b=m-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,f);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const S={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:m,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(rn(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await FC(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(Hle(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await LC(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=tce(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:a}=t;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ex(this.storage,this.storageKey,!0));try{return await Sn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(rn(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(rn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,u,f;const{data:p,error:m}=s;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Sn(this.fetch,"GET",y,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return wu()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(rn(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)throw a;return await Sn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(rn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await sce(async i=>(i>0&&await ice(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await Sn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$f})),(i,s)=>{const a=200*Math.pow(2,i);return s&&nO(s)&&Date.now()+a-r<Ox})}catch(r){if(this._debug(t,"error",r),rn(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),wu()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await FC(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&await this._removeSession();return}const i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<eO;if(this._debug(t,`session has${i?"":" not"} expired with margin of ${eO}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),nO(s)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new If;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Vj;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new If;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),rn(s)){const a={session:null,error:s};return nO(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await iH(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await LC(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wu()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ox);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Ox);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ox}ms, refresh threshold is ${SP} ticks`),i<=SP&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wu()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Ex(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Sn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(rn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await Sn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(rn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return{data:null,error:s};const{data:a,error:o}=await Sn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(rn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?{data:null,error:s}:await Sn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(rn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=rO(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(a=>a.kid===e);if(r||(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+zle>Date.now()))return r;const{data:i,error:s}=await Sn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new eS("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),r=i.keys.find(a=>a.kid===e),!r)throw new eS("No matching signing key found in JWKS");return r}async getClaims(e,t={keys:[]}){try{let r=e;if(!r){const{data:y,error:b}=await this.getSession();if(b||!y.session)return{data:null,error:b};r=y.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=rO(r);if(hce(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:s,header:i,signature:a},error:null}}const u=fce(i.alg),f=await this.fetchJwk(i.kid,t),p=await crypto.subtle.importKey("jwk",f,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,a,Jle(`${o}.${l}`)))throw new eS("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(rn(r))return{data:null,error:r};throw r}}}pS.nextInstanceID=0;const Nce=pS;class Rce extends Nce{constructor(e){super(e)}}var jce=function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{u(r.next(f))}catch(p){a(p)}}function l(f){try{u(r.throw(f))}catch(p){a(p)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((r=r.apply(n,e||[])).next())})};class kce{constructor(e,t,r){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Fle(e);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Nle,realtime:jle,auth:Object.assign(Object.assign({},Rle),{storageKey:l}),global:Cle},f=Lle(r??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Mle(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Koe(`${o}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Loe(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ale(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return jce(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:l},u,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rce({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new dle(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Uce=(n,e,t)=>new kce(n,e,t),Oce="https://aldgnlkcizkefzvfdlbk.supabase.co",Mce="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFsZGdubGtjaXprZWZ6dmZkbGJrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA5MzE1NjUsImV4cCI6MjA1NjUwNzU2NX0.1MSZc144GAwqmO0JSocV3KmB203HyQFxbRtHJE05xI8",qe=Uce(Oce,Mce,{auth:{autoRefreshToken:!0,persistSession:!0}}),Uh=n=>{const e=new Set(["png","jpeg","jpg","heic","webp","pdf","docx"]),t=n.name.toLowerCase().split("."),r=t.length>1?t.pop():"";return r&&e.has(r)?r:null},Pce=async(n,e,t)=>{var o;const r=(o=Uh(n))==null?void 0:o.toLowerCase().replace(/^\./,"");if(!r)return;const i=t?`${e.toLowerCase()}/photos/${t}`:`${e.toLowerCase()}/photos/${e.toLowerCase()}_${Date.now()}.${r}`,{data:s,error:a}=await qe.storage.from("user-profiles").upload(i,n,{upsert:!0});if(a)throw console.error("Upload error:",a),a;return s},aH=async(n,e)=>{const t=`${n.toLowerCase()}/photos`,{data:r,error:i}=await qe.storage.from("user-profiles").list(t,{limit:100});if(i)return console.error("Error listing files:",i),null;const s=(e?r.filter(a=>a.name!==e):r).map(a=>`${t}/${a.name}`);if(s.length>0){const{error:a}=await qe.storage.from("user-profiles").remove(s);if(a)throw console.error("Error deleting old profile photos:",a),a}},Fce=async(n,e)=>{var t;try{const r=(t=Uh(n))==null?void 0:t.toLowerCase().replace(/^\./,"");if(!r)throw new Error("Invalid file extension");const i=`${e.toLowerCase()}_${Date.now()}.${r}`;return await Pce(n,e,i),await aH(e,i),await _v(e)}catch(r){throw console.error("Error updating profile photo:",r),r}},_v=async n=>{const e=`${n.toLowerCase()}/photos`,{data:t,error:r}=await qe.storage.from("user-profiles").list(e,{limit:100});if(r)return console.error("Error listing files:",r),null;const i=t.find(o=>o.name.startsWith(`${n.toLowerCase()}`));if(!i)return null;const s=`${e}/${i.name}`,{data:{publicUrl:a}}=qe.storage.from("user-profiles").getPublicUrl(s);return a},y4=async(n,e,t,r)=>{var l;const i=(l=Uh(n))==null?void 0:l.toLowerCase().replace(/^\./,"");if(!i)return;const s=r?`${e.toLowerCase()}/photos/${r}`:`${e.toLowerCase()}/photos/${t.toLowerCase()}_${Date.now()}.${i}`,{data:a,error:o}=await qe.storage.from("character-profiles").upload(s,n,{upsert:!0});if(o)throw console.error("Upload error:",o),o;return a},oH=async(n,e,t,r)=>{var l;const i=(l=Uh(n))==null?void 0:l.toLowerCase().replace(/^\./,"");if(!i)return;const s=r?`${e.toLowerCase()}/photos/${r}`:`${e.toLowerCase()}/photos/${t.toLowerCase()}_${Date.now()}.${i}`,{data:a,error:o}=await qe.storage.from("stories").upload(s,n,{upsert:!0});if(o)throw console.error("Upload error:",o),o;return a},Pl=async(n,e)=>{const t=`${n.toLowerCase()}/photos`,{data:r,error:i}=await qe.storage.from("character-profiles").list(t,{limit:100});if(i)return console.error("Error listing files:",i),null;const s=r.find(l=>l.name.startsWith(`${e}`));if(!s)return null;const a=`${t}/${s.name}`,{data:o}=qe.storage.from("character-profiles").getPublicUrl(a);return o.publicUrl},J1=async(n,e)=>{const t=`${n.toLowerCase()}/photos`,{data:r,error:i}=await qe.storage.from("stories").list(t,{limit:100});if(i)return console.error("Error listing files:",i),null;const s=r.find(l=>l.name.startsWith(`${e}`));if(!s)return null;const a=`${t}/${s.name}`,{data:o}=qe.storage.from("stories").getPublicUrl(a);return o.publicUrl},Lce=async(n,e,t)=>{var r;try{const i=(r=Uh(n))==null?void 0:r.toLowerCase().replace(/^\./,"");if(!i)throw new Error("Invalid file extension");const s=`${t.toLowerCase()}_${Date.now()}.${i}`,a=`${e.toLowerCase()}/photos`;await y4(n,e,t,s);const{data:o,error:l}=await qe.storage.from("character-profiles").list(a,{limit:100});if(l)throw console.error("Error listing files:",l),l;const u=o.filter(p=>p.name!==s&&p.name.startsWith(t)).map(p=>`${a}/${p.name}`);if(u.length>0){const{error:p}=await qe.storage.from("character-profiles").remove(u);if(p)throw console.error("Error deleting old character photos:",p),p}return await Pl(e,t)}catch(i){throw console.error("Error updating character photo:",i),i}},Ice=async(n,e,t)=>{var r;try{const i=(r=Uh(n))==null?void 0:r.toLowerCase().replace(/^\./,"");if(!i)throw new Error("Invalid file extension");const s=`${t.toLowerCase()}_${Date.now()}.${i}`;await oH(n,e,t,s);const a=`${e.toLowerCase()}/photos`,{data:o,error:l}=await qe.storage.from("stories").list(a,{limit:100});if(l)throw console.error("Error listing files:",l),l;const u=o.filter(p=>p.name!==s&&p.name.startsWith(t)).map(p=>`${a}/${p.name}`);if(u.length>0){const{error:p}=await qe.storage.from("stories").remove(u);if(p)throw console.error("Error deleting old story photos:",p),p}return await J1(e,t)}catch(i){throw console.error("Error updating profile photo:",i),i}},Gj=n=>({id:n.id,email:n.email,username:n.username,displayName:n.display_name,bio:n.bio,dateOfBirth:new Date(n.date_of_birth),createdAt:n.created_at,updatedAt:n.updated_at,credits:n.credits,plan:n.plan,isDisabled:n.is_disabled,theme:n.theme}),v4=n=>{const e={};for(const t in n){const r=t.replace(/[A-Z]/g,i=>"_"+i.toLowerCase());e[r]=n[t]}return e},$ce=async n=>{try{const e=v4(n),t=await fetch(`${mr}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const i=await t.json();throw new Error(i.detail||t.statusText)}const r=await t.json();return Gj(r)}catch(e){throw console.error("createUser failed:",e),e}},Xj=async n=>{try{const e=await fetch(`${mr}/users/${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){const r=await e.json();throw new Error(r.detail||e.statusText)}const t=await e.json();return Object.keys(t).length===0?null:Gj(t)}catch(e){throw console.error("getUser failed:",e),e}},Bce=async n=>{try{const e=await fetch(`${mr}/users/username/${n}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===404)return null;if(!e.ok){const r=await e.json();throw new Error(r.detail||e.statusText)}const t=await e.json();return Gj(t)}catch(e){throw console.error("getUserByUsername failed:",e),e}},b4=async(n,e)=>{try{const t=v4(e);console.log("payload: ",t);const r=await fetch(`${mr}/users/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const s=await r.json();throw new Error(s.detail||r.statusText)}const i=await r.json();return console.log("data"),Gj(i)}catch(t){throw console.error("updateUser failed:",t),t}},Wce=async n=>{try{const{error:e}=await qe.from("users").delete().eq("id",n);if(e)throw e;await aH(n);const{error:t}=await qe.auth.signOut();if(t)throw t}catch(e){throw console.error("Error deleting user and associated data:",e),e}},zce=async n=>{const e=v4({isDisabled:!0,updatedAt:new Date().toISOString()}),{error:t}=await qe.from("users").update(e).eq("id",n);if(t)throw t;const{error:r}=await qe.auth.signOut();if(r)throw r},qce=async n=>{const{data:e,error:t}=await qe.from("character_likes").select("character_id, liked_at").eq("user_id",n);if(t)throw t;return e.map(r=>({characterId:r.character_id,likedAt:r.liked_at}))},Hce=async n=>{const{data:e,error:t}=await qe.from("bookmarks").select("character_id, bookmarked_at").eq("user_id",n);if(t)throw t;return e.map(r=>({characterId:r.character_id,bookmarkedAt:r.bookmarked_at}))},lH=async n=>{const{data:e,error:t}=await qe.from("user_follows").select("follower_id").eq("following_id",n);if(t)throw t;return e.map(r=>r.follower_id)},Vce=async n=>{const{data:e,error:t}=await qe.from("user_follows").select("following_id").eq("follower_id",n);if(t)throw t;return e.map(r=>r.following_id)},Gce=async(n,e)=>{const{error:t}=await qe.from("user_follows").insert({follower_id:e,following_id:n});if(t)throw t},cH=async(n,e)=>{await Gce(e,n)},Xce=async(n,e)=>{const{error:t}=await qe.from("user_follows").delete().eq("follower_id",e).eq("following_id",n);if(t)throw t},Yce=async(n,e)=>{const{error:t}=await qe.from("user_follows").delete().eq("follower_id",n).eq("following_id",e);if(t)throw t},uH=async(n,e)=>{await Promise.all([Xce(e,n),Yce(n,e)])},dH=C.createContext({user:null,userData:null,userPhoto:void 0,accessToken:void 0,refreshToken:void 0,setUserData:()=>{},setUserPhoto:()=>{},signOut:()=>{},loading:!0}),Kce=({children:n})=>{const[e,t]=C.useState(null),[r,i]=C.useState(null),[s,a]=C.useState(void 0),[o,l]=C.useState(void 0),[u,f]=C.useState(void 0),[p,m]=C.useState(!0),y=C.useRef(!1),b=C.useRef(null),x=C.useRef({}),w=async T=>{if(b.current===T)return;const E=Date.now();if(!(x.current[T]&&E-x.current[T]<5e3))try{b.current=T,x.current[T]=E;const R=await Xj(T);R!=null&&R.isDisabled&&await b4(R.id,{isDisabled:!1}),i(R?{...R,isDisabled:!1}:{id:T,email:(e==null?void 0:e.email)||"",credits:0,username:"",displayName:"",bio:"",dateOfBirth:new Date,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),plan:"free",theme:"automatic"});const N=await _v(T);f(N??void 0)}catch(R){console.error("Error fetching user data:",R),i(null)}finally{b.current=null}},S=async()=>{y.current=!0,await qe.removeAllChannels(),await qe.auth.signOut({scope:"local"}),y.current=!1};return C.useEffect(()=>{(async()=>{try{const{data:{session:R}}=await qe.auth.getSession();if(R)localStorage.setItem("session",JSON.stringify(R)),t(R.user),a(R.access_token),l(R.refresh_token),R.user&&await w(R.user.id);else{const N=localStorage.getItem("session");if(N){const U=JSON.parse(N);t(U.user),a(U.access_token),l(U.refresh_token),U.user&&(!r||r.id!==U.user.id)&&await w(U.user.id)}}m(!1)}catch(R){console.error("Error getting initial session:",R),m(!1)}})();const{data:{subscription:E}}=qe.auth.onAuthStateChange((R,N)=>{var M;if(R==="SIGNED_OUT"&&(qe.removeAllChannels(),!y.current))return;const U=e==null?void 0:e.id,O=(M=N==null?void 0:N.user)==null?void 0:M.id;t((N==null?void 0:N.user)??null),a((N==null?void 0:N.access_token)??void 0),l((N==null?void 0:N.refresh_token)??void 0),N!=null&&N.user&&(U!==O||!r||r.id!==O)?w(N.user.id):N!=null&&N.user||i(null)});return()=>{E.unsubscribe()}},[]),d.jsx(dH.Provider,{value:{user:e,userData:r,accessToken:s,refreshToken:o,userPhoto:u,setUserData:i,setUserPhoto:f,signOut:S,loading:p},children:n})},kt=()=>C.useContext(dH),Yj=Iq,Zce=$q,hH=C.forwardRef(({className:n,...e},t)=>d.jsx(Wj,{className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));hH.displayName=Wj.displayName;const Qce=xA("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),EA=C.forwardRef(({side:n="right",className:e,children:t,...r},i)=>{const{userData:s}=kt(),a=Pt(s==null?void 0:s.theme);return d.jsxs(Zce,{children:[d.jsx(hH,{}),d.jsxs(zj,{ref:i,className:ft(Qce({side:n}),e),...r,children:[d.jsxs(d4,{className:`absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 disabled:pointer-events-none data-[state=open]:bg-secondary ${a}`,children:[d.jsx(Go,{className:`h-4 w-4 ${a==="dark"?"text-white":Xe}`}),d.jsx("span",{className:"sr-only",children:"Close"})]}),t]})]})});EA.displayName=zj.displayName;const Kj=({className:n,...e})=>d.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",n),...e});Kj.displayName="SheetHeader";const Zj=C.forwardRef(({className:n,...e},t)=>d.jsx(qj,{ref:t,className:ft("text-lg font-semibold text-foreground",n),...e}));Zj.displayName=qj.displayName;const fH=C.forwardRef(({className:n,...e},t)=>d.jsx(Hj,{ref:t,className:ft("text-sm text-muted-foreground",n),...e}));fH.displayName=Hj.displayName;function _6({className:n,...e}){return d.jsx("div",{className:ft("animate-pulse rounded-md bg-muted",n),...e})}const Jce=["top","right","bottom","left"],Pp=Math.min,Fo=Math.max,AR=Math.round,IC=Math.floor,Vu=n=>({x:n,y:n}),eue={left:"right",right:"left",bottom:"top",top:"bottom"},tue={start:"end",end:"start"};function TP(n,e,t){return Fo(n,Pp(e,t))}function Ah(n,e){return typeof n=="function"?n(e):n}function Th(n){return n.split("-")[0]}function ew(n){return n.split("-")[1]}function x4(n){return n==="x"?"y":"x"}function w4(n){return n==="y"?"height":"width"}function gh(n){return["top","bottom"].includes(Th(n))?"y":"x"}function _4(n){return x4(gh(n))}function nue(n,e,t){t===void 0&&(t=!1);const r=ew(n),i=_4(n),s=w4(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=TR(a)),[a,TR(a)]}function rue(n){const e=TR(n);return[EP(n),e,EP(e)]}function EP(n){return n.replace(/start|end/g,e=>tue[e])}function iue(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function sue(n,e,t,r){const i=ew(n);let s=iue(Th(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(EP)))),s}function TR(n){return n.replace(/left|right|bottom|top/g,e=>eue[e])}function aue(n){return{top:0,right:0,bottom:0,left:0,...n}}function pH(n){return typeof n!="number"?aue(n):{top:n,right:n,bottom:n,left:n}}function ER(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}function S6(n,e,t){let{reference:r,floating:i}=n;const s=gh(e),a=_4(e),o=w4(a),l=Th(e),u=s==="y",f=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let y;switch(l){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(ew(e)){case"start":y[a]-=m*(t&&u?-1:1);break;case"end":y[a]+=m*(t&&u?-1:1);break}return y}const oue=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:p}=S6(u,r,l),m=r,y={},b=0;for(let x=0;x<o.length;x++){const{name:w,fn:S}=o[x],{x:T,y:E,data:R,reset:N}=await S({x:f,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:u,platform:a,elements:{reference:n,floating:e}});f=T??f,p=E??p,y={...y,[w]:{...y[w],...R}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):N.rects),{x:f,y:p}=S6(u,m,l)),x=-1)}return{x:f,y:p,placement:m,strategy:i,middlewareData:y}};async function mS(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:y=0}=Ah(e,n),b=pH(y),w=o[m?p==="floating"?"reference":"floating":p],S=ER(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:l})),T=p==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),R=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},N=ER(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:T,offsetParent:E,strategy:l}):T);return{top:(S.top-N.top+b.top)/R.y,bottom:(N.bottom-S.bottom+b.bottom)/R.y,left:(S.left-N.left+b.left)/R.x,right:(N.right-S.right+b.right)/R.x}}const lue=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:f=0}=Ah(n,e)||{};if(u==null)return{};const p=pH(f),m={x:t,y:r},y=_4(i),b=w4(y),x=await a.getDimensions(u),w=y==="y",S=w?"top":"left",T=w?"bottom":"right",E=w?"clientHeight":"clientWidth",R=s.reference[b]+s.reference[y]-m[y]-s.floating[b],N=m[y]-s.reference[y],U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let O=U?U[E]:0;(!O||!await(a.isElement==null?void 0:a.isElement(U)))&&(O=o.floating[E]||s.floating[b]);const M=R/2-N/2,P=O/2-x[b]/2-1,H=Pp(p[S],P),X=Pp(p[T],P),I=H,q=O-x[b]-X,L=O/2-x[b]/2+M,te=TP(I,L,q),B=!l.arrow&&ew(i)!=null&&L!==te&&s.reference[b]/2-(L<I?H:X)-x[b]/2<0,W=B?L<I?L-I:L-q:0;return{[y]:m[y]+W,data:{[y]:te,centerOffset:L-te-W,...B&&{alignmentOffset:W}},reset:B}}}),cue=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=Ah(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const S=Th(i),T=gh(o),E=Th(o)===o,R=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=m||(E||!x?[TR(o)]:rue(o)),U=b!=="none";!m&&U&&N.push(...sue(o,x,b,R));const O=[o,...N],M=await mS(e,w),P=[];let H=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&P.push(M[S]),p){const te=nue(i,a,R);P.push(M[te[0]],M[te[1]])}if(H=[...H,{placement:i,overflows:P}],!P.every(te=>te<=0)){var X,I;const te=(((X=s.flip)==null?void 0:X.index)||0)+1,B=O[te];if(B){var q;const se=p==="alignment"?T!==gh(B):!1,K=((q=H[0])==null?void 0:q.overflows[0])>0;if(!se||K)return{data:{index:te,overflows:H},reset:{placement:B}}}let W=(I=H.filter(se=>se.overflows[0]<=0).sort((se,K)=>se.overflows[1]-K.overflows[1])[0])==null?void 0:I.placement;if(!W)switch(y){case"bestFit":{var L;const se=(L=H.filter(K=>{if(U){const G=gh(K.placement);return G===T||G==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(G=>G>0).reduce((G,Y)=>G+Y,0)]).sort((K,G)=>K[1]-G[1])[0])==null?void 0:L[0];se&&(W=se);break}case"initialPlacement":W=o;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function D6(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function A6(n){return Jce.some(e=>n[e]>=0)}const uue=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ah(n,e);switch(r){case"referenceHidden":{const s=await mS(e,{...i,elementContext:"reference"}),a=D6(s,t.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:A6(a)}}}case"escaped":{const s=await mS(e,{...i,altBoundary:!0}),a=D6(s,t.floating);return{data:{escapedOffsets:a,escaped:A6(a)}}}default:return{}}}}};async function due(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Th(t),o=ew(t),l=gh(t)==="y",u=["left","top"].includes(a)?-1:1,f=s&&l?-1:1,p=Ah(e,n);let{mainAxis:m,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return o&&typeof b=="number"&&(y=o==="end"?b*-1:b),l?{x:y*f,y:m*u}:{x:m*u,y:y*f}}const hue=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await due(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},fue=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:S,y:T}=w;return{x:S,y:T}}},...l}=Ah(n,e),u={x:t,y:r},f=await mS(e,l),p=gh(Th(i)),m=x4(p);let y=u[m],b=u[p];if(s){const w=m==="y"?"top":"left",S=m==="y"?"bottom":"right",T=y+f[w],E=y-f[S];y=TP(T,y,E)}if(a){const w=p==="y"?"top":"left",S=p==="y"?"bottom":"right",T=b+f[w],E=b-f[S];b=TP(T,b,E)}const x=o.fn({...e,[m]:y,[p]:b});return{...x,data:{x:x.x-t,y:x.y-r,enabled:{[m]:s,[p]:a}}}}}},pue=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=Ah(n,e),f={x:t,y:r},p=gh(i),m=x4(p);let y=f[m],b=f[p];const x=Ah(o,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const E=m==="y"?"height":"width",R=s.reference[m]-s.floating[E]+w.mainAxis,N=s.reference[m]+s.reference[E]-w.mainAxis;y<R?y=R:y>N&&(y=N)}if(u){var S,T;const E=m==="y"?"width":"height",R=["top","left"].includes(Th(i)),N=s.reference[p]-s.floating[E]+(R&&((S=a.offset)==null?void 0:S[p])||0)+(R?0:w.crossAxis),U=s.reference[p]+s.reference[E]+(R?0:((T=a.offset)==null?void 0:T[p])||0)-(R?w.crossAxis:0);b<N?b=N:b>U&&(b=U)}return{[m]:y,[p]:b}}}},mue=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...u}=Ah(n,e),f=await mS(e,u),p=Th(i),m=ew(i),y=gh(i)==="y",{width:b,height:x}=s.floating;let w,S;p==="top"||p==="bottom"?(w=p,S=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(S=p,w=m==="end"?"top":"bottom");const T=x-f.top-f.bottom,E=b-f.left-f.right,R=Pp(x-f[w],T),N=Pp(b-f[S],E),U=!e.middlewareData.shift;let O=R,M=N;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(M=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=T),U&&!m){const H=Fo(f.left,0),X=Fo(f.right,0),I=Fo(f.top,0),q=Fo(f.bottom,0);y?M=b-2*(H!==0||X!==0?H+X:Fo(f.left,f.right)):O=x-2*(I!==0||q!==0?I+q:Fo(f.top,f.bottom))}await l({...e,availableWidth:M,availableHeight:O});const P=await a.getDimensions(o.floating);return b!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function Qj(){return typeof window<"u"}function tw(n){return mH(n)?(n.nodeName||"").toLowerCase():"#document"}function Wo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function ed(n){var e;return(e=(mH(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function mH(n){return Qj()?n instanceof Node||n instanceof Wo(n).Node:!1}function kc(n){return Qj()?n instanceof Element||n instanceof Wo(n).Element:!1}function Ku(n){return Qj()?n instanceof HTMLElement||n instanceof Wo(n).HTMLElement:!1}function T6(n){return!Qj()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Wo(n).ShadowRoot}function CA(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Uc(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function gue(n){return["table","td","th"].includes(tw(n))}function Jj(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function S4(n){const e=D4(),t=kc(n)?Uc(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function yue(n){let e=Fp(n);for(;Ku(e)&&!C1(e);){if(S4(e))return e;if(Jj(e))return null;e=Fp(e)}return null}function D4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function C1(n){return["html","body","#document"].includes(tw(n))}function Uc(n){return Wo(n).getComputedStyle(n)}function e3(n){return kc(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Fp(n){if(tw(n)==="html")return n;const e=n.assignedSlot||n.parentNode||T6(n)&&n.host||ed(n);return T6(e)?e.host:e}function gH(n){const e=Fp(n);return C1(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ku(e)&&CA(e)?e:gH(e)}function gS(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=gH(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=Wo(i);if(s){const o=CP(a);return e.concat(a,a.visualViewport||[],CA(i)?i:[],o&&t?gS(o):[])}return e.concat(i,gS(i,[],t))}function CP(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function yH(n){const e=Uc(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ku(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=AR(t)!==s||AR(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function A4(n){return kc(n)?n:n.contextElement}function e0(n){const e=A4(n);if(!Ku(e))return Vu(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=yH(e);let a=(s?AR(t.width):t.width)/r,o=(s?AR(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const vue=Vu(0);function vH(n){const e=Wo(n);return!D4()||!e.visualViewport?vue:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bue(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Wo(n)?!1:e}function av(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=A4(n);let a=Vu(1);e&&(r?kc(r)&&(a=e0(r)):a=e0(n));const o=bue(s,t,r)?vH(s):Vu(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,f=i.width/a.x,p=i.height/a.y;if(s){const m=Wo(s),y=r&&kc(r)?Wo(r):r;let b=m,x=CP(b);for(;x&&r&&y!==b;){const w=e0(x),S=x.getBoundingClientRect(),T=Uc(x),E=S.left+(x.clientLeft+parseFloat(T.paddingLeft))*w.x,R=S.top+(x.clientTop+parseFloat(T.paddingTop))*w.y;l*=w.x,u*=w.y,f*=w.x,p*=w.y,l+=E,u+=R,b=Wo(x),x=CP(b)}}return ER({width:f,height:p,x:l,y:u})}function T4(n,e){const t=e3(n).scrollLeft;return e?e.left+t:av(ed(n)).left+t}function bH(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:T4(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function xue(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=ed(r),o=e?Jj(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},u=Vu(1);const f=Vu(0),p=Ku(r);if((p||!p&&!s)&&((tw(r)!=="body"||CA(a))&&(l=e3(r)),Ku(r))){const y=av(r);u=e0(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const m=a&&!p&&!s?bH(a,l,!0):Vu(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-l.scrollLeft*u.x+f.x+m.x,y:t.y*u.y-l.scrollTop*u.y+f.y+m.y}}function wue(n){return Array.from(n.getClientRects())}function _ue(n){const e=ed(n),t=e3(n),r=n.ownerDocument.body,i=Fo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Fo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+T4(n);const o=-t.scrollTop;return Uc(r).direction==="rtl"&&(a+=Fo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Sue(n,e){const t=Wo(n),r=ed(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=D4();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function Due(n,e){const t=av(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Ku(n)?e0(n):Vu(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function E6(n,e,t){let r;if(e==="viewport")r=Sue(n,t);else if(e==="document")r=_ue(ed(n));else if(kc(e))r=Due(e,t);else{const i=vH(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ER(r)}function xH(n,e){const t=Fp(n);return t===e||!kc(t)||C1(t)?!1:Uc(t).position==="fixed"||xH(t,e)}function Aue(n,e){const t=e.get(n);if(t)return t;let r=gS(n,[],!1).filter(o=>kc(o)&&tw(o)!=="body"),i=null;const s=Uc(n).position==="fixed";let a=s?Fp(n):n;for(;kc(a)&&!C1(a);){const o=Uc(a),l=S4(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||CA(a)&&!l&&xH(n,a))?r=r.filter(f=>f!==a):i=o,a=Fp(a)}return e.set(n,r),r}function Tue(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?Jj(e)?[]:Aue(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((u,f)=>{const p=E6(e,f,i);return u.top=Fo(p.top,u.top),u.right=Pp(p.right,u.right),u.bottom=Pp(p.bottom,u.bottom),u.left=Fo(p.left,u.left),u},E6(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Eue(n){const{width:e,height:t}=yH(n);return{width:e,height:t}}function Cue(n,e,t){const r=Ku(e),i=ed(e),s=t==="fixed",a=av(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Vu(0);function u(){l.x=T4(i)}if(r||!r&&!s)if((tw(e)!=="body"||CA(i))&&(o=e3(e)),r){const y=av(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else i&&u();s&&!r&&i&&u();const f=i&&!r&&!s?bH(i,o):Vu(0),p=a.left+o.scrollLeft-l.x-f.x,m=a.top+o.scrollTop-l.y-f.y;return{x:p,y:m,width:a.width,height:a.height}}function iO(n){return Uc(n).position==="static"}function C6(n,e){if(!Ku(n)||Uc(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return ed(n)===t&&(t=t.ownerDocument.body),t}function wH(n,e){const t=Wo(n);if(Jj(n))return t;if(!Ku(n)){let i=Fp(n);for(;i&&!C1(i);){if(kc(i)&&!iO(i))return i;i=Fp(i)}return t}let r=C6(n,e);for(;r&&gue(r)&&iO(r);)r=C6(r,e);return r&&C1(r)&&iO(r)&&!S4(r)?t:r||yue(n)||t}const Nue=async function(n){const e=this.getOffsetParent||wH,t=this.getDimensions,r=await t(n.floating);return{reference:Cue(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rue(n){return Uc(n).direction==="rtl"}const jue={convertOffsetParentRelativeRectToViewportRelativeRect:xue,getDocumentElement:ed,getClippingRect:Tue,getOffsetParent:wH,getElementRects:Nue,getClientRects:wue,getDimensions:Eue,getScale:e0,isElement:kc,isRTL:Rue};function _H(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function kue(n,e){let t=null,r;const i=ed(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:f,top:p,width:m,height:y}=u;if(o||e(),!m||!y)return;const b=IC(p),x=IC(i.clientWidth-(f+m)),w=IC(i.clientHeight-(p+y)),S=IC(f),E={rootMargin:-b+"px "+-x+"px "+-w+"px "+-S+"px",threshold:Fo(0,Pp(1,l))||1};let R=!0;function N(U){const O=U[0].intersectionRatio;if(O!==l){if(!R)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!_H(u,n.getBoundingClientRect())&&a(),R=!1}try{t=new IntersectionObserver(N,{...E,root:i.ownerDocument})}catch{t=new IntersectionObserver(N,E)}t.observe(n)}return a(!0),s}function Uue(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=A4(n),f=i||s?[...u?gS(u):[],...gS(e)]:[];f.forEach(S=>{i&&S.addEventListener("scroll",t,{passive:!0}),s&&S.addEventListener("resize",t)});const p=u&&o?kue(u,t):null;let m=-1,y=null;a&&(y=new ResizeObserver(S=>{let[T]=S;T&&T.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=y)==null||E.observe(e)})),t()}),u&&!l&&y.observe(u),y.observe(e));let b,x=l?av(n):null;l&&w();function w(){const S=av(n);x&&!_H(x,S)&&t(),x=S,b=requestAnimationFrame(w)}return t(),()=>{var S;f.forEach(T=>{i&&T.removeEventListener("scroll",t),s&&T.removeEventListener("resize",t)}),p==null||p(),(S=y)==null||S.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const Oue=hue,Mue=fue,Pue=cue,Fue=mue,Lue=uue,N6=lue,Iue=pue,$ue=(n,e,t)=>{const r=new Map,i={platform:jue,...t},s={...i.platform,_c:r};return oue(n,e,{...i,platform:s})};var yN=typeof document<"u"?C.useLayoutEffect:C.useEffect;function CR(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!CR(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!CR(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function SH(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function R6(n,e){const t=SH(n);return Math.round(e*t)/t}function sO(n){const e=C.useRef(n);return yN(()=>{e.current=n}),e}function Bue(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=n,[f,p]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=C.useState(r);CR(m,r)||y(r);const[b,x]=C.useState(null),[w,S]=C.useState(null),T=C.useCallback(se=>{se!==U.current&&(U.current=se,x(se))},[]),E=C.useCallback(se=>{se!==O.current&&(O.current=se,S(se))},[]),R=s||b,N=a||w,U=C.useRef(null),O=C.useRef(null),M=C.useRef(f),P=l!=null,H=sO(l),X=sO(i),I=sO(u),q=C.useCallback(()=>{if(!U.current||!O.current)return;const se={placement:e,strategy:t,middleware:m};X.current&&(se.platform=X.current),$ue(U.current,O.current,se).then(K=>{const G={...K,isPositioned:I.current!==!1};L.current&&!CR(M.current,G)&&(M.current=G,bA.flushSync(()=>{p(G)}))})},[m,e,t,X,I]);yN(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(se=>({...se,isPositioned:!1})))},[u]);const L=C.useRef(!1);yN(()=>(L.current=!0,()=>{L.current=!1}),[]),yN(()=>{if(R&&(U.current=R),N&&(O.current=N),R&&N){if(H.current)return H.current(R,N,q);q()}},[R,N,q,H,P]);const te=C.useMemo(()=>({reference:U,floating:O,setReference:T,setFloating:E}),[T,E]),B=C.useMemo(()=>({reference:R,floating:N}),[R,N]),W=C.useMemo(()=>{const se={position:t,left:0,top:0};if(!B.floating)return se;const K=R6(B.floating,f.x),G=R6(B.floating,f.y);return o?{...se,transform:"translate("+K+"px, "+G+"px)",...SH(B.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:K,top:G}},[t,o,B.floating,f.x,f.y]);return C.useMemo(()=>({...f,update:q,refs:te,elements:B,floatingStyles:W}),[f,q,te,B,W])}const Wue=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?N6({element:r.current,padding:i}).fn(t):{}:r?N6({element:r,padding:i}).fn(t):{}}}},zue=(n,e)=>({...Oue(n),options:[n,e]}),que=(n,e)=>({...Mue(n),options:[n,e]}),Hue=(n,e)=>({...Iue(n),options:[n,e]}),Vue=(n,e)=>({...Pue(n),options:[n,e]}),Gue=(n,e)=>({...Fue(n),options:[n,e]}),Xue=(n,e)=>({...Lue(n),options:[n,e]}),Yue=(n,e)=>({...Wue(n),options:[n,e]});var Kue="Arrow",DH=C.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return d.jsx(Ft.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});DH.displayName=Kue;var Zue=DH;function AH(n){const[e,t]=C.useState(void 0);return Mi(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=n.offsetWidth,o=n.offsetHeight;t({width:a,height:o})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var E4="Popper",[TH,Xp]=Yo(E4),[Que,EH]=TH(E4),CH=n=>{const{__scopePopper:e,children:t}=n,[r,i]=C.useState(null);return d.jsx(Que,{scope:e,anchor:r,onAnchorChange:i,children:t})};CH.displayName=E4;var NH="PopperAnchor",RH=C.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=EH(NH,t),a=C.useRef(null),o=dn(e,a);return C.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:d.jsx(Ft.div,{...i,ref:o})});RH.displayName=NH;var C4="PopperContent",[Jue,ede]=TH(C4),jH=C.forwardRef((n,e)=>{var Ee,Me,Ye,Ke,Le,lt;const{__scopePopper:t,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:b,...x}=n,w=EH(C4,t),[S,T]=C.useState(null),E=dn(e,st=>T(st)),[R,N]=C.useState(null),U=AH(R),O=(U==null?void 0:U.width)??0,M=(U==null?void 0:U.height)??0,P=r+(s!=="center"?"-"+s:""),H=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},X=Array.isArray(u)?u:[u],I=X.length>0,q={padding:H,boundary:X.filter(nde),altBoundary:I},{refs:L,floatingStyles:te,placement:B,isPositioned:W,middlewareData:se}=Bue({strategy:"fixed",placement:P,whileElementsMounted:(...st)=>Uue(...st,{animationFrame:y==="always"}),elements:{reference:w.anchor},middleware:[zue({mainAxis:i+M,alignmentAxis:a}),l&&que({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Hue():void 0,...q}),l&&Vue({...q}),Gue({...q,apply:({elements:st,rects:$,availableWidth:ge,availableHeight:ve})=>{const{width:ae,height:ce}=$.reference,ye=st.floating.style;ye.setProperty("--radix-popper-available-width",`${ge}px`),ye.setProperty("--radix-popper-available-height",`${ve}px`),ye.setProperty("--radix-popper-anchor-width",`${ae}px`),ye.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),R&&Yue({element:R,padding:o}),rde({arrowWidth:O,arrowHeight:M}),m&&Xue({strategy:"referenceHidden",...q})]}),[K,G]=OH(B),Y=as(b);Mi(()=>{W&&(Y==null||Y())},[W,Y]);const ne=(Ee=se.arrow)==null?void 0:Ee.x,le=(Me=se.arrow)==null?void 0:Me.y,xe=((Ye=se.arrow)==null?void 0:Ye.centerOffset)!==0,[we,Re]=C.useState();return Mi(()=>{S&&Re(window.getComputedStyle(S).zIndex)},[S]),d.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:W?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Ke=se.transformOrigin)==null?void 0:Ke.x,(Le=se.transformOrigin)==null?void 0:Le.y].join(" "),...((lt=se.hide)==null?void 0:lt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:d.jsx(Jue,{scope:t,placedSide:K,onArrowChange:N,arrowX:ne,arrowY:le,shouldHideArrow:xe,children:d.jsx(Ft.div,{"data-side":K,"data-align":G,...x,ref:E,style:{...x.style,animation:W?void 0:"none"}})})})});jH.displayName=C4;var kH="PopperArrow",tde={top:"bottom",right:"left",bottom:"top",left:"right"},UH=C.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=ede(kH,r),a=tde[s.placedSide];return d.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:d.jsx(Zue,{...i,ref:t,style:{...i.style,display:"block"}})})});UH.displayName=kH;function nde(n){return n!==null}var rde=n=>({name:"transformOrigin",options:n,fn(e){var w,S,T;const{placement:t,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:n.arrowWidth,l=a?0:n.arrowHeight,[u,f]=OH(t),p={start:"0%",center:"50%",end:"100%"}[f],m=(((S=i.arrow)==null?void 0:S.x)??0)+o/2,y=(((T=i.arrow)==null?void 0:T.y)??0)+l/2;let b="",x="";return u==="bottom"?(b=a?p:`${m}px`,x=`${-l}px`):u==="top"?(b=a?p:`${m}px`,x=`${r.floating.height+l}px`):u==="right"?(b=`${-l}px`,x=a?p:`${y}px`):u==="left"&&(b=`${r.floating.width+l}px`,x=a?p:`${y}px`),{data:{x:b,y:x}}}});function OH(n){const[e,t="center"]=n.split("-");return[e,t]}var t3=CH,NA=RH,n3=jH,r3=UH,MH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ide="VisuallyHidden",PH=C.forwardRef((n,e)=>d.jsx(Ft.span,{...n,ref:e,style:{...MH,...n.style}}));PH.displayName=ide;var sde=PH,[i3,jNe]=Yo("Tooltip",[Xp]),s3=Xp(),FH="TooltipProvider",ade=700,NP="tooltip.open",[ode,N4]=i3(FH),R4=n=>{const{__scopeTooltip:e,delayDuration:t=ade,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=n,a=C.useRef(!0),o=C.useRef(!1),l=C.useRef(0);return C.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),d.jsx(ode,{scope:e,isOpenDelayedRef:a,delayDuration:t,onOpen:C.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:C.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};R4.displayName=FH;var yS="Tooltip",[lde,a3]=i3(yS),j4=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=n,l=N4(yS,n.__scopeTooltip),u=s3(e),[f,p]=C.useState(null),m=El(),y=C.useRef(0),b=a??l.disableHoverableContent,x=o??l.delayDuration,w=C.useRef(!1),[S,T]=Dh({prop:r,defaultProp:i??!1,onChange:O=>{O?(l.onOpen(),document.dispatchEvent(new CustomEvent(NP))):l.onClose(),s==null||s(O)},caller:yS}),E=C.useMemo(()=>S?w.current?"delayed-open":"instant-open":"closed",[S]),R=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,w.current=!1,T(!0)},[T]),N=C.useCallback(()=>{window.clearTimeout(y.current),y.current=0,T(!1)},[T]),U=C.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{w.current=!0,T(!0),y.current=0},x)},[x,T]);return C.useEffect(()=>()=>{y.current&&(window.clearTimeout(y.current),y.current=0)},[]),d.jsx(t3,{...u,children:d.jsx(lde,{scope:e,contentId:m,open:S,stateAttribute:E,trigger:f,onTriggerChange:p,onTriggerEnter:C.useCallback(()=>{l.isOpenDelayedRef.current?U():R()},[l.isOpenDelayedRef,U,R]),onTriggerLeave:C.useCallback(()=>{b?N():(window.clearTimeout(y.current),y.current=0)},[N,b]),onOpen:R,onClose:N,disableHoverableContent:b,children:t})})};j4.displayName=yS;var RP="TooltipTrigger",k4=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=a3(RP,t),s=N4(RP,t),a=s3(t),o=C.useRef(null),l=dn(e,o,i.onTriggerChange),u=C.useRef(!1),f=C.useRef(!1),p=C.useCallback(()=>u.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(NA,{asChild:!0,...a,children:d.jsx(Ft.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:pt(n.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:pt(n.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:pt(n.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:pt(n.onFocus,()=>{u.current||i.onOpen()}),onBlur:pt(n.onBlur,i.onClose),onClick:pt(n.onClick,i.onClose)})})});k4.displayName=RP;var cde="TooltipPortal",[kNe,ude]=i3(cde,{forceMount:void 0}),N1="TooltipContent",LH=C.forwardRef((n,e)=>{const t=ude(N1,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,a=a3(N1,n.__scopeTooltip);return d.jsx(Zs,{present:r||a.open,children:a.disableHoverableContent?d.jsx(IH,{side:i,...s,ref:e}):d.jsx(dde,{side:i,...s,ref:e})})}),dde=C.forwardRef((n,e)=>{const t=a3(N1,n.__scopeTooltip),r=N4(N1,n.__scopeTooltip),i=C.useRef(null),s=dn(e,i),[a,o]=C.useState(null),{trigger:l,onClose:u}=t,f=i.current,{onPointerInTransitChange:p}=r,m=C.useCallback(()=>{o(null),p(!1)},[p]),y=C.useCallback((b,x)=>{const w=b.currentTarget,S={x:b.clientX,y:b.clientY},T=gde(S,w.getBoundingClientRect()),E=yde(S,T),R=vde(x.getBoundingClientRect()),N=xde([...E,...R]);o(N),p(!0)},[p]);return C.useEffect(()=>()=>m(),[m]),C.useEffect(()=>{if(l&&f){const b=w=>y(w,f),x=w=>y(w,l);return l.addEventListener("pointerleave",b),f.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",x)}}},[l,f,y,m]),C.useEffect(()=>{if(a){const b=x=>{const w=x.target,S={x:x.clientX,y:x.clientY},T=(l==null?void 0:l.contains(w))||(f==null?void 0:f.contains(w)),E=!bde(S,a);T?m():E&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[l,f,a,u,m]),d.jsx(IH,{...n,ref:s})}),[hde,fde]=i3(yS,{isInside:!1}),pde=Pre("TooltipContent"),IH=C.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=n,l=a3(N1,t),u=s3(t),{onClose:f}=l;return C.useEffect(()=>(document.addEventListener(NP,f),()=>document.removeEventListener(NP,f)),[f]),C.useEffect(()=>{if(l.trigger){const p=m=>{const y=m.target;y!=null&&y.contains(l.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,f]),d.jsx(Z1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:d.jsxs(n3,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(pde,{children:r}),d.jsx(hde,{scope:t,isInside:!0,children:d.jsx(sde,{id:l.contentId,role:"tooltip",children:i||r})})]})})});LH.displayName=N1;var $H="TooltipArrow",mde=C.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=s3(t);return fde($H,t).isInside?null:d.jsx(r3,{...i,...r,ref:e})});mde.displayName=$H;function gde(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function yde(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function vde(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function bde(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],u=o.x,f=o.y,p=l.x,m=l.y;f>r!=m>r&&t<(p-u)*(r-f)/(m-f)+u&&(i=!i)}return i}function xde(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),wde(e)}function wde(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var _de=R4,Sde=j4,Dde=k4,BH=LH;const t0=_de,Qy=Sde,Jy=Dde,yh=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(BH,{ref:r,sideOffset:e,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t}));yh.displayName=BH.displayName;const Ade="sidebar:state",Tde=60*60*24*7,Ede="16rem",Cde="18rem",Nde="3rem",Rde="b",WH=C.createContext(null);function In(){const n=C.useContext(WH);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}const zH=C.forwardRef(({defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:i,children:s,...a},o)=>{const l=Ase(),[u,f]=C.useState(!1),[p,m]=C.useState(!0),y=e??p,b=C.useCallback(T=>{const E=typeof T=="function"?T(y):T;t?t(E):m(E),document.cookie=`${Ade}=${E}; path=/; max-age=${Tde}`},[t,y]),x=C.useCallback(()=>l?f(T=>!T):b(T=>!T),[l,b,f]);C.useEffect(()=>{const T=E=>{E.key===Rde&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),x())};return window.addEventListener("keydown",T),()=>window.removeEventListener("keydown",T)},[x]);const w=y?"expanded":"collapsed",S=C.useMemo(()=>({state:w,open:y,setOpen:b,isMobile:l,openMobile:u,setOpenMobile:f,toggleSidebar:x}),[w,y,b,l,u,f,x]);return d.jsx(WH.Provider,{value:S,children:d.jsx(t0,{delayDuration:0,children:d.jsx("div",{style:{"--sidebar-width":Ede,"--sidebar-width-icon":Nde,...i},className:ft("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:o,...a,children:s})})})});zH.displayName="SidebarProvider";const qH=C.forwardRef(({side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:i,themeOverride:s,...a},o)=>{const{isMobile:l,state:u,openMobile:f,setOpenMobile:p}=In();return t==="none"?d.jsx("div",{className:ft("flex h-full w-[--sidebar-width] flex-col text-sidebar-foreground",r),ref:o,...a,children:i}):l?d.jsx(Yj,{open:f,onOpenChange:p,...a,children:d.jsx(EA,{"data-sidebar":"sidebar","data-mobile":"true",className:ft(s,"w-[--sidebar-width] p-0 text-[hsl(var(--text-main))] bg-[hsl(var(--background-light))] [&>button]:hidden"),style:{"--sidebar-width":Cde},side:n,children:d.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):d.jsxs("div",{ref:o,className:"group peer hidden md:block text-sidebar-foreground","data-state":u,"data-collapsible":u==="collapsed"?t:"","data-variant":e,"data-side":n,children:[d.jsx("div",{className:ft("duration-120 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),d.jsx("div",{className:ft("duration-120 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:d.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});qH.displayName="Sidebar";const jde=C.forwardRef(({className:n,onClick:e,...t},r)=>{const{toggleSidebar:i}=In();return d.jsxs(ct,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ft("h-7 w-7",n),onClick:s=>{e==null||e(s),i()},...t,children:[d.jsx(Bie,{}),d.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});jde.displayName="SidebarTrigger";const kde=C.forwardRef(({className:n,...e},t)=>{const{toggleSidebar:r}=In();return d.jsx("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ft("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n),...e})});kde.displayName="SidebarRail";const Ude=C.forwardRef(({className:n,...e},t)=>d.jsx("main",{ref:t,className:ft("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n),...e}));Ude.displayName="SidebarInset";const Ode=C.forwardRef(({className:n,...e},t)=>d.jsx(lr,{ref:t,"data-sidebar":"input",className:ft("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n),...e}));Ode.displayName="SidebarInput";const Mde=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,"data-sidebar":"header",className:ft("flex flex-col gap-2 p-2",n),...e}));Mde.displayName="SidebarHeader";const Pde=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,"data-sidebar":"footer",className:ft("flex flex-col gap-2 p-2",n),...e}));Pde.displayName="SidebarFooter";const HH=C.forwardRef(({className:n,...e},t)=>d.jsx(o4,{ref:t,"data-sidebar":"separator",className:ft("mx-2 w-auto bg-sidebar-border",n),...e}));HH.displayName="SidebarSeparator";const Fde=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,"data-sidebar":"content",className:ft("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n),...e}));Fde.displayName="SidebarContent";const Lde=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,"data-sidebar":"group",className:ft("relative flex w-full min-w-0 flex-col p-2",n),...e}));Lde.displayName="SidebarGroup";const Ide=C.forwardRef(({className:n,asChild:e=!1,...t},r)=>{const i=e?G1:"div";return d.jsx(i,{ref:r,"data-sidebar":"group-label",className:ft("duration-100 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n),...t})});Ide.displayName="SidebarGroupLabel";const $de=C.forwardRef(({className:n,asChild:e=!1,...t},r)=>{const i=e?G1:"button";return d.jsx(i,{ref:r,"data-sidebar":"group-action",className:ft("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n),...t})});$de.displayName="SidebarGroupAction";const Bde=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,"data-sidebar":"group-content",className:ft("w-full text-sm",n),...e}));Bde.displayName="SidebarGroupContent";const Wde=C.forwardRef(({className:n,...e},t)=>d.jsx("ul",{ref:t,"data-sidebar":"menu",className:ft("flex w-full min-w-0 flex-col gap-1",n),...e}));Wde.displayName="SidebarMenu";const zde=C.forwardRef(({className:n,...e},t)=>d.jsx("li",{ref:t,"data-sidebar":"menu-item",className:ft("group/menu-item relative",n),...e}));zde.displayName="SidebarMenuItem";const qde=xA("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Hde=C.forwardRef(({asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:i,className:s,...a},o)=>{const l=n?G1:"button",{isMobile:u,state:f}=In(),p=d.jsx(l,{ref:o,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:ft(qde({variant:t,size:r}),s),...a});return i?(typeof i=="string"&&(i={children:i}),d.jsxs(Qy,{children:[d.jsx(Jy,{asChild:!0,children:p}),d.jsx(yh,{side:"right",align:"center",hidden:f!=="collapsed"||u,...i})]})):p});Hde.displayName="SidebarMenuButton";const Vde=C.forwardRef(({className:n,asChild:e=!1,showOnHover:t=!1,...r},i)=>{const s=e?G1:"button";return d.jsx(s,{ref:i,"data-sidebar":"menu-action",className:ft("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n),...r})});Vde.displayName="SidebarMenuAction";const Gde=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,"data-sidebar":"menu-badge",className:ft("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n),...e}));Gde.displayName="SidebarMenuBadge";const Xde=C.forwardRef(({className:n,showIcon:e=!1,...t},r)=>{const i=C.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return d.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ft("rounded-md h-8 flex gap-2 px-2 items-center",n),...t,children:[e&&d.jsx(_6,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),d.jsx(_6,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Xde.displayName="SidebarMenuSkeleton";const Yde=C.forwardRef(({className:n,...e},t)=>d.jsx("ul",{ref:t,"data-sidebar":"menu-sub",className:ft("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n),...e}));Yde.displayName="SidebarMenuSub";const Kde=C.forwardRef(({...n},e)=>d.jsx("li",{ref:e,...n}));Kde.displayName="SidebarMenuSubItem";const Zde=C.forwardRef(({asChild:n=!1,size:e="md",isActive:t,className:r,...i},s)=>{const a=n?G1:"a";return d.jsx(a,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:ft("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});Zde.displayName="SidebarMenuSubButton";var aO={exports:{}},oO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6;function Qde(){if(j6)return oO;j6=1;var n=xv();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(p,m){var y=m(),b=r({inst:{value:y,getSnapshot:m}}),x=b[0].inst,w=b[1];return s(function(){x.value=y,x.getSnapshot=m,l(x)&&w({inst:x})},[p,y,m]),i(function(){return l(x)&&w({inst:x}),p(function(){l(x)&&w({inst:x})})},[p]),a(y),y}function l(p){var m=p.getSnapshot;p=p.value;try{var y=m();return!t(p,y)}catch{return!0}}function u(p,m){return m()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return oO.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,oO}var k6;function Jde(){return k6||(k6=1,aO.exports=Qde()),aO.exports}var ehe=Jde();function the(){return ehe.useSyncExternalStore(nhe,()=>!0,()=>!1)}function nhe(){return()=>{}}var U4="Avatar",[rhe,UNe]=Yo(U4),[ihe,VH]=rhe(U4),R1=C.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[i,s]=C.useState("idle");return d.jsx(ihe,{scope:t,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:d.jsx(Ft.span,{...r,ref:e})})});R1.displayName=U4;var GH="AvatarImage",ov=C.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:i=()=>{},...s}=n,a=VH(GH,t),o=she(r,s),l=as(u=>{i(u),a.onImageLoadingStatusChange(u)});return Mi(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?d.jsx(Ft.img,{...s,ref:e,src:r}):null});ov.displayName=GH;var XH="AvatarFallback",lv=C.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...i}=n,s=VH(XH,t),[a,o]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?d.jsx(Ft.span,{...i,ref:e}):null});lv.displayName=XH;function U6(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function she(n,{referrerPolicy:e,crossOrigin:t}){const r=the(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=C.useState(()=>U6(s,n));return Mi(()=>{o(U6(s,n))},[s,n]),Mi(()=>{const l=p=>()=>{o(p)};if(!s)return;const u=l("loaded"),f=l("error");return s.addEventListener("load",u),s.addEventListener("error",f),e&&(s.referrerPolicy=e),typeof t=="string"&&(s.crossOrigin=t),()=>{s.removeEventListener("load",u),s.removeEventListener("error",f)}},[s,t,e]),a}var YH=R1,KH=ov,ZH=lv;const An=C.forwardRef(({className:n,...e},t)=>d.jsx(YH,{ref:t,className:ft("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));An.displayName=YH.displayName;const Mn=C.forwardRef(({className:n,...e},t)=>d.jsx(KH,{ref:t,className:ft("aspect-square h-full w-full object-cover",n),...e}));Mn.displayName=KH.displayName;const Bn=C.forwardRef(({className:n,...e},t)=>d.jsx(ZH,{ref:t,className:ft("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));Bn.displayName=ZH.displayName;function O4(n){const e=n+"CollectionProvider",[t,r]=Yo(e),[i,s]=t(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:w,children:S}=x,T=Wi.useRef(null),E=Wi.useRef(new Map).current;return d.jsx(i,{scope:w,itemMap:E,collectionRef:T,children:S})};a.displayName=e;const o=n+"CollectionSlot",l=Mp(o),u=Wi.forwardRef((x,w)=>{const{scope:S,children:T}=x,E=s(o,S),R=dn(w,E.collectionRef);return d.jsx(l,{ref:R,children:T})});u.displayName=o;const f=n+"CollectionItemSlot",p="data-radix-collection-item",m=Mp(f),y=Wi.forwardRef((x,w)=>{const{scope:S,children:T,...E}=x,R=Wi.useRef(null),N=dn(w,R),U=s(f,S);return Wi.useEffect(()=>(U.itemMap.set(R,{ref:R,...E}),()=>void U.itemMap.delete(R))),d.jsx(m,{[p]:"",ref:N,children:T})});y.displayName=f;function b(x){const w=s(n+"CollectionConsumer",x);return Wi.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((U,O)=>E.indexOf(U.ref.current)-E.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:y},b,r]}var ahe=C.createContext(void 0);function RA(n){const e=C.useContext(ahe);return n||e||"ltr"}var lO="rovingFocusGroup.onEntryFocus",ohe={bubbles:!1,cancelable:!0},jA="RovingFocusGroup",[jP,QH,lhe]=O4(jA),[che,o3]=Yo(jA,[lhe]),[uhe,dhe]=che(jA),JH=C.forwardRef((n,e)=>d.jsx(jP.Provider,{scope:n.__scopeRovingFocusGroup,children:d.jsx(jP.Slot,{scope:n.__scopeRovingFocusGroup,children:d.jsx(hhe,{...n,ref:e})})}));JH.displayName=jA;var hhe=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=n,m=C.useRef(null),y=dn(e,m),b=RA(s),[x,w]=Dh({prop:a,defaultProp:o??null,onChange:l,caller:jA}),[S,T]=C.useState(!1),E=as(u),R=QH(t),N=C.useRef(!1),[U,O]=C.useState(0);return C.useEffect(()=>{const M=m.current;if(M)return M.addEventListener(lO,E),()=>M.removeEventListener(lO,E)},[E]),d.jsx(uhe,{scope:t,orientation:r,dir:b,loop:i,currentTabStopId:x,onItemFocus:C.useCallback(M=>w(M),[w]),onItemShiftTab:C.useCallback(()=>T(!0),[]),onFocusableItemAdd:C.useCallback(()=>O(M=>M+1),[]),onFocusableItemRemove:C.useCallback(()=>O(M=>M-1),[]),children:d.jsx(Ft.div,{tabIndex:S||U===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...n.style},onMouseDown:pt(n.onMouseDown,()=>{N.current=!0}),onFocus:pt(n.onFocus,M=>{const P=!N.current;if(M.target===M.currentTarget&&P&&!S){const H=new CustomEvent(lO,ohe);if(M.currentTarget.dispatchEvent(H),!H.defaultPrevented){const X=R().filter(B=>B.focusable),I=X.find(B=>B.active),q=X.find(B=>B.id===x),te=[I,q,...X].filter(Boolean).map(B=>B.ref.current);nV(te,f)}}N.current=!1}),onBlur:pt(n.onBlur,()=>T(!1))})})}),eV="RovingFocusGroupItem",tV=C.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=n,l=El(),u=s||l,f=dhe(eV,t),p=f.currentTabStopId===u,m=QH(t),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:x}=f;return C.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),d.jsx(jP.ItemSlot,{scope:t,id:u,focusable:r,active:i,children:d.jsx(Ft.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:pt(n.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:pt(n.onFocus,()=>f.onItemFocus(u)),onKeyDown:pt(n.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const S=mhe(w,f.orientation,f.dir);if(S!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=m().filter(R=>R.focusable).map(R=>R.ref.current);if(S==="last")E.reverse();else if(S==="prev"||S==="next"){S==="prev"&&E.reverse();const R=E.indexOf(w.currentTarget);E=f.loop?ghe(E,R+1):E.slice(R+1)}setTimeout(()=>nV(E))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:x!=null}):a})})});tV.displayName=eV;var fhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function phe(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function mhe(n,e,t){const r=phe(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fhe[r]}function nV(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function ghe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var rV=JH,iV=tV,kP=["Enter"," "],yhe=["ArrowDown","PageUp","Home"],sV=["ArrowUp","PageDown","End"],vhe=[...yhe,...sV],bhe={ltr:[...kP,"ArrowRight"],rtl:[...kP,"ArrowLeft"]},xhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},kA="Menu",[vS,whe,_he]=O4(kA),[Sv,aV]=Yo(kA,[_he,Xp,o3]),l3=Xp(),oV=o3(),[She,Dv]=Sv(kA),[Dhe,UA]=Sv(kA),lV=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=n,o=l3(e),[l,u]=C.useState(null),f=C.useRef(!1),p=as(s),m=RA(i);return C.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),d.jsx(t3,{...o,children:d.jsx(She,{scope:e,open:t,onOpenChange:p,content:l,onContentChange:u,children:d.jsx(Dhe,{scope:e,onClose:C.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:m,modal:a,children:r})})})};lV.displayName=kA;var Ahe="MenuAnchor",M4=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=l3(t);return d.jsx(NA,{...i,...r,ref:e})});M4.displayName=Ahe;var P4="MenuPortal",[The,cV]=Sv(P4,{forceMount:void 0}),uV=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:i}=n,s=Dv(P4,e);return d.jsx(The,{scope:e,forceMount:t,children:d.jsx(Zs,{present:t||s.open,children:d.jsx(DA,{asChild:!0,container:i,children:r})})})};uV.displayName=P4;var Cl="MenuContent",[Ehe,F4]=Sv(Cl),dV=C.forwardRef((n,e)=>{const t=cV(Cl,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Dv(Cl,n.__scopeMenu),a=UA(Cl,n.__scopeMenu);return d.jsx(vS.Provider,{scope:n.__scopeMenu,children:d.jsx(Zs,{present:r||s.open,children:d.jsx(vS.Slot,{scope:n.__scopeMenu,children:a.modal?d.jsx(Che,{...i,ref:e}):d.jsx(Nhe,{...i,ref:e})})})})}),Che=C.forwardRef((n,e)=>{const t=Dv(Cl,n.__scopeMenu),r=C.useRef(null),i=dn(e,r);return C.useEffect(()=>{const s=r.current;if(s)return $j(s)},[]),d.jsx(L4,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:pt(n.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Nhe=C.forwardRef((n,e)=>{const t=Dv(Cl,n.__scopeMenu);return d.jsx(L4,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Rhe=Mp("MenuContent.ScrollLock"),L4=C.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:y,disableOutsideScroll:b,...x}=n,w=Dv(Cl,t),S=UA(Cl,t),T=l3(t),E=oV(t),R=whe(t),[N,U]=C.useState(null),O=C.useRef(null),M=dn(e,O,w.onContentChange),P=C.useRef(0),H=C.useRef(""),X=C.useRef(0),I=C.useRef(null),q=C.useRef("right"),L=C.useRef(0),te=b?AA:C.Fragment,B=b?{as:Rhe,allowPinchZoom:!0}:void 0,W=K=>{var Ee,Me;const G=H.current+K,Y=R().filter(Ye=>!Ye.disabled),ne=document.activeElement,le=(Ee=Y.find(Ye=>Ye.ref.current===ne))==null?void 0:Ee.textValue,xe=Y.map(Ye=>Ye.textValue),we=Whe(xe,G,le),Re=(Me=Y.find(Ye=>Ye.textValue===we))==null?void 0:Me.ref.current;(function Ye(Ke){H.current=Ke,window.clearTimeout(P.current),Ke!==""&&(P.current=window.setTimeout(()=>Ye(""),1e3))})(G),Re&&setTimeout(()=>Re.focus())};C.useEffect(()=>()=>window.clearTimeout(P.current),[]),Lj();const se=C.useCallback(K=>{var Y,ne;return q.current===((Y=I.current)==null?void 0:Y.side)&&qhe(K,(ne=I.current)==null?void 0:ne.area)},[]);return d.jsx(Ehe,{scope:t,searchRef:H,onItemEnter:C.useCallback(K=>{se(K)&&K.preventDefault()},[se]),onItemLeave:C.useCallback(K=>{var G;se(K)||((G=O.current)==null||G.focus(),U(null))},[se]),onTriggerLeave:C.useCallback(K=>{se(K)&&K.preventDefault()},[se]),pointerGraceTimerRef:X,onPointerGraceIntentChange:C.useCallback(K=>{I.current=K},[]),children:d.jsx(te,{...B,children:d.jsx(SA,{asChild:!0,trapped:i,onMountAutoFocus:pt(s,K=>{var G;K.preventDefault(),(G=O.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:d.jsx(Z1,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:m,onDismiss:y,children:d.jsx(rV,{asChild:!0,...E,dir:S.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:U,onEntryFocus:pt(l,K=>{S.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(n3,{role:"menu","aria-orientation":"vertical","data-state":EV(w.open),"data-radix-menu-content":"",dir:S.dir,...T,...x,ref:M,style:{outline:"none",...x.style},onKeyDown:pt(x.onKeyDown,K=>{const Y=K.target.closest("[data-radix-menu-content]")===K.currentTarget,ne=K.ctrlKey||K.altKey||K.metaKey,le=K.key.length===1;Y&&(K.key==="Tab"&&K.preventDefault(),!ne&&le&&W(K.key));const xe=O.current;if(K.target!==xe||!vhe.includes(K.key))return;K.preventDefault();const Re=R().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);sV.includes(K.key)&&Re.reverse(),$he(Re)}),onBlur:pt(n.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(P.current),H.current="")}),onPointerMove:pt(n.onPointerMove,bS(K=>{const G=K.target,Y=L.current!==K.clientX;if(K.currentTarget.contains(G)&&Y){const ne=K.clientX>L.current?"right":"left";q.current=ne,L.current=K.clientX}}))})})})})})})});dV.displayName=Cl;var jhe="MenuGroup",I4=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Ft.div,{role:"group",...r,ref:e})});I4.displayName=jhe;var khe="MenuLabel",hV=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Ft.div,{...r,ref:e})});hV.displayName=khe;var NR="MenuItem",O6="menu.itemSelect",c3=C.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...i}=n,s=C.useRef(null),a=UA(NR,n.__scopeMenu),o=F4(NR,n.__scopeMenu),l=dn(e,s),u=C.useRef(!1),f=()=>{const p=s.current;if(!t&&p){const m=new CustomEvent(O6,{bubbles:!0,cancelable:!0});p.addEventListener(O6,y=>r==null?void 0:r(y),{once:!0}),uq(p,m),m.defaultPrevented?u.current=!1:a.onClose()}};return d.jsx(fV,{...i,ref:l,disabled:t,onClick:pt(n.onClick,f),onPointerDown:p=>{var m;(m=n.onPointerDown)==null||m.call(n,p),u.current=!0},onPointerUp:pt(n.onPointerUp,p=>{var m;u.current||(m=p.currentTarget)==null||m.click()}),onKeyDown:pt(n.onKeyDown,p=>{const m=o.searchRef.current!=="";t||m&&p.key===" "||kP.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});c3.displayName=NR;var fV=C.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:i,...s}=n,a=F4(NR,t),o=oV(t),l=C.useRef(null),u=dn(e,l),[f,p]=C.useState(!1),[m,y]=C.useState("");return C.useEffect(()=>{const b=l.current;b&&y((b.textContent??"").trim())},[s.children]),d.jsx(vS.ItemSlot,{scope:t,disabled:r,textValue:i??m,children:d.jsx(iV,{asChild:!0,...o,focusable:!r,children:d.jsx(Ft.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:pt(n.onPointerMove,bS(b=>{r?a.onItemLeave(b):(a.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pt(n.onPointerLeave,bS(b=>a.onItemLeave(b))),onFocus:pt(n.onFocus,()=>p(!0)),onBlur:pt(n.onBlur,()=>p(!1))})})})}),Uhe="MenuCheckboxItem",pV=C.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...i}=n;return d.jsx(bV,{scope:n.__scopeMenu,checked:t,children:d.jsx(c3,{role:"menuitemcheckbox","aria-checked":RR(t)?"mixed":t,...i,ref:e,"data-state":B4(t),onSelect:pt(i.onSelect,()=>r==null?void 0:r(RR(t)?!0:!t),{checkForDefaultPrevented:!1})})})});pV.displayName=Uhe;var mV="MenuRadioGroup",[Ohe,Mhe]=Sv(mV,{value:void 0,onValueChange:()=>{}}),gV=C.forwardRef((n,e)=>{const{value:t,onValueChange:r,...i}=n,s=as(r);return d.jsx(Ohe,{scope:n.__scopeMenu,value:t,onValueChange:s,children:d.jsx(I4,{...i,ref:e})})});gV.displayName=mV;var yV="MenuRadioItem",vV=C.forwardRef((n,e)=>{const{value:t,...r}=n,i=Mhe(yV,n.__scopeMenu),s=t===i.value;return d.jsx(bV,{scope:n.__scopeMenu,checked:s,children:d.jsx(c3,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":B4(s),onSelect:pt(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,t)},{checkForDefaultPrevented:!1})})})});vV.displayName=yV;var $4="MenuItemIndicator",[bV,Phe]=Sv($4,{checked:!1}),xV=C.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...i}=n,s=Phe($4,t);return d.jsx(Zs,{present:r||RR(s.checked)||s.checked===!0,children:d.jsx(Ft.span,{...i,ref:e,"data-state":B4(s.checked)})})});xV.displayName=$4;var Fhe="MenuSeparator",wV=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return d.jsx(Ft.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});wV.displayName=Fhe;var Lhe="MenuArrow",_V=C.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,i=l3(t);return d.jsx(r3,{...i,...r,ref:e})});_V.displayName=Lhe;var Ihe="MenuSub",[ONe,SV]=Sv(Ihe),C_="MenuSubTrigger",DV=C.forwardRef((n,e)=>{const t=Dv(C_,n.__scopeMenu),r=UA(C_,n.__scopeMenu),i=SV(C_,n.__scopeMenu),s=F4(C_,n.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,u={__scopeMenu:n.__scopeMenu},f=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>f,[f]),C.useEffect(()=>{const p=o.current;return()=>{window.clearTimeout(p),l(null)}},[o,l]),d.jsx(M4,{asChild:!0,...u,children:d.jsx(fV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":i.contentId,"data-state":EV(t.open),...n,ref:QF(e,i.onTriggerChange),onClick:p=>{var m;(m=n.onClick)==null||m.call(n,p),!(n.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:pt(n.onPointerMove,bS(p=>{s.onItemEnter(p),!p.defaultPrevented&&!n.disabled&&!t.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{t.onOpenChange(!0),f()},100))})),onPointerLeave:pt(n.onPointerLeave,bS(p=>{var y,b;f();const m=(y=t.content)==null?void 0:y.getBoundingClientRect();if(m){const x=(b=t.content)==null?void 0:b.dataset.side,w=x==="right",S=w?-5:5,T=m[w?"left":"right"],E=m[w?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+S,y:p.clientY},{x:T,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:T,y:m.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:pt(n.onKeyDown,p=>{var y;const m=s.searchRef.current!=="";n.disabled||m&&p.key===" "||bhe[r.dir].includes(p.key)&&(t.onOpenChange(!0),(y=t.content)==null||y.focus(),p.preventDefault())})})})});DV.displayName=C_;var AV="MenuSubContent",TV=C.forwardRef((n,e)=>{const t=cV(Cl,n.__scopeMenu),{forceMount:r=t.forceMount,...i}=n,s=Dv(Cl,n.__scopeMenu),a=UA(Cl,n.__scopeMenu),o=SV(AV,n.__scopeMenu),l=C.useRef(null),u=dn(e,l);return d.jsx(vS.Provider,{scope:n.__scopeMenu,children:d.jsx(Zs,{present:r||s.open,children:d.jsx(vS.Slot,{scope:n.__scopeMenu,children:d.jsx(L4,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;a.isUsingKeyboardRef.current&&((p=l.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:pt(n.onFocusOutside,f=>{f.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:pt(n.onEscapeKeyDown,f=>{a.onClose(),f.preventDefault()}),onKeyDown:pt(n.onKeyDown,f=>{var y;const p=f.currentTarget.contains(f.target),m=xhe[a.dir].includes(f.key);p&&m&&(s.onOpenChange(!1),(y=o.trigger)==null||y.focus(),f.preventDefault())})})})})})});TV.displayName=AV;function EV(n){return n?"open":"closed"}function RR(n){return n==="indeterminate"}function B4(n){return RR(n)?"indeterminate":n?"checked":"unchecked"}function $he(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Bhe(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function Whe(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let a=Bhe(n,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==t));const l=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function zhe(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],u=o.x,f=o.y,p=l.x,m=l.y;f>r!=m>r&&t<(p-u)*(r-f)/(m-f)+u&&(i=!i)}return i}function qhe(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return zhe(t,e)}function bS(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Hhe=lV,Vhe=M4,Ghe=uV,Xhe=dV,Yhe=I4,Khe=hV,Zhe=c3,Qhe=pV,Jhe=gV,efe=vV,tfe=xV,nfe=wV,rfe=_V,ife=DV,sfe=TV,u3="DropdownMenu",[afe,MNe]=Yo(u3,[aV]),Aa=aV(),[ofe,CV]=afe(u3),NV=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=n,l=Aa(e),u=C.useRef(null),[f,p]=Dh({prop:i,defaultProp:s??!1,onChange:a,caller:u3});return d.jsx(ofe,{scope:e,triggerId:El(),triggerRef:u,contentId:El(),open:f,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(m=>!m),[p]),modal:o,children:d.jsx(Hhe,{...l,open:f,onOpenChange:p,dir:r,modal:o,children:t})})};NV.displayName=u3;var RV="DropdownMenuTrigger",jV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...i}=n,s=CV(RV,t),a=Aa(t);return d.jsx(Vhe,{asChild:!0,...a,children:d.jsx(Ft.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:QF(e,s.triggerRef),onPointerDown:pt(n.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:pt(n.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});jV.displayName=RV;var lfe="DropdownMenuPortal",kV=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Aa(e);return d.jsx(Ghe,{...r,...t})};kV.displayName=lfe;var UV="DropdownMenuContent",OV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=CV(UV,t),s=Aa(t),a=C.useRef(!1);return d.jsx(Xhe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:pt(n.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:pt(n.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,f=l.button===2||u;(!i.modal||f)&&(a.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OV.displayName=UV;var cfe="DropdownMenuGroup",ufe=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(Yhe,{...i,...r,ref:e})});ufe.displayName=cfe;var dfe="DropdownMenuLabel",MV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(Khe,{...i,...r,ref:e})});MV.displayName=dfe;var hfe="DropdownMenuItem",PV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(Zhe,{...i,...r,ref:e})});PV.displayName=hfe;var ffe="DropdownMenuCheckboxItem",FV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(Qhe,{...i,...r,ref:e})});FV.displayName=ffe;var pfe="DropdownMenuRadioGroup",mfe=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(Jhe,{...i,...r,ref:e})});mfe.displayName=pfe;var gfe="DropdownMenuRadioItem",LV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(efe,{...i,...r,ref:e})});LV.displayName=gfe;var yfe="DropdownMenuItemIndicator",IV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(tfe,{...i,...r,ref:e})});IV.displayName=yfe;var vfe="DropdownMenuSeparator",$V=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(nfe,{...i,...r,ref:e})});$V.displayName=vfe;var bfe="DropdownMenuArrow",xfe=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(rfe,{...i,...r,ref:e})});xfe.displayName=bfe;var wfe="DropdownMenuSubTrigger",BV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(ife,{...i,...r,ref:e})});BV.displayName=wfe;var _fe="DropdownMenuSubContent",WV=C.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,i=Aa(t);return d.jsx(sfe,{...i,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WV.displayName=_fe;var Sfe=NV,Dfe=jV,Afe=kV,zV=OV,W4=MV,qV=PV,HV=FV,VV=LV,GV=IV,XV=$V,YV=BV,KV=WV;const Av=Sfe,Tv=Dfe,Tfe=C.forwardRef(({className:n,inset:e,children:t,...r},i)=>d.jsxs(YV,{ref:i,className:ft("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-[hsl(var(--input))] data-[state=open]:bg-[hsl(var(--background-light))] [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,d.jsx(e4,{className:"ml-auto"})]}));Tfe.displayName=YV.displayName;const Efe=C.forwardRef(({className:n,...e},t)=>d.jsx(KV,{ref:t,className:ft(`z-50 min-w-[8rem] overflow-hidden rounded-md border ${_t} dark:bg-[hsl(var(--background-light))] dark-theme:bg-[hsl(var(--background-light))] p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,n),...e}));Efe.displayName=KV.displayName;const Yp=C.forwardRef(({className:n,sideOffset:e=4,...t},r)=>d.jsx(Afe,{children:d.jsx(zV,{ref:r,sideOffset:e,className:ft(`z-50 min-w-[8rem] overflow-hidden rounded-md border ${_t} p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,n),...t})}));Yp.displayName=zV.displayName;const _i=C.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(qV,{ref:r,className:ft(`relative flex cursor-pointer select-none items-center gap-2 ${_t} rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-[hsl(var(--background-secondary))] focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0`,e&&"pl-8",n),...t}));_i.displayName=qV.displayName;const Cfe=C.forwardRef(({className:n,children:e,checked:t,...r},i)=>d.jsxs(HV,{ref:i,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-[hsl(var(--background-secondary)) data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(GV,{children:d.jsx(no,{className:"h-4 w-4"})})}),e]}));Cfe.displayName=HV.displayName;const Nfe=C.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(VV,{ref:r,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-[hsl(var(--background-secondary))] data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(GV,{children:d.jsx(hie,{className:"h-2 w-2 fill-current"})})}),e]}));Nfe.displayName=VV.displayName;const Rfe=C.forwardRef(({className:n,inset:e,...t},r)=>d.jsx(W4,{ref:r,className:ft("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));Rfe.displayName=W4.displayName;const jfe=C.forwardRef(({className:n,...e},t)=>d.jsx(XV,{ref:t,className:ft("-mx-1 my-1 h-px bg-muted",n),...e}));jfe.displayName=XV.displayName;const nS=({className:n})=>d.jsx("div",{className:ft("light rounded-full bg-gradient-to-b border border-[hsl(var(--button-logo-orange))]/50 flex items-center justify-center",Yr,n),children:d.jsx("img",{src:"/Persoa_Logo.png",alt:"Persoa",className:ft("w-2.5 h-3.5",n?"w-1/2 h-3/4":"")})}),z4=({className:n="",onClick:e,isFormatted:t=!1})=>{const{userData:r}=kt();return d.jsxs("div",{className:`flex items-center ${n} gap-x-1 cursor-pointer`,onClick:e,children:[d.jsx(nS,{className:"w-5 h-5 mr-1"}),r&&d.jsx("span",{className:`text-sm font-medium ${Be}`,children:`${t?Or(r==null?void 0:r.credits):r==null?void 0:r.credits} credits`})]})},ao=Iq,kfe=$q,d3=d4,ZV=C.forwardRef(({className:n,...e},t)=>d.jsx(Wj,{ref:t,className:ft("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));ZV.displayName=Wj.displayName;const Ta=C.forwardRef(({className:n,children:e,allowLeave:t=!1,showX:r=!0,...i},s)=>d.jsxs(kfe,{children:[d.jsx(ZV,{}),d.jsxs(zj,{ref:s,className:ft(`fixed left-[50%] top-[50%] z-50 grid w-full max-w-screen overflow-y-auto max-h-screen ${_t} translate-x-[-50%] translate-y-[-50%] gap-4 border p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]`,n),...i,children:[e,t&&d.jsxs(d4,{className:"absolute right-2 top-2 sm:right-2 sm:top-2 rounded-sm opacity-70 transition-opacity hover:opacity-100 focus:outline-none disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r&&d.jsx(Go,{className:`h-5 w-5 ${Xe}`}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ta.displayName=zj.displayName;const Kp=({className:n,...e})=>d.jsx("div",{className:ft("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Kp.displayName="DialogHeader";const q4=({className:n,...e})=>d.jsx("div",{className:ft("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});q4.displayName="DialogFooter";const ls=C.forwardRef(({className:n,...e},t)=>d.jsx(qj,{ref:t,className:ft("text-lg font-semibold text-[hsl(var(--text-light))] leading-none tracking-tight",n),...e}));ls.displayName=qj.displayName;const h3=C.forwardRef(({className:n,...e},t)=>d.jsx(Hj,{ref:t,className:ft("text-sm text-[hsl(var(--text-light))]",n),...e}));h3.displayName=Hj.displayName;const Ufe="/assets/StudioGhibiliSetting-CudriNuC.webp",Ofe="/assets/HauntedHouseSetting-B0-iNDXg.webp",Mfe="/assets/SchoolSetting-B7Oz0h1s.webp",Pfe="/assets/ForestMorningSetting-BRdN7jWJ.webp",Ffe="/assets/LibrarySetting-TG15O7Ik.webp",Lfe="/assets/OrangeHairMain-BLSS9-a1.webp",Ife="/assets/BrownHairProtagonistGIrl-t1gbmGdW.webp",$fe="/assets/FemaleWithPowers-DU5a4SGb.webp",Bfe="/assets/RegularGuyPrototype-YMpRhsnB.webp",wi=[Ufe,Ofe,Mfe,Ffe,Pfe],Wx=[Lfe,Ife,$fe,Bfe],Wfe=[["cc22287f-ee3d-4b97-8cce-4c95c6cbd57b","404cfac0-24ef-4560-b5e0-0f04999f8493"],["b276a872-28cc-467d-a461-20106e6750eb","16963ff5-ea83-452d-a38d-4641ef893930"],["9d062675-1e1e-4c62-bb54-ca7f4711a470","ffefe0f6-f3ef-4312-a258-fc1087e7d311"],["f5a66840-acd6-4f8c-93ed-fcfd00699a80","05e4cc15-361f-4ea6-8abe-f38db58440b1"],["65c699fe-57e9-4ea9-87d3-2d6cc13dcb85","9da4d1dd-d9f5-4a9e-8288-7ef1f5393cc7"]],zfe=48,qfe=34,QV=(n=700)=>{const[e,t]=C.useState(!1);return C.useEffect(()=>{const r=()=>{t(window.innerWidth<n)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e},Hfe=[{src:Wx[3],desktopClass:"top-10 left-5 w-48 h-48",mobileClass:"top-5 left-2 w-24 h-24"},{src:wi[4],desktopClass:"top-10 left-30 w-16 h-16",mobileClass:"top-5 left-32 w-8 h-8"},{src:Wx[1],desktopClass:"top-20 right-5 w-36 h-36",mobileClass:"top-10 right-2 w-18 h-18"},{src:wi[2],desktopClass:"top-65 right-48 w-16 h-16",mobileClass:"top-40 right-24 w-8 h-8"},{src:Wx[0],desktopClass:"bottom-20 left-16 w-48 h-48",mobileClass:"bottom-10 left-8 w-24 h-24"},{src:wi[3],desktopClass:"bottom-128 left-64 w-24 h-24",mobileClass:"bottom-64 left-32 w-12 h-12"},{src:Wx[2],desktopClass:"bottom-5 right-5 w-40 h-40",mobileClass:"bottom-5 right-10 w-20 h-20"},{src:wi[1],desktopClass:"bottom-24 right-96 w-24 h-24",mobileClass:"bottom-36 right-1 w-12 h-12"}],Vfe=()=>{const n=Pt(Fl("theme")),e=QV();return d.jsx("div",{className:e?"relative h-[400px]":"",children:Hfe.map(({src:t,desktopClass:r,mobileClass:i})=>d.jsxs(An,{className:`absolute shadow-xl ${e?i:r}`,children:[d.jsx("div",{className:`absolute inset-0 ${n==="light"?"bg-white":"bg-black"} opacity-50 rounded-full`}),d.jsx(Mn,{src:t})]},t))})},Gfe=[{src:Wx[3],desktopClass:"top-10 left-5 w-48 h-48",mobileClass:"top-5 left-2 w-24 h-24"},{src:Wx[1],desktopClass:"top-20 right-5 w-36 h-36",mobileClass:"top-10 right-2 w-18 h-18"},{src:wi[2],desktopClass:"top-65 right-48 w-16 h-16",mobileClass:"top-40 right-24 w-8 h-8"},{src:wi[3],desktopClass:"bottom-128 left-64 w-24 h-24",mobileClass:"bottom-64 left-32 w-12 h-12"}],Xfe=()=>{const n=QV();return d.jsx("div",{className:"relative h-[100px]",children:Gfe.map(({src:e,desktopClass:t,mobileClass:r},i)=>d.jsxs(An,{className:`absolute shadow-xl ${n?r:t}`,children:[d.jsx("div",{className:"absolute inset-0 bg-white opacity-50 rounded-full"}),d.jsx(Mn,{src:e})]},i))})};var f3="Popover",[JV,PNe]=Yo(f3,[Xp]),OA=Xp(),[Yfe,Zp]=JV(f3),eG=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=n,o=OA(e),l=C.useRef(null),[u,f]=C.useState(!1),[p,m]=Dh({prop:r,defaultProp:i??!1,onChange:s,caller:f3});return d.jsx(t3,{...o,children:d.jsx(Yfe,{scope:e,contentId:El(),triggerRef:l,open:p,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:u,onCustomAnchorAdd:C.useCallback(()=>f(!0),[]),onCustomAnchorRemove:C.useCallback(()=>f(!1),[]),modal:a,children:t})})};eG.displayName=f3;var tG="PopoverAnchor",Kfe=C.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Zp(tG,t),s=OA(t),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return C.useEffect(()=>(a(),()=>o()),[a,o]),d.jsx(NA,{...s,...r,ref:e})});Kfe.displayName=tG;var nG="PopoverTrigger",rG=C.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Zp(nG,t),s=OA(t),a=dn(e,i.triggerRef),o=d.jsx(Ft.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lG(i.open),...r,ref:a,onClick:pt(n.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:d.jsx(NA,{asChild:!0,...s,children:o})});rG.displayName=nG;var H4="PopoverPortal",[Zfe,Qfe]=JV(H4,{forceMount:void 0}),iG=n=>{const{__scopePopover:e,forceMount:t,children:r,container:i}=n,s=Zp(H4,e);return d.jsx(Zfe,{scope:e,forceMount:t,children:d.jsx(Zs,{present:t||s.open,children:d.jsx(DA,{asChild:!0,container:i,children:r})})})};iG.displayName=H4;var j1="PopoverContent",sG=C.forwardRef((n,e)=>{const t=Qfe(j1,n.__scopePopover),{forceMount:r=t.forceMount,...i}=n,s=Zp(j1,n.__scopePopover);return d.jsx(Zs,{present:r||s.open,children:s.modal?d.jsx(epe,{...i,ref:e}):d.jsx(tpe,{...i,ref:e})})});sG.displayName=j1;var Jfe=Mp("PopoverContent.RemoveScroll"),epe=C.forwardRef((n,e)=>{const t=Zp(j1,n.__scopePopover),r=C.useRef(null),i=dn(e,r),s=C.useRef(!1);return C.useEffect(()=>{const a=r.current;if(a)return $j(a)},[]),d.jsx(AA,{as:Jfe,allowPinchZoom:!0,children:d.jsx(aG,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(n.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=t.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pt(n.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pt(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),tpe=C.forwardRef((n,e)=>{const t=Zp(j1,n.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return d.jsx(aG,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=n.onCloseAutoFocus)==null||a.call(n,s),s.defaultPrevented||(r.current||(o=t.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=n.onInteractOutside)==null||l.call(n,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=t.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),aG=C.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:f,...p}=n,m=Zp(j1,t),y=OA(t);return Lj(),d.jsx(SA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:d.jsx(Z1,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:f,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:d.jsx(n3,{"data-state":lG(m.open),role:"dialog",id:m.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),oG="PopoverClose",npe=C.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=Zp(oG,t);return d.jsx(Ft.button,{type:"button",...r,ref:e,onClick:pt(n.onClick,()=>i.onOpenChange(!1))})});npe.displayName=oG;var rpe="PopoverArrow",ipe=C.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,i=OA(t);return d.jsx(r3,{...i,...r,ref:e})});ipe.displayName=rpe;function lG(n){return n?"open":"closed"}var spe=eG,ape=rG,ope=iG,cG=sG;const Nc=spe,Rc=ape,Nl=C.forwardRef(({className:n,align:e="center",sideOffset:t=4,...r},i)=>d.jsx(ope,{children:d.jsx(cG,{ref:i,align:e,sideOffset:t,className:ft("z-50 w-72 rounded-md border bg-popover p-4 text-[hsl(var(--popover-foreground))] shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...r})}));Nl.displayName=cG.displayName;const V4=C.createContext({});function G4(n){const e=C.useRef(null);return e.current===null&&(e.current=n()),e.current}const p3=C.createContext(null),X4=C.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class lpe extends C.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function cpe({children:n,isPresent:e}){const t=C.useId(),r=C.useRef(null),i=C.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=C.useContext(X4);return C.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=i.current;if(e||!r.current||!a||!o)return;r.current.dataset.motionPopId=t;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),d.jsx(lpe,{isPresent:e,childRef:r,sizeRef:i,children:C.cloneElement(n,{ref:r})})}const upe=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=G4(dpe),l=C.useId(),u=C.useCallback(p=>{o.set(p,!0);for(const m of o.values())if(!m)return;r&&r()},[o,r]),f=C.useMemo(()=>({id:l,initial:e,isPresent:t,custom:i,onExitComplete:u,register:p=>(o.set(p,!1),()=>o.delete(p))}),s?[Math.random(),u]:[t,u]);return C.useMemo(()=>{o.forEach((p,m)=>o.set(m,!1))},[t]),C.useEffect(()=>{!t&&!o.size&&r&&r()},[t]),a==="popLayout"&&(n=d.jsx(cpe,{isPresent:t,children:n})),d.jsx(p3.Provider,{value:f,children:n})};function dpe(){return new Map}function uG(n=!0){const e=C.useContext(p3);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{n&&i(s)},[n]);const a=C.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const $C=n=>n.key||"";function M6(n){const e=[];return C.Children.forEach(n,t=>{C.isValidElement(t)&&e.push(t)}),e}const Y4=typeof window<"u",dG=Y4?C.useLayoutEffect:C.useEffect,Fg=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1})=>{const[o,l]=uG(a),u=C.useMemo(()=>M6(n),[n]),f=a&&!o?[]:u.map($C),p=C.useRef(!0),m=C.useRef(u),y=G4(()=>new Map),[b,x]=C.useState(u),[w,S]=C.useState(u);dG(()=>{p.current=!1,m.current=u;for(let R=0;R<w.length;R++){const N=$C(w[R]);f.includes(N)?y.delete(N):y.get(N)!==!0&&y.set(N,!1)}},[w,f.length,f.join("-")]);const T=[];if(u!==b){let R=[...u];for(let N=0;N<w.length;N++){const U=w[N],O=$C(U);f.includes(O)||(R.splice(N,0,U),T.push(U))}s==="wait"&&T.length&&(R=T),S(M6(R)),x(u);return}const{forceRender:E}=C.useContext(V4);return d.jsx(d.Fragment,{children:w.map(R=>{const N=$C(R),U=a&&!o?!1:u===w||f.includes(N),O=()=>{if(y.has(N))y.set(N,!0);else return;let M=!0;y.forEach(P=>{P||(M=!1)}),M&&(E==null||E(),S(m.current),a&&(l==null||l()),r&&r())};return d.jsx(upe,{isPresent:U,initial:!p.current||t?void 0:!1,custom:U?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:U?void 0:O,children:R},N)})})},zo=n=>n;let hG=zo;function K4(n){let e;return()=>(e===void 0&&(e=n()),e)}const k1=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},vh=n=>n*1e3,bh=n=>n/1e3,hpe={useManualTiming:!1};function fpe(n){let e=new Set,t=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(l.schedule(u),n()),u(a)}const l={schedule:(u,f=!1,p=!1)=>{const y=p&&r?e:t;return f&&s.add(u),y.has(u)||y.add(u),u},cancel:u=>{t.delete(u),s.delete(u)},process:u=>{if(a=u,r){i=!0;return}r=!0,[e,t]=[t,e],e.forEach(o),e.clear(),r=!1,i&&(i=!1,l.process(u))}};return l}const BC=["read","resolveKeyframes","update","preRender","render","postRender"],ppe=40;function fG(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=BC.reduce((S,T)=>(S[T]=fpe(s),S),{}),{read:o,resolveKeyframes:l,update:u,preRender:f,render:p,postRender:m}=a,y=()=>{const S=performance.now();t=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,ppe),1),i.timestamp=S,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(y))},b=()=>{t=!0,r=!0,i.isProcessing||n(y)};return{schedule:BC.reduce((S,T)=>{const E=a[T];return S[T]=(R,N=!1,U=!1)=>(t||b(),E.schedule(R,N,U)),S},{}),cancel:S=>{for(let T=0;T<BC.length;T++)a[BC[T]].cancel(S)},state:i,steps:a}}const{schedule:Pr,cancel:Lp,state:xs,steps:cO}=fG(typeof requestAnimationFrame<"u"?requestAnimationFrame:zo,!0),pG=C.createContext({strict:!1}),P6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},U1={};for(const n in P6)U1[n]={isEnabled:e=>P6[n].some(t=>!!e[t])};function mpe(n){for(const e in n)U1[e]={...U1[e],...n[e]}}const gpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jR(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||gpe.has(n)}let mG=n=>!jR(n);function ype(n){n&&(mG=e=>e.startsWith("on")?!jR(e):n(e))}try{ype(require("@emotion/is-prop-valid").default)}catch{}function vpe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(mG(i)||t===!0&&jR(i)||!e&&!jR(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}function bpe(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const m3=C.createContext({});function xS(n){return typeof n=="string"||Array.isArray(n)}function g3(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Z4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Q4=["initial",...Z4];function y3(n){return g3(n.animate)||Q4.some(e=>xS(n[e]))}function gG(n){return!!(y3(n)||n.variants)}function xpe(n,e){if(y3(n)){const{initial:t,animate:r}=n;return{initial:t===!1||xS(t)?t:void 0,animate:xS(r)?r:void 0}}return n.inherit!==!1?e:{}}function wpe(n){const{initial:e,animate:t}=xpe(n,C.useContext(m3));return C.useMemo(()=>({initial:e,animate:t}),[F6(e),F6(t)])}function F6(n){return Array.isArray(n)?n.join(" "):n}const _pe=Symbol.for("motionComponentSymbol");function zx(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Spe(n,e,t){return C.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):zx(t)&&(t.current=r))},[e])}const J4=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dpe="framerAppearId",yG="data-"+J4(Dpe),{schedule:e8}=fG(queueMicrotask,!1),vG=C.createContext({});function Ape(n,e,t,r,i){var s,a;const{visualElement:o}=C.useContext(m3),l=C.useContext(pG),u=C.useContext(p3),f=C.useContext(X4).reducedMotion,p=C.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:o,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,y=C.useContext(vG);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Tpe(p.current,t,i,y);const b=C.useRef(!1);C.useInsertionEffect(()=>{m&&b.current&&m.update(t,u)});const x=t[yG],w=C.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return dG(()=>{m&&(b.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),e8.render(m.render),w.current&&m.animationState&&m.animationState.animateChanges())}),C.useEffect(()=>{m&&(!w.current&&m.animationState&&m.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,x)}),w.current=!1))}),m}function Tpe(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:bG(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&zx(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function bG(n){if(n)return n.options.allowProjection!==!1?n.projection:bG(n.parent)}function Epe({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:i}){var s,a;n&&mpe(n);function o(u,f){let p;const m={...C.useContext(X4),...u,layoutId:Cpe(u)},{isStatic:y}=m,b=wpe(u),x=r(u,y);if(!y&&Y4){Npe();const w=Rpe(m);p=w.MeasureLayout,b.visualElement=Ape(i,x,m,e,w.ProjectionNode)}return d.jsxs(m3.Provider,{value:b,children:[p&&b.visualElement?d.jsx(p,{visualElement:b.visualElement,...m}):null,t(i,u,Spe(x,b.visualElement,f),x,y,b.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=C.forwardRef(o);return l[_pe]=i,l}function Cpe({layoutId:n}){const e=C.useContext(V4).id;return e&&n!==void 0?e+"-"+n:n}function Npe(n,e){C.useContext(pG).strict}function Rpe(n){const{drag:e,layout:t}=U1;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const jpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t8(n){return typeof n!="string"||n.includes("-")?!1:!!(jpe.indexOf(n)>-1||/[A-Z]/u.test(n))}function L6(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function n8(n,e,t,r){if(typeof e=="function"){const[i,s]=L6(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=L6(r);e=e(t!==void 0?t:n.custom,i,s)}return e}const UP=n=>Array.isArray(n),kpe=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Upe=n=>UP(n)?n[n.length-1]||0:n,Ys=n=>!!(n&&n.getVelocity);function vN(n){const e=Ys(n)?n.get():n;return kpe(e)?e.toValue():e}function Ope({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,i,s){const a={latestValues:Mpe(r,i,s,n),renderState:e()};return t&&(a.onMount=o=>t({props:r,current:o,...a}),a.onUpdate=o=>t(o)),a}const xG=n=>(e,t)=>{const r=C.useContext(m3),i=C.useContext(p3),s=()=>Ope(n,e,r,i);return t?s():G4(s)};function Mpe(n,e,t,r){const i={},s=r(n,{});for(const m in s)i[m]=vN(s[m]);let{initial:a,animate:o}=n;const l=y3(n),u=gG(n);e&&u&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let f=t?t.initial===!1:!1;f=f||a===!1;const p=f?o:a;if(p&&typeof p!="boolean"&&!g3(p)){const m=Array.isArray(p)?p:[p];for(let y=0;y<m.length;y++){const b=n8(n,m[y]);if(b){const{transitionEnd:x,transition:w,...S}=b;for(const T in S){let E=S[T];if(Array.isArray(E)){const R=f?E.length-1:0;E=E[R]}E!==null&&(i[T]=E)}for(const T in x)i[T]=x[T]}}}return i}const nw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ev=new Set(nw),wG=n=>e=>typeof e=="string"&&e.startsWith(n),_G=wG("--"),Ppe=wG("var(--"),r8=n=>Ppe(n)?Fpe.test(n.split("/*")[0].trim()):!1,Fpe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,SG=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Eh=(n,e,t)=>t>e?e:t<n?n:t,rw={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wS={...rw,transform:n=>Eh(0,1,n)},WC={...rw,default:1},MA=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Bf=MA("deg"),Gu=MA("%"),Vt=MA("px"),Lpe=MA("vh"),Ipe=MA("vw"),I6={...Gu,parse:n=>Gu.parse(n)/100,transform:n=>Gu.transform(n*100)},$pe={borderWidth:Vt,borderTopWidth:Vt,borderRightWidth:Vt,borderBottomWidth:Vt,borderLeftWidth:Vt,borderRadius:Vt,radius:Vt,borderTopLeftRadius:Vt,borderTopRightRadius:Vt,borderBottomRightRadius:Vt,borderBottomLeftRadius:Vt,width:Vt,maxWidth:Vt,height:Vt,maxHeight:Vt,top:Vt,right:Vt,bottom:Vt,left:Vt,padding:Vt,paddingTop:Vt,paddingRight:Vt,paddingBottom:Vt,paddingLeft:Vt,margin:Vt,marginTop:Vt,marginRight:Vt,marginBottom:Vt,marginLeft:Vt,backgroundPositionX:Vt,backgroundPositionY:Vt},Bpe={rotate:Bf,rotateX:Bf,rotateY:Bf,rotateZ:Bf,scale:WC,scaleX:WC,scaleY:WC,scaleZ:WC,skew:Bf,skewX:Bf,skewY:Bf,distance:Vt,translateX:Vt,translateY:Vt,translateZ:Vt,x:Vt,y:Vt,z:Vt,perspective:Vt,transformPerspective:Vt,opacity:wS,originX:I6,originY:I6,originZ:Vt},$6={...rw,transform:Math.round},i8={...$pe,...Bpe,zIndex:$6,size:Vt,fillOpacity:wS,strokeOpacity:wS,numOctaves:$6},Wpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zpe=nw.length;function qpe(n,e,t){let r="",i=!0;for(let s=0;s<zpe;s++){const a=nw[s],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const u=SG(o,i8[a]);if(!l){i=!1;const f=Wpe[a]||a;r+=`${f}(${u}) `}t&&(e[a]=u)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function s8(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,o=!1;for(const l in e){const u=e[l];if(Ev.has(l)){a=!0;continue}else if(_G(l)){i[l]=u;continue}else{const f=SG(u,i8[l]);l.startsWith("origin")?(o=!0,s[l]=f):r[l]=f}}if(e.transform||(a||t?r.transform=qpe(e,n.transform,t):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${u} ${f}`}}const Hpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vpe={offset:"strokeDashoffset",array:"strokeDasharray"};function Gpe(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?Hpe:Vpe;n[s.offset]=Vt.transform(-r);const a=Vt.transform(e),o=Vt.transform(t);n[s.array]=`${a} ${o}`}function B6(n,e,t){return typeof n=="string"?n:Vt.transform(e+t*n)}function Xpe(n,e,t){const r=B6(e,n.x,n.width),i=B6(t,n.y,n.height);return`${r} ${i}`}function a8(n,{attrX:e,attrY:t,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},f,p){if(s8(n,u,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:m,style:y,dimensions:b}=n;m.transform&&(b&&(y.transform=m.transform),delete m.transform),b&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=Xpe(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),t!==void 0&&(m.y=t),r!==void 0&&(m.scale=r),a!==void 0&&Gpe(m,a,o,l,!1)}const o8=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),DG=()=>({...o8(),attrs:{}}),l8=n=>typeof n=="string"&&n.toLowerCase()==="svg";function AG(n,{style:e,vars:t},r,i){Object.assign(n.style,e,i&&i.getProjectionStyles(r));for(const s in t)n.style.setProperty(s,t[s])}const TG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function EG(n,e,t,r){AG(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(TG.has(i)?i:J4(i),e.attrs[i])}const kR={};function Ype(n){Object.assign(kR,n)}function CG(n,{layout:e,layoutId:t}){return Ev.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!kR[n]||n==="opacity")}function c8(n,e,t){var r;const{style:i}=n,s={};for(const a in i)(Ys(i[a])||e.style&&Ys(e.style[a])||CG(a,n)||((r=t==null?void 0:t.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function NG(n,e,t){const r=c8(n,e,t);for(const i in n)if(Ys(n[i])||Ys(e[i])){const s=nw.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}function Kpe(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const W6=["x","y","width","height","cx","cy","r"],Zpe={useVisualState:xG({scrapeMotionValuesFromProps:NG,createRenderState:DG,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:i})=>{if(!t)return;let s=!!n.drag;if(!s){for(const o in i)if(Ev.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<W6.length;o++){const l=W6[o];n[l]!==e[l]&&(a=!0)}a&&Pr.read(()=>{Kpe(t,r),Pr.render(()=>{a8(r,i,l8(t.tagName),n.transformTemplate),EG(t,r)})})}})},Qpe={useVisualState:xG({scrapeMotionValuesFromProps:c8,createRenderState:o8})};function RG(n,e,t){for(const r in e)!Ys(e[r])&&!CG(r,t)&&(n[r]=e[r])}function Jpe({transformTemplate:n},e){return C.useMemo(()=>{const t=o8();return s8(t,e,n),Object.assign({},t.vars,t.style)},[e])}function eme(n,e){const t=n.style||{},r={};return RG(r,t,n),Object.assign(r,Jpe(n,e)),r}function tme(n,e){const t={},r=eme(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function nme(n,e,t,r){const i=C.useMemo(()=>{const s=DG();return a8(s,e,l8(r),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};RG(s,n.style,n),i.style={...s,...i.style}}return i}function rme(n=!1){return(t,r,i,{latestValues:s},a)=>{const l=(t8(t)?nme:tme)(r,s,a,t),u=vpe(r,typeof t=="string",n),f=t!==C.Fragment?{...u,...l,ref:i}:{},{children:p}=r,m=C.useMemo(()=>Ys(p)?p.get():p,[p]);return C.createElement(t,{...f,children:m})}}function ime(n,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...t8(r)?Zpe:Qpe,preloadedFeatures:n,useRender:rme(i),createVisualElement:e,Component:r};return Epe(a)}}function jG(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function v3(n,e,t){const r=n.getProps();return n8(r,e,t!==void 0?t:r.custom,n)}const sme=K4(()=>window.ScrollTimeline!==void 0);class ame{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(i=>{if(sme()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ome extends ame{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function u8(n,e){return n?n[e]||n.default||n:void 0}const OP=2e4;function kG(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<OP;)e+=t,r=n.next(e);return e>=OP?1/0:e}function d8(n){return typeof n=="function"}function z6(n,e){n.timeline=e,n.onfinish=null}const h8=n=>Array.isArray(n)&&typeof n[0]=="number",lme={linearEasing:void 0};function cme(n,e){const t=K4(n);return()=>{var r;return(r=lme[e])!==null&&r!==void 0?r:t()}}const UR=cme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),UG=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=n(k1(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function OG(n){return!!(typeof n=="function"&&UR()||!n||typeof n=="string"&&(n in MP||UR())||h8(n)||Array.isArray(n)&&n.every(OG))}const N_=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,MP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:N_([0,.65,.55,1]),circOut:N_([.55,0,1,.45]),backIn:N_([.31,.01,.66,-.59]),backOut:N_([.33,1.53,.69,.99])};function MG(n,e){if(n)return typeof n=="function"&&UR()?UG(n,e):h8(n)?N_(n):Array.isArray(n)?n.map(t=>MG(t,e)||MP.easeOut):MP[n]}const lc={x:!1,y:!1};function PG(){return lc.x||lc.y}function ume(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}function FG(n,e){const t=ume(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function q6(n){return e=>{e.pointerType==="touch"||PG()||n(e)}}function dme(n,e,t={}){const[r,i,s]=FG(n,t),a=q6(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const f=q6(p=>{u(p),l.removeEventListener("pointerleave",f)});l.addEventListener("pointerleave",f,i)});return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const LG=(n,e)=>e?n===e?!0:LG(n,e.parentElement):!1,f8=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,hme=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fme(n){return hme.has(n.tagName)||n.tabIndex!==-1}const R_=new WeakSet;function H6(n){return e=>{e.key==="Enter"&&n(e)}}function uO(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pme=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=H6(()=>{if(R_.has(t))return;uO(t,"down");const i=H6(()=>{uO(t,"up")}),s=()=>uO(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function V6(n){return f8(n)&&!PG()}function mme(n,e,t={}){const[r,i,s]=FG(n,t),a=o=>{const l=o.currentTarget;if(!V6(o)||R_.has(l))return;R_.add(l);const u=e(o),f=(y,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),!(!V6(y)||!R_.has(l))&&(R_.delete(l),typeof u=="function"&&u(y,{success:b}))},p=y=>{f(y,t.useGlobalTarget||LG(l,y.target))},m=y=>{f(y,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{!fme(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",u=>pme(u,i),i)}),s}function gme(n){return n==="x"||n==="y"?lc[n]?null:(lc[n]=!0,()=>{lc[n]=!1}):lc.x||lc.y?null:(lc.x=lc.y=!0,()=>{lc.x=lc.y=!1})}const IG=new Set(["width","height","top","left","right","bottom",...nw]);let bN;function yme(){bN=void 0}const Xu={now:()=>(bN===void 0&&Xu.set(xs.isProcessing||hpe.useManualTiming?xs.timestamp:performance.now()),bN),set:n=>{bN=n,queueMicrotask(yme)}};function p8(n,e){n.indexOf(e)===-1&&n.push(e)}function m8(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class g8{constructor(){this.subscriptions=[]}add(e){return p8(this.subscriptions,e),()=>m8(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function $G(n,e){return e?n*(1e3/e):0}const G6=30,vme=n=>!isNaN(parseFloat(n));class bme{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Xu.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Xu.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vme(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new g8);const r=this.events[e].add(t);return e==="change"?()=>{r(),Pr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>G6)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,G6);return $G(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _S(n,e){return new bme(n,e)}function xme(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_S(t))}function wme(n,e){const t=v3(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const o=Upe(s[a]);xme(n,a,o)}}function _me(n){return!!(Ys(n)&&n.add)}function PP(n,e){const t=n.getValue("willChange");if(_me(t))return t.add(e)}function BG(n){return n.props[yG]}const WG=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Sme=1e-7,Dme=12;function Ame(n,e,t,r,i){let s,a,o=0;do a=e+(t-e)/2,s=WG(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>Sme&&++o<Dme);return a}function PA(n,e,t,r){if(n===e&&t===r)return zo;const i=s=>Ame(s,0,1,n,t);return s=>s===0||s===1?s:WG(i(s),e,r)}const zG=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,qG=n=>e=>1-n(1-e),HG=PA(.33,1.53,.69,.99),y8=qG(HG),VG=zG(y8),GG=n=>(n*=2)<1?.5*y8(n):.5*(2-Math.pow(2,-10*(n-1))),v8=n=>1-Math.sin(Math.acos(n)),XG=qG(v8),YG=zG(v8),KG=n=>/^0[^.\s]+$/u.test(n);function Tme(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||KG(n):!0}const rS=n=>Math.round(n*1e5)/1e5,b8=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Eme(n){return n==null}const Cme=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,x8=(n,e)=>t=>!!(typeof t=="string"&&Cme.test(t)&&t.startsWith(n)||e&&!Eme(t)&&Object.prototype.hasOwnProperty.call(t,e)),ZG=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(b8);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Nme=n=>Eh(0,255,n),dO={...rw,transform:n=>Math.round(Nme(n))},Lg={test:x8("rgb","red"),parse:ZG("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+dO.transform(n)+", "+dO.transform(e)+", "+dO.transform(t)+", "+rS(wS.transform(r))+")"};function Rme(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const FP={test:x8("#"),parse:Rme,transform:Lg.transform},qx={test:x8("hsl","hue"),parse:ZG("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Gu.transform(rS(e))+", "+Gu.transform(rS(t))+", "+rS(wS.transform(r))+")"},Vs={test:n=>Lg.test(n)||FP.test(n)||qx.test(n),parse:n=>Lg.test(n)?Lg.parse(n):qx.test(n)?qx.parse(n):FP.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Lg.transform(n):qx.transform(n)},jme=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kme(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(b8))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(jme))===null||t===void 0?void 0:t.length)||0)>0}const QG="number",JG="color",Ume="var",Ome="var(",X6="${}",Mme=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function SS(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Mme,l=>(Vs.test(l)?(r.color.push(s),i.push(JG),t.push(Vs.parse(l))):l.startsWith(Ome)?(r.var.push(s),i.push(Ume),t.push(l)):(r.number.push(s),i.push(QG),t.push(parseFloat(l))),++s,X6)).split(X6);return{values:t,split:o,indexes:r,types:i}}function eX(n){return SS(n).values}function tX(n){const{split:e,types:t}=SS(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=t[a];o===QG?s+=rS(i[a]):o===JG?s+=Vs.transform(i[a]):s+=i[a]}return s}}const Pme=n=>typeof n=="number"?0:n;function Fme(n){const e=eX(n);return tX(n)(e.map(Pme))}const Ip={test:kme,parse:eX,createTransformer:tX,getAnimatableNone:Fme},Lme=new Set(["brightness","contrast","saturate","opacity"]);function Ime(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(b8)||[];if(!r)return n;const i=t.replace(r,"");let s=Lme.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const $me=/\b([a-z-]*)\(.*?\)/gu,LP={...Ip,getAnimatableNone:n=>{const e=n.match($me);return e?e.map(Ime).join(" "):n}},Bme={...i8,color:Vs,backgroundColor:Vs,outlineColor:Vs,fill:Vs,stroke:Vs,borderColor:Vs,borderTopColor:Vs,borderRightColor:Vs,borderBottomColor:Vs,borderLeftColor:Vs,filter:LP,WebkitFilter:LP},w8=n=>Bme[n];function nX(n,e){let t=w8(n);return t!==LP&&(t=Ip),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Wme=new Set(["auto","none","0"]);function zme(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!Wme.has(s)&&SS(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=nX(t,i)}const Y6=n=>n===rw||n===Vt,K6=(n,e)=>parseFloat(n.split(", ")[e]),Z6=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return K6(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?K6(s[1],n):0}},qme=new Set(["x","y","z"]),Hme=nw.filter(n=>!qme.has(n));function Vme(n){const e=[];return Hme.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const O1={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Z6(4,13),y:Z6(5,14)};O1.translateX=O1.x;O1.translateY=O1.y;const ev=new Set;let IP=!1,$P=!1;function rX(){if($P){const n=Array.from(ev).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=Vme(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$P=!1,IP=!1,ev.forEach(n=>n.complete()),ev.clear()}function iX(){ev.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&($P=!0)})}function Gme(){iX(),rX()}class _8{constructor(e,t,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ev.add(this),IP||(IP=!0,Pr.read(iX),Pr.resolveKeyframes(rX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&t){const l=r.readValue(t,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ev.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ev.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const sX=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Xme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yme(n){const e=Xme.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function aX(n,e,t=1){const[r,i]=Yme(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return sX(a)?parseFloat(a):a}return r8(i)?aX(i,e,t+1):i}const oX=n=>e=>e.test(n),Kme={test:n=>n==="auto",parse:n=>n},lX=[rw,Vt,Gu,Bf,Ipe,Lpe,Kme],Q6=n=>lX.find(oX(n));class cX extends _8{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),r8(u))){const f=aX(u,t.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!IG.has(r)||e.length!==2)return;const[i,s]=e,a=Q6(i),o=Q6(s);if(a!==o)if(Y6(a)&&Y6(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)Tme(e[i])&&r.push(i);r.length&&zme(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=O1[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=O1[r](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const J6=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ip.test(n)||n==="0")&&!n.startsWith("url("));function Zme(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Qme(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=J6(i,e),o=J6(s,e);return!a||!o?!1:Zme(n)||(t==="spring"||d8(t))&&r}const Jme=n=>n!==null;function b3(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Jme),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ege=40;class uX{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Xu.now(),this.options={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ege?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Gme(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Xu.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!Qme(e,r,i,s))if(a)this.options.duration=0;else{l&&l(b3(e,this.options,t)),o&&o(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,t);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...f},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Jr=(n,e,t)=>n+(e-n)*t;function hO(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function tge({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=hO(l,o,n+1/3),s=hO(l,o,n),a=hO(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function OR(n,e){return t=>t>0?e:n}const fO=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},nge=[FP,Lg,qx],rge=n=>nge.find(e=>e.test(n));function e9(n){const e=rge(n);if(!e)return!1;let t=e.parse(n);return e===qx&&(t=tge(t)),t}const t9=(n,e)=>{const t=e9(n),r=e9(e);if(!t||!r)return OR(n,e);const i={...t};return s=>(i.red=fO(t.red,r.red,s),i.green=fO(t.green,r.green,s),i.blue=fO(t.blue,r.blue,s),i.alpha=Jr(t.alpha,r.alpha,s),Lg.transform(i))},ige=(n,e)=>t=>e(n(t)),FA=(...n)=>n.reduce(ige),BP=new Set(["none","hidden"]);function sge(n,e){return BP.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function age(n,e){return t=>Jr(n,e,t)}function S8(n){return typeof n=="number"?age:typeof n=="string"?r8(n)?OR:Vs.test(n)?t9:cge:Array.isArray(n)?dX:typeof n=="object"?Vs.test(n)?t9:oge:OR}function dX(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>S8(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function oge(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=S8(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function lge(n,e){var t;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=n.indexes[a][i[a]],l=(t=n.values[o])!==null&&t!==void 0?t:0;r[s]=l,i[a]++}return r}const cge=(n,e)=>{const t=Ip.createTransformer(e),r=SS(n),i=SS(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?BP.has(n)&&!i.values.length||BP.has(e)&&!r.values.length?sge(n,e):FA(dX(lge(r,i),i.values),t):OR(n,e)};function hX(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Jr(n,e,t):S8(n)(n,e)}const uge=5;function fX(n,e,t){const r=Math.max(e-uge,0);return $G(t-n(r),e-r)}const ci={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},n9=.001;function dge({duration:n=ci.duration,bounce:e=ci.bounce,velocity:t=ci.velocity,mass:r=ci.mass}){let i,s,a=1-e;a=Eh(ci.minDamping,ci.maxDamping,a),n=Eh(ci.minDuration,ci.maxDuration,bh(n)),a<1?(i=u=>{const f=u*a,p=f*n,m=f-t,y=WP(u,a),b=Math.exp(-p);return n9-m/y*b},s=u=>{const p=u*a*n,m=p*t+t,y=Math.pow(a,2)*Math.pow(u,2)*n,b=Math.exp(-p),x=WP(Math.pow(u,2),a);return(-i(u)+n9>0?-1:1)*((m-y)*b)/x}):(i=u=>{const f=Math.exp(-u*n),p=(u-t)*n+1;return-.001+f*p},s=u=>{const f=Math.exp(-u*n),p=(t-u)*(n*n);return f*p});const o=5/n,l=fge(i,s,o);if(n=vh(n),isNaN(l))return{stiffness:ci.stiffness,damping:ci.damping,duration:n};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:a*2*Math.sqrt(r*u),duration:n}}}const hge=12;function fge(n,e,t){let r=t;for(let i=1;i<hge;i++)r=r-n(r)/e(r);return r}function WP(n,e){return n*Math.sqrt(1-e*e)}const pge=["duration","bounce"],mge=["stiffness","damping","mass"];function r9(n,e){return e.some(t=>n[t]!==void 0)}function gge(n){let e={velocity:ci.velocity,stiffness:ci.stiffness,damping:ci.damping,mass:ci.mass,isResolvedFromDuration:!1,...n};if(!r9(n,mge)&&r9(n,pge))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*Eh(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:ci.mass,stiffness:i,damping:s}}else{const t=dge(n);e={...e,...t,mass:ci.mass},e.isResolvedFromDuration=!0}return e}function pX(n=ci.visualDuration,e=ci.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:p,velocity:m,isResolvedFromDuration:y}=gge({...t,velocity:-bh(t.velocity||0)}),b=m||0,x=u/(2*Math.sqrt(l*f)),w=a-s,S=bh(Math.sqrt(l/f)),T=Math.abs(w)<5;r||(r=T?ci.restSpeed.granular:ci.restSpeed.default),i||(i=T?ci.restDelta.granular:ci.restDelta.default);let E;if(x<1){const N=WP(S,x);E=U=>{const O=Math.exp(-x*S*U);return a-O*((b+x*S*w)/N*Math.sin(N*U)+w*Math.cos(N*U))}}else if(x===1)E=N=>a-Math.exp(-S*N)*(w+(b+S*w)*N);else{const N=S*Math.sqrt(x*x-1);E=U=>{const O=Math.exp(-x*S*U),M=Math.min(N*U,300);return a-O*((b+x*S*w)*Math.sinh(M)+N*w*Math.cosh(M))/N}}const R={calculatedDuration:y&&p||null,next:N=>{const U=E(N);if(y)o.done=N>=p;else{let O=0;x<1&&(O=N===0?vh(b):fX(E,N,U));const M=Math.abs(O)<=r,P=Math.abs(a-U)<=i;o.done=M&&P}return o.value=o.done?a:U,o},toString:()=>{const N=Math.min(kG(R),OP),U=UG(O=>R.next(N*O).value,N,30);return N+"ms "+U}};return R}function i9({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:f}){const p=n[0],m={done:!1,value:p},y=M=>o!==void 0&&M<o||l!==void 0&&M>l,b=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let x=t*e;const w=p+x,S=a===void 0?w:a(w);S!==w&&(x=S-p);const T=M=>-x*Math.exp(-M/r),E=M=>S+T(M),R=M=>{const P=T(M),H=E(M);m.done=Math.abs(P)<=u,m.value=m.done?S:H};let N,U;const O=M=>{y(m.value)&&(N=M,U=pX({keyframes:[m.value,b(m.value)],velocity:fX(E,M,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return O(0),{calculatedDuration:null,next:M=>{let P=!1;return!U&&N===void 0&&(P=!0,R(M),O(M)),N!==void 0&&M>=N?U.next(M-N):(!P&&R(M),m)}}}const yge=PA(.42,0,1,1),vge=PA(0,0,.58,1),mX=PA(.42,0,.58,1),bge=n=>Array.isArray(n)&&typeof n[0]!="number",xge={linear:zo,easeIn:yge,easeInOut:mX,easeOut:vge,circIn:v8,circInOut:YG,circOut:XG,backIn:y8,backInOut:VG,backOut:HG,anticipate:GG},s9=n=>{if(h8(n)){hG(n.length===4);const[e,t,r,i]=n;return PA(e,t,r,i)}else if(typeof n=="string")return xge[n];return n};function wge(n,e,t){const r=[],i=t||hX,s=n.length-1;for(let a=0;a<s;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||zo:e;o=FA(l,o)}r.push(o)}return r}function _ge(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(hG(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=wge(e,r,i),l=o.length,u=f=>{if(a&&f<n[0])return e[0];let p=0;if(l>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const m=k1(n[p],n[p+1],f);return o[p](m)};return t?f=>u(Eh(n[0],n[s-1],f)):u}function Sge(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=k1(0,e,r);n.push(Jr(t,1,i))}}function Dge(n){const e=[0];return Sge(e,n.length-1),e}function Age(n,e){return n.map(t=>t*e)}function Tge(n,e){return n.map(()=>e||mX).splice(0,n.length-1)}function MR({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=bge(r)?r.map(s9):s9(r),s={done:!1,value:e[0]},a=Age(t&&t.length===e.length?t:Dge(e),n),o=_ge(a,e,{ease:Array.isArray(i)?i:Tge(e,i)});return{calculatedDuration:n,next:l=>(s.value=o(l),s.done=l>=n,s)}}const Ege=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Pr.update(e,!0),stop:()=>Lp(e),now:()=>xs.isProcessing?xs.timestamp:Xu.now()}},Cge={decay:i9,inertia:i9,tween:MR,keyframes:MR,spring:pX},Nge=n=>n/100;class D8 extends uX{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:t,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||_8,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(s,o,t,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=d8(t)?t:Cge[t]||MR;let l,u;o!==MR&&typeof e[0]!="number"&&(l=FA(Nge,hX(e[0],e[1])),e=[0,100]);const f=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=kG(f));const{calculatedDuration:p}=f,m=p+i,y=m*(r+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:m,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:f,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:y,repeatType:b,repeatDelay:x,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-m*(this.speed>=0?1:-1),T=this.speed>=0?S<0:S>f;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let E=this.currentTime,R=s;if(y){const M=Math.min(this.currentTime,f)/p;let P=Math.floor(M),H=M%1;!H&&M>=1&&(H=1),H===1&&P--,P=Math.min(P,y+1),!!(P%2)&&(b==="reverse"?(H=1-H,x&&(H-=x/p)):b==="mirror"&&(R=a)),E=Eh(0,1,H)*p}const N=T?{done:!1,value:l[0]}:R.next(E);o&&(N.value=o(N.value));let{done:U}=N;!T&&u!==null&&(U=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return O&&i!==void 0&&(N.value=b3(l,this.options,i)),w&&w(N.value),O&&this.finish(),N}get duration(){const{resolved:e}=this;return e?bh(e.calculatedDuration):0}get time(){return bh(this.currentTime)}set time(e){e=vh(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=bh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Ege,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Rge=new Set(["opacity","clipPath","filter","transform"]);function jge(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const u={[e]:t};l&&(u.offset=l);const f=MG(o,i);return Array.isArray(f)&&(u.easing=f),n.animate(u,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const kge=K4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),PR=10,Uge=2e4;function Oge(n){return d8(n.type)||n.type==="spring"||!OG(n.ease)}function Mge(n,e){const t=new D8({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const i=[];let s=0;for(;!r.done&&s<Uge;)r=t.sample(s),i.push(r.value),s+=PR;return{times:void 0,keyframes:i,duration:s-PR,ease:"linear"}}const gX={anticipate:GG,backInOut:VG,circInOut:YG};function Pge(n){return n in gX}class a9 extends uX{constructor(e){super(e);const{name:t,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new cX(s,(a,o)=>this.onKeyframesResolved(a,o),t,r,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&UR()&&Pge(s)&&(s=gX[s]),Oge(this.options)){const{onComplete:p,onUpdate:m,motionValue:y,element:b,...x}=this.options,w=Mge(e,x);e=w.keyframes,e.length===1&&(e[1]=e[0]),r=w.duration,i=w.times,s=w.ease,a="keyframes"}const f=jge(o.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(z6(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;o.set(b3(e,this.options,t)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:r,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return bh(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return bh(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=vh(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return zo;const{animation:r}=t;z6(r,e)}return zo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:i,type:s,ease:a,times:o}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:p,element:m,...y}=this.options,b=new D8({...y,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),x=vh(this.time);u.setWithVelocity(b.sample(x-PR).value,b.sample(x).value,PR)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return kge()&&r&&Rge.has(r)&&!l&&!u&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const Fge={type:"spring",stiffness:500,damping:25,restSpeed:10},Lge=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Ige={type:"keyframes",duration:.8},$ge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bge=(n,{keyframes:e})=>e.length>2?Ige:Ev.has(n)?n.startsWith("scale")?Lge(e[1]):Fge:$ge;function Wge({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const A8=(n,e,t,r={},i,s)=>a=>{const o=u8(r,n)||{},l=o.delay||r.delay||0;let{elapsed:u=0}=r;u=u-vh(l);let f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:i};Wge(o)||(f={...f,...Bge(n,f)}),f.duration&&(f.duration=vh(f.duration)),f.repeatDelay&&(f.repeatDelay=vh(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const m=b3(f.keyframes,o);if(m!==void 0)return Pr.update(()=>{f.onUpdate(m),f.onComplete()}),new ome([])}return!s&&a9.supports(f)?new a9(f):new D8(f)};function zge({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function yX(n,e,{delay:t=0,transitionOverride:r,type:i}={}){var s;let{transition:a=n.getDefaultTransition(),transitionEnd:o,...l}=e;r&&(a=r);const u=[],f=i&&n.animationState&&n.animationState.getState()[i];for(const p in l){const m=n.getValue(p,(s=n.latestValues[p])!==null&&s!==void 0?s:null),y=l[p];if(y===void 0||f&&zge(f,p))continue;const b={delay:t,...u8(a||{},p)};let x=!1;if(window.MotionHandoffAnimation){const S=BG(n);if(S){const T=window.MotionHandoffAnimation(S,p,Pr);T!==null&&(b.startTime=T,x=!0)}}PP(n,p),m.start(A8(p,m,y,n.shouldReduceMotion&&IG.has(p)?{type:!1}:b,n,x));const w=m.animation;w&&u.push(w)}return o&&Promise.all(u).then(()=>{Pr.update(()=>{o&&wme(n,o)})}),u}function zP(n,e,t={}){var r;const i=v3(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const a=i?()=>Promise.all(yX(n,i,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:m}=s;return qge(n,e,f+u,p,m,t)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,f]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>f())}else return Promise.all([a(),o(t.delay)])}function qge(n,e,t=0,r=0,i=1,s){const a=[],o=(n.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(n.variantChildren).sort(Hge).forEach((u,f)=>{u.notify("AnimationStart",e),a.push(zP(u,e,{...s,delay:t+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Hge(n,e){return n.sortNodePosition(e)}function Vge(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>zP(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=zP(n,e,t);else{const i=typeof e=="function"?v3(n,e,t.custom):e;r=Promise.all(yX(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const Gge=Q4.length;function vX(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?vX(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Gge;t++){const r=Q4[t],i=n.props[r];(xS(i)||i===!1)&&(e[r]=i)}return e}const Xge=[...Z4].reverse(),Yge=Z4.length;function Kge(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Vge(n,t,r)))}function Zge(n){let e=Kge(n),t=o9(),r=!0;const i=l=>(u,f)=>{var p;const m=v3(n,f,l==="exit"?(p=n.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:y,transitionEnd:b,...x}=m;u={...u,...x,...b}}return u};function s(l){e=l(n)}function a(l){const{props:u}=n,f=vX(n.parent)||{},p=[],m=new Set;let y={},b=1/0;for(let w=0;w<Yge;w++){const S=Xge[w],T=t[S],E=u[S]!==void 0?u[S]:f[S],R=xS(E),N=S===l?T.isActive:null;N===!1&&(b=w);let U=E===f[S]&&E!==u[S]&&R;if(U&&r&&n.manuallyAnimateOnMount&&(U=!1),T.protectedKeys={...y},!T.isActive&&N===null||!E&&!T.prevProp||g3(E)||typeof E=="boolean")continue;const O=Qge(T.prevProp,E);let M=O||S===l&&T.isActive&&!U&&R||w>b&&R,P=!1;const H=Array.isArray(E)?E:[E];let X=H.reduce(i(S),{});N===!1&&(X={});const{prevResolvedValues:I={}}=T,q={...I,...X},L=W=>{M=!0,m.has(W)&&(P=!0,m.delete(W)),T.needsAnimating[W]=!0;const se=n.getValue(W);se&&(se.liveStyle=!1)};for(const W in q){const se=X[W],K=I[W];if(y.hasOwnProperty(W))continue;let G=!1;UP(se)&&UP(K)?G=!jG(se,K):G=se!==K,G?se!=null?L(W):m.add(W):se!==void 0&&m.has(W)?L(W):T.protectedKeys[W]=!0}T.prevProp=E,T.prevResolvedValues=X,T.isActive&&(y={...y,...X}),r&&n.blockInitialAnimation&&(M=!1),M&&(!(U&&O)||P)&&p.push(...H.map(W=>({animation:W,options:{type:S}})))}if(m.size){const w={};m.forEach(S=>{const T=n.getBaseTarget(S),E=n.getValue(S);E&&(E.liveStyle=!0),w[S]=T??null}),p.push({animation:w})}let x=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(p):Promise.resolve()}function o(l,u){var f;if(t[l].isActive===u)return Promise.resolve();(f=n.variantChildren)===null||f===void 0||f.forEach(m=>{var y;return(y=m.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),t[l].isActive=u;const p=a(l);for(const m in t)t[m].protectedKeys={};return p}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=o9(),r=!0}}}function Qge(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!jG(e,n):!1}function wg(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o9(){return{animate:wg(!0),whileInView:wg(),whileHover:wg(),whileTap:wg(),whileDrag:wg(),whileFocus:wg(),exit:wg()}}class Qp{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Jge extends Qp{constructor(e){super(e),e.animationState||(e.animationState=Zge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();g3(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let eye=0;class tye extends Qp{constructor(){super(...arguments),this.id=eye++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const nye={animation:{Feature:Jge},exit:{Feature:tye}};function DS(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function LA(n){return{point:{x:n.pageX,y:n.pageY}}}const rye=n=>e=>f8(e)&&n(e,LA(e));function iS(n,e,t,r){return DS(n,e,rye(t),r)}const l9=(n,e)=>Math.abs(n-e);function iye(n,e){const t=l9(n.x,e.x),r=l9(n.y,e.y);return Math.sqrt(t**2+r**2)}class bX{constructor(e,t,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=mO(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=iye(p.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:b}=p,{timestamp:x}=xs;this.history.push({...b,timestamp:x});const{onStart:w,onMove:S}=this.handlers;m||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=pO(m,this.transformPagePoint),Pr.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=mO(p.type==="pointercancel"?this.lastMoveEventInfo:pO(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,w),b&&b(p,w)},!f8(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=i||window;const a=LA(e),o=pO(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=xs;this.history=[{...l,timestamp:u}];const{onSessionStart:f}=t;f&&f(e,mO(o,this.history)),this.removeListeners=FA(iS(this.contextWindow,"pointermove",this.handlePointerMove),iS(this.contextWindow,"pointerup",this.handlePointerUp),iS(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lp(this.updatePoint)}}function pO(n,e){return e?{point:e(n.point)}:n}function c9(n,e){return{x:n.x-e.x,y:n.y-e.y}}function mO({point:n},e){return{point:n,delta:c9(n,xX(e)),offset:c9(n,sye(e)),velocity:aye(e,.1)}}function sye(n){return n[0]}function xX(n){return n[n.length-1]}function aye(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=xX(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>vh(e)));)t--;if(!r)return{x:0,y:0};const s=bh(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const wX=1e-4,oye=1-wX,lye=1+wX,_X=.01,cye=0-_X,uye=0+_X;function Xo(n){return n.max-n.min}function dye(n,e,t){return Math.abs(n-e)<=t}function u9(n,e,t,r=.5){n.origin=r,n.originPoint=Jr(e.min,e.max,n.origin),n.scale=Xo(t)/Xo(e),n.translate=Jr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=oye&&n.scale<=lye||isNaN(n.scale))&&(n.scale=1),(n.translate>=cye&&n.translate<=uye||isNaN(n.translate))&&(n.translate=0)}function sS(n,e,t,r){u9(n.x,e.x,t.x,r?r.originX:void 0),u9(n.y,e.y,t.y,r?r.originY:void 0)}function d9(n,e,t){n.min=t.min+e.min,n.max=n.min+Xo(e)}function hye(n,e,t){d9(n.x,e.x,t.x),d9(n.y,e.y,t.y)}function h9(n,e,t){n.min=e.min-t.min,n.max=n.min+Xo(e)}function aS(n,e,t){h9(n.x,e.x,t.x),h9(n.y,e.y,t.y)}function fye(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Jr(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Jr(t,n,r.max):Math.min(n,t)),n}function f9(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function pye(n,{top:e,left:t,bottom:r,right:i}){return{x:f9(n.x,t,i),y:f9(n.y,e,r)}}function p9(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function mye(n,e){return{x:p9(n.x,e.x),y:p9(n.y,e.y)}}function gye(n,e){let t=.5;const r=Xo(n),i=Xo(e);return i>r?t=k1(e.min,e.max-r,n.min):r>i&&(t=k1(n.min,n.max-i,e.min)),Eh(0,1,t)}function yye(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const qP=.35;function vye(n=qP){return n===!1?n=0:n===!0&&(n=qP),{x:m9(n,"left","right"),y:m9(n,"top","bottom")}}function m9(n,e,t){return{min:g9(n,e),max:g9(n,t)}}function g9(n,e){return typeof n=="number"?n:n[e]||0}const y9=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hx=()=>({x:y9(),y:y9()}),v9=()=>({min:0,max:0}),xi=()=>({x:v9(),y:v9()});function gl(n){return[n("x"),n("y")]}function SX({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function bye({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function xye(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function gO(n){return n===void 0||n===1}function HP({scale:n,scaleX:e,scaleY:t}){return!gO(n)||!gO(e)||!gO(t)}function Cg(n){return HP(n)||DX(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function DX(n){return b9(n.x)||b9(n.y)}function b9(n){return n&&n!=="0%"}function FR(n,e,t){const r=n-t,i=e*r;return t+i}function x9(n,e,t,r,i){return i!==void 0&&(n=FR(n,i,r)),FR(n,t,r)+e}function VP(n,e=0,t=1,r,i){n.min=x9(n.min,e,t,r,i),n.max=x9(n.max,e,t,r,i)}function AX(n,{x:e,y:t}){VP(n.x,e.translate,e.scale,e.originPoint),VP(n.y,t.translate,t.scale,t.originPoint)}const w9=.999999999999,_9=1.0000000000001;function wye(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gx(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,AX(n,a)),r&&Cg(s.latestValues)&&Gx(n,s.latestValues))}e.x<_9&&e.x>w9&&(e.x=1),e.y<_9&&e.y>w9&&(e.y=1)}function Vx(n,e){n.min=n.min+e,n.max=n.max+e}function S9(n,e,t,r,i=.5){const s=Jr(n.min,n.max,i);VP(n,e,t,s,r)}function Gx(n,e){S9(n.x,e.x,e.scaleX,e.scale,e.originX),S9(n.y,e.y,e.scaleY,e.scale,e.originY)}function TX(n,e){return SX(xye(n.getBoundingClientRect(),e))}function _ye(n,e,t){const r=TX(n,t),{scroll:i}=e;return i&&(Vx(r.x,i.offset.x),Vx(r.y,i.offset.y)),r}const EX=({current:n})=>n?n.ownerDocument.defaultView:null,Sye=new WeakMap;class Dye{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xi(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(LA(f).point)},s=(f,p)=>{const{drag:m,dragPropagation:y,onDragStart:b}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gme(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gl(w=>{let S=this.getAxisMotionValue(w).get()||0;if(Gu.test(S)){const{projection:T}=this.visualElement;if(T&&T.layout){const E=T.layout.layoutBox[w];E&&(S=Xo(E)*(parseFloat(S)/100))}}this.originPoint[w]=S}),b&&Pr.postRender(()=>b(f,p)),PP(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(f,p)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:b,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=p;if(y&&this.currentDirection===null){this.currentDirection=Aye(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),x&&x(f,p)},o=(f,p)=>this.stop(f,p),l=()=>gl(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bX(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:EX(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Pr.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!zC(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=fye(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;t&&zx(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=pye(i.layoutBox,t):this.constraints=!1,this.elastic=vye(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&gl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=yye(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zx(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=_ye(r,i.root,this.visualElement.getTransformPagePoint());let a=mye(i.layout.layoutBox,s);if(t){const o=t(bye(a));this.hasMutatedConstraints=!!o,o&&(a=SX(o))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=gl(f=>{if(!zC(f,t,this.currentDirection))return;let p=l&&l[f]||{};a&&(p={min:0,max:0});const m=i?200:1e6,y=i?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,b)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return PP(this.visualElement,e),r.start(A8(e,r,0,t,this.visualElement,!1))}stopAnimation(){gl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gl(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gl(t=>{const{drag:r}=this.getProps();if(!zC(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t];s.set(e[t]-Jr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!zx(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=gye({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gl(a=>{if(!zC(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Jr(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Sye.set(this.visualElement,this);const e=this.visualElement.current,t=iS(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zx(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pr.read(r);const a=DS(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(gl(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=l[f].translate,p.set(p.get()+l[f].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=qP,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function zC(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Aye(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Tye extends Qp{constructor(e){super(e),this.removeGroupControls=zo,this.removeListeners=zo,this.controls=new Dye(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zo}unmount(){this.removeGroupControls(),this.removeListeners()}}const D9=n=>(e,t)=>{n&&Pr.postRender(()=>n(e,t))};class Eye extends Qp{constructor(){super(...arguments),this.removePointerDownListener=zo}onPointerDown(e){this.session=new bX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:D9(e),onStart:D9(t),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Pr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=iS(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xN={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function A9(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const d_={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Vt.test(n))n=parseFloat(n);else return n;const t=A9(n,e.target.x),r=A9(n,e.target.y);return`${t}% ${r}%`}},Cye={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Ip.parse(n);if(i.length>5)return r;const s=Ip.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=Jr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class Nye extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Ype(Rye),s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),xN.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==t||t===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Pr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),e8.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CX(n){const[e,t]=uG(),r=C.useContext(V4);return d.jsx(Nye,{...n,layoutGroup:r,switchLayoutGroup:C.useContext(vG),isPresent:e,safeToRemove:t})}const Rye={borderRadius:{...d_,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:d_,borderTopRightRadius:d_,borderBottomLeftRadius:d_,borderBottomRightRadius:d_,boxShadow:Cye};function jye(n,e,t){const r=Ys(n)?n:_S(n);return r.start(A8("",r,e,t)),r.animation}function kye(n){return n instanceof SVGElement&&n.tagName!=="svg"}const Uye=(n,e)=>n.depth-e.depth;class Oye{constructor(){this.children=[],this.isDirty=!1}add(e){p8(this.children,e),this.isDirty=!0}remove(e){m8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Uye),this.isDirty=!1,this.children.forEach(e)}}function Mye(n,e){const t=Xu.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Lp(r),n(s-e))};return Pr.read(r,!0),()=>Lp(r)}const NX=["TopLeft","TopRight","BottomLeft","BottomRight"],Pye=NX.length,T9=n=>typeof n=="string"?parseFloat(n):n,E9=n=>typeof n=="number"||Vt.test(n);function Fye(n,e,t,r,i,s){i?(n.opacity=Jr(0,t.opacity!==void 0?t.opacity:1,Lye(r)),n.opacityExit=Jr(e.opacity!==void 0?e.opacity:1,0,Iye(r))):s&&(n.opacity=Jr(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let a=0;a<Pye;a++){const o=`border${NX[a]}Radius`;let l=C9(e,o),u=C9(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||E9(l)===E9(u)?(n[o]=Math.max(Jr(T9(l),T9(u),r),0),(Gu.test(u)||Gu.test(l))&&(n[o]+="%")):n[o]=u}(e.rotate||t.rotate)&&(n.rotate=Jr(e.rotate||0,t.rotate||0,r))}function C9(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Lye=RX(0,.5,XG),Iye=RX(.5,.95,zo);function RX(n,e,t){return r=>r<n?0:r>e?1:t(k1(n,e,r))}function N9(n,e){n.min=e.min,n.max=e.max}function ul(n,e){N9(n.x,e.x),N9(n.y,e.y)}function R9(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function j9(n,e,t,r,i){return n-=e,n=FR(n,1/t,r),i!==void 0&&(n=FR(n,1/i,r)),n}function $ye(n,e=0,t=1,r=.5,i,s=n,a=n){if(Gu.test(e)&&(e=parseFloat(e),e=Jr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Jr(s.min,s.max,r);n===s&&(o-=e),n.min=j9(n.min,e,t,o,i),n.max=j9(n.max,e,t,o,i)}function k9(n,e,[t,r,i],s,a){$ye(n,e[t],e[r],e[i],e.scale,s,a)}const Bye=["x","scaleX","originX"],Wye=["y","scaleY","originY"];function U9(n,e,t,r){k9(n.x,e,Bye,t?t.x:void 0,r?r.x:void 0),k9(n.y,e,Wye,t?t.y:void 0,r?r.y:void 0)}function O9(n){return n.translate===0&&n.scale===1}function jX(n){return O9(n.x)&&O9(n.y)}function M9(n,e){return n.min===e.min&&n.max===e.max}function zye(n,e){return M9(n.x,e.x)&&M9(n.y,e.y)}function P9(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function kX(n,e){return P9(n.x,e.x)&&P9(n.y,e.y)}function F9(n){return Xo(n.x)/Xo(n.y)}function L9(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class qye{constructor(){this.members=[]}add(e){p8(this.members,e),e.scheduleRender()}remove(e){if(m8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hye(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:m,skewX:y,skewY:b}=t;u&&(r=`perspective(${u}px) ${r}`),f&&(r+=`rotate(${f}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),y&&(r+=`skewX(${y}deg) `),b&&(r+=`skewY(${b}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Ng={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},j_=typeof window<"u"&&window.MotionDebug!==void 0,yO=["","X","Y","Z"],Vye={visibility:"hidden"},I9=1e3;let Gye=0;function vO(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function UX(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=BG(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Pr,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&UX(r)}function OX({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Gye++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,j_&&(Ng.totalNodes=Ng.resolvedTargetDeltas=Ng.recalculatedProjection=0),this.nodes.forEach(Kye),this.nodes.forEach(tve),this.nodes.forEach(nve),this.nodes.forEach(Zye),j_&&window.MotionDebug.record(Ng)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oye)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new g8),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=kye(a),this.instance=a;const{layoutId:l,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),n){let p;const m=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Mye(m,250),xN.hasAnimatedSinceResize&&(xN.hasAnimatedSinceResize=!1,this.nodes.forEach(B9))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||ove,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=f.getProps(),T=!this.targetLayout||!kX(this.targetLayout,b)||y,E=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,E);const R={...u8(x,"layout"),onPlay:w,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else m||B9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rve),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&UX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($9);return}this.isUpdating||this.nodes.forEach(Jye),this.isUpdating=!1,this.nodes.forEach(eve),this.nodes.forEach(Xye),this.nodes.forEach(Yye),this.clearAllSnapshots();const o=Xu.now();xs.delta=Eh(0,1e3/60,o-xs.timestamp),xs.timestamp=o,xs.isProcessing=!0,cO.update.process(xs),cO.preRender.process(xs),cO.render.process(xs),xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e8.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qye),this.sharedNodes.forEach(ive)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!jX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&(o||Cg(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),lve(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return xi();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(cve))){const{scroll:f}=this.root;f&&(Vx(l.x,f.offset.x),Vx(l.y,f.offset.y))}return l}removeElementScroll(a){var o;const l=xi();if(ul(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:m}=f;f!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&ul(l,a),Vx(l.x,p.offset.x),Vx(l.y,p.offset.y))}return l}applyTransform(a,o=!1){const l=xi();ul(l,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Gx(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Cg(f.latestValues)&&Gx(l,f.latestValues)}return Cg(this.latestValues)&&Gx(l,this.latestValues),l}removeTransform(a){const o=xi();ul(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Cg(u.latestValues))continue;HP(u.latestValues)&&u.updateSnapshot();const f=xi(),p=u.measurePageBox();ul(f,p),U9(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Cg(this.latestValues)&&U9(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=xs.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xi(),this.relativeTargetOrigin=xi(),aS(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ul(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xi(),this.targetWithTransforms=xi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hye(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ul(this.target,this.layout.layoutBox),AX(this.target,this.targetDelta)):ul(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xi(),this.relativeTargetOrigin=xi(),aS(this.relativeTargetOrigin,this.target,y.target),ul(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}j_&&Ng.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||HP(this.parent.latestValues)||DX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===xs.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ul(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;wye(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xi());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R9(this.prevProjectionDelta.x,this.projectionDelta.x),R9(this.prevProjectionDelta.y,this.projectionDelta.y)),sS(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==y||!L9(this.projectionDelta.x,this.prevProjectionDelta.x)||!L9(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),j_&&Ng.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hx(),this.projectionDelta=Hx(),this.projectionDeltaWithTransform=Hx()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},p=Hx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=xi(),y=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=y!==b,w=this.getStack(),S=!w||w.members.length<=1,T=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(ave));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const N=R/1e3;W9(p.x,a.x,N),W9(p.y,a.y,N),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(aS(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sve(this.relativeTarget,this.relativeTargetOrigin,m,N),E&&zye(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=xi()),ul(E,this.relativeTarget)),x&&(this.animationValues=f,Fye(f,u,this.latestValues,N,T,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pr.update(()=>{xN.hasAnimatedSinceResize=!0,this.currentAnimation=jye(0,I9,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:f}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&MX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||xi();const p=Xo(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+p;const m=Xo(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}ul(o,l),Gx(o,f),sS(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new qye),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&vO("z",a,u,this.animationValues);for(let f=0;f<yO.length;f++)vO(`rotate${yO[f]}`,a,u,this.animationValues),vO(`skew${yO[f]}`,a,u,this.animationValues);a.render();for(const f in u)a.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Vye;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vN(a==null?void 0:a.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=vN(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Cg(this.latestValues)&&(x.transform=f?f({},""):"none",this.hasProjected=!1),x}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=Hye(this.projectionDeltaWithTransform,this.treeScale,m),f&&(u.transform=f(m,u.transform));const{x:y,y:b}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?(l=(o=m.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in kR){if(m[x]===void 0)continue;const{correct:w,applyTo:S}=kR[x],T=u.transform==="none"?m[x]:w(m[x],p);if(S){const E=S.length;for(let R=0;R<E;R++)u[S[R]]=T}else u[x]=T}return this.options.layoutId&&(u.pointerEvents=p===this?vN(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach($9),this.root.sharedNodes.clear()}}}function Xye(n){n.updateLayout()}function Yye(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=t.source!==n.layout.source;s==="size"?gl(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=Xo(m);m.min=r[p].min,m.max=m.min+y}):MX(s,t.layoutBox,r)&&gl(p=>{const m=a?t.measuredBox[p]:t.layoutBox[p],y=Xo(r[p]);m.max=m.min+y,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[p].max=n.relativeTarget[p].min+y)});const o=Hx();sS(o,r,t.layoutBox);const l=Hx();a?sS(l,n.applyTransform(i,!0),t.measuredBox):sS(l,r,t.layoutBox);const u=!jX(o);let f=!1;if(!n.resumeFrom){const p=n.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:y}=p;if(m&&y){const b=xi();aS(b,t.layoutBox,m.layoutBox);const x=xi();aS(x,r,y.layoutBox),kX(b,x)||(f=!0),p.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=b,n.relativeParent=p)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Kye(n){j_&&Ng.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Zye(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Qye(n){n.clearSnapshot()}function $9(n){n.clearMeasurements()}function Jye(n){n.isLayoutDirty=!1}function eve(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function B9(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function tve(n){n.resolveTargetDelta()}function nve(n){n.calcProjection()}function rve(n){n.resetSkewAndRotation()}function ive(n){n.removeLeadSnapshot()}function W9(n,e,t){n.translate=Jr(e.translate,0,t),n.scale=Jr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function z9(n,e,t,r){n.min=Jr(e.min,t.min,r),n.max=Jr(e.max,t.max,r)}function sve(n,e,t,r){z9(n.x,e.x,t.x,r),z9(n.y,e.y,t.y,r)}function ave(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const ove={duration:.45,ease:[.4,0,.1,1]},q9=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),H9=q9("applewebkit/")&&!q9("chrome/")?Math.round:zo;function V9(n){n.min=H9(n.min),n.max=H9(n.max)}function lve(n){V9(n.x),V9(n.y)}function MX(n,e,t){return n==="position"||n==="preserve-aspect"&&!dye(F9(e),F9(t),.2)}function cve(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const uve=OX({attachResizeListener:(n,e)=>DS(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bO={current:void 0},PX=OX({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bO.current){const n=new uve({});n.mount(window),n.setOptions({layoutScroll:!0}),bO.current=n}return bO.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),dve={pan:{Feature:Eye},drag:{Feature:Tye,ProjectionNode:PX,MeasureLayout:CX}};function G9(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&Pr.postRender(()=>s(e,LA(e)))}class hve extends Qp{mount(){const{current:e}=this.node;e&&(this.unmount=dme(e,t=>(G9(this.node,t,"Start"),r=>G9(this.node,r,"End"))))}unmount(){}}class fve extends Qp{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=FA(DS(this.node.current,"focus",()=>this.onFocus()),DS(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function X9(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&Pr.postRender(()=>s(e,LA(e)))}class pve extends Qp{mount(){const{current:e}=this.node;e&&(this.unmount=mme(e,t=>(X9(this.node,t,"Start"),(r,{success:i})=>X9(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const GP=new WeakMap,xO=new WeakMap,mve=n=>{const e=GP.get(n.target);e&&e(n)},gve=n=>{n.forEach(mve)};function yve({root:n,...e}){const t=n||document;xO.has(t)||xO.set(t,{});const r=xO.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(gve,{root:n,...e})),r[i]}function vve(n,e,t){const r=yve(e);return GP.set(n,t),r.observe(n),()=>{GP.delete(n),r.unobserve(n)}}const bve={some:0,all:1};class xve extends Qp{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:bve[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),m=u?f:p;m&&m(l)};return vve(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wve(e,t))&&this.startObserver()}unmount(){}}function wve({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const _ve={inView:{Feature:xve},tap:{Feature:pve},focus:{Feature:fve},hover:{Feature:hve}},Sve={layout:{ProjectionNode:PX,MeasureLayout:CX}},XP={current:null},FX={current:!1};function Dve(){if(FX.current=!0,!!Y4)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>XP.current=n.matches;n.addListener(e),e()}else XP.current=!1}const Ave=[...lX,Vs,Ip],Tve=n=>Ave.find(oX(n)),Y9=new WeakMap;function Eve(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Ys(i))n.addValue(r,i);else if(Ys(s))n.addValue(r,_S(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,_S(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const K9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Cve{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_8,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xu.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Pr.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:f}=a;this.onUpdate=f,this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=y3(t),this.isVariantNode=gG(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in m){const b=m[y];l[y]!==void 0&&Ys(b)&&b.set(l[y],!1)}}mount(e){this.current=e,Y9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),FX.current||Dve(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:XP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Y9.delete(this.current),this.projection&&this.projection.unmount(),Lp(this.notifyUpdate),Lp(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ev.has(e),i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Pr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in U1){const t=U1[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<K9.length;r++){const i=K9[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Eve(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=_S(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sX(i)||KG(i))?i=parseFloat(i):!Tve(i)&&Ip.test(t)&&(i=nX(e,t)),this.setBaseTarget(e,Ys(i)?i.get():i)),Ys(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=n8(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);a&&(i=a[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ys(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new g8),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class LX extends Cve{constructor(){super(...arguments),this.KeyframeResolver=cX}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ys(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function Nve(n){return window.getComputedStyle(n)}class Rve extends LX{constructor(){super(...arguments),this.type="html",this.renderInstance=AG}readValueFromInstance(e,t){if(Ev.has(t)){const r=w8(t);return r&&r.default||0}else{const r=Nve(e),i=(_G(t)?r.getPropertyValue(t):r[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return TX(e,t)}build(e,t,r){s8(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return c8(e,t,r)}}class jve extends LX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ev.has(t)){const r=w8(t);return r&&r.default||0}return t=TG.has(t)?t:J4(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return NG(e,t,r)}build(e,t,r){a8(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,i){EG(e,t,r,i)}mount(e){this.isSVGTag=l8(e.tagName),super.mount(e)}}const kve=(n,e)=>t8(n)?new jve(e):new Rve(e,{allowProjection:n!==C.Fragment}),Uve=ime({...nye,..._ve,...dve,...Sve},kve),bt=bpe(Uve),x3=({isOpen:n,onClose:e})=>{const{userData:t,accessToken:r,refreshToken:i}=kt(),{isMobile:s}=In(),[a,o]=C.useState(!1),l=async p=>{o(!0);try{const y=await(await fetch(`${mr}/create-checkout-session-credits`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t==null?void 0:t.id,package:p})})).json();y.url&&(window.location.href=y.url)}catch(m){console.error("Error creating checkout session:",m)}finally{o(!1)}},u=async()=>{o(!0);try{const m=await(await fetch(`${mr}/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t==null?void 0:t.id,accessToken:r,refreshToken:i})})).json();m.url&&(window.location.href=m.url)}catch(p){console.error("Error creating checkout session:",p)}finally{o(!1)}},f=async()=>{o(!0);try{const m=await(await fetch(`${mr}/create-portal-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t==null?void 0:t.id})})).json();m.url&&(window.location.href=m.url)}catch(p){console.error("Error launching portal:",p)}finally{o(!1)}};return d.jsx(ao,{open:n,onOpenChange:e,children:d.jsxs(Ta,{className:`w-full h-full rounded-none ${_t}`,allowLeave:!0,children:[!s&&d.jsx(Xfe,{}),d.jsxs("div",{className:"text-center",children:[d.jsxs(ls,{className:`${s?"text-3xl":"text-5xl"} font-semibold z-10 mb-1`,children:[(t==null?void 0:t.plan)==="free"?"Upgrade to Persoa":"View Plans",(t==null?void 0:t.plan)==="free"&&d.jsx("span",{className:`${T1} font-bold ${s?"text-2xl":"text-4xl"}`,children:"+"})]}),(t==null?void 0:t.plan)==="free"&&d.jsx("p",{className:`mt-1 ${s?"text-md":"text-xl"} font-medium ${Be}`,children:"Exclusive and immersive interactions with characters from your favorite stories"})]}),d.jsx("div",{className:"align-center w-full z-10 mt-2",children:d.jsxs("div",{className:`bg-white shadow rounded-lg grid w-full ${s?"grid-cols-1 gap-8 p-6 w-full mx-0":"grid-cols-2 gap-12 max-w-7xl p-6 mx-auto"}`,children:[!s&&d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsx("h3",{className:"text-4xl font-semibold",children:"Basic"}),d.jsx("p",{className:"text-gray-500 mt-4 text-2xl",children:"Free"}),(t==null?void 0:t.plan)==="free"?d.jsx(ct,{disabled:!0,className:"mt-4 w-2/3 rounded-full text-md",children:"Your current plan"}):d.jsx(ct,{variant:"outline",disabled:!0,className:"mt-4 w-2/3 rounded-full",children:a?d.jsx(yr,{className:"animate-spin h-6 w-6"}):d.jsx("span",{children:"Basic plan"})}),d.jsx("div",{className:"mt-8",children:d.jsx("div",{className:"space-y-2",children:d.jsxs("div",{className:"flex items-center text-zinc-600",children:[d.jsx(no,{className:"sm"}),d.jsx("span",{className:"ml-2",children:"Basic chats and group chats"})]})})})]}),d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsx("h3",{className:`text-4xl font-semibold ${it}`,children:"Premium"}),(t==null?void 0:t.plan)==="free"&&d.jsx("p",{className:"text-gray-500 mt-4 text-2xl",children:"$9.99/mo"}),(t==null?void 0:t.plan)==="free"?d.jsxs(d.Fragment,{children:[d.jsx(ct,{onClick:u,disabled:a,className:`mt-4 w-2/3 rounded-full font-semibold text-lg bg-[hsl(var(--button-logo-orange))]/80 hover:bg-[hsl(var(--button-logo-orange))] ${it}`,children:a?d.jsx(yr,{className:"animate-spin h-6 w-6"}):d.jsx("span",{children:"Upgrade to Premium"})}),d.jsx("p",{className:"text-zinc-400 text-xs mt-1",children:"Auto renews monthly until canceled"})]}):d.jsxs(d.Fragment,{children:[d.jsx(ct,{disabled:!0,className:"mt-4 w-2/3 rounded-full",children:"Your current plan"}),d.jsx(ct,{variant:"outline",onClick:f,disabled:a,className:"mt-2 w-2/3 rounded-full",children:a?d.jsx(yr,{className:"animate-spin h-6 w-6"}):d.jsx("span",{children:"Manage Plan"})})]}),d.jsx("div",{className:(t==null?void 0:t.plan)==="free"?"mt-6":"mt-8",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center text-main",children:[d.jsx(no,{className:`sm ${CC}`}),d.jsx("span",{className:"ml-2",children:"Unlock extended chat responses"})]}),d.jsxs("div",{className:"flex items-center text-main",children:[d.jsx(no,{className:`text-md ${CC}`}),d.jsx("span",{className:"ml-2",children:"Improved core memories for every chat"})]}),d.jsxs("div",{className:"flex items-center text-main",children:[d.jsx(no,{className:`sm ${CC}`}),d.jsx("span",{className:"ml-2",children:"Access to multiple chat models"})]}),d.jsxs("div",{className:"flex items-center text-main",children:[d.jsx(no,{className:`sm ${CC}`}),d.jsx("span",{className:"ml-2",children:"50 credits per month"}),d.jsxs(Nc,{children:[d.jsx(Rc,{asChild:!0,children:d.jsx(bt.button,{whileHover:{scale:1.1},type:"button",className:"ml-2 inline-flex items-center",children:d.jsx(fS,{className:`w-4 h-4 ${Xe} hover:text-[hsl(var(--text-light))]`})})}),d.jsx(Nl,{side:"right",sideOffset:8,className:`w-48 p-2 text-sm ${Pt((t==null?void 0:t.theme)||Fl("theme"))} shadow-xl rounded-xl`,children:"Can be used towards image and movie creation. Unused funds will not roll over to the next month."})]})]})]})})]})]})}),d.jsxs("div",{className:"align-center w-full z-10 mt-4 pb-12",children:[d.jsx("h3",{className:`text-2xl font-semibold text-center mb-3 ${it}`,children:"Buy Credits"}),d.jsxs("div",{className:`bg-white shadow rounded-lg grid w-full ${s?"grid-cols-1 gap-8 p-6 w-full mx-0":"grid-cols-3 gap-6 max-w-7xl p-6 mx-auto"}`,children:[d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsx("h3",{className:`text-3xl font-semibold ${it}`,children:"Starter"}),d.jsx("p",{className:"text-gray-500 mt-2 text-xl",children:"$4.99"}),d.jsxs("div",{className:"my-4 text-lg font-medium flex items-center justify-center",children:[d.jsx(nS,{className:"w-5 h-5 mr-2"}),d.jsx("span",{children:"125 Credits"})]}),d.jsx(ct,{className:`w-2/3 rounded-full font-semibold text-lg bg-[hsl(var(--button-logo-orange))]/80 hover:bg-[hsl(var(--button-logo-orange))] ${it}`,onClick:()=>{l("starter")},children:"Purchase"})]}),d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsx("h3",{className:`text-3xl font-semibold ${it}`,children:"Medium"}),d.jsx("p",{className:"text-gray-500 mt-2 text-xl",children:"$9.99"}),d.jsxs("div",{className:"my-4 text-lg font-medium flex items-center justify-center",children:[d.jsx(nS,{className:"w-5 h-5 mr-2"}),d.jsx("span",{children:"315 Credits"})]}),d.jsx(ct,{className:`w-2/3 rounded-full font-semibold text-lg bg-[hsl(var(--button-logo-orange))]/80 hover:bg-[hsl(var(--button-logo-orange))] ${it}`,onClick:()=>{l("medium")},children:"Purchase"})]}),d.jsxs("div",{className:"flex flex-col items-center w-full",children:[d.jsx("h3",{className:`text-3xl font-semibold ${it}`,children:"Pro"}),d.jsx("p",{className:"text-gray-500 mt-2 text-xl",children:"$19.99"}),d.jsxs("div",{className:"my-4 text-lg font-medium flex items-center justify-center",children:[d.jsx(nS,{className:"w-5 h-5 mr-2"}),d.jsx("span",{children:"835 Credits"})]}),d.jsx(ct,{className:`w-2/3 rounded-full font-semibold text-lg bg-[hsl(var(--button-logo-orange))]/80 hover:bg-[hsl(var(--button-logo-orange))] ${it}`,onClick:()=>{l("pro")},children:"Purchase"})]})]})]})]})})},Ove=()=>d.jsx("div",{className:"h-9 w-9 animate-pulse rounded-full bg-gray-200"}),IX=({setShowSettings:n=()=>{}})=>{const{user:e,userData:t,userPhoto:r,signOut:i,loading:s}=kt(),a=Fr(),{isMobile:o}=In(),[l,u]=C.useState(!1),f=Pt((t==null?void 0:t.theme)||Fl("theme")),p=C.useCallback(async()=>{try{await i(),a("/")}catch(m){console.error("Error signing out: ",m)}},[a]);return e?d.jsxs(d.Fragment,{children:[d.jsxs(Av,{children:[d.jsx(Tv,{asChild:!0,className:"cursor-pointer",children:d.jsxs(An,{className:"h-10 w-10",children:[d.jsx(Mn,{src:r}),d.jsx(Bn,{className:`${Yr} ${Be} border`,children:dr((t==null?void 0:t.displayName)||"")})]})}),d.jsxs(Yp,{align:"end",className:f,children:[d.jsx("div",{className:"px-2 py-2 flex items-center",children:d.jsx(z4,{onClick:()=>u(!0),isFormatted:!0})}),d.jsxs(_i,{onClick:()=>a(`/profile/${t==null?void 0:t.username}`),children:[d.jsx(uie,{className:"mr-2 h-4 w-4"}),"Profile"]}),d.jsxs(_i,{onClick:()=>n(!0),className:"cursor-pointer",children:[d.jsx(Jie,{className:"mr-2 h-4 w-4"}),"Settings"]}),d.jsxs(_i,{onClick:p,className:"cursor-pointer",children:[d.jsx(jie,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),d.jsx(x3,{isOpen:l,onClose:()=>u(!1)})]}):s?d.jsx(Ove,{}):o?d.jsx(ct,{variant:"default",className:`rounded-full ${ti} ${ri} ${ni}`,onClick:()=>a("/login"),children:"Get Started"}):d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ct,{variant:"default",className:`rounded-full ${ti} ${ri} ${ni}`,onClick:()=>a("/login"),children:"Sign Up"}),d.jsx(ct,{variant:"default",className:`rounded-full ${Zt} ${Be} ${wn}`,onClick:()=>a("/login"),children:"Login"})]})};function YP(n,[e,t]){return Math.min(t,Math.max(e,n))}function Mve(n,e){return C.useReducer((t,r)=>e[t][r]??t,n)}var T8="ScrollArea",[$X,LNe]=Yo(T8),[Pve,Ll]=$X(T8),BX=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=n,[o,l]=C.useState(null),[u,f]=C.useState(null),[p,m]=C.useState(null),[y,b]=C.useState(null),[x,w]=C.useState(null),[S,T]=C.useState(0),[E,R]=C.useState(0),[N,U]=C.useState(!1),[O,M]=C.useState(!1),P=dn(e,X=>l(X)),H=RA(i);return d.jsx(Pve,{scope:t,type:r,dir:H,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:f,content:p,onContentChange:m,scrollbarX:y,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:U,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:O,onScrollbarYEnabledChange:M,onCornerWidthChange:T,onCornerHeightChange:R,children:d.jsx(Ft.div,{dir:H,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":E+"px",...n.style}})})});BX.displayName=T8;var WX="ScrollAreaViewport",zX=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:i,...s}=n,a=Ll(WX,t),o=C.useRef(null),l=dn(e,o,a.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Ft.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...n.style},children:d.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});zX.displayName=WX;var td="ScrollAreaScrollbar",w3=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Ll(td,n.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=n.orientation==="horizontal";return C.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?d.jsx(Fve,{...r,ref:e,forceMount:t}):i.type==="scroll"?d.jsx(Lve,{...r,ref:e,forceMount:t}):i.type==="auto"?d.jsx(qX,{...r,ref:e,forceMount:t}):i.type==="always"?d.jsx(E8,{...r,ref:e}):null});w3.displayName=td;var Fve=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Ll(td,n.__scopeScrollArea),[s,a]=C.useState(!1);return C.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),a(!0)},f=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(Zs,{present:t||s,children:d.jsx(qX,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Lve=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=Ll(td,n.__scopeScrollArea),s=n.orientation==="horizontal",a=S3(()=>l("SCROLL_END"),100),[o,l]=Mve("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,l]),C.useEffect(()=>{const u=i.viewport,f=s?"scrollLeft":"scrollTop";if(u){let p=u[f];const m=()=>{const y=u[f];p!==y&&(l("SCROLL"),a()),p=y};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,s,l,a]),d.jsx(Zs,{present:t||o!=="hidden",children:d.jsx(E8,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:pt(n.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:pt(n.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),qX=C.forwardRef((n,e)=>{const t=Ll(td,n.__scopeScrollArea),{forceMount:r,...i}=n,[s,a]=C.useState(!1),o=n.orientation==="horizontal",l=S3(()=>{if(t.viewport){const u=t.viewport.offsetWidth<t.viewport.scrollWidth,f=t.viewport.offsetHeight<t.viewport.scrollHeight;a(o?u:f)}},10);return M1(t.viewport,l),M1(t.content,l),d.jsx(Zs,{present:r||s,children:d.jsx(E8,{"data-state":s?"visible":"hidden",...i,ref:e})})}),E8=C.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,i=Ll(td,n.__scopeScrollArea),s=C.useRef(null),a=C.useRef(0),[o,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=XX(o.viewport,o.content),f={...r,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function p(m,y){return qve(m,a.current,o,y)}return t==="horizontal"?d.jsx(Ive,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,y=Z9(m,o,i.dir);s.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=p(m,i.dir))}}):t==="vertical"?d.jsx($ve,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,y=Z9(m,o);s.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=p(m))}}):null}),Ive=C.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=Ll(td,n.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),u=dn(e,l,s.onScrollbarXChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(VX,{"data-orientation":"horizontal",...i,ref:u,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":_3(t)+"px",...n.style},onThumbPointerDown:f=>n.onThumbPointerDown(f.x),onDragScroll:f=>n.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(s.viewport){const m=s.viewport.scrollLeft+f.deltaX;n.onWheelScroll(m),KX(m,p)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:IR(a.paddingLeft),paddingEnd:IR(a.paddingRight)}})}})}),$ve=C.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...i}=n,s=Ll(td,n.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),u=dn(e,l,s.onScrollbarYChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),d.jsx(VX,{"data-orientation":"vertical",...i,ref:u,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":_3(t)+"px",...n.style},onThumbPointerDown:f=>n.onThumbPointerDown(f.y),onDragScroll:f=>n.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(s.viewport){const m=s.viewport.scrollTop+f.deltaY;n.onWheelScroll(m),KX(m,p)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:IR(a.paddingTop),paddingEnd:IR(a.paddingBottom)}})}})}),[Bve,HX]=$X(td),VX=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:f,onResize:p,...m}=n,y=Ll(td,t),[b,x]=C.useState(null),w=dn(e,P=>x(P)),S=C.useRef(null),T=C.useRef(""),E=y.viewport,R=r.content-r.viewport,N=as(f),U=as(l),O=S3(p,10);function M(P){if(S.current){const H=P.clientX-S.current.left,X=P.clientY-S.current.top;u({x:H,y:X})}}return C.useEffect(()=>{const P=H=>{const X=H.target;(b==null?void 0:b.contains(X))&&N(H,R)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[E,b,R,N]),C.useEffect(U,[r,U]),M1(b,O),M1(y.content,O),d.jsx(Bve,{scope:t,scrollbar:b,hasThumb:i,onThumbChange:as(s),onThumbPointerUp:as(a),onThumbPositionChange:U,onThumbPointerDown:as(o),children:d.jsx(Ft.div,{...m,ref:w,style:{position:"absolute",...m.style},onPointerDown:pt(n.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),S.current=b.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),M(P))}),onPointerMove:pt(n.onPointerMove,M),onPointerUp:pt(n.onPointerUp,P=>{const H=P.target;H.hasPointerCapture(P.pointerId)&&H.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=T.current,y.viewport&&(y.viewport.style.scrollBehavior=""),S.current=null})})})}),LR="ScrollAreaThumb",C8=C.forwardRef((n,e)=>{const{forceMount:t,...r}=n,i=HX(LR,n.__scopeScrollArea);return d.jsx(Zs,{present:t||i.hasThumb,children:d.jsx(Wve,{ref:e,...r})})}),Wve=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...i}=n,s=Ll(LR,t),a=HX(LR,t),{onThumbPositionChange:o}=a,l=dn(e,p=>a.onThumbChange(p)),u=C.useRef(void 0),f=S3(()=>{u.current&&(u.current(),u.current=void 0)},100);return C.useEffect(()=>{const p=s.viewport;if(p){const m=()=>{if(f(),!u.current){const y=Hve(p,o);u.current=y,o()}};return o(),p.addEventListener("scroll",m),()=>p.removeEventListener("scroll",m)}},[s.viewport,f,o]),d.jsx(Ft.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pt(n.onPointerDownCapture,p=>{const y=p.target.getBoundingClientRect(),b=p.clientX-y.left,x=p.clientY-y.top;a.onThumbPointerDown({x:b,y:x})}),onPointerUp:pt(n.onPointerUp,a.onThumbPointerUp)})});C8.displayName=LR;var N8="ScrollAreaCorner",GX=C.forwardRef((n,e)=>{const t=Ll(N8,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?d.jsx(zve,{...n,ref:e}):null});GX.displayName=N8;var zve=C.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,i=Ll(N8,t),[s,a]=C.useState(0),[o,l]=C.useState(0),u=!!(s&&o);return M1(i.scrollbarX,()=>{var p;const f=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(f),l(f)}),M1(i.scrollbarY,()=>{var p;const f=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(f),a(f)}),u?d.jsx(Ft.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function IR(n){return n?parseInt(n,10):0}function XX(n,e){const t=n/e;return isNaN(t)?0:t}function _3(n){const e=XX(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function qve(n,e,t,r="ltr"){const i=_3(t),s=i/2,a=e||s,o=i-a,l=t.scrollbar.paddingStart+a,u=t.scrollbar.size-t.scrollbar.paddingEnd-o,f=t.content-t.viewport,p=r==="ltr"?[0,f]:[f*-1,0];return YX([l,u],p)(n)}function Z9(n,e,t="ltr"){const r=_3(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=t==="ltr"?[0,a]:[a*-1,0],u=YP(n,l);return YX([0,a],[0,o])(u)}function YX(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function KX(n,e){return n>0&&n<e}var Hve=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return function i(){const s={left:n.scrollLeft,top:n.scrollTop},a=t.left!==s.left,o=t.top!==s.top;(a||o)&&e(),t=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function S3(n,e){const t=as(n),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function M1(n,e){const t=as(e);Mi(()=>{let r=0;if(n){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return i.observe(n),()=>{window.cancelAnimationFrame(r),i.unobserve(n)}}},[n,t])}var D3=BX,ZX=zX,QX=GX;const R8=C.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(D3,{ref:r,className:ft("relative overflow-hidden",n),...t,children:[d.jsx(ZX,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(JX,{}),d.jsx(QX,{})]}));R8.displayName=D3.displayName;const JX=C.forwardRef(({className:n,orientation:e="vertical",...t},r)=>d.jsx(w3,{ref:r,orientation:e,className:ft("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...t,children:d.jsx(C8,{className:"relative flex-1 rounded-full bg-border"})}));JX.displayName=w3.displayName;var Un=(n=>(n.TEEN_AND_UP="teen",n.MATURE="mature",n))(Un||{});const AS=2e5,$o=50,Zu=135,KP=500,IA=n=>({id:n.id,cloneOfId:n.clone_of_id,userId:n.user_id??void 0,name:n.name,shortDescription:n.short_description,personality:n.personality,context:n.context,isPublic:n.is_public,restriction:n.restriction,createdAt:n.created_at,updatedAt:n.updated_at,userName:n.username,chatCount:n.chat_count,likeCount:n.like_count,allowCloning:n.allow_cloning}),eY=n=>{const e={};return n.cloneOfId!==void 0&&(e.clone_of_id=n.cloneOfId),n.userId!==void 0&&(e.user_id=n.userId),n.name!==void 0&&(e.name=n.name),n.shortDescription!==void 0&&(e.short_description=n.shortDescription),n.personality!==void 0&&(e.personality=n.personality),n.context!==void 0&&(e.context=n.context),n.isPublic!==void 0&&(e.is_public=n.isPublic),n.genre!==void 0&&(e.genre=n.genre),n.imagePath!==void 0&&(e.image_path=n.imagePath),n.userName!==void 0&&(e.username=n.userName),n.chatCount!==void 0&&(e.chat_count=n.chatCount),n.likeCount!==void 0&&(e.like_count=n.likeCount),n.allowCloning!==void 0&&(e.allow_cloning=n.allowCloning||!0),n.restriction!==void 0&&(e.restriction=n.restriction),e},tY=async n=>{const e=eY(n),{data:t,error:r}=await qe.from("characters").insert(e).select();if(r)throw r;return IA(t[0])},Q9=new Map,Cv=async n=>{const{data:e,error:t}=await qe.from("characters").select("*").eq("id",n).single();return t?null:IA(e)},TS=async(n,e=!1)=>{const t=await Cv(n);if(!t||e&&t.restriction===Un.MATURE)return null;let r;return t.id&&(r=Q9.get(t.id),r===void 0&&(t!=null&&t.userId)&&(r=await Pl(t.userId,t.id)||void 0,Q9.set(t.id,r??"")),r||(r=void 0)),{...t,photo:r}},nY=async(n,e)=>{const t={...eY(e),updated_at:new Date().toISOString()},{data:r,error:i}=await qe.from("characters").update(t).eq("id",n).select();if(i)throw i;return r&&r.length>0?IA(r[0]):null},rY=async n=>{const{data:e,error:t}=await qe.from("characters").select("chat_count").eq("id",n).single();if(t)throw t;const r=(e.chat_count||0)+1,{error:i}=await qe.from("characters").update({chat_count:r,updated_at:new Date().toISOString()}).eq("id",n);if(i)throw i},J9=async(n,e)=>{const{data:t,error:r}=await qe.from("characters").select("like_count").eq("id",n).single();if(r)throw r;const i=t.like_count||0,s=e?i+1:i-1,{error:a}=await qe.from("characters").update({like_count:s,updated_at:new Date().toISOString()}).eq("id",n);if(a)throw a},Vve=async n=>{const{error:e}=await qe.from("characters").delete().eq("id",n);if(e)throw e},$R=async(n,e=!1,t=!1)=>{let r=qe.from("characters").select("*").eq("user_id",n);t&&(r=r.eq("is_public",!0)),e&&(r=r.eq("restriction","teen"));const{data:i,error:s}=await r;if(s)throw s;const a=i.map(IA),o=new Map;return await Promise.all(a.map(async u=>{if(u.id){let f=o.get(u.id);return!f&&u.userId&&(f=await Pl(u.userId,u.id)||void 0,f&&o.set(u.id,f)),{...u,photo:f}}return{...u,photo:void 0}}))},iY=async n=>{const{data:e,error:t}=await qe.from("character_tags").select("tag_name").eq("character_id",n);return t?null:e.map(r=>r.tag_name)},sY=async n=>{const{data:e,error:t}=await qe.from("character_fandoms").select("fandom_name").eq("character_id",n);return t?null:e.map(r=>r.fandom_name)},Gve=async(n,e)=>{const{count:t}=await qe.from("character_likes").select("*",{count:"exact",head:!0}).eq("user_id",n).eq("character_id",e);return t!==null&&t>0},Xve=async(n,e)=>{const{count:t}=await qe.from("bookmarks").select("*",{count:"exact",head:!0}).eq("user_id",n).eq("character_id",e);return t!==null&&t>0},Yve=async n=>{const{count:e}=await qe.from("story_characters").select("id",{count:"exact",head:!0}).eq("character_id",n);return e!==null&&e>0},ES=n=>({id:n.id,userId:n.user_id,characterId:n.character_id,createdAt:n.created_at,updatedAt:n.updated_at,expiresAt:n.expires_at,preferences:{responseLength:n.response_length},personaId:n.persona_id,storyPersonaId:n.story_persona_id}),Kve=n=>({id:n.id,content:n.content,createdAt:n.created_at,updatedAt:n.updated_at}),Zve=n=>{const e={};return n.userId&&(e.user_id=n.userId),n.characterId&&(e.character_id=n.characterId),e.expires_at=n.expiresAt||null,n.preferences&&n.preferences.responseLength!==void 0&&(e.response_length=n.preferences.responseLength),n.personaId&&(e.persona_id=n.personaId),e},$A=async n=>{const r={user_id:n.userId||null,character_id:n.characterId,response_length:"short",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),expires_at:n.userId===""?new Date(Date.now()+30*60*1e3).toISOString():null,persona_id:n.personaId,story_persona_id:n.storyPersonaId},{data:i,error:s}=await qe.from("chats").insert(r).select();if(s)throw s;return await rY(n.characterId),ES(i[0])},Qve=async n=>{const{data:e,error:t}=await qe.from("chats").select("*").eq("id",n).single();if(t)return null;const r=ES(e);return r.preferences||(r.preferences={responseLength:"short"}),r},j8=async(n,e)=>{const t={...Zve(e),updated_at:new Date().toISOString()},{data:r,error:i}=await qe.from("chats").update(t).eq("id",n).select();if(i)throw i;return r&&r.length>0?ES(r[0]):null},Jve=async n=>{const{data:e,error:t}=await qe.from("chats").delete().eq("id",n).select();if(t)throw t;return e},e$=async(n,e={})=>{const{limit:t=50,before:r}=e;let i=qe.from("chat_messages").select("*").eq("chat_id",n).order("created_at",{ascending:!1}).limit(t);r&&(i=i.lt("created_at",r));const{data:s,error:a}=await i;if(a)throw a;return s.sort((l,u)=>new Date(l.created_at).getTime()-new Date(u.created_at).getTime()).map(l=>({id:l.id,chatId:l.chat_id,role:l.role,content:l.content,createdAt:l.created_at,sceneId:l.scene_id,sceneUserId:l.scene_user_id,hasImage:l.has_image}))},ebe=async n=>{const e={chat_id:n.chatId,role:n.role,content:n.content,created_at:n.createdAt||new Date().toISOString()},{data:t,error:r}=await qe.from("chat_messages").insert(e).select();if(r)throw r;await j8(n.chatId,{});const i=t[0];return{id:i.id,chatId:i.chat_id,role:i.role,content:i.content,createdAt:i.created_at,sceneId:i.scene_id,sceneUserId:i.scene_user_id,hasImage:i.has_image}},tv=async(n,e)=>{try{const{data:{user:t}}=await qe.auth.getUser(),r={userId:t==null?void 0:t.id,characterId:e.id,characterName:e.name},i=await $A(r);n(`/chat/${i.id}`)}catch(t){console.error("Failed to create chat:",t),alert("Failed to create chat.")}},tbe=async n=>{const{data:e,error:t}=await qe.from("core_memories").select("*").eq("chat_id",n);return t?[]:e.map(Kve)},P1=({className:n="",showPopover:e,value:t,onValueChange:r,filteredCharacters:i,handleKeyDown:s,height:a,placeholder:o,hasSearchButton:l=!0})=>{const u=Fr(),[f]=ZF(),{isMobile:p}=In(),[m,y]=C.useState(!1),[b,x]=C.useState(t),w=C.useRef(null),S=C.useRef(null);C.useEffect(()=>{t.trim()&&i!==void 0?y(!0):y(!1)},[t,i]),C.useEffect(()=>{const U=O=>{S.current&&!S.current.contains(O.target)&&w.current&&!w.current.contains(O.target)&&y(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]);const T=U=>{r?r(U.target.value):x(U.target.value)},E=()=>{const U=r?t:b,O=f.get("tab")||"persoas";u(`/search?q=${encodeURIComponent(U)}&tab=${O}`),y(!1)},R=U=>{if(s){s();return}U.key==="Enter"&&E()},N=()=>{var U;r?r(""):x(""),(U=w.current)==null||U.focus()};return d.jsxs("div",{className:`relative ${n}`,children:[d.jsx(lr,{ref:w,type:"text",placeholder:o??"Search persoas, users, fandoms, tags...",className:`w-full focus:outline-none border-none focus:ring-0 focus:border-none ${a} pl-10 pr-16 rounded-full placeholder:text-sm ${Zt} ${Xe}`,value:r?t:b,onChange:T,onKeyDown:R}),d.jsx(_R,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 pointer-events-none text-[hsl(var(--text-muted))]"}),(r?t:b)&&d.jsx(Go,{className:`absolute right-10 top-1/2 -translate-y-1/2 h-4 w-4 cursor-pointer ${Be}`,onClick:N}),l&&d.jsx("button",{onClick:E,className:`absolute right-1 border-2 border-[hsl(var(--background-secondary))] top-1/2 -translate-y-1/2 h-8 w-8 rounded-full flex items-center justify-center ${_t} ${it}`,children:d.jsx(_R,{className:"h-4 w-4"})}),e&&m&&d.jsx("div",{ref:S,className:`absolute top-full left-0 right-0 mt-2 ${_t} border border-[hsl(var(--border))] rounded-lg shadow-lg z-50`,children:d.jsx(R8,{className:"max-h-[815px] overflow-y-auto",children:(i==null?void 0:i.length)===0?d.jsxs("div",{className:"p-4 text-sm",children:["No characters found. Create a character"," ",d.jsx(ui,{to:"/character/new",className:`underline ${it}`,children:"here"}),"."]}):d.jsx("ul",{children:i==null?void 0:i.map(U=>d.jsxs("li",{className:`cursor-pointer flex p-3 gap-3 border-b last:border-none ${Dn} transition`,onClick:()=>{tv(u,U),y(!1)},children:[d.jsxs(R1,{children:[d.jsx(ov,{src:U.photo,alt:U.name,className:"h-14 w-14 rounded-md object-cover cursor-pointer"}),d.jsx(lv,{children:d.jsx("div",{className:`h-14 w-14 rounded-md ${Fj} cursor-pointer`})})]}),d.jsxs("div",{className:"flex-1 overflow-hidden",children:[d.jsx("p",{className:"font-medium leading-tight mb-1",children:U.name}),d.jsx("p",{className:`text-xs ${Be} truncate mb-2 mr-2`,children:kn(U.shortDescription,p?qfe:zfe)}),d.jsxs("div",{className:`flex items-center text-xs ${Be}`,children:[d.jsx(eq,{className:"h-3 w-3 mr-1"}),d.jsx("span",{children:Or(U.chatCount)}),d.jsx("span",{className:"mx-2",children:"|"}),d.jsxs("span",{children:["@",U.userName]})]})]})]},U.id))})})})]})},A3=()=>{const{userData:n}=kt(),e=Pt((n==null?void 0:n.theme)||Fl("theme"));return d.jsxs(ui,{to:"/",className:"text-xl font-bold",children:[d.jsx("img",{rel:"icon",className:"h-6 mr-2 inline-block",src:"/Persoa_Logo.png"}),d.jsx("span",{className:`${e} ${Be}`,children:"persoa.ai"})]})},qo=({allowSearch:n=!1,searchQuery:e="",onSearch:t,setShowSettings:r,setShowPlans:i,filteredCharacters:s})=>{const{user:a,userData:o}=kt(),{toggleSidebar:l,state:u,isMobile:f}=In(),[p,m]=C.useState(!1),y=(!n||!p)&&o;return d.jsx("div",{className:`sticky top-0 pt-2 z-20 w-full ${_t} backdrop-blur-sm`,children:d.jsxs("div",{className:"container mx-auto flex items-center justify-between py-3 px-4 relative",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[a&&(f||u==="collapsed")&&d.jsx("button",{onClick:l,className:`p-2 ${Dn} rounded-full`,children:d.jsx(Jz,{className:`w-5 h-5 ${it}`})}),(u==="collapsed"||!a&&f)&&d.jsx(A3,{}),n&&a&&f&&!p&&d.jsx("div",{className:"flex items-center",children:d.jsx("button",{onClick:()=>m(!0),className:`p-2 ${Dn} rounded-full`,children:d.jsx(_R,{className:`w-5 h-5 ${it}`})})}),n&&a&&!f&&d.jsx("div",{className:"flex items-center",children:d.jsx(P1,{className:"w-96",showPopover:!0,value:e,onValueChange:b=>{t==null||t(b)},filteredCharacters:s,height:"h-10"})})]}),d.jsxs("div",{className:"flex items-center space-x-4 relative",children:[y&&d.jsx(z4,{onClick:()=>i(!0)}),d.jsx("div",{className:"ml-1",children:d.jsx(IX,{setShowSettings:r})})]}),n&&f&&p&&d.jsx("div",{className:"absolute left-0 top-0 w-full h-full flex items-center px-4 z-10",children:d.jsxs("div",{className:"flex items-center w-full",children:[d.jsx("button",{onClick:()=>m(!1),className:`p-1 mr-2 ${Dn} rounded-full ml-12`,children:d.jsx(Oj,{className:`w-5 h-5 ${Xe}`})}),d.jsx(P1,{className:"flex-1",showPopover:!0,value:e,onValueChange:b=>{t==null||t(b)},filteredCharacters:s,height:"h-10"})]})})]})})};var nbe=function(e){return rbe(e)&&!ibe(e)};function rbe(n){return!!n&&typeof n=="object"}function ibe(n){var e=Object.prototype.toString.call(n);return e==="[object RegExp]"||e==="[object Date]"||obe(n)}var sbe=typeof Symbol=="function"&&Symbol.for,abe=sbe?Symbol.for("react.element"):60103;function obe(n){return n.$$typeof===abe}function lbe(n){return Array.isArray(n)?[]:{}}function BR(n,e){return e.clone!==!1&&e.isMergeableObject(n)?CS(lbe(n),n,e):n}function cbe(n,e,t){return n.concat(e).map(function(r){return BR(r,t)})}function ube(n,e,t){var r={};return t.isMergeableObject(n)&&Object.keys(n).forEach(function(i){r[i]=BR(n[i],t)}),Object.keys(e).forEach(function(i){!t.isMergeableObject(e[i])||!n[i]?r[i]=BR(e[i],t):r[i]=CS(n[i],e[i],t)}),r}function CS(n,e,t){t=t||{},t.arrayMerge=t.arrayMerge||cbe,t.isMergeableObject=t.isMergeableObject||nbe;var r=Array.isArray(e),i=Array.isArray(n),s=r===i;return s?r?t.arrayMerge(n,e,t):ube(n,e,t):BR(e,t)}CS.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return CS(r,i,t)},{})};var ZP=CS,aY=typeof global=="object"&&global&&global.Object===Object&&global,dbe=typeof self=="object"&&self&&self.Object===Object&&self,nd=aY||dbe||Function("return this")(),$p=nd.Symbol,oY=Object.prototype,hbe=oY.hasOwnProperty,fbe=oY.toString,h_=$p?$p.toStringTag:void 0;function pbe(n){var e=hbe.call(n,h_),t=n[h_];try{n[h_]=void 0;var r=!0}catch{}var i=fbe.call(n);return r&&(e?n[h_]=t:delete n[h_]),i}var mbe=Object.prototype,gbe=mbe.toString;function ybe(n){return gbe.call(n)}var vbe="[object Null]",bbe="[object Undefined]",t$=$p?$p.toStringTag:void 0;function Nv(n){return n==null?n===void 0?bbe:vbe:t$&&t$ in Object(n)?pbe(n):ybe(n)}function lY(n,e){return function(t){return n(e(t))}}var k8=lY(Object.getPrototypeOf,Object);function Rv(n){return n!=null&&typeof n=="object"}var xbe="[object Object]",wbe=Function.prototype,_be=Object.prototype,cY=wbe.toString,Sbe=_be.hasOwnProperty,Dbe=cY.call(Object);function n$(n){if(!Rv(n)||Nv(n)!=xbe)return!1;var e=k8(n);if(e===null)return!0;var t=Sbe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&cY.call(t)==Dbe}function Abe(){this.__data__=[],this.size=0}function uY(n,e){return n===e||n!==n&&e!==e}function T3(n,e){for(var t=n.length;t--;)if(uY(n[t][0],e))return t;return-1}var Tbe=Array.prototype,Ebe=Tbe.splice;function Cbe(n){var e=this.__data__,t=T3(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Ebe.call(e,t,1),--this.size,!0}function Nbe(n){var e=this.__data__,t=T3(e,n);return t<0?void 0:e[t][1]}function Rbe(n){return T3(this.__data__,n)>-1}function jbe(n,e){var t=this.__data__,r=T3(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Oh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Oh.prototype.clear=Abe;Oh.prototype.delete=Cbe;Oh.prototype.get=Nbe;Oh.prototype.has=Rbe;Oh.prototype.set=jbe;function kbe(){this.__data__=new Oh,this.size=0}function Ube(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Obe(n){return this.__data__.get(n)}function Mbe(n){return this.__data__.has(n)}function BA(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Pbe="[object AsyncFunction]",Fbe="[object Function]",Lbe="[object GeneratorFunction]",Ibe="[object Proxy]";function dY(n){if(!BA(n))return!1;var e=Nv(n);return e==Fbe||e==Lbe||e==Pbe||e==Ibe}var wO=nd["__core-js_shared__"],r$=function(){var n=/[^.]+$/.exec(wO&&wO.keys&&wO.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function $be(n){return!!r$&&r$ in n}var Bbe=Function.prototype,Wbe=Bbe.toString;function jv(n){if(n!=null){try{return Wbe.call(n)}catch{}try{return n+""}catch{}}return""}var zbe=/[\\^$.*+?()[\]{}|]/g,qbe=/^\[object .+?Constructor\]$/,Hbe=Function.prototype,Vbe=Object.prototype,Gbe=Hbe.toString,Xbe=Vbe.hasOwnProperty,Ybe=RegExp("^"+Gbe.call(Xbe).replace(zbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kbe(n){if(!BA(n)||$be(n))return!1;var e=dY(n)?Ybe:qbe;return e.test(jv(n))}function Zbe(n,e){return n==null?void 0:n[e]}function kv(n,e){var t=Zbe(n,e);return Kbe(t)?t:void 0}var NS=kv(nd,"Map"),RS=kv(Object,"create");function Qbe(){this.__data__=RS?RS(null):{},this.size=0}function Jbe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var exe="__lodash_hash_undefined__",txe=Object.prototype,nxe=txe.hasOwnProperty;function rxe(n){var e=this.__data__;if(RS){var t=e[n];return t===exe?void 0:t}return nxe.call(e,n)?e[n]:void 0}var ixe=Object.prototype,sxe=ixe.hasOwnProperty;function axe(n){var e=this.__data__;return RS?e[n]!==void 0:sxe.call(e,n)}var oxe="__lodash_hash_undefined__";function lxe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=RS&&e===void 0?oxe:e,this}function cv(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}cv.prototype.clear=Qbe;cv.prototype.delete=Jbe;cv.prototype.get=rxe;cv.prototype.has=axe;cv.prototype.set=lxe;function cxe(){this.size=0,this.__data__={hash:new cv,map:new(NS||Oh),string:new cv}}function uxe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function E3(n,e){var t=n.__data__;return uxe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function dxe(n){var e=E3(this,n).delete(n);return this.size-=e?1:0,e}function hxe(n){return E3(this,n).get(n)}function fxe(n){return E3(this,n).has(n)}function pxe(n,e){var t=E3(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Jp(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Jp.prototype.clear=cxe;Jp.prototype.delete=dxe;Jp.prototype.get=hxe;Jp.prototype.has=fxe;Jp.prototype.set=pxe;var mxe=200;function gxe(n,e){var t=this.__data__;if(t instanceof Oh){var r=t.__data__;if(!NS||r.length<mxe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Jp(r)}return t.set(n,e),this.size=t.size,this}function iw(n){var e=this.__data__=new Oh(n);this.size=e.size}iw.prototype.clear=kbe;iw.prototype.delete=Ube;iw.prototype.get=Obe;iw.prototype.has=Mbe;iw.prototype.set=gxe;function yxe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var i$=function(){try{var n=kv(Object,"defineProperty");return n({},"",{}),n}catch{}}();function hY(n,e,t){e=="__proto__"&&i$?i$(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var vxe=Object.prototype,bxe=vxe.hasOwnProperty;function fY(n,e,t){var r=n[e];(!(bxe.call(n,e)&&uY(r,t))||t===void 0&&!(e in n))&&hY(n,e,t)}function C3(n,e,t,r){var i=!t;t||(t={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=void 0;l===void 0&&(l=n[o]),i?hY(t,o,l):fY(t,o,l)}return t}function xxe(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var wxe="[object Arguments]";function s$(n){return Rv(n)&&Nv(n)==wxe}var pY=Object.prototype,_xe=pY.hasOwnProperty,Sxe=pY.propertyIsEnumerable,Dxe=s$(function(){return arguments}())?s$:function(n){return Rv(n)&&_xe.call(n,"callee")&&!Sxe.call(n,"callee")},WA=Array.isArray;function Axe(){return!1}var mY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,a$=mY&&typeof module=="object"&&module&&!module.nodeType&&module,Txe=a$&&a$.exports===mY,o$=Txe?nd.Buffer:void 0,Exe=o$?o$.isBuffer:void 0,gY=Exe||Axe,Cxe=9007199254740991,Nxe=/^(?:0|[1-9]\d*)$/;function Rxe(n,e){var t=typeof n;return e=e??Cxe,!!e&&(t=="number"||t!="symbol"&&Nxe.test(n))&&n>-1&&n%1==0&&n<e}var jxe=9007199254740991;function yY(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=jxe}var kxe="[object Arguments]",Uxe="[object Array]",Oxe="[object Boolean]",Mxe="[object Date]",Pxe="[object Error]",Fxe="[object Function]",Lxe="[object Map]",Ixe="[object Number]",$xe="[object Object]",Bxe="[object RegExp]",Wxe="[object Set]",zxe="[object String]",qxe="[object WeakMap]",Hxe="[object ArrayBuffer]",Vxe="[object DataView]",Gxe="[object Float32Array]",Xxe="[object Float64Array]",Yxe="[object Int8Array]",Kxe="[object Int16Array]",Zxe="[object Int32Array]",Qxe="[object Uint8Array]",Jxe="[object Uint8ClampedArray]",e0e="[object Uint16Array]",t0e="[object Uint32Array]",Ur={};Ur[Gxe]=Ur[Xxe]=Ur[Yxe]=Ur[Kxe]=Ur[Zxe]=Ur[Qxe]=Ur[Jxe]=Ur[e0e]=Ur[t0e]=!0;Ur[kxe]=Ur[Uxe]=Ur[Hxe]=Ur[Oxe]=Ur[Vxe]=Ur[Mxe]=Ur[Pxe]=Ur[Fxe]=Ur[Lxe]=Ur[Ixe]=Ur[$xe]=Ur[Bxe]=Ur[Wxe]=Ur[zxe]=Ur[qxe]=!1;function n0e(n){return Rv(n)&&yY(n.length)&&!!Ur[Nv(n)]}function U8(n){return function(e){return n(e)}}var vY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oS=vY&&typeof module=="object"&&module&&!module.nodeType&&module,r0e=oS&&oS.exports===vY,_O=r0e&&aY.process,F1=function(){try{var n=oS&&oS.require&&oS.require("util").types;return n||_O&&_O.binding&&_O.binding("util")}catch{}}(),l$=F1&&F1.isTypedArray,i0e=l$?U8(l$):n0e,s0e=Object.prototype,a0e=s0e.hasOwnProperty;function bY(n,e){var t=WA(n),r=!t&&Dxe(n),i=!t&&!r&&gY(n),s=!t&&!r&&!i&&i0e(n),a=t||r||i||s,o=a?xxe(n.length,String):[],l=o.length;for(var u in n)(e||a0e.call(n,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Rxe(u,l)))&&o.push(u);return o}var o0e=Object.prototype;function O8(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||o0e;return n===t}var l0e=lY(Object.keys,Object),c0e=Object.prototype,u0e=c0e.hasOwnProperty;function d0e(n){if(!O8(n))return l0e(n);var e=[];for(var t in Object(n))u0e.call(n,t)&&t!="constructor"&&e.push(t);return e}function xY(n){return n!=null&&yY(n.length)&&!dY(n)}function M8(n){return xY(n)?bY(n):d0e(n)}function h0e(n,e){return n&&C3(e,M8(e),n)}function f0e(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var p0e=Object.prototype,m0e=p0e.hasOwnProperty;function g0e(n){if(!BA(n))return f0e(n);var e=O8(n),t=[];for(var r in n)r=="constructor"&&(e||!m0e.call(n,r))||t.push(r);return t}function P8(n){return xY(n)?bY(n,!0):g0e(n)}function y0e(n,e){return n&&C3(e,P8(e),n)}var wY=typeof exports=="object"&&exports&&!exports.nodeType&&exports,c$=wY&&typeof module=="object"&&module&&!module.nodeType&&module,v0e=c$&&c$.exports===wY,u$=v0e?nd.Buffer:void 0,d$=u$?u$.allocUnsafe:void 0;function b0e(n,e){if(e)return n.slice();var t=n.length,r=d$?d$(t):new n.constructor(t);return n.copy(r),r}function _Y(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}function x0e(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var a=n[t];e(a,t,n)&&(s[i++]=a)}return s}function SY(){return[]}var w0e=Object.prototype,_0e=w0e.propertyIsEnumerable,h$=Object.getOwnPropertySymbols,F8=h$?function(n){return n==null?[]:(n=Object(n),x0e(h$(n),function(e){return _0e.call(n,e)}))}:SY;function S0e(n,e){return C3(n,F8(n),e)}function DY(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var D0e=Object.getOwnPropertySymbols,AY=D0e?function(n){for(var e=[];n;)DY(e,F8(n)),n=k8(n);return e}:SY;function A0e(n,e){return C3(n,AY(n),e)}function TY(n,e,t){var r=e(n);return WA(n)?r:DY(r,t(n))}function T0e(n){return TY(n,M8,F8)}function E0e(n){return TY(n,P8,AY)}var QP=kv(nd,"DataView"),JP=kv(nd,"Promise"),e5=kv(nd,"Set"),t5=kv(nd,"WeakMap"),f$="[object Map]",C0e="[object Object]",p$="[object Promise]",m$="[object Set]",g$="[object WeakMap]",y$="[object DataView]",N0e=jv(QP),R0e=jv(NS),j0e=jv(JP),k0e=jv(e5),U0e=jv(t5),Bd=Nv;(QP&&Bd(new QP(new ArrayBuffer(1)))!=y$||NS&&Bd(new NS)!=f$||JP&&Bd(JP.resolve())!=p$||e5&&Bd(new e5)!=m$||t5&&Bd(new t5)!=g$)&&(Bd=function(n){var e=Nv(n),t=e==C0e?n.constructor:void 0,r=t?jv(t):"";if(r)switch(r){case N0e:return y$;case R0e:return f$;case j0e:return p$;case k0e:return m$;case U0e:return g$}return e});var O0e=Object.prototype,M0e=O0e.hasOwnProperty;function P0e(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&M0e.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var v$=nd.Uint8Array;function L8(n){var e=new n.constructor(n.byteLength);return new v$(e).set(new v$(n)),e}function F0e(n,e){var t=e?L8(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var L0e=/\w*$/;function I0e(n){var e=new n.constructor(n.source,L0e.exec(n));return e.lastIndex=n.lastIndex,e}var b$=$p?$p.prototype:void 0,x$=b$?b$.valueOf:void 0;function $0e(n){return x$?Object(x$.call(n)):{}}function B0e(n,e){var t=e?L8(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var W0e="[object Boolean]",z0e="[object Date]",q0e="[object Map]",H0e="[object Number]",V0e="[object RegExp]",G0e="[object Set]",X0e="[object String]",Y0e="[object Symbol]",K0e="[object ArrayBuffer]",Z0e="[object DataView]",Q0e="[object Float32Array]",J0e="[object Float64Array]",e1e="[object Int8Array]",t1e="[object Int16Array]",n1e="[object Int32Array]",r1e="[object Uint8Array]",i1e="[object Uint8ClampedArray]",s1e="[object Uint16Array]",a1e="[object Uint32Array]";function o1e(n,e,t){var r=n.constructor;switch(e){case K0e:return L8(n);case W0e:case z0e:return new r(+n);case Z0e:return F0e(n,t);case Q0e:case J0e:case e1e:case t1e:case n1e:case r1e:case i1e:case s1e:case a1e:return B0e(n,t);case q0e:return new r;case H0e:case X0e:return new r(n);case V0e:return I0e(n);case G0e:return new r;case Y0e:return $0e(n)}}var w$=Object.create,l1e=function(){function n(){}return function(e){if(!BA(e))return{};if(w$)return w$(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function c1e(n){return typeof n.constructor=="function"&&!O8(n)?l1e(k8(n)):{}}var u1e="[object Map]";function d1e(n){return Rv(n)&&Bd(n)==u1e}var _$=F1&&F1.isMap,h1e=_$?U8(_$):d1e,f1e="[object Set]";function p1e(n){return Rv(n)&&Bd(n)==f1e}var S$=F1&&F1.isSet,m1e=S$?U8(S$):p1e,g1e=1,y1e=2,v1e=4,EY="[object Arguments]",b1e="[object Array]",x1e="[object Boolean]",w1e="[object Date]",_1e="[object Error]",CY="[object Function]",S1e="[object GeneratorFunction]",D1e="[object Map]",A1e="[object Number]",NY="[object Object]",T1e="[object RegExp]",E1e="[object Set]",C1e="[object String]",N1e="[object Symbol]",R1e="[object WeakMap]",j1e="[object ArrayBuffer]",k1e="[object DataView]",U1e="[object Float32Array]",O1e="[object Float64Array]",M1e="[object Int8Array]",P1e="[object Int16Array]",F1e="[object Int32Array]",L1e="[object Uint8Array]",I1e="[object Uint8ClampedArray]",$1e="[object Uint16Array]",B1e="[object Uint32Array]",Tr={};Tr[EY]=Tr[b1e]=Tr[j1e]=Tr[k1e]=Tr[x1e]=Tr[w1e]=Tr[U1e]=Tr[O1e]=Tr[M1e]=Tr[P1e]=Tr[F1e]=Tr[D1e]=Tr[A1e]=Tr[NY]=Tr[T1e]=Tr[E1e]=Tr[C1e]=Tr[N1e]=Tr[L1e]=Tr[I1e]=Tr[$1e]=Tr[B1e]=!0;Tr[_1e]=Tr[CY]=Tr[R1e]=!1;function lS(n,e,t,r,i,s){var a,o=e&g1e,l=e&y1e,u=e&v1e;if(a!==void 0)return a;if(!BA(n))return n;var f=WA(n);if(f){if(a=P0e(n),!o)return _Y(n,a)}else{var p=Bd(n),m=p==CY||p==S1e;if(gY(n))return b0e(n,o);if(p==NY||p==EY||m&&!i){if(a=l||m?{}:c1e(n),!o)return l?A0e(n,y0e(a,n)):S0e(n,h0e(a,n))}else{if(!Tr[p])return i?n:{};a=o1e(n,p,o)}}s||(s=new iw);var y=s.get(n);if(y)return y;s.set(n,a),m1e(n)?n.forEach(function(w){a.add(lS(w,e,t,w,n,s))}):h1e(n)&&n.forEach(function(w,S){a.set(S,lS(w,e,t,S,n,s))});var b=u?l?E0e:T0e:l?P8:M8,x=f?void 0:b(n);return yxe(x||n,function(w,S){x&&(S=w,w=n[S]),fY(a,S,lS(w,e,t,S,n,s))}),a}var W1e=1,z1e=4;function k_(n){return lS(n,W1e|z1e)}var SO,D$;function q1e(){if(D$)return SO;D$=1;var n=Array.isArray,e=Object.keys,t=Object.prototype.hasOwnProperty,r=typeof Element<"u";function i(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){var o=n(s),l=n(a),u,f,p;if(o&&l){if(f=s.length,f!=a.length)return!1;for(u=f;u--!==0;)if(!i(s[u],a[u]))return!1;return!0}if(o!=l)return!1;var m=s instanceof Date,y=a instanceof Date;if(m!=y)return!1;if(m&&y)return s.getTime()==a.getTime();var b=s instanceof RegExp,x=a instanceof RegExp;if(b!=x)return!1;if(b&&x)return s.toString()==a.toString();var w=e(s);if(f=w.length,f!==e(a).length)return!1;for(u=f;u--!==0;)if(!t.call(a,w[u]))return!1;if(r&&s instanceof Element&&a instanceof Element)return s===a;for(u=f;u--!==0;)if(p=w[u],!(p==="_owner"&&s.$$typeof)&&!i(s[p],a[p]))return!1;return!0}return s!==s&&a!==a}return SO=function(a,o){try{return i(a,o)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},SO}var H1e=q1e();const Hf=kh(H1e);var V1e=4;function A$(n){return lS(n,V1e)}function RY(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var G1e="[object Symbol]";function I8(n){return typeof n=="symbol"||Rv(n)&&Nv(n)==G1e}var X1e="Expected a function";function $8(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(X1e);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var a=n.apply(this,r);return t.cache=s.set(i,a)||s,a};return t.cache=new($8.Cache||Jp),t}$8.Cache=Jp;var Y1e=500;function K1e(n){var e=$8(n,function(r){return t.size===Y1e&&t.clear(),r}),t=e.cache;return e}var Z1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q1e=/\\(\\)?/g,J1e=K1e(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Z1e,function(t,r,i,s){e.push(i?s.replace(Q1e,"$1"):r||t)}),e});function ewe(n){if(typeof n=="string"||I8(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var T$=$p?$p.prototype:void 0,E$=T$?T$.toString:void 0;function jY(n){if(typeof n=="string")return n;if(WA(n))return RY(n,jY)+"";if(I8(n))return E$?E$.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function twe(n){return n==null?"":jY(n)}function kY(n){return WA(n)?RY(n,ewe):I8(n)?[n]:_Y(J1e(twe(n)))}var DO={exports:{}},Jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C$;function nwe(){if(C$)return Jn;C$=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,a=n?Symbol.for("react.provider"):60109,o=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,b=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,w=n?Symbol.for("react.fundamental"):60117,S=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function E(N){if(typeof N=="object"&&N!==null){var U=N.$$typeof;switch(U){case e:switch(N=N.type,N){case l:case u:case r:case s:case i:case p:return N;default:switch(N=N&&N.$$typeof,N){case o:case f:case b:case y:case a:return N;default:return U}}case t:return U}}}function R(N){return E(N)===u}return Jn.AsyncMode=l,Jn.ConcurrentMode=u,Jn.ContextConsumer=o,Jn.ContextProvider=a,Jn.Element=e,Jn.ForwardRef=f,Jn.Fragment=r,Jn.Lazy=b,Jn.Memo=y,Jn.Portal=t,Jn.Profiler=s,Jn.StrictMode=i,Jn.Suspense=p,Jn.isAsyncMode=function(N){return R(N)||E(N)===l},Jn.isConcurrentMode=R,Jn.isContextConsumer=function(N){return E(N)===o},Jn.isContextProvider=function(N){return E(N)===a},Jn.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Jn.isForwardRef=function(N){return E(N)===f},Jn.isFragment=function(N){return E(N)===r},Jn.isLazy=function(N){return E(N)===b},Jn.isMemo=function(N){return E(N)===y},Jn.isPortal=function(N){return E(N)===t},Jn.isProfiler=function(N){return E(N)===s},Jn.isStrictMode=function(N){return E(N)===i},Jn.isSuspense=function(N){return E(N)===p},Jn.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===u||N===s||N===i||N===p||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===b||N.$$typeof===y||N.$$typeof===a||N.$$typeof===o||N.$$typeof===f||N.$$typeof===w||N.$$typeof===S||N.$$typeof===T||N.$$typeof===x)},Jn.typeOf=E,Jn}var N$;function rwe(){return N$||(N$=1,DO.exports=nwe()),DO.exports}var AO,R$;function iwe(){if(R$)return AO;R$=1;var n=rwe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function a(b){return n.isMemo(b)?i:s[b.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(b,x,w){if(typeof x!="string"){if(m){var S=p(x);S&&S!==m&&y(b,S,w)}var T=l(x);u&&(T=T.concat(u(x)));for(var E=a(b),R=a(x),N=0;N<T.length;++N){var U=T[N];if(!t[U]&&!(w&&w[U])&&!(R&&R[U])&&!(E&&E[U])){var O=f(x,U);try{o(b,U,O)}catch{}}}}return b}return AO=y,AO}var swe=iwe();const awe=kh(swe);function or(){return or=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},or.apply(this,arguments)}function UY(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}function kp(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function j$(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}var N3=C.createContext(void 0);N3.displayName="FormikContext";var owe=N3.Provider,lwe=N3.Consumer;function R3(){var n=C.useContext(N3);return n}var k$=function(e){return Array.isArray(e)&&e.length===0},ws=function(e){return typeof e=="function"},sw=function(e){return e!==null&&typeof e=="object"},cwe=function(e){return String(Math.floor(Number(e)))===e},TO=function(e){return Object.prototype.toString.call(e)==="[object String]"},OY=function(e){return C.Children.count(e)===0},EO=function(e){return sw(e)&&ws(e.then)};function Vr(n,e,t,r){r===void 0&&(r=0);for(var i=kY(e);n&&r<i.length;)n=n[i[r++]];return r!==i.length&&!n||n===void 0?t:n}function Yu(n,e,t){for(var r=A$(n),i=r,s=0,a=kY(e);s<a.length-1;s++){var o=a[s],l=Vr(n,a.slice(0,s+1));if(l&&(sw(l)||Array.isArray(l)))i=i[o]=A$(l);else{var u=a[s+1];i=i[o]=cwe(u)&&Number(u)>=0?[]:{}}}return(s===0?n:i)[a[s]]===t?n:(t===void 0?delete i[a[s]]:i[a[s]]=t,s===0&&t===void 0&&delete r[a[s]],r)}function MY(n,e,t,r){t===void 0&&(t=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(n);i<s.length;i++){var a=s[i],o=n[a];sw(o)?t.get(o)||(t.set(o,!0),r[a]=Array.isArray(o)?[]:{},MY(o,e,t,r[a])):r[a]=e}return r}function uwe(n,e){switch(e.type){case"SET_VALUES":return or({},n,{values:e.payload});case"SET_TOUCHED":return or({},n,{touched:e.payload});case"SET_ERRORS":return Hf(n.errors,e.payload)?n:or({},n,{errors:e.payload});case"SET_STATUS":return or({},n,{status:e.payload});case"SET_ISSUBMITTING":return or({},n,{isSubmitting:e.payload});case"SET_ISVALIDATING":return or({},n,{isValidating:e.payload});case"SET_FIELD_VALUE":return or({},n,{values:Yu(n.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return or({},n,{touched:Yu(n.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return or({},n,{errors:Yu(n.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return or({},n,e.payload);case"SET_FORMIK_STATE":return e.payload(n);case"SUBMIT_ATTEMPT":return or({},n,{touched:MY(n.values,!0),isSubmitting:!0,submitCount:n.submitCount+1});case"SUBMIT_FAILURE":return or({},n,{isSubmitting:!1});case"SUBMIT_SUCCESS":return or({},n,{isSubmitting:!1});default:return n}}var _g={},qC={};function Mh(n){var e=n.validateOnChange,t=e===void 0?!0:e,r=n.validateOnBlur,i=r===void 0?!0:r,s=n.validateOnMount,a=s===void 0?!1:s,o=n.isInitialValid,l=n.enableReinitialize,u=l===void 0?!1:l,f=n.onSubmit,p=kp(n,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=or({validateOnChange:t,validateOnBlur:i,validateOnMount:a,onSubmit:f},p),y=C.useRef(m.initialValues),b=C.useRef(m.initialErrors||_g),x=C.useRef(m.initialTouched||qC),w=C.useRef(m.initialStatus),S=C.useRef(!1),T=C.useRef({});C.useEffect(function(){return S.current=!0,function(){S.current=!1}},[]);var E=C.useState(0),R=E[1],N=C.useRef({values:k_(m.initialValues),errors:k_(m.initialErrors)||_g,touched:k_(m.initialTouched)||qC,status:k_(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),U=N.current,O=C.useCallback(function(J){var Q=N.current;N.current=uwe(Q,J),Q!==N.current&&R(function(ue){return ue+1})},[]),M=C.useCallback(function(J,Q){return new Promise(function(ue,me){var Ae=m.validate(J,Q);Ae==null?ue(_g):EO(Ae)?Ae.then(function(Fe){ue(Fe||_g)},function(Fe){me(Fe)}):ue(Ae)})},[m.validate]),P=C.useCallback(function(J,Q){var ue=m.validationSchema,me=ws(ue)?ue(Q):ue,Ae=Q&&me.validateAt?me.validateAt(Q,J):hwe(J,me);return new Promise(function(Fe,Ge){Ae.then(function(){Fe(_g)},function(at){at.name==="ValidationError"?Fe(dwe(at)):Ge(at)})})},[m.validationSchema]),H=C.useCallback(function(J,Q){return new Promise(function(ue){return ue(T.current[J].validate(Q))})},[]),X=C.useCallback(function(J){var Q=Object.keys(T.current).filter(function(me){return ws(T.current[me].validate)}),ue=Q.length>0?Q.map(function(me){return H(me,Vr(J,me))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(ue).then(function(me){return me.reduce(function(Ae,Fe,Ge){return Fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Fe&&(Ae=Yu(Ae,Q[Ge],Fe)),Ae},{})})},[H]),I=C.useCallback(function(J){return Promise.all([X(J),m.validationSchema?P(J):{},m.validate?M(J):{}]).then(function(Q){var ue=Q[0],me=Q[1],Ae=Q[2],Fe=ZP.all([ue,me,Ae],{arrayMerge:fwe});return Fe})},[m.validate,m.validationSchema,X,M,P]),q=dl(function(J){return J===void 0&&(J=U.values),O({type:"SET_ISVALIDATING",payload:!0}),I(J).then(function(Q){return S.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:Q})),Q})});C.useEffect(function(){a&&S.current===!0&&Hf(y.current,m.initialValues)&&q(y.current)},[a,q]);var L=C.useCallback(function(J){var Q=J&&J.values?J.values:y.current,ue=J&&J.errors?J.errors:b.current?b.current:m.initialErrors||{},me=J&&J.touched?J.touched:x.current?x.current:m.initialTouched||{},Ae=J&&J.status?J.status:w.current?w.current:m.initialStatus;y.current=Q,b.current=ue,x.current=me,w.current=Ae;var Fe=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!J&&!!J.isSubmitting,errors:ue,touched:me,status:Ae,values:Q,isValidating:!!J&&!!J.isValidating,submitCount:J&&J.submitCount&&typeof J.submitCount=="number"?J.submitCount:0}})};if(m.onReset){var Ge=m.onReset(U.values,st);EO(Ge)?Ge.then(Fe):Fe()}else Fe()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);C.useEffect(function(){S.current===!0&&!Hf(y.current,m.initialValues)&&u&&(y.current=m.initialValues,L(),a&&q(y.current))},[u,m.initialValues,L,a,q]),C.useEffect(function(){u&&S.current===!0&&!Hf(b.current,m.initialErrors)&&(b.current=m.initialErrors||_g,O({type:"SET_ERRORS",payload:m.initialErrors||_g}))},[u,m.initialErrors]),C.useEffect(function(){u&&S.current===!0&&!Hf(x.current,m.initialTouched)&&(x.current=m.initialTouched||qC,O({type:"SET_TOUCHED",payload:m.initialTouched||qC}))},[u,m.initialTouched]),C.useEffect(function(){u&&S.current===!0&&!Hf(w.current,m.initialStatus)&&(w.current=m.initialStatus,O({type:"SET_STATUS",payload:m.initialStatus}))},[u,m.initialStatus,m.initialTouched]);var te=dl(function(J){if(T.current[J]&&ws(T.current[J].validate)){var Q=Vr(U.values,J),ue=T.current[J].validate(Q);return EO(ue)?(O({type:"SET_ISVALIDATING",payload:!0}),ue.then(function(me){return me}).then(function(me){O({type:"SET_FIELD_ERROR",payload:{field:J,value:me}}),O({type:"SET_ISVALIDATING",payload:!1})})):(O({type:"SET_FIELD_ERROR",payload:{field:J,value:ue}}),Promise.resolve(ue))}else if(m.validationSchema)return O({type:"SET_ISVALIDATING",payload:!0}),P(U.values,J).then(function(me){return me}).then(function(me){O({type:"SET_FIELD_ERROR",payload:{field:J,value:Vr(me,J)}}),O({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),B=C.useCallback(function(J,Q){var ue=Q.validate;T.current[J]={validate:ue}},[]),W=C.useCallback(function(J){delete T.current[J]},[]),se=dl(function(J,Q){O({type:"SET_TOUCHED",payload:J});var ue=Q===void 0?i:Q;return ue?q(U.values):Promise.resolve()}),K=C.useCallback(function(J){O({type:"SET_ERRORS",payload:J})},[]),G=dl(function(J,Q){var ue=ws(J)?J(U.values):J;O({type:"SET_VALUES",payload:ue});var me=Q===void 0?t:Q;return me?q(ue):Promise.resolve()}),Y=C.useCallback(function(J,Q){O({type:"SET_FIELD_ERROR",payload:{field:J,value:Q}})},[]),ne=dl(function(J,Q,ue){O({type:"SET_FIELD_VALUE",payload:{field:J,value:Q}});var me=ue===void 0?t:ue;return me?q(Yu(U.values,J,Q)):Promise.resolve()}),le=C.useCallback(function(J,Q){var ue=Q,me=J,Ae;if(!TO(J)){J.persist&&J.persist();var Fe=J.target?J.target:J.currentTarget,Ge=Fe.type,at=Fe.name,ut=Fe.id,Te=Fe.value,He=Fe.checked;Fe.outerHTML;var et=Fe.options,ht=Fe.multiple;ue=Q||at||ut,me=/number|range/.test(Ge)?(Ae=parseFloat(Te),isNaN(Ae)?"":Ae):/checkbox/.test(Ge)?mwe(Vr(U.values,ue),He,Te):et&&ht?pwe(et):Te}ue&&ne(ue,me)},[ne,U.values]),xe=dl(function(J){if(TO(J))return function(Q){return le(Q,J)};le(J)}),we=dl(function(J,Q,ue){Q===void 0&&(Q=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:J,value:Q}});var me=ue===void 0?i:ue;return me?q(U.values):Promise.resolve()}),Re=C.useCallback(function(J,Q){J.persist&&J.persist();var ue=J.target,me=ue.name,Ae=ue.id;ue.outerHTML;var Fe=Q||me||Ae;we(Fe,!0)},[we]),Ee=dl(function(J){if(TO(J))return function(Q){return Re(Q,J)};Re(J)}),Me=C.useCallback(function(J){ws(J)?O({type:"SET_FORMIK_STATE",payload:J}):O({type:"SET_FORMIK_STATE",payload:function(){return J}})},[]),Ye=C.useCallback(function(J){O({type:"SET_STATUS",payload:J})},[]),Ke=C.useCallback(function(J){O({type:"SET_ISSUBMITTING",payload:J})},[]),Le=dl(function(){return O({type:"SUBMIT_ATTEMPT"}),q().then(function(J){var Q=J instanceof Error,ue=!Q&&Object.keys(J).length===0;if(ue){var me;try{if(me=$(),me===void 0)return}catch(Ae){throw Ae}return Promise.resolve(me).then(function(Ae){return S.current&&O({type:"SUBMIT_SUCCESS"}),Ae}).catch(function(Ae){if(S.current)throw O({type:"SUBMIT_FAILURE"}),Ae})}else if(S.current&&(O({type:"SUBMIT_FAILURE"}),Q))throw J})}),lt=dl(function(J){J&&J.preventDefault&&ws(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&ws(J.stopPropagation)&&J.stopPropagation(),Le().catch(function(Q){console.warn("Warning: An unhandled error was caught from submitForm()",Q)})}),st={resetForm:L,validateForm:q,validateField:te,setErrors:K,setFieldError:Y,setFieldTouched:we,setFieldValue:ne,setStatus:Ye,setSubmitting:Ke,setTouched:se,setValues:G,setFormikState:Me,submitForm:Le},$=dl(function(){return f(U.values,st)}),ge=dl(function(J){J&&J.preventDefault&&ws(J.preventDefault)&&J.preventDefault(),J&&J.stopPropagation&&ws(J.stopPropagation)&&J.stopPropagation(),L()}),ve=C.useCallback(function(J){return{value:Vr(U.values,J),error:Vr(U.errors,J),touched:!!Vr(U.touched,J),initialValue:Vr(y.current,J),initialTouched:!!Vr(x.current,J),initialError:Vr(b.current,J)}},[U.errors,U.touched,U.values]),ae=C.useCallback(function(J){return{setValue:function(ue,me){return ne(J,ue,me)},setTouched:function(ue,me){return we(J,ue,me)},setError:function(ue){return Y(J,ue)}}},[ne,we,Y]),ce=C.useCallback(function(J){var Q=sw(J),ue=Q?J.name:J,me=Vr(U.values,ue),Ae={name:ue,value:me,onChange:xe,onBlur:Ee};if(Q){var Fe=J.type,Ge=J.value,at=J.as,ut=J.multiple;Fe==="checkbox"?Ge===void 0?Ae.checked=!!me:(Ae.checked=!!(Array.isArray(me)&&~me.indexOf(Ge)),Ae.value=Ge):Fe==="radio"?(Ae.checked=me===Ge,Ae.value=Ge):at==="select"&&ut&&(Ae.value=Ae.value||[],Ae.multiple=!0)}return Ae},[Ee,xe,U.values]),ye=C.useMemo(function(){return!Hf(y.current,U.values)},[y.current,U.values]),ke=C.useMemo(function(){return typeof o<"u"?ye?U.errors&&Object.keys(U.errors).length===0:o!==!1&&ws(o)?o(m):o:U.errors&&Object.keys(U.errors).length===0},[o,ye,U.errors,m]),be=or({},U,{initialValues:y.current,initialErrors:b.current,initialTouched:x.current,initialStatus:w.current,handleBlur:Ee,handleChange:xe,handleReset:ge,handleSubmit:lt,resetForm:L,setErrors:K,setFormikState:Me,setFieldTouched:we,setFieldValue:ne,setFieldError:Y,setStatus:Ye,setSubmitting:Ke,setTouched:se,setValues:G,submitForm:Le,validateForm:q,validateField:te,isValid:ke,dirty:ye,unregisterField:W,registerField:B,getFieldProps:ce,getFieldMeta:ve,getFieldHelpers:ae,validateOnBlur:i,validateOnChange:t,validateOnMount:a});return be}function PY(n){var e=Mh(n),t=n.component,r=n.children,i=n.render,s=n.innerRef;return C.useImperativeHandle(s,function(){return e}),C.createElement(owe,{value:e},t?C.createElement(t,e):i?i(e):r?ws(r)?r(e):OY(r)?null:C.Children.only(r):null)}function dwe(n){var e={};if(n.inner){if(n.inner.length===0)return Yu(e,n.path,n.message);for(var i=n.inner,t=Array.isArray(i),r=0,i=t?i:i[Symbol.iterator]();;){var s;if(t){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var a=s;Vr(e,a.path)||(e=Yu(e,a.path,a.message))}}return e}function hwe(n,e,t,r){t===void 0&&(t=!1);var i=n5(n);return e[t?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function n5(n){var e=Array.isArray(n)?[]:{};for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var r=String(t);Array.isArray(n[r])===!0?e[r]=n[r].map(function(i){return Array.isArray(i)===!0||n$(i)?n5(i):i!==""?i:void 0}):n$(n[r])?e[r]=n5(n[r]):e[r]=n[r]!==""?n[r]:void 0}return e}function fwe(n,e,t){var r=n.slice();return e.forEach(function(s,a){if(typeof r[a]>"u"){var o=t.clone!==!1,l=o&&t.isMergeableObject(s);r[a]=l?ZP(Array.isArray(s)?[]:{},s,t):s}else t.isMergeableObject(s)?r[a]=ZP(n[a],s,t):n.indexOf(s)===-1&&r.push(s)}),r}function pwe(n){return Array.from(n).filter(function(e){return e.selected}).map(function(e){return e.value})}function mwe(n,e,t){if(typeof n=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(n))r=n,s=n.indexOf(t),i=s>=0;else if(!t||t=="true"||t=="false")return!!e;return e&&t&&!i?r.concat(t):i?r.slice(0,s).concat(r.slice(s+1)):r}var gwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?C.useLayoutEffect:C.useEffect;function dl(n){var e=C.useRef(n);return gwe(function(){e.current=n}),C.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function ywe(n){var e=R3(),t=e.getFieldProps,r=e.getFieldMeta,i=e.getFieldHelpers,s=e.registerField,a=e.unregisterField,o=sw(n),l=o?n:{name:n},u=l.name,f=l.validate;C.useEffect(function(){return u&&s(u,{validate:f}),function(){u&&a(u)}},[s,a,u,f]);var p=C.useMemo(function(){return i(u)},[i,u]);return[t(l),r(u),p]}function U$(n){var e=n.validate,t=n.name,r=n.render,i=n.children,s=n.as,a=n.component,o=n.className,l=kp(n,["validate","name","render","children","as","component","className"]),u=R3(),f=kp(u,["validate","validationSchema"]),p=f.registerField,m=f.unregisterField;C.useEffect(function(){return p(t,{validate:e}),function(){m(t)}},[p,m,t,e]);var y=f.getFieldProps(or({name:t},l)),b=f.getFieldMeta(t),x={field:y,form:f};if(r)return r(or({},x,{meta:b}));if(ws(i))return i(or({},x,{meta:b}));if(a){if(typeof a=="string"){var w=l.innerRef,S=kp(l,["innerRef"]);return C.createElement(a,or({ref:w},y,S,{className:o}),i)}return C.createElement(a,or({field:y,form:f},l,{className:o}),i)}var T=s||"input";if(typeof T=="string"){var E=l.innerRef,R=kp(l,["innerRef"]);return C.createElement(T,or({ref:E},y,R,{className:o}),i)}return C.createElement(T,or({},y,l,{className:o}),i)}var B8=C.forwardRef(function(n,e){var t=n.action,r=kp(n,["action"]),i=t??"#",s=R3(),a=s.handleReset,o=s.handleSubmit;return C.createElement("form",or({onSubmit:o,ref:e,onReset:a,action:i},r))});B8.displayName="Form";function vwe(n){var e=function(i){return C.createElement(lwe,null,function(s){return C.createElement(n,or({},i,{formik:s}))})},t=n.displayName||n.name||n.constructor&&n.constructor.name||"Component";return e.WrappedComponent=n,e.displayName="FormikConnect("+t+")",awe(e,n)}var bwe=function(e,t,r){var i=uv(e),s=i[t];return i.splice(t,1),i.splice(r,0,s),i},xwe=function(e,t,r){var i=uv(e),s=i[t];return i[t]=i[r],i[r]=s,i},CO=function(e,t,r){var i=uv(e);return i.splice(t,0,r),i},wwe=function(e,t,r){var i=uv(e);return i[t]=r,i},uv=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(or({},e,{length:t+1}))}else return[]},O$=function(e,t){var r=typeof e=="function"?e:t;return function(i){if(Array.isArray(i)||sw(i)){var s=uv(i);return r(s)}return i}},_we=function(n){UY(e,n);function e(r){var i;return i=n.call(this,r)||this,i.updateArrayField=function(s,a,o){var l=i.props,u=l.name,f=l.formik.setFormikState;f(function(p){var m=O$(o,s),y=O$(a,s),b=Yu(p.values,u,s(Vr(p.values,u))),x=o?m(Vr(p.errors,u)):void 0,w=a?y(Vr(p.touched,u)):void 0;return k$(x)&&(x=void 0),k$(w)&&(w=void 0),or({},p,{values:b,errors:o?Yu(p.errors,u,x):p.errors,touched:a?Yu(p.touched,u,w):p.touched})})},i.push=function(s){return i.updateArrayField(function(a){return[].concat(uv(a),[k_(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,a){return i.updateArrayField(function(o){return xwe(o,s,a)},!0,!0)},i.handleSwap=function(s,a){return function(){return i.swap(s,a)}},i.move=function(s,a){return i.updateArrayField(function(o){return bwe(o,s,a)},!0,!0)},i.handleMove=function(s,a){return function(){return i.move(s,a)}},i.insert=function(s,a){return i.updateArrayField(function(o){return CO(o,s,a)},function(o){return CO(o,s,null)},function(o){return CO(o,s,null)})},i.handleInsert=function(s,a){return function(){return i.insert(s,a)}},i.replace=function(s,a){return i.updateArrayField(function(o){return wwe(o,s,a)},!1,!1)},i.handleReplace=function(s,a){return function(){return i.replace(s,a)}},i.unshift=function(s){var a=-1;return i.updateArrayField(function(o){var l=o?[s].concat(o):[s];return a=l.length,l},function(o){return o?[null].concat(o):[null]},function(o){return o?[null].concat(o):[null]}),a},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(j$(i)),i.pop=i.pop.bind(j$(i)),i}var t=e.prototype;return t.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Hf(Vr(i.formik.values,i.name),Vr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},t.remove=function(i){var s;return this.updateArrayField(function(a){var o=a?uv(a):[];return s||(s=o[i]),ws(o.splice)&&o.splice(i,1),ws(o.every)&&o.every(function(l){return l===void 0})?[]:o},!0,!0),s},t.pop=function(){var i;return this.updateArrayField(function(s){var a=s.slice();return i||(i=a&&a.pop&&a.pop()),a},!0,!0),i},t.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,a=s.component,o=s.render,l=s.children,u=s.name,f=s.formik,p=kp(f,["validate","validationSchema"]),m=or({},i,{form:p,name:u});return a?C.createElement(a,m):o?o(m):l?typeof l=="function"?l(m):OY(l)?null:C.Children.only(l):null},e}(C.Component);_we.defaultProps={validateOnChange:!0};var Swe=function(n){UY(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.shouldComponentUpdate=function(i){return Vr(this.props.formik.errors,this.props.name)!==Vr(i.formik.errors,this.props.name)||Vr(this.props.formik.touched,this.props.name)!==Vr(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},t.render=function(){var i=this.props,s=i.component,a=i.formik,o=i.render,l=i.children,u=i.name,f=kp(i,["component","formik","render","children","name"]),p=Vr(a.touched,u),m=Vr(a.errors,u);return p&&m?o?ws(o)?o(m):null:l?ws(l)?l(m):null:s?C.createElement(s,f,m):m:null},e}(C.Component),WR=vwe(Swe);const io=C.forwardRef(({className:n,...e},t)=>d.jsx("textarea",{className:ft(`flex min-h-[80px] w-full rounded-md border border-input ${_t} px-3 py-2 placeholder:text-[hsl(var(--text-muted))] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,n),ref:t,...e}));io.displayName="Textarea";var FY={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},M$=Wi.createContext&&Wi.createContext(FY),Dwe=["attr","size","title"];function Awe(n,e){if(n==null)return{};var t=Twe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Twe(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function zR(){return zR=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zR.apply(this,arguments)}function P$(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(t),!0).forEach(function(r){Ewe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P$(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ewe(n,e,t){return e=Cwe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Cwe(n){var e=Nwe(n,"string");return typeof e=="symbol"?e:e+""}function Nwe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function LY(n){return n&&n.map((e,t)=>Wi.createElement(e.tag,qR({key:t},e.attr),LY(e.child)))}function zA(n){return e=>Wi.createElement(Rwe,zR({attr:qR({},n.attr)},e),LY(n.child))}function Rwe(n){var e=t=>{var{attr:r,size:i,title:s}=n,a=Awe(n,Dwe),o=i||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Wi.createElement("svg",zR({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:l,style:qR(qR({color:n.color||t.color},t.style),n.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Wi.createElement("title",null,s),n.children)};return M$!==void 0?Wi.createElement(M$.Consumer,null,t=>e(t)):e(FY)}function jwe(n){return zA({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2zm0 15-5-2.18L7 18V5h10v13z"},child:[]}]})(n)}function kwe(n){return zA({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"},child:[]}]})(n)}function F$(n){return zA({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"},child:[]}]})(n)}function Uwe(n){return zA({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},child:[]}]})(n)}function Owe(n){return zA({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}const W8=({children:n})=>d.jsx("div",{className:"flex flex-wrap gap-2",children:n}),L1=({children:n,className:e=""})=>d.jsx("div",{className:`inline-flex items-center rounded-full ${Zt} px-3 py-1 text-sm font-medium ${it} ${e}`,children:n}),z8=({onClick:n})=>d.jsx("button",{type:"button",onClick:n,className:`ml-1 rounded-full ${Zt} ${wn} ${it} p-1`,children:d.jsx(Owe,{size:12})}),q8=n=>{const e=new Set(["mp4","webm","mov","avi","mkv","flv","wmv","m4v"]),t=n.name.toLowerCase().split("."),r=t.length>1?t.pop():"";return r&&e.has(r)?r:null},Mwe=async(n,e,t)=>{var o;const r=`${e.toLowerCase()}/videos`,i=(o=q8(n))==null?void 0:o.toLowerCase().replace(/^\./,"");if(!i)return;const s=`${t.toLowerCase()}_${Date.now()}.${i}`,{error:a}=await qe.storage.from("stories").upload(`${r}/${s}`,n,{upsert:!0});if(a)throw console.error("Error uploading scene video:",a),a},j3=async(n,e)=>{const t=`${n.toLowerCase()}/videos`,{data:r,error:i}=await qe.storage.from("stories").list(t,{limit:100});if(i)throw console.error("Error listing files:",i),i;const s=r.filter(o=>o.name.startsWith(e.toLowerCase()));if(s.length===0)return null;const{data:a}=qe.storage.from("stories").getPublicUrl(`${t}/${s[0].name}`);return a.publicUrl},Pwe=async(n,e,t)=>{var r;try{const i=(r=q8(n))==null?void 0:r.toLowerCase().replace(/^\./,"");if(!i)throw new Error("Invalid file extension");const s=`${t.toLowerCase()}_${Date.now()}.${i}`,a=`${e.toLowerCase()}/videos`;await qe.storage.from("stories").upload(`${a}/${s}`,n,{upsert:!0});const{data:o,error:l}=await qe.storage.from("stories").list(a,{limit:100});if(l)throw console.error("Error listing files:",l),l;const u=o.filter(p=>p.name!==s&&p.name.startsWith(t.toLowerCase())).map(p=>`${a}/${p.name}`);if(u.length>0){const{error:p}=await qe.storage.from("stories").remove(u);if(p)throw console.error("Error deleting old scene videos:",p),p}return await j3(e,t)}catch(i){throw console.error("Error updating scene video:",i),i}};function r5(n){if(Array.isArray(n))return n.map(r5);if(n!==null&&typeof n=="object"){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([A-Z])/g,i=>`_${i.toLowerCase()}`);e[r]=r5(n[t])}),e}return n}function Bp(n){if(Array.isArray(n))return n.map(Bp);if(n!==null&&typeof n=="object"){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/(_\w)/g,i=>i[1].toUpperCase());e[r]=Bp(n[t])}),e}return n}const IY=async n=>{const{data:e,error:t}=await qe.from("stories").select("*").eq("id",n).single();if(t||!e)throw new Error(`Error fetching story: ${t==null?void 0:t.message}`);const r=Bp(e),[i,s,a]=await Promise.all([k3(r.id),qA(n),J1(r.userId||"",r.id)]);return r.characterCount=i,r.likeCount=s,r.cover=a||void 0,r},k3=async n=>{const{count:e}=await qe.from("story_characters").select("*",{count:"exact",head:!0}).eq("story_id",n);return e||0},$Y=async(n,e=!1)=>{let t=qe.from("stories").select("*").eq("user_id",n);e&&(t=t.eq("restriction","teen"));const{data:r,error:i}=await t;if(i||!r)throw new Error(`Error fetching story: ${i==null?void 0:i.message}`);const s=r.map(Bp);return await Promise.all(s.map(async a=>{if(a.id){const[o,l,u]=await Promise.all([J1(n,a.id),k3(a.id),qA(a.id)]);a.cover=o||void 0,a.characterCount=l,a.likeCount=u}})),s},Fwe=async n=>{const{data:e,error:t}=await qe.from("stories").select("*").eq("id",n).single();if(t||!e)throw new Error(`Error fetching story: ${t==null?void 0:t.message}`);const r=Bp(e),[i,s,a,o,l,u]=await Promise.all([qe.from("story_fandoms").select("fandom_name").eq("story_id",n),qe.from("story_tags").select("tag_name").eq("story_id",n),qe.from("scenes").select("*").eq("story_id",n),qe.from("story_characters").select("character_id").eq("story_id",n),J1(r.userId||"",n),qA(n)]);if(i.error)throw new Error(`Error fetching story fandoms: ${i.error.message}`);if(s.error)throw new Error(`Error fetching story tags: ${s.error.message}`);if(a.error)throw new Error(`Error fetching story scenes: ${a.error.message}`);if(o.error)throw new Error(`Error fetching story characters: ${o.error.message}`);const f=(i.data||[]).map(S=>S.fandom_name),p=(s.data||[]).map(S=>S.tag_name),y=(a.data||[]).map(async S=>{const T=await j3(r.userId||"",S.id);return{...S,storyId:n,video:T}}),b=await Promise.all(y),x=(o.data||[]).map(S=>S.character_id);let w=[];return x.length>0&&(w=(await Promise.all(x.map(async T=>await TS(T)))).filter(T=>T!==null)),{id:r.id,userId:r.userId,username:r.username,title:r.title,description:r.description,restriction:r.restriction,storyText:r.storyText,createdAt:r.createdAt,fandoms:f,tags:p,characters:w,scenes:b,cover:l||void 0,likeCount:u,viewCount:r.viewCount||0,characterCount:w.length}},qA=async n=>{const{count:e,error:t}=await qe.from("story_likes").select("id",{count:"exact",head:!0}).eq("story_id",n);if(t)throw t;return e??0},Lwe=async n=>{const{data:e,error:t}=await qe.from("stories").select("view_count").eq("id",n).single();if(t)throw t;const r=e.view_count||0,{error:i}=await qe.from("stories").update({view_count:r+1}).eq("id",n);if(i)throw i};async function Iwe(n,e){const{data:t,error:r}=await qe.from("story_likes").insert([{user_id:n,story_id:e}]);if(r)throw console.error("Error liking story:",r),r;return t}async function $we(n,e){const{data:t,error:r}=await qe.from("story_likes").delete().match({user_id:n,story_id:e});if(r)throw console.error("Error unliking story:",r),r;return t}const Bwe=async(n,e)=>{const{count:t}=await qe.from("story_likes").select("id",{count:"exact",head:!0}).eq("user_id",n).eq("story_id",e);return t!==null&&t>0},Wwe=async(n,e)=>{const{data:t,error:r}=await qe.from("stories").update(r5(e)).eq("id",n);if(r)throw console.error("Error updating story:",r),r;return t},zwe=async n=>{await Promise.all([qe.from("story_tags").delete().eq("story_id",n),qe.from("story_fandoms").delete().eq("story_id",n),qe.from("story_characters").delete().eq("story_id",n),qe.from("story_likes").delete().eq("story_id",n),qe.from("story_bookmarks").delete().eq("story_id",n),qe.from("scenes").delete().eq("story_id",n)]);const{error:e}=await qe.from("stories").delete().eq("id",n);if(e)throw console.error("Error deleting story:",e),e;return!0},qwe=async(n,e,t)=>{var o;const r=(o=Uh(n))==null?void 0:o.toLowerCase().replace(/^\./,"");if(!r)return;const i=`${e}/uploads/${t.toLowerCase()}_${Date.now()}.${r}`,{data:s,error:a}=await qe.storage.from("story-files").upload(i,n,{upsert:!0});if(a)throw a;return s},Hwe=async(n,e)=>{const{error:t}=await qe.from("scenes").update({...e}).eq("id",n);if(t)throw t},Vwe=async n=>{const{data:e,error:t}=await qe.from("story_likes").select("story_id, liked_at").eq("user_id",n).order("liked_at",{ascending:!1});if(t)throw console.error("Error fetching user liked stories:",t),t;return(e||[]).map(r=>({storyId:r.story_id,likedAt:r.liked_at}))},L$=async n=>{if(n.length===0)return[];const{data:e,error:t}=await qe.from("stories").select("*").in("id",n);if(t)throw console.error("Error fetching stories by ids:",t),t;const r=e.map(Bp);return await Promise.all(r.map(async i=>{i.id&&(i.cover=await J1(i.userId||"",i.id)||void 0,i.characterCount=await k3(i.id),i.likeCount=await qA(i.id))})),r};async function Gwe(n,e){const{data:t,error:r}=await qe.from("story_saves").insert([{user_id:n,story_id:e}]);if(r)throw console.error("Error saving story:",r),r;return t}async function Xwe(n,e){const{data:t,error:r}=await qe.from("story_saves").delete().match({user_id:n,story_id:e});if(r)throw console.error("Error unsaving story:",r),r;return t}const Ywe=async(n,e)=>{const{count:t}=await qe.from("story_saves").select("id",{count:"exact",head:!0}).eq("user_id",n).eq("story_id",e);return t!==null&&t>0},Kwe=async n=>{const{data:e,error:t}=await qe.from("story_saves").select("story_id, saved_at").eq("user_id",n).order("saved_at",{ascending:!1});if(t)throw console.error("Error fetching user saved stories:",t),t;return(e||[]).map(r=>({storyId:r.story_id,savedAt:r.saved_at}))},Zwe=async(n=20,e=!1)=>{try{let t=qe.from("stories").select("*").order("created_at",{ascending:!1}).limit(n);e&&(t=t.neq("restriction",Un.MATURE));const{data:r,error:i}=await t;if(i||!r)throw new Error(`Error fetching recent stories: ${i==null?void 0:i.message}`);const s=r.map(o=>Bp(o));return await Promise.all(s.map(async o=>{const[l,u,f]=await Promise.all([k3(o.id),qA(o.id),J1(o.userId||"",o.id)]);return{...o,characterCount:l,likeCount:u,cover:f||void 0}}))}catch(t){return console.error("Error fetching recent stories:",t),[]}},Qwe=n=>({id:n.id,name:n.name,characterCount:n.character_count}),U3=async n=>{const e=n.toLocaleLowerCase(),{data:t,error:r}=await qe.from("fandoms").insert([{name:e}]).select();return r||!t||t.length===0?(console.error("Error creating fandom:",r),null):Qwe(t[0])},Jwe=async n=>{const{data:e,error:t}=await qe.from("fandoms").select("*").eq("name",n).select();if(t||!e){console.error("Error fetching fandoms:",t);return}return e[0]},O3=async n=>{const{data:e,error:t}=await qe.from("fandoms").select("name").ilike("name",`%${n}%`).limit(5);return t?(console.error("Error searching fandoms:",t),[]):e.map(r=>r.name)},HR=async(n,e)=>{const t=n.toLocaleLowerCase(),{error:r}=await qe.from("character_fandoms").insert([{fandom_name:t,character_id:e}]);r&&console.error("Error creating fandom:",r)},I$=async(n,e)=>{const t=n.toLocaleLowerCase(),{error:r}=await qe.from("story_fandoms").insert([{fandom_name:t,story_id:e}]);r&&console.error("Error creating fandom:",r)},e2e=async(n,e)=>{const{error:t}=await qe.from("character_fandoms").delete().eq("character_id",e).eq("fandom_name",n.toLocaleLowerCase());if(t)throw t},t2e=async(n,e)=>{const{error:t}=await qe.from("story_fandoms").delete().eq("story_id",e).eq("fandom_name",n.toLocaleLowerCase());if(t)throw t},n2e=async(n,e=30,t=!1)=>{const{data:r,error:i}=await qe.from("story_fandoms").select("story_id").eq("fandom_name",n.toLowerCase()).limit(e);if(i)throw i;const s=await Promise.all(r.map(a=>IY(a.story_id)));return t?s.filter(a=>a.restriction!==Un.MATURE):s},NO=5,HA=({selectedFandoms:n,onChange:e,transparentBackground:t=!1})=>{const[r,i]=C.useState(""),[s,a]=C.useState([]),[o,l]=C.useState(!1),u=C.useRef(null);C.useEffect(()=>{if(r.trim()===""){a([]);return}O3(r).then(m=>{const y=m.find(b=>b.toLowerCase()===r.toLowerCase());a(y?m.slice(0,NO):[r,...m.slice(0,4)])})},[r]),C.useEffect(()=>{const m=y=>{u.current&&!u.current.contains(y.target)&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{n&&n.length>=NO||(n?n.includes(m)||e([...n,m]):e([m]),i(""),a([]),l(!1))},p=m=>{n&&e(n.filter(y=>y!==m))};return d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("div",{className:`flex flex-wrap items-center border border-input rounded-md p-1 mt-1 ${t?"bg-transparent":"bg-[hsl(var(--input))]"}`,children:[n&&n.length>0&&d.jsx(W8,{children:n.map((m,y)=>d.jsxs(L1,{children:[m,d.jsx(z8,{onClick:()=>p(m)})]},y))}),d.jsx(lr,{type:"text",value:r,placeholder:"Search fandoms...",onChange:m=>{i(m.target.value),l(!0)},className:`flex-1 ml-1 focus:outline-none border-none ${t?"bg-transparent":"bg-[hsl(var(--input))]"}`})]}),d.jsxs("div",{className:`text-xs ${Xe} mt-1 text-right`,children:[n?n.length:0,"/",NO]}),o&&s.length>0&&d.jsx("div",{className:`absolute z-50 -mt-[19px] w-full rounded-md border border-[hsl(var(--background-secondary))] shadow-xl ${_t}`,children:s.map((m,y)=>d.jsxs("div",{className:`cursor-pointer px-3 py-2 ${Dn} ${Xe} flex justify-between items-center`,onClick:()=>f(m),children:[d.jsx("span",{children:m}),y===0&&d.jsx("span",{className:`text-xs ${Xe}`,children:"Create"})]},y))})]})},r2e=n=>({id:n.id,name:n.name,characterCount:n.character_count}),M3=async n=>{const e=n.toLocaleLowerCase(),{data:t,error:r}=await qe.from("tags").insert([{name:e}]).select();return r||!t||t.length===0?(console.error("Error creating tag:",r),null):r2e(t[0])},VA=async n=>{const{data:e,error:t}=await qe.from("tags").select("name").ilike("name",`%${n}%`).limit(5);return t?(console.error("Error searching tags:",t),[]):e.map(r=>r.name)},VR=async(n,e)=>{const t=n.toLocaleLowerCase(),{error:r}=await qe.from("character_tags").insert([{tag_name:t,character_id:e}]);r&&console.error("Error creating fandom:",r)},$$=async(n,e)=>{const t=n.toLocaleLowerCase(),{error:r}=await qe.from("story_tags").insert([{tag_name:t,story_id:e}]);r&&console.error("Error creating fandom:",r)},i2e=async(n,e)=>{const{error:t}=await qe.from("character_tags").delete().eq("character_id",e).eq("tag_name",n.toLocaleLowerCase());if(t)throw t},s2e=async(n,e)=>{const{error:t}=await qe.from("story_tags").delete().eq("story_id",e).eq("tag_name",n.toLocaleLowerCase());if(t)throw t},B$=15,GA=({selectedTags:n,onChange:e,transparentBackground:t})=>{const[r,i]=C.useState(""),[s,a]=C.useState([]),[o,l]=C.useState(!1),u=C.useRef(null);C.useEffect(()=>{if(r.trim()===""){a([]);return}VA(r).then(m=>{const y=m.find(b=>b.toLowerCase()===r.toLowerCase());a(y?m.slice(0,5):[r,...m.slice(0,4)])})},[r]),C.useEffect(()=>{const m=y=>{u.current&&!u.current.contains(y.target)&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{n&&n.length>=B$||(n?n.includes(m)||e([...n,m]):e([m]),i(""),a([]),l(!1))},p=m=>{n&&e(n.filter(y=>y!==m))};return d.jsxs("div",{className:"relative",ref:u,children:[d.jsxs("div",{className:`flex flex-wrap items-center border border-input rounded-md p-1 mt-1 ${t?"bg-transparent":"bg-[hsl(var(--input))]"}`,children:[n&&n.length>0&&d.jsx(W8,{children:n.map((m,y)=>d.jsxs(L1,{children:[m,d.jsx(z8,{onClick:()=>p(m)})]},y))}),d.jsx(lr,{type:"text",value:r,placeholder:"Search tags...",onChange:m=>{i(m.target.value),l(!0)},className:`flex-1 ml-1 border-none focus:outline-none ${t?"bg-transparent":"bg-[hsl(var(--input))]"}`})]}),d.jsxs("div",{className:`text-xs ${Xe} mt-1 text-right`,children:[n?n.length:0,"/",B$]}),o&&s.length>0&&d.jsx("div",{className:`absolute z-50 -mt-5 w-full rounded-md border shadow-lg ${_t} `,children:s.map((m,y)=>d.jsxs("div",{className:`cursor-pointer px-3 py-2 ${Dn} flex justify-between items-center`,onClick:()=>f(m),children:[d.jsx("span",{className:it,children:m}),y===0&&d.jsx("span",{className:`text-xs ${Xe}`,children:"Create"})]},y))})]})},W$=1e3,H8=({coverURL:n,onCoverChange:e,className:t})=>{const{userData:r}=kt(),{isMobile:i}=In(),s=C.useRef(null),[a,o]=C.useState(!1),[l,u]=C.useState(""),[f,p]=C.useState(!1),[m,y]=C.useState([]),[b,x]=C.useState(null),[w,S]=C.useState([]),[T,E]=C.useState(!1),[R,N]=C.useState(!1),U=()=>{var P;(P=s.current)==null||P.click()},O=async()=>{if(l.trim()){p(!0),y([]),x(null);try{const P=Array.from({length:3}).map(()=>fetch(`${mr}/generate-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:l+", book cover art, avoid words"})})),X=(await Promise.all(P)).map(te=>{if(!te.ok)throw new Error("Failed to generate image");return te.blob()}),q=(await Promise.all(X)).map((te,B)=>new File([te],`generated-${B}.png`,{type:te.type}));y(q);const L=q.map(te=>URL.createObjectURL(te));S(L)}catch(P){console.error("Error generating images:",P)}finally{p(!1)}}},M=()=>{b!==null&&(e(m[b]),o(!1),y([]),S([]),u(""),x(null))};return d.jsxs(d.Fragment,{children:[d.jsxs(bt.div,{whileHover:{scale:1.02},className:`relative flex items-center justify-center border border-dashed rounded-lg overflow-hidden ${t} w-40 h-60 ${Bo}`,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[n?d.jsx("img",{src:n,alt:"Book Cover",className:"w-full h-full object-cover rounded-lg"}):d.jsx("div",{className:`flex flex-col items-center justify-center w-full h-full text-xl ${Bo}`}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs(Av,{onOpenChange:P=>N(P),children:[d.jsx(Tv,{asChild:!0,children:(!n||T||R)&&d.jsx(bt.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:`w-12 h-12 flex items-center justify-center ${_t} ${it} rounded-full shadow-md transition-all duration-300`,type:"button",children:d.jsx(Y1,{className:"h-6 w-6"})})}),d.jsxs(Yp,{className:`w-40 ml-[120px] ${Pt(r==null?void 0:r.theme)}`,children:[d.jsxs(_i,{onSelect:()=>o(!0),children:[d.jsx(hP,{className:"h-4 w-4 mr-1"})," Generate Cover"]}),d.jsxs(_i,{onSelect:U,children:[d.jsx(i4,{className:"h-4 w-4 mr-1"})," Upload Cover"]})]})]})})]}),d.jsx("input",{ref:s,id:"cover",name:"cover",type:"file",accept:"image/*",className:"hidden",onChange:P=>{var H;(H=P.currentTarget.files)!=null&&H.length&&e(P.currentTarget.files[0])}}),d.jsx(ao,{open:a,onOpenChange:o,children:d.jsxs(Ta,{className:`rounded-xl ${i?"w-5/6":"w-2/5"} ${Pt(r==null?void 0:r.theme)}`,children:[d.jsx(d3,{asChild:!0,children:d.jsx(ct,{className:"absolute top-4 right-4 p-1 bg-transparent hover:bg-transparent",children:d.jsx(Go,{className:"h-5 w-5"})})}),d.jsxs(Kp,{children:[d.jsx(ls,{children:"Generate story cover"}),d.jsx(h3,{children:"Enter a prompt to generate your cover image"})]}),d.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[d.jsx(lr,{placeholder:"Describe style, color scheme, mood etc.",value:l,onChange:P=>u(P.target.value),className:"w-full px-2 py-1",maxLength:W$}),d.jsxs("div",{className:"text-xs mt-1 text-right",children:[l.length,"/",W$]}),w.length>0&&d.jsx("div",{className:"flex flex-row gap-2 mt-2",children:w.map((P,H)=>d.jsx("div",{onClick:()=>x(H),className:`cursor-pointer rounded border-2 ${b===H?"border-[hsl(var(--text-light))]":"border-[hsl(var(--background-tertiary))]"}`,children:d.jsx("img",{src:P,alt:`Option ${H+1}`,className:"w-36 h-56 object-cover"})},H))}),d.jsxs("div",{className:"flex justify-end gap-1 mt-4",children:[d.jsxs(ct,{onClick:O,className:"flex justify-center rounded-full px-3 py-1",disabled:f,children:[f?d.jsx(yr,{className:"animate-spin h-5 w-5"}):w.length>0?d.jsx(r4,{className:"h-5 w-5"}):d.jsx(hP,{className:"h-5 w-5"})," Generate"]}),d.jsx(ct,{onClick:M,className:"flex justify-center rounded-full px-3 py-1",disabled:b===null,children:"Select"})]})]})]})})]})},Er=({labelText:n,infoText:e,textSize:t})=>{const{userData:r}=kt(),i=Pt((r==null?void 0:r.theme)||Fl("theme"));return d.jsxs("label",{className:`block  ${t||"text-sm"} font-medium ${Be} flex items-center`,children:[n,d.jsxs(Nc,{children:[d.jsx(Rc,{asChild:!0,children:d.jsx(bt.button,{whileHover:{scale:1.1},type:"button",className:"ml-2 inline-flex items-center",children:d.jsx(fS,{className:`w-4 h-4 ${Xe} hover:text-[hsl(var(--text-light))]`})})}),d.jsx(Nl,{side:"right",sideOffset:8,className:`w-48 p-2 text-sm ${i} shadow-xl rounded-xl`,children:e})]})]})};function BY(n){const e=C.useRef({value:n,previous:n});return C.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var a2e=[" ","Enter","ArrowUp","ArrowDown"],o2e=[" ","Enter"],dv="Select",[P3,F3,l2e]=O4(dv),[aw,INe]=Yo(dv,[l2e,Xp]),L3=Xp(),[c2e,em]=aw(dv),[u2e,d2e]=aw(dv),WY=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:f,autoComplete:p,disabled:m,required:y,form:b}=n,x=L3(e),[w,S]=C.useState(null),[T,E]=C.useState(null),[R,N]=C.useState(!1),U=RA(u),[O,M]=Dh({prop:r,defaultProp:i??!1,onChange:s,caller:dv}),[P,H]=Dh({prop:a,defaultProp:o,onChange:l,caller:dv}),X=C.useRef(null),I=w?b||!!w.closest("form"):!0,[q,L]=C.useState(new Set),te=Array.from(q).map(B=>B.props.value).join(";");return d.jsx(t3,{...x,children:d.jsxs(c2e,{required:y,scope:e,trigger:w,onTriggerChange:S,valueNode:T,onValueNodeChange:E,valueNodeHasChildren:R,onValueNodeHasChildrenChange:N,contentId:El(),value:P,onValueChange:H,open:O,onOpenChange:M,dir:U,triggerPointerDownPosRef:X,disabled:m,children:[d.jsx(P3.Provider,{scope:e,children:d.jsx(u2e,{scope:n.__scopeSelect,onNativeOptionAdd:C.useCallback(B=>{L(W=>new Set(W).add(B))},[]),onNativeOptionRemove:C.useCallback(B=>{L(W=>{const se=new Set(W);return se.delete(B),se})},[]),children:t})}),I?d.jsxs(hK,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:P,onChange:B=>H(B.target.value),disabled:m,form:b,children:[P===void 0?d.jsx("option",{value:""}):null,Array.from(q)]},te):null]})})};WY.displayName=dv;var zY="SelectTrigger",V8=C.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...i}=n,s=L3(t),a=em(zY,t),o=a.disabled||r,l=dn(e,a.onTriggerChange),u=F3(t),f=C.useRef("touch"),[p,m,y]=pK(x=>{const w=u().filter(E=>!E.disabled),S=w.find(E=>E.value===a.value),T=mK(w,x,S);T!==void 0&&a.onValueChange(T.value)}),b=x=>{o||(a.onOpenChange(!0),y()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return d.jsx(NA,{asChild:!0,...s,children:d.jsx(Ft.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":fK(a.value)?"":void 0,...i,ref:l,onClick:pt(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&b(x)}),onPointerDown:pt(i.onPointerDown,x=>{f.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:pt(i.onKeyDown,x=>{const w=p.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(w&&x.key===" ")&&a2e.includes(x.key)&&(b(),x.preventDefault())})})})});V8.displayName=zY;var qY="SelectValue",HY=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,children:s,placeholder:a="",...o}=n,l=em(qY,t),{onValueNodeHasChildrenChange:u}=l,f=s!==void 0,p=dn(e,l.onValueNodeChange);return Mi(()=>{u(f)},[u,f]),d.jsx(Ft.span,{...o,ref:p,style:{pointerEvents:"none"},children:fK(l.value)?d.jsx(d.Fragment,{children:a}):s})});HY.displayName=qY;var h2e="SelectIcon",VY=C.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...i}=n;return d.jsx(Ft.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});VY.displayName=h2e;var f2e="SelectPortal",GY=n=>d.jsx(DA,{asChild:!0,...n});GY.displayName=f2e;var hv="SelectContent",XY=C.forwardRef((n,e)=>{const t=em(hv,n.__scopeSelect),[r,i]=C.useState();if(Mi(()=>{i(new DocumentFragment)},[]),!t.open){const s=r;return s?bA.createPortal(d.jsx(YY,{scope:n.__scopeSelect,children:d.jsx(P3.Slot,{scope:n.__scopeSelect,children:d.jsx("div",{children:n.children})})}),s):null}return d.jsx(KY,{...n,ref:e})});XY.displayName=hv;var cc=10,[YY,tm]=aw(hv),p2e="SelectContentImpl",m2e=Mp("SelectContent.RemoveScroll"),KY=C.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:w,...S}=n,T=em(hv,t),[E,R]=C.useState(null),[N,U]=C.useState(null),O=dn(e,Ee=>R(Ee)),[M,P]=C.useState(null),[H,X]=C.useState(null),I=F3(t),[q,L]=C.useState(!1),te=C.useRef(!1);C.useEffect(()=>{if(E)return $j(E)},[E]),Lj();const B=C.useCallback(Ee=>{const[Me,...Ye]=I().map(lt=>lt.ref.current),[Ke]=Ye.slice(-1),Le=document.activeElement;for(const lt of Ee)if(lt===Le||(lt==null||lt.scrollIntoView({block:"nearest"}),lt===Me&&N&&(N.scrollTop=0),lt===Ke&&N&&(N.scrollTop=N.scrollHeight),lt==null||lt.focus(),document.activeElement!==Le))return},[I,N]),W=C.useCallback(()=>B([M,E]),[B,M,E]);C.useEffect(()=>{q&&W()},[q,W]);const{onOpenChange:se,triggerPointerDownPosRef:K}=T;C.useEffect(()=>{if(E){let Ee={x:0,y:0};const Me=Ke=>{var Le,lt;Ee={x:Math.abs(Math.round(Ke.pageX)-(((Le=K.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Ke.pageY)-(((lt=K.current)==null?void 0:lt.y)??0))}},Ye=Ke=>{Ee.x<=10&&Ee.y<=10?Ke.preventDefault():E.contains(Ke.target)||se(!1),document.removeEventListener("pointermove",Me),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",Ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",Ye,{capture:!0})}}},[E,se,K]),C.useEffect(()=>{const Ee=()=>se(!1);return window.addEventListener("blur",Ee),window.addEventListener("resize",Ee),()=>{window.removeEventListener("blur",Ee),window.removeEventListener("resize",Ee)}},[se]);const[G,Y]=pK(Ee=>{const Me=I().filter(Le=>!Le.disabled),Ye=Me.find(Le=>Le.ref.current===document.activeElement),Ke=mK(Me,Ee,Ye);Ke&&setTimeout(()=>Ke.ref.current.focus())}),ne=C.useCallback((Ee,Me,Ye)=>{const Ke=!te.current&&!Ye;(T.value!==void 0&&T.value===Me||Ke)&&(P(Ee),Ke&&(te.current=!0))},[T.value]),le=C.useCallback(()=>E==null?void 0:E.focus(),[E]),xe=C.useCallback((Ee,Me,Ye)=>{const Ke=!te.current&&!Ye;(T.value!==void 0&&T.value===Me||Ke)&&X(Ee)},[T.value]),we=r==="popper"?i5:ZY,Re=we===i5?{side:o,sideOffset:l,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:m,collisionPadding:y,sticky:b,hideWhenDetached:x,avoidCollisions:w}:{};return d.jsx(YY,{scope:t,content:E,viewport:N,onViewportChange:U,itemRefCallback:ne,selectedItem:M,onItemLeave:le,itemTextRefCallback:xe,focusSelectedItem:W,selectedItemText:H,position:r,isPositioned:q,searchRef:G,children:d.jsx(AA,{as:m2e,allowPinchZoom:!0,children:d.jsx(SA,{asChild:!0,trapped:T.open,onMountAutoFocus:Ee=>{Ee.preventDefault()},onUnmountAutoFocus:pt(i,Ee=>{var Me;(Me=T.trigger)==null||Me.focus({preventScroll:!0}),Ee.preventDefault()}),children:d.jsx(Z1,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Ee=>Ee.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:d.jsx(we,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:Ee=>Ee.preventDefault(),...S,...Re,onPlaced:()=>L(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:pt(S.onKeyDown,Ee=>{const Me=Ee.ctrlKey||Ee.altKey||Ee.metaKey;if(Ee.key==="Tab"&&Ee.preventDefault(),!Me&&Ee.key.length===1&&Y(Ee.key),["ArrowUp","ArrowDown","Home","End"].includes(Ee.key)){let Ke=I().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(Ee.key)&&(Ke=Ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ee.key)){const Le=Ee.target,lt=Ke.indexOf(Le);Ke=Ke.slice(lt+1)}setTimeout(()=>B(Ke)),Ee.preventDefault()}})})})})})})});KY.displayName=p2e;var g2e="SelectItemAlignedPosition",ZY=C.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...i}=n,s=em(hv,t),a=tm(hv,t),[o,l]=C.useState(null),[u,f]=C.useState(null),p=dn(e,O=>f(O)),m=F3(t),y=C.useRef(!1),b=C.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:S,focusSelectedItem:T}=a,E=C.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&x&&w&&S){const O=s.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),H=S.getBoundingClientRect();if(s.dir!=="rtl"){const Le=H.left-M.left,lt=P.left-Le,st=O.left-lt,$=O.width+st,ge=Math.max($,M.width),ve=window.innerWidth-cc,ae=YP(lt,[cc,Math.max(cc,ve-ge)]);o.style.minWidth=$+"px",o.style.left=ae+"px"}else{const Le=M.right-H.right,lt=window.innerWidth-P.right-Le,st=window.innerWidth-O.right-lt,$=O.width+st,ge=Math.max($,M.width),ve=window.innerWidth-cc,ae=YP(lt,[cc,Math.max(cc,ve-ge)]);o.style.minWidth=$+"px",o.style.right=ae+"px"}const X=m(),I=window.innerHeight-cc*2,q=x.scrollHeight,L=window.getComputedStyle(u),te=parseInt(L.borderTopWidth,10),B=parseInt(L.paddingTop,10),W=parseInt(L.borderBottomWidth,10),se=parseInt(L.paddingBottom,10),K=te+B+q+se+W,G=Math.min(w.offsetHeight*5,K),Y=window.getComputedStyle(x),ne=parseInt(Y.paddingTop,10),le=parseInt(Y.paddingBottom,10),xe=O.top+O.height/2-cc,we=I-xe,Re=w.offsetHeight/2,Ee=w.offsetTop+Re,Me=te+B+Ee,Ye=K-Me;if(Me<=xe){const Le=X.length>0&&w===X[X.length-1].ref.current;o.style.bottom="0px";const lt=u.clientHeight-x.offsetTop-x.offsetHeight,st=Math.max(we,Re+(Le?le:0)+lt+W),$=Me+st;o.style.height=$+"px"}else{const Le=X.length>0&&w===X[0].ref.current;o.style.top="0px";const st=Math.max(xe,te+x.offsetTop+(Le?ne:0)+Re)+Ye;o.style.height=st+"px",x.scrollTop=Me-xe+x.offsetTop}o.style.margin=`${cc}px 0`,o.style.minHeight=G+"px",o.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[m,s.trigger,s.valueNode,o,u,x,w,S,s.dir,r]);Mi(()=>E(),[E]);const[R,N]=C.useState();Mi(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const U=C.useCallback(O=>{O&&b.current===!0&&(E(),T==null||T(),b.current=!1)},[E,T]);return d.jsx(v2e,{scope:t,contentWrapper:o,shouldExpandOnScrollRef:y,onScrollButtonChange:U,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:d.jsx(Ft.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ZY.displayName=g2e;var y2e="SelectPopperPosition",i5=C.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:i=cc,...s}=n,a=L3(t);return d.jsx(n3,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});i5.displayName=y2e;var[v2e,G8]=aw(hv,{}),s5="SelectViewport",QY=C.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...i}=n,s=tm(s5,t),a=G8(s5,t),o=dn(e,s.onViewportChange),l=C.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(P3.Slot,{scope:t,children:d.jsx(Ft.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pt(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&p){const y=Math.abs(l.current-f.scrollTop);if(y>0){const b=window.innerHeight-cc*2,x=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),S=Math.max(x,w);if(S<b){const T=S+y,E=Math.min(b,T),R=T-E;p.style.height=E+"px",p.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});QY.displayName=s5;var JY="SelectGroup",[b2e,x2e]=aw(JY),eK=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=El();return d.jsx(b2e,{scope:t,id:i,children:d.jsx(Ft.div,{role:"group","aria-labelledby":i,...r,ref:e})})});eK.displayName=JY;var tK="SelectLabel",nK=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=x2e(tK,t);return d.jsx(Ft.div,{id:i.id,...r,ref:e})});nK.displayName=tK;var GR="SelectItem",[w2e,rK]=aw(GR),iK=C.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:i=!1,textValue:s,...a}=n,o=em(GR,t),l=tm(GR,t),u=o.value===r,[f,p]=C.useState(s??""),[m,y]=C.useState(!1),b=dn(e,T=>{var E;return(E=l.itemRefCallback)==null?void 0:E.call(l,T,r,i)}),x=El(),w=C.useRef("touch"),S=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(w2e,{scope:t,value:r,disabled:i,textId:x,isSelected:u,onItemTextChange:C.useCallback(T=>{p(E=>E||((T==null?void 0:T.textContent)??"").trim())},[]),children:d.jsx(P3.ItemSlot,{scope:t,value:r,disabled:i,textValue:f,children:d.jsx(Ft.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:b,onFocus:pt(a.onFocus,()=>y(!0)),onBlur:pt(a.onBlur,()=>y(!1)),onClick:pt(a.onClick,()=>{w.current!=="mouse"&&S()}),onPointerUp:pt(a.onPointerUp,()=>{w.current==="mouse"&&S()}),onPointerDown:pt(a.onPointerDown,T=>{w.current=T.pointerType}),onPointerMove:pt(a.onPointerMove,T=>{var E;w.current=T.pointerType,i?(E=l.onItemLeave)==null||E.call(l):w.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(a.onPointerLeave,T=>{var E;T.currentTarget===document.activeElement&&((E=l.onItemLeave)==null||E.call(l))}),onKeyDown:pt(a.onKeyDown,T=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&T.key===" "||(o2e.includes(T.key)&&S(),T.key===" "&&T.preventDefault())})})})})});iK.displayName=GR;var U_="SelectItemText",sK=C.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:i,...s}=n,a=em(U_,t),o=tm(U_,t),l=rK(U_,t),u=d2e(U_,t),[f,p]=C.useState(null),m=dn(e,S=>p(S),l.onItemTextChange,S=>{var T;return(T=o.itemTextRefCallback)==null?void 0:T.call(o,S,l.value,l.disabled)}),y=f==null?void 0:f.textContent,b=C.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return Mi(()=>(x(b),()=>w(b)),[x,w,b]),d.jsxs(d.Fragment,{children:[d.jsx(Ft.span,{id:l.textId,...s,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?bA.createPortal(s.children,a.valueNode):null]})});sK.displayName=U_;var aK="SelectItemIndicator",oK=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return rK(aK,t).isSelected?d.jsx(Ft.span,{"aria-hidden":!0,...r,ref:e}):null});oK.displayName=aK;var a5="SelectScrollUpButton",lK=C.forwardRef((n,e)=>{const t=tm(a5,n.__scopeSelect),r=G8(a5,n.__scopeSelect),[i,s]=C.useState(!1),a=dn(e,r.onScrollButtonChange);return Mi(()=>{if(t.viewport&&t.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?d.jsx(uK,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});lK.displayName=a5;var o5="SelectScrollDownButton",cK=C.forwardRef((n,e)=>{const t=tm(o5,n.__scopeSelect),r=G8(o5,n.__scopeSelect),[i,s]=C.useState(!1),a=dn(e,r.onScrollButtonChange);return Mi(()=>{if(t.viewport&&t.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<u;s(f)};const l=t.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[t.viewport,t.isPositioned]),i?d.jsx(uK,{...n,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=t;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});cK.displayName=o5;var uK=C.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...i}=n,s=tm("SelectScrollButton",t),a=C.useRef(null),o=F3(t),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Mi(()=>{var f;const u=o().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),d.jsx(Ft.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:pt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:pt(i.onPointerLeave,()=>{l()})})}),_2e="SelectSeparator",dK=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return d.jsx(Ft.div,{"aria-hidden":!0,...r,ref:e})});dK.displayName=_2e;var l5="SelectArrow",S2e=C.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,i=L3(t),s=em(l5,t),a=tm(l5,t);return s.open&&a.position==="popper"?d.jsx(r3,{...i,...r,ref:e}):null});S2e.displayName=l5;var D2e="SelectBubbleInput",hK=C.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const i=C.useRef(null),s=dn(r,i),a=BY(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&f){const p=new Event("change",{bubbles:!0});f.call(o,e),o.dispatchEvent(p)}},[a,e]),d.jsx(Ft.select,{...t,style:{...MH,...t.style},ref:s,defaultValue:e})});hK.displayName=D2e;function fK(n){return n===""||n===void 0}function pK(n){const e=as(n),t=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const o=t.current+a;e(o),function l(u){t.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=C.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,i,s]}function mK(n,e,t){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=t?n.indexOf(t):-1;let a=A2e(n,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==t));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==t?l:void 0}function A2e(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var T2e=WY,gK=V8,E2e=HY,C2e=VY,N2e=GY,yK=XY,R2e=QY,j2e=eK,vK=nK,bK=iK,k2e=sK,U2e=oK,xK=lK,wK=cK,_K=dK;const Rl=T2e,fv=j2e,jl=E2e,kl=C.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(gK,{ref:r,className:ft("flex h-10 w-full items-center justify-between bg-input rounded-md border border-input px-3 py-2 text-sm ring-offset-background placeholder:text-[hsl(var(--text-light))] focus:outline-none disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 ",n),...t,children:[e,d.jsx(C2e,{asChild:!0,children:d.jsx(JF,{className:"h-4 w-4 opacity-50"})})]}));kl.displayName=gK.displayName;const SK=C.forwardRef(({className:n,...e},t)=>d.jsx(xK,{ref:t,className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(wA,{className:"h-4 w-4"})}));SK.displayName=xK.displayName;const DK=C.forwardRef(({className:n,...e},t)=>d.jsx(wK,{ref:t,className:ft("flex cursor-default items-center justify-center py-1",n),...e,children:d.jsx(JF,{className:"h-4 w-4"})}));DK.displayName=wK.displayName;const Ho=C.forwardRef(({className:n,children:e,position:t="popper",...r},i)=>d.jsx(N2e,{children:d.jsxs(yK,{ref:i,className:ft(`relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border ${_t} text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2`,t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[d.jsx(SK,{}),d.jsx(R2e,{className:ft("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(DK,{})]})}));Ho.displayName=yK.displayName;const O2e=C.forwardRef(({className:n,...e},t)=>d.jsx(vK,{ref:t,className:ft("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));O2e.displayName=vK.displayName;const Mr=C.forwardRef(({className:n,children:e,...t},r)=>d.jsxs(bK,{ref:r,className:ft(`relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none ${_t} focus:bg-[hsl(var(--background-tertiary))] focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,n),...t,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(U2e,{children:d.jsx(no,{className:"h-4 w-4"})})}),d.jsx(k2e,{children:e})]}));Mr.displayName=bK.displayName;const M2e=C.forwardRef(({className:n,...e},t)=>d.jsx(_K,{ref:t,className:ft("-mx-1 my-1 h-px bg-muted",n),...e}));M2e.displayName=_K.displayName;var hl={},X8="1.13.7",z$=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},I3=Array.prototype,Y8=Object.prototype,q$=typeof Symbol<"u"?Symbol.prototype:null,P2e=I3.push,XA=I3.slice,jS=Y8.toString,F2e=Y8.hasOwnProperty,AK=typeof ArrayBuffer<"u",L2e=typeof DataView<"u",I2e=Array.isArray,H$=Object.keys,V$=Object.create,G$=AK&&ArrayBuffer.isView,$2e=isNaN,B2e=isFinite,TK=!{toString:null}.propertyIsEnumerable("toString"),X$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],W2e=Math.pow(2,53)-1;function Da(n,e){return e=e==null?n.length-1:+e,function(){for(var t=Math.max(arguments.length-e,0),r=Array(t),i=0;i<t;i++)r[i]=arguments[i+e];switch(e){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r);case 2:return n.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(i=0;i<e;i++)s[i]=arguments[i];return s[e]=r,n.apply(this,s)}}function nm(n){var e=typeof n;return e==="function"||e==="object"&&!!n}function EK(n){return n===null}function K8(n){return n===void 0}function Z8(n){return n===!0||n===!1||jS.call(n)==="[object Boolean]"}function CK(n){return!!(n&&n.nodeType===1)}function Qs(n){var e="[object "+n+"]";return function(t){return jS.call(t)===e}}const $3=Qs("String"),Q8=Qs("Number"),NK=Qs("Date"),RK=Qs("RegExp"),jK=Qs("Error"),J8=Qs("Symbol"),eL=Qs("ArrayBuffer");var kK=Qs("Function"),z2e=z$.document&&z$.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof z2e!="function"&&(kK=function(n){return typeof n=="function"||!1});const Ks=kK,UK=Qs("Object");var OK=L2e&&(!/\[native code\]/.test(String(DataView))||UK(new DataView(new ArrayBuffer(8)))),tL=typeof Map<"u"&&UK(new Map),q2e=Qs("DataView");function H2e(n){return n!=null&&Ks(n.getInt8)&&eL(n.buffer)}const kS=OK?H2e:q2e,rm=I2e||Qs("Array");function im(n,e){return n!=null&&F2e.call(n,e)}var c5=Qs("Arguments");(function(){c5(arguments)||(c5=function(n){return im(n,"callee")})})();const B3=c5;function MK(n){return!J8(n)&&B2e(n)&&!isNaN(parseFloat(n))}function nL(n){return Q8(n)&&$2e(n)}function rL(n){return function(){return n}}function PK(n){return function(e){var t=n(e);return typeof t=="number"&&t>=0&&t<=W2e}}function FK(n){return function(e){return e==null?void 0:e[n]}}const XR=FK("byteLength"),V2e=PK(XR);var G2e=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function X2e(n){return G$?G$(n)&&!kS(n):V2e(n)&&G2e.test(jS.call(n))}const iL=AK?X2e:rL(!1),so=FK("length");function Y2e(n){for(var e={},t=n.length,r=0;r<t;++r)e[n[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,n.push(i)}}}function LK(n,e){e=Y2e(e);var t=X$.length,r=n.constructor,i=Ks(r)&&r.prototype||Y8,s="constructor";for(im(n,s)&&!e.contains(s)&&e.push(s);t--;)s=X$[t],s in n&&n[s]!==i[s]&&!e.contains(s)&&e.push(s)}function qi(n){if(!nm(n))return[];if(H$)return H$(n);var e=[];for(var t in n)im(n,t)&&e.push(t);return TK&&LK(n,e),e}function IK(n){if(n==null)return!0;var e=so(n);return typeof e=="number"&&(rm(n)||$3(n)||B3(n))?e===0:so(qi(n))===0}function sL(n,e){var t=qi(e),r=t.length;if(n==null)return!r;for(var i=Object(n),s=0;s<r;s++){var a=t[s];if(e[a]!==i[a]||!(a in i))return!1}return!0}function er(n){if(n instanceof er)return n;if(!(this instanceof er))return new er(n);this._wrapped=n}er.VERSION=X8;er.prototype.value=function(){return this._wrapped};er.prototype.valueOf=er.prototype.toJSON=er.prototype.value;er.prototype.toString=function(){return String(this._wrapped)};function Y$(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,XR(n))}var K$="[object DataView]";function u5(n,e,t,r){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var i=typeof n;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:$K(n,e,t,r)}function $K(n,e,t,r){n instanceof er&&(n=n._wrapped),e instanceof er&&(e=e._wrapped);var i=jS.call(n);if(i!==jS.call(e))return!1;if(OK&&i=="[object Object]"&&kS(n)){if(!kS(e))return!1;i=K$}switch(i){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return q$.valueOf.call(n)===q$.valueOf.call(e);case"[object ArrayBuffer]":case K$:return $K(Y$(n),Y$(e),t,r)}var s=i==="[object Array]";if(!s&&iL(n)){var a=XR(n);if(a!==XR(e))return!1;if(n.buffer===e.buffer&&n.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof n!="object"||typeof e!="object")return!1;var o=n.constructor,l=e.constructor;if(o!==l&&!(Ks(o)&&o instanceof o&&Ks(l)&&l instanceof l)&&"constructor"in n&&"constructor"in e)return!1}t=t||[],r=r||[];for(var u=t.length;u--;)if(t[u]===n)return r[u]===e;if(t.push(n),r.push(e),s){if(u=n.length,u!==e.length)return!1;for(;u--;)if(!u5(n[u],e[u],t,r))return!1}else{var f=qi(n),p;if(u=f.length,qi(e).length!==u)return!1;for(;u--;)if(p=f[u],!(im(e,p)&&u5(n[p],e[p],t,r)))return!1}return t.pop(),r.pop(),!0}function BK(n,e){return u5(n,e)}function ow(n){if(!nm(n))return[];var e=[];for(var t in n)e.push(t);return TK&&LK(n,e),e}function aL(n){var e=so(n);return function(t){if(t==null)return!1;var r=ow(t);if(so(r))return!1;for(var i=0;i<e;i++)if(!Ks(t[n[i]]))return!1;return n!==qK||!Ks(t[oL])}}var oL="forEach",WK="has",lL=["clear","delete"],zK=["get",WK,"set"],K2e=lL.concat(oL,zK),qK=lL.concat(zK),Z2e=["add"].concat(lL,oL,WK);const HK=tL?aL(K2e):Qs("Map"),VK=tL?aL(qK):Qs("WeakMap"),GK=tL?aL(Z2e):Qs("Set"),XK=Qs("WeakSet");function Uv(n){for(var e=qi(n),t=e.length,r=Array(t),i=0;i<t;i++)r[i]=n[e[i]];return r}function YK(n){for(var e=qi(n),t=e.length,r=Array(t),i=0;i<t;i++)r[i]=[e[i],n[e[i]]];return r}function cL(n){for(var e={},t=qi(n),r=0,i=t.length;r<i;r++)e[n[t[r]]]=t[r];return e}function US(n){var e=[];for(var t in n)Ks(n[t])&&e.push(t);return e.sort()}function uL(n,e){return function(t){var r=arguments.length;if(e&&(t=Object(t)),r<2||t==null)return t;for(var i=1;i<r;i++)for(var s=arguments[i],a=n(s),o=a.length,l=0;l<o;l++){var u=a[l];(!e||t[u]===void 0)&&(t[u]=s[u])}return t}}const dL=uL(ow),I1=uL(qi),hL=uL(ow,!0);function Q2e(){return function(){}}function KK(n){if(!nm(n))return{};if(V$)return V$(n);var e=Q2e();e.prototype=n;var t=new e;return e.prototype=null,t}function ZK(n,e){var t=KK(n);return e&&I1(t,e),t}function QK(n){return nm(n)?rm(n)?n.slice():dL({},n):n}function JK(n,e){return e(n),n}function fL(n){return rm(n)?n:[n]}er.toPath=fL;function YA(n){return er.toPath(n)}function pL(n,e){for(var t=e.length,r=0;r<t;r++){if(n==null)return;n=n[e[r]]}return t?n:void 0}function mL(n,e,t){var r=pL(n,YA(e));return K8(r)?t:r}function eZ(n,e){e=YA(e);for(var t=e.length,r=0;r<t;r++){var i=e[r];if(!im(n,i))return!1;n=n[i]}return!!t}function W3(n){return n}function pv(n){return n=I1({},n),function(e){return sL(e,n)}}function z3(n){return n=YA(n),function(e){return pL(e,n)}}function KA(n,e,t){if(e===void 0)return n;switch(t??3){case 1:return function(r){return n.call(e,r)};case 3:return function(r,i,s){return n.call(e,r,i,s)};case 4:return function(r,i,s,a){return n.call(e,r,i,s,a)}}return function(){return n.apply(e,arguments)}}function tZ(n,e,t){return n==null?W3:Ks(n)?KA(n,e,t):nm(n)&&!rm(n)?pv(n):z3(n)}function q3(n,e){return tZ(n,e,1/0)}er.iteratee=q3;function oo(n,e,t){return er.iteratee!==q3?er.iteratee(n,e):tZ(n,e,t)}function nZ(n,e,t){e=oo(e,t);for(var r=qi(n),i=r.length,s={},a=0;a<i;a++){var o=r[a];s[o]=e(n[o],o,n)}return s}function gL(){}function rZ(n){return n==null?gL:function(e){return mL(n,e)}}function iZ(n,e,t){var r=Array(Math.max(0,n));e=KA(e,t,1);for(var i=0;i<n;i++)r[i]=e(i);return r}function YR(n,e){return e==null&&(e=n,n=0),n+Math.floor(Math.random()*(e-n+1))}const $1=Date.now||function(){return new Date().getTime()};function sZ(n){var e=function(s){return n[s]},t="(?:"+qi(n).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(i,e):s}}const aZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},oZ=sZ(aZ),J2e=cL(aZ),lZ=sZ(J2e),cZ=er.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var RO=/(.)^/,e_e={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},t_e=/\\|'|\r|\n|\u2028|\u2029/g;function n_e(n){return"\\"+e_e[n]}var r_e=/^\s*(\w|\$)+\s*$/;function uZ(n,e,t){!e&&t&&(e=t),e=hL({},e,er.templateSettings);var r=RegExp([(e.escape||RO).source,(e.interpolate||RO).source,(e.evaluate||RO).source].join("|")+"|$","g"),i=0,s="__p+='";n.replace(r,function(u,f,p,m,y){return s+=n.slice(i,y).replace(t_e,n_e),i=y+u.length,f?s+=`'+
((__t=(`+f+`))==null?'':_.escape(__t))+
'`:p?s+=`'+
((__t=(`+p+`))==null?'':__t)+
'`:m&&(s+=`';
`+m+`
__p+='`),u}),s+=`';
`;var a=e.variable;if(a){if(!r_e.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(u){throw u.source=s,u}var l=function(u){return o.call(this,u,er)};return l.source="function("+a+`){
`+s+"}",l}function dZ(n,e,t){e=YA(e);var r=e.length;if(!r)return Ks(t)?t.call(n):t;for(var i=0;i<r;i++){var s=n==null?void 0:n[e[i]];s===void 0&&(s=t,i=r),n=Ks(s)?s.call(n):s}return n}var i_e=0;function hZ(n){var e=++i_e+"";return n?n+e:e}function fZ(n){var e=er(n);return e._chain=!0,e}function pZ(n,e,t,r,i){if(!(r instanceof e))return n.apply(t,i);var s=KK(n.prototype),a=n.apply(s,i);return nm(a)?a:s}var Ov=Da(function(n,e){var t=Ov.placeholder,r=function(){for(var i=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===t?arguments[i++]:e[o];for(;i<arguments.length;)a.push(arguments[i++]);return pZ(n,r,this,this,a)};return r});Ov.placeholder=er;const yL=Da(function(n,e,t){if(!Ks(n))throw new TypeError("Bind must be called on a function");var r=Da(function(i){return pZ(n,r,e,this,t.concat(i))});return r}),Ko=PK(so);function Mv(n,e,t,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(n);for(var i=r.length,s=0,a=so(n);s<a;s++){var o=n[s];if(Ko(o)&&(rm(o)||B3(o)))if(e>1)Mv(o,e-1,t,r),i=r.length;else for(var l=0,u=o.length;l<u;)r[i++]=o[l++];else t||(r[i++]=o)}return r}const mZ=Da(function(n,e){e=Mv(e,!1,!1);var t=e.length;if(t<1)throw new Error("bindAll must be passed function names");for(;t--;){var r=e[t];n[r]=yL(n[r],n)}return n});function gZ(n,e){var t=function(r){var i=t.cache,s=""+(e?e.apply(this,arguments):r);return im(i,s)||(i[s]=n.apply(this,arguments)),i[s]};return t.cache={},t}const vL=Da(function(n,e,t){return setTimeout(function(){return n.apply(null,t)},e)}),yZ=Ov(vL,er,1);function vZ(n,e,t){var r,i,s,a,o=0;t||(t={});var l=function(){o=t.leading===!1?0:$1(),r=null,a=n.apply(i,s),r||(i=s=null)},u=function(){var f=$1();!o&&t.leading===!1&&(o=f);var p=e-(f-o);return i=this,s=arguments,p<=0||p>e?(r&&(clearTimeout(r),r=null),o=f,a=n.apply(i,s),r||(i=s=null)):!r&&t.trailing!==!1&&(r=setTimeout(l,p)),a};return u.cancel=function(){clearTimeout(r),o=0,r=i=s=null},u}function bZ(n,e,t){var r,i,s,a,o,l=function(){var f=$1()-i;e>f?r=setTimeout(l,e-f):(r=null,t||(a=n.apply(o,s)),r||(s=o=null))},u=Da(function(f){return o=this,s=f,i=$1(),r||(r=setTimeout(l,e),t&&(a=n.apply(o,s))),a});return u.cancel=function(){clearTimeout(r),r=s=o=null},u}function xZ(n,e){return Ov(e,n)}function H3(n){return function(){return!n.apply(this,arguments)}}function wZ(){var n=arguments,e=n.length-1;return function(){for(var t=e,r=n[e].apply(this,arguments);t--;)r=n[t].call(this,r);return r}}function _Z(n,e){return function(){if(--n<1)return e.apply(this,arguments)}}function bL(n,e){var t;return function(){return--n>0&&(t=e.apply(this,arguments)),n<=1&&(e=null),t}}const SZ=Ov(bL,2);function xL(n,e,t){e=oo(e,t);for(var r=qi(n),i,s=0,a=r.length;s<a;s++)if(i=r[s],e(n[i],i,n))return i}function DZ(n){return function(e,t,r){t=oo(t,r);for(var i=so(e),s=n>0?0:i-1;s>=0&&s<i;s+=n)if(t(e[s],s,e))return s;return-1}}const V3=DZ(1),wL=DZ(-1);function _L(n,e,t,r){t=oo(t,r,1);for(var i=t(e),s=0,a=so(n);s<a;){var o=Math.floor((s+a)/2);t(n[o])<i?s=o+1:a=o}return s}function AZ(n,e,t){return function(r,i,s){var a=0,o=so(r);if(typeof s=="number")n>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(t&&s&&o)return s=t(r,i),r[s]===i?s:-1;if(i!==i)return s=e(XA.call(r,a,o),nL),s>=0?s+a:-1;for(s=n>0?a:o-1;s>=0&&s<o;s+=n)if(r[s]===i)return s;return-1}}const SL=AZ(1,V3,_L),TZ=AZ(-1,wL);function OS(n,e,t){var r=Ko(n)?V3:xL,i=r(n,e,t);if(i!==void 0&&i!==-1)return n[i]}function EZ(n,e){return OS(n,pv(e))}function Oc(n,e,t){e=KA(e,t);var r,i;if(Ko(n))for(r=0,i=n.length;r<i;r++)e(n[r],r,n);else{var s=qi(n);for(r=0,i=s.length;r<i;r++)e(n[s[r]],s[r],n)}return n}function Ch(n,e,t){e=oo(e,t);for(var r=!Ko(n)&&qi(n),i=(r||n).length,s=Array(i),a=0;a<i;a++){var o=r?r[a]:a;s[a]=e(n[o],o,n)}return s}function CZ(n){var e=function(t,r,i,s){var a=!Ko(t)&&qi(t),o=(a||t).length,l=n>0?0:o-1;for(s||(i=t[a?a[l]:l],l+=n);l>=0&&l<o;l+=n){var u=a?a[l]:l;i=r(i,t[u],u,t)}return i};return function(t,r,i,s){var a=arguments.length>=3;return e(t,KA(r,s,4),i,a)}}const n0=CZ(1),KR=CZ(-1);function Wp(n,e,t){var r=[];return e=oo(e,t),Oc(n,function(i,s,a){e(i,s,a)&&r.push(i)}),r}function NZ(n,e,t){return Wp(n,H3(oo(e)),t)}function ZR(n,e,t){e=oo(e,t);for(var r=!Ko(n)&&qi(n),i=(r||n).length,s=0;s<i;s++){var a=r?r[s]:s;if(!e(n[a],a,n))return!1}return!0}function QR(n,e,t){e=oo(e,t);for(var r=!Ko(n)&&qi(n),i=(r||n).length,s=0;s<i;s++){var a=r?r[s]:s;if(e(n[a],a,n))return!0}return!1}function Ul(n,e,t,r){return Ko(n)||(n=Uv(n)),(typeof t!="number"||r)&&(t=0),SL(n,e,t)>=0}const RZ=Da(function(n,e,t){var r,i;return Ks(e)?i=e:(e=YA(e),r=e.slice(0,-1),e=e[e.length-1]),Ch(n,function(s){var a=i;if(!a){if(r&&r.length&&(s=pL(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,t)})});function G3(n,e){return Ch(n,z3(e))}function jZ(n,e){return Wp(n,pv(e))}function DL(n,e,t){var r=-1/0,i=-1/0,s,a;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=Ko(n)?n:Uv(n);for(var o=0,l=n.length;o<l;o++)s=n[o],s!=null&&s>r&&(r=s)}else e=oo(e,t),Oc(n,function(u,f,p){a=e(u,f,p),(a>i||a===-1/0&&r===-1/0)&&(r=u,i=a)});return r}function kZ(n,e,t){var r=1/0,i=1/0,s,a;if(e==null||typeof e=="number"&&typeof n[0]!="object"&&n!=null){n=Ko(n)?n:Uv(n);for(var o=0,l=n.length;o<l;o++)s=n[o],s!=null&&s<r&&(r=s)}else e=oo(e,t),Oc(n,function(u,f,p){a=e(u,f,p),(a<i||a===1/0&&r===1/0)&&(r=u,i=a)});return r}var s_e=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function AL(n){return n?rm(n)?XA.call(n):$3(n)?n.match(s_e):Ko(n)?Ch(n,W3):Uv(n):[]}function TL(n,e,t){if(e==null||t)return Ko(n)||(n=Uv(n)),n[YR(n.length-1)];var r=AL(n),i=so(r);e=Math.max(Math.min(e,i),0);for(var s=i-1,a=0;a<e;a++){var o=YR(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function UZ(n){return TL(n,1/0)}function OZ(n,e,t){var r=0;return e=oo(e,t),G3(Ch(n,function(i,s,a){return{value:i,index:r++,criteria:e(i,s,a)}}).sort(function(i,s){var a=i.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return i.index-s.index}),"value")}function X3(n,e){return function(t,r,i){var s=e?[[],[]]:{};return r=oo(r,i),Oc(t,function(a,o){var l=r(a,o,t);n(s,a,l)}),s}}const MZ=X3(function(n,e,t){im(n,t)?n[t].push(e):n[t]=[e]}),PZ=X3(function(n,e,t){n[t]=e}),FZ=X3(function(n,e,t){im(n,t)?n[t]++:n[t]=1}),LZ=X3(function(n,e,t){n[t?0:1].push(e)},!0);function IZ(n){return n==null?0:Ko(n)?n.length:qi(n).length}function a_e(n,e,t){return e in t}const EL=Da(function(n,e){var t={},r=e[0];if(n==null)return t;Ks(r)?(e.length>1&&(r=KA(r,e[1])),e=ow(n)):(r=a_e,e=Mv(e,!1,!1),n=Object(n));for(var i=0,s=e.length;i<s;i++){var a=e[i],o=n[a];r(o,a,n)&&(t[a]=o)}return t}),$Z=Da(function(n,e){var t=e[0],r;return Ks(t)?(t=H3(t),e.length>1&&(r=e[1])):(e=Ch(Mv(e,!1,!1),String),t=function(i,s){return!Ul(e,s)}),EL(n,t,r)});function CL(n,e,t){return XA.call(n,0,Math.max(0,n.length-(e==null||t?1:e)))}function r0(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[0]:CL(n,n.length-e)}function nv(n,e,t){return XA.call(n,e==null||t?1:e)}function BZ(n,e,t){return n==null||n.length<1?e==null||t?void 0:[]:e==null||t?n[n.length-1]:nv(n,Math.max(0,n.length-e))}function WZ(n){return Wp(n,Boolean)}function zZ(n,e){return Mv(n,e,!1)}const NL=Da(function(n,e){return e=Mv(e,!0,!0),Wp(n,function(t){return!Ul(e,t)})}),qZ=Da(function(n,e){return NL(n,e)});function MS(n,e,t,r){Z8(e)||(r=t,t=e,e=!1),t!=null&&(t=oo(t,r));for(var i=[],s=[],a=0,o=so(n);a<o;a++){var l=n[a],u=t?t(l,a,n):l;e&&!t?((!a||s!==u)&&i.push(l),s=u):t?Ul(s,u)||(s.push(u),i.push(l)):Ul(i,l)||i.push(l)}return i}const HZ=Da(function(n){return MS(Mv(n,!0,!0))});function VZ(n){for(var e=[],t=arguments.length,r=0,i=so(n);r<i;r++){var s=n[r];if(!Ul(e,s)){var a;for(a=1;a<t&&Ul(arguments[a],s);a++);a===t&&e.push(s)}}return e}function PS(n){for(var e=n&&DL(n,so).length||0,t=Array(e),r=0;r<e;r++)t[r]=G3(n,r);return t}const GZ=Da(PS);function XZ(n,e){for(var t={},r=0,i=so(n);r<i;r++)e?t[n[r]]=e[r]:t[n[r][0]]=n[r][1];return t}function YZ(n,e,t){e==null&&(e=n||0,n=0),t||(t=e<n?-1:1);for(var r=Math.max(Math.ceil((e-n)/t),0),i=Array(r),s=0;s<r;s++,n+=t)i[s]=n;return i}function KZ(n,e){if(e==null||e<1)return[];for(var t=[],r=0,i=n.length;r<i;)t.push(XA.call(n,r,r+=e));return t}function RL(n,e){return n._chain?er(e).chain():e}function jL(n){return Oc(US(n),function(e){var t=er[e]=n[e];er.prototype[e]=function(){var r=[this._wrapped];return P2e.apply(r,arguments),RL(this,t.apply(er,r))}}),er}Oc(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var e=I3[n];er.prototype[n]=function(){var t=this._wrapped;return t!=null&&(e.apply(t,arguments),(n==="shift"||n==="splice")&&t.length===0&&delete t[0]),RL(this,t)}});Oc(["concat","join","slice"],function(n){var e=I3[n];er.prototype[n]=function(){var t=this._wrapped;return t!=null&&(t=e.apply(t,arguments)),RL(this,t)}});const o_e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:X8,after:_Z,all:ZR,allKeys:ow,any:QR,assign:I1,before:bL,bind:yL,bindAll:mZ,chain:fZ,chunk:KZ,clone:QK,collect:Ch,compact:WZ,compose:wZ,constant:rL,contains:Ul,countBy:FZ,create:ZK,debounce:bZ,default:er,defaults:hL,defer:yZ,delay:vL,detect:OS,difference:NL,drop:nv,each:Oc,escape:oZ,every:ZR,extend:dL,extendOwn:I1,filter:Wp,find:OS,findIndex:V3,findKey:xL,findLastIndex:wL,findWhere:EZ,first:r0,flatten:zZ,foldl:n0,foldr:KR,forEach:Oc,functions:US,get:mL,groupBy:MZ,has:eZ,head:r0,identity:W3,include:Ul,includes:Ul,indexBy:PZ,indexOf:SL,initial:CL,inject:n0,intersection:VZ,invert:cL,invoke:RZ,isArguments:B3,isArray:rm,isArrayBuffer:eL,isBoolean:Z8,isDataView:kS,isDate:NK,isElement:CK,isEmpty:IK,isEqual:BK,isError:jK,isFinite:MK,isFunction:Ks,isMap:HK,isMatch:sL,isNaN:nL,isNull:EK,isNumber:Q8,isObject:nm,isRegExp:RK,isSet:GK,isString:$3,isSymbol:J8,isTypedArray:iL,isUndefined:K8,isWeakMap:VK,isWeakSet:XK,iteratee:q3,keys:qi,last:BZ,lastIndexOf:TZ,map:Ch,mapObject:nZ,matcher:pv,matches:pv,max:DL,memoize:gZ,methods:US,min:kZ,mixin:jL,negate:H3,noop:gL,now:$1,object:XZ,omit:$Z,once:SZ,pairs:YK,partial:Ov,partition:LZ,pick:EL,pluck:G3,property:z3,propertyOf:rZ,random:YR,range:YZ,reduce:n0,reduceRight:KR,reject:NZ,rest:nv,restArguments:Da,result:dZ,sample:TL,select:Wp,shuffle:UZ,size:IZ,some:QR,sortBy:OZ,sortedIndex:_L,tail:nv,take:r0,tap:JK,template:uZ,templateSettings:cZ,throttle:vZ,times:iZ,toArray:AL,toPath:fL,transpose:PS,unescape:lZ,union:HZ,uniq:MS,unique:MS,uniqueId:hZ,unzip:PS,values:Uv,where:jZ,without:qZ,wrap:xZ,zip:GZ},Symbol.toStringTag,{value:"Module"}));var d5=jL(o_e);d5._=d5;const l_e=Object.freeze(Object.defineProperty({__proto__:null,VERSION:X8,after:_Z,all:ZR,allKeys:ow,any:QR,assign:I1,before:bL,bind:yL,bindAll:mZ,chain:fZ,chunk:KZ,clone:QK,collect:Ch,compact:WZ,compose:wZ,constant:rL,contains:Ul,countBy:FZ,create:ZK,debounce:bZ,default:d5,defaults:hL,defer:yZ,delay:vL,detect:OS,difference:NL,drop:nv,each:Oc,escape:oZ,every:ZR,extend:dL,extendOwn:I1,filter:Wp,find:OS,findIndex:V3,findKey:xL,findLastIndex:wL,findWhere:EZ,first:r0,flatten:zZ,foldl:n0,foldr:KR,forEach:Oc,functions:US,get:mL,groupBy:MZ,has:eZ,head:r0,identity:W3,include:Ul,includes:Ul,indexBy:PZ,indexOf:SL,initial:CL,inject:n0,intersection:VZ,invert:cL,invoke:RZ,isArguments:B3,isArray:rm,isArrayBuffer:eL,isBoolean:Z8,isDataView:kS,isDate:NK,isElement:CK,isEmpty:IK,isEqual:BK,isError:jK,isFinite:MK,isFunction:Ks,isMap:HK,isMatch:sL,isNaN:nL,isNull:EK,isNumber:Q8,isObject:nm,isRegExp:RK,isSet:GK,isString:$3,isSymbol:J8,isTypedArray:iL,isUndefined:K8,isWeakMap:VK,isWeakSet:XK,iteratee:q3,keys:qi,last:BZ,lastIndexOf:TZ,map:Ch,mapObject:nZ,matcher:pv,matches:pv,max:DL,memoize:gZ,methods:US,min:kZ,mixin:jL,negate:H3,noop:gL,now:$1,object:XZ,omit:$Z,once:SZ,pairs:YK,partial:Ov,partition:LZ,pick:EL,pluck:G3,property:z3,propertyOf:rZ,random:YR,range:YZ,reduce:n0,reduceRight:KR,reject:NZ,rest:nv,restArguments:Da,result:dZ,sample:TL,select:Wp,shuffle:UZ,size:IZ,some:QR,sortBy:OZ,sortedIndex:_L,tail:nv,take:r0,tap:JK,template:uZ,templateSettings:cZ,throttle:vZ,times:iZ,toArray:AL,toPath:fL,transpose:PS,unescape:lZ,union:HZ,uniq:MS,unique:MS,uniqueId:hZ,unzip:PS,values:Uv,where:jZ,without:qZ,wrap:xZ,zip:GZ},Symbol.toStringTag,{value:"Module"})),Di=zF(l_e);var HC={},fl={},jO={exports:{}},VC={exports:{}},Z$;function lw(){if(Z$)return VC.exports;Z$=1;var n=function(){return this===void 0}();if(n)VC.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(f,p){var m=Object.getOwnPropertyDescriptor(f,p);return!!(!m||m.writable||m.set)}};else{var e={}.hasOwnProperty,t={}.toString,r={}.constructor.prototype,i=function(f){var p=[];for(var m in f)e.call(f,m)&&p.push(m);return p},s=function(f,p){return{value:f[p]}},a=function(f,p,m){return f[p]=m.value,f},o=function(f){return f},l=function(f){try{return Object(f).constructor.prototype}catch{return r}},u=function(f){try{return t.call(f)==="[object Array]"}catch{return!1}};VC.exports={isArray:u,keys:i,names:i,defineProperty:a,getDescriptor:s,freeze:o,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}return VC.exports}var f_,Q$;function Nr(){if(Q$)return f_;Q$=1;var n={},e=lw(),t=typeof navigator>"u",r={e:{}},i,s=typeof self<"u"?self:typeof window<"u"?window:typeof xa<"u"?xa:f_!==void 0?f_:null;function a(){try{var le=i;return i=null,le.apply(this,arguments)}catch(xe){return r.e=xe,r}}function o(le){return i=le,a}var l=function(le,xe){var we={}.hasOwnProperty;function Re(){this.constructor=le,this.constructor$=xe;for(var Ee in xe.prototype)we.call(xe.prototype,Ee)&&Ee.charAt(Ee.length-1)!=="$"&&(this[Ee+"$"]=xe.prototype[Ee])}return Re.prototype=xe.prototype,le.prototype=new Re,le.prototype};function u(le){return le==null||le===!0||le===!1||typeof le=="string"||typeof le=="number"}function f(le){return typeof le=="function"||typeof le=="object"&&le!==null}function p(le){return u(le)?new Error(O(le)):le}function m(le,xe){var we=le.length,Re=new Array(we+1),Ee;for(Ee=0;Ee<we;++Ee)Re[Ee]=le[Ee];return Re[Ee]=xe,Re}function y(le,xe,we){if(e.isES5){var Re=Object.getOwnPropertyDescriptor(le,xe);if(Re!=null)return Re.get==null&&Re.set==null?Re.value:we}else return{}.hasOwnProperty.call(le,xe)?le[xe]:void 0}function b(le,xe,we){if(u(le))return le;var Re={value:we,configurable:!0,enumerable:!1,writable:!0};return e.defineProperty(le,xe,Re),le}function x(le){throw le}var w=function(){var le=[Array.prototype,Object.prototype,Function.prototype],xe=function(Ee){for(var Me=0;Me<le.length;++Me)if(le[Me]===Ee)return!0;return!1};if(e.isES5){var we=Object.getOwnPropertyNames;return function(Ee){for(var Me=[],Ye=Object.create(null);Ee!=null&&!xe(Ee);){var Ke;try{Ke=we(Ee)}catch{return Me}for(var Le=0;Le<Ke.length;++Le){var lt=Ke[Le];if(!Ye[lt]){Ye[lt]=!0;var st=Object.getOwnPropertyDescriptor(Ee,lt);st!=null&&st.get==null&&st.set==null&&Me.push(lt)}}Ee=e.getPrototypeOf(Ee)}return Me}}else{var Re={}.hasOwnProperty;return function(Ee){if(xe(Ee))return[];var Me=[];e:for(var Ye in Ee)if(Re.call(Ee,Ye))Me.push(Ye);else{for(var Ke=0;Ke<le.length;++Ke)if(Re.call(le[Ke],Ye))continue e;Me.push(Ye)}return Me}}}(),S=/this\s*\.\s*\S+\s*=/;function T(le){try{if(typeof le=="function"){var xe=e.names(le.prototype),we=e.isES5&&xe.length>1,Re=xe.length>0&&!(xe.length===1&&xe[0]==="constructor"),Ee=S.test(le+"")&&e.names(le).length>0;if(we||Re||Ee)return!0}return!1}catch{return!1}}function E(le){return le}var R=/^[a-z$_][a-z$_0-9]*$/i;function N(le){return R.test(le)}function U(le,xe,we){for(var Re=new Array(le),Ee=0;Ee<le;++Ee)Re[Ee]=xe+Ee+we;return Re}function O(le){try{return le+""}catch{return"[no string representation]"}}function M(le){return le!==null&&typeof le=="object"&&typeof le.message=="string"&&typeof le.name=="string"}function P(le){try{b(le,"isOperational",!0)}catch{}}function H(le){return le==null?!1:le instanceof Error.__BluebirdErrorTypes__.OperationalError||le.isOperational===!0}function X(le){return M(le)&&e.propertyIsWritable(le,"stack")}var I=function(){return"stack"in new Error?function(le){return X(le)?le:new Error(O(le))}:function(le){if(X(le))return le;try{throw new Error(O(le))}catch(xe){return xe}}}();function q(le){return{}.toString.call(le)}function L(le,xe,we){for(var Re=e.names(le),Ee=0;Ee<Re.length;++Ee){var Me=Re[Ee];if(we(Me))try{e.defineProperty(xe,Me,e.getDescriptor(le,Me))}catch{}}}var te=function(le){return e.isArray(le)?le:null};if(typeof Symbol<"u"&&Symbol.iterator){var B=typeof Array.from=="function"?function(le){return Array.from(le)}:function(le){for(var xe=[],we=le[Symbol.iterator](),Re;!(Re=we.next()).done;)xe.push(Re.value);return xe};te=function(le){return e.isArray(le)?le:le!=null&&typeof le[Symbol.iterator]=="function"?B(le):null}}var W=typeof process<"u"&&q(process).toLowerCase()==="[object process]",se=typeof process<"u"&&typeof n<"u";function K(le){return se?n[le]:void 0}function G(){if(typeof Promise=="function")try{var le=new Promise(function(){});if({}.toString.call(le)==="[object Promise]")return Promise}catch{}}function Y(le,xe){return le.bind(xe)}var ne={isClass:T,isIdentifier:N,inheritedDataKeys:w,getDataPropertyOrDefault:y,thrower:x,isArray:e.isArray,asArray:te,notEnumerableProp:b,isPrimitive:u,isObject:f,isError:M,canEvaluate:t,errorObj:r,tryCatch:o,inherits:l,withAppended:m,maybeWrapAsError:p,toFastProperties:E,filledRange:U,toString:O,canAttachTrace:X,ensureErrorObject:I,originatesFromRejection:H,markAsOriginatingFromRejection:P,classString:q,copyDescriptors:L,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:W,hasEnvVariables:se,env:K,global:s,getNativePromise:G,domainBind:Y};ne.isRecentNode=ne.isNode&&function(){var le=process.versions.node.split(".").map(Number);return le[0]===0&&le[1]>10||le[0]>0}(),ne.isNode&&ne.toFastProperties(process);try{throw new Error}catch(le){ne.lastLineError=le}return f_=ne,f_}var GC={exports:{}},kO,J$;function c_e(){if(J$)return kO;J$=1;var n=Nr(),e,t=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},r=n.getNativePromise();if(n.isNode&&typeof MutationObserver>"u"){var i=xa.setImmediate,s=process.nextTick;e=n.isRecentNode?function(o){i.call(xa,o)}:function(o){s.call(process,o)}}else if(typeof r=="function"&&typeof r.resolve=="function"){var a=r.resolve();e=function(o){a.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var o=document.createElement("div"),l={attributes:!0},u=!1,f=document.createElement("div"),p=new MutationObserver(function(){o.classList.toggle("foo"),u=!1});p.observe(f,l);var m=function(){u||(u=!0,f.classList.toggle("foo"))};return function(b){var x=new MutationObserver(function(){x.disconnect(),b()});x.observe(o,l),m()}}():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=t;return kO=e,kO}var UO,eB;function u_e(){if(eB)return UO;eB=1;function n(t,r,i,s,a){for(var o=0;o<a;++o)i[o+s]=t[o+r],t[o+r]=void 0}function e(t){this._capacity=t,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(t){return this._capacity<t},e.prototype._pushOne=function(t){var r=this.length();this._checkCapacity(r+1);var i=this._front+r&this._capacity-1;this[i]=t,this._length=r+1},e.prototype.push=function(t,r,i){var s=this.length()+3;if(this._willBeOverCapacity(s)){this._pushOne(t),this._pushOne(r),this._pushOne(i);return}var a=this._front+s-3;this._checkCapacity(s);var o=this._capacity-1;this[a+0&o]=t,this[a+1&o]=r,this[a+2&o]=i,this._length=s},e.prototype.shift=function(){var t=this._front,r=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,r},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(t){var r=this._capacity;this._capacity=t;var i=this._front,s=this._length,a=i+s&r-1;n(this,0,this,r,a)},UO=e,UO}var tB;function d_e(){if(tB)return GC.exports;tB=1;var n;try{throw new Error}catch(l){n=l}var e=c_e(),t=u_e(),r=Nr();function i(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new t(16),this._normalQueue=new t(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var l=this;this.drainQueues=function(){l._drainQueues()},this._schedule=e}i.prototype.setScheduler=function(l){var u=this._schedule;return this._schedule=l,this._customScheduler=!0,u},i.prototype.hasCustomScheduler=function(){return this._customScheduler},i.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},i.prototype.disableTrampolineIfNecessary=function(){r.hasDevTools&&(this._trampolineEnabled=!1)},i.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},i.prototype.fatalError=function(l,u){u?(process.stderr.write("Fatal "+(l instanceof Error?l.stack:l)+`
`),process.exit(2)):this.throwLater(l)},i.prototype.throwLater=function(l,u){if(arguments.length===1&&(u=l,l=function(){throw u}),typeof setTimeout<"u")setTimeout(function(){l(u)},0);else try{this._schedule(function(){l(u)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function s(l,u,f){this._lateQueue.push(l,u,f),this._queueTick()}function a(l,u,f){this._normalQueue.push(l,u,f),this._queueTick()}function o(l){this._normalQueue._pushOne(l),this._queueTick()}return r.hasDevTools?(i.prototype.invokeLater=function(l,u,f){this._trampolineEnabled?s.call(this,l,u,f):this._schedule(function(){setTimeout(function(){l.call(u,f)},100)})},i.prototype.invoke=function(l,u,f){this._trampolineEnabled?a.call(this,l,u,f):this._schedule(function(){l.call(u,f)})},i.prototype.settlePromises=function(l){this._trampolineEnabled?o.call(this,l):this._schedule(function(){l._settlePromises()})}):(i.prototype.invokeLater=s,i.prototype.invoke=a,i.prototype.settlePromises=o),i.prototype._drainQueue=function(l){for(;l.length()>0;){var u=l.shift();if(typeof u!="function"){u._settlePromises();continue}var f=l.shift(),p=l.shift();u.call(f,p)}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},GC.exports=i,GC.exports.firstLineError=n,GC.exports}var OO,nB;function zp(){if(nB)return OO;nB=1;var n=lw(),e=n.freeze,t=Nr(),r=t.inherits,i=t.notEnumerableProp;function s(S,T){function E(R){if(!(this instanceof E))return new E(R);i(this,"message",typeof R=="string"?R:T),i(this,"name",S),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return r(E,Error),E}var a,o,l=s("Warning","warning"),u=s("CancellationError","cancellation error"),f=s("TimeoutError","timeout error"),p=s("AggregateError","aggregate error");try{a=TypeError,o=RangeError}catch{a=s("TypeError","type error"),o=s("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),y=0;y<m.length;++y)typeof Array.prototype[m[y]]=="function"&&(p.prototype[m[y]]=Array.prototype[m[y]]);n.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var b=0;p.prototype.toString=function(){var S=Array(b*4+1).join(" "),T=`
`+S+`AggregateError of:
`;b++,S=Array(b*4+1).join(" ");for(var E=0;E<this.length;++E){for(var R=this[E]===this?"[Circular AggregateError]":this[E]+"",N=R.split(`
`),U=0;U<N.length;++U)N[U]=S+N[U];R=N.join(`
`),T+=R+`
`}return b--,T};function x(S){if(!(this instanceof x))return new x(S);i(this,"name","OperationalError"),i(this,"message",S),this.cause=S,this.isOperational=!0,S instanceof Error?(i(this,"message",S.message),i(this,"stack",S.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}r(x,Error);var w=Error.__BluebirdErrorTypes__;return w||(w=e({CancellationError:u,TimeoutError:f,OperationalError:x,RejectionError:x,AggregateError:p}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:w,writable:!1,enumerable:!1,configurable:!1})),OO={Error,TypeError:a,RangeError:o,CancellationError:w.CancellationError,OperationalError:w.OperationalError,TimeoutError:w.TimeoutError,AggregateError:w.AggregateError,Warning:l},OO}var MO,rB;function h_e(){return rB||(rB=1,MO=function(n,e){var t=Nr(),r=t.errorObj,i=t.isObject;function s(p,m){if(i(p)){if(p instanceof n)return p;var y=o(p);if(y===r){m&&m._pushContext();var b=n.reject(y.e);return m&&m._popContext(),b}else if(typeof y=="function"){if(u(p)){var b=new n(e);return p._then(b._fulfill,b._reject,void 0,b,null),b}return f(p,y,m)}}return p}function a(p){return p.then}function o(p){try{return a(p)}catch(m){return r.e=m,r}}var l={}.hasOwnProperty;function u(p){try{return l.call(p,"_promise0")}catch{return!1}}function f(p,m,y){var b=new n(e),x=b;y&&y._pushContext(),b._captureStackTrace(),y&&y._popContext();var w=!0,S=t.tryCatch(m).call(p,T,E);w=!1,b&&S===r&&(b._rejectCallback(S.e,!0,!0),b=null);function T(R){b&&(b._resolveCallback(R),b=null)}function E(R){b&&(b._rejectCallback(R,w,!0),b=null)}return x}return s}),MO}var PO,iB;function f_e(){return iB||(iB=1,PO=function(n,e,t,r,i){var s=Nr();s.isArray;function a(l){switch(l){case-2:return[];case-3:return{}}}function o(l){var u=this._promise=new n(e);l instanceof n&&u._propagateFrom(l,3),u._setOnCancel(this),this._values=l,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return s.inherits(o,i),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function l(u,f){var p=t(this._values,this._promise);if(p instanceof n){p=p._target();var m=p._bitField;if(this._values=p,(m&50397184)===0)return this._promise._setAsyncGuaranteed(),p._then(l,this._reject,void 0,this,f);if((m&33554432)!==0)p=p._value();else return(m&16777216)!==0?this._reject(p._reason()):this._cancel()}if(p=s.asArray(p),p===null){var y=r("expecting an array or an iterable object but got "+s.classString(p)).reason();this._promise._rejectCallback(y,!1);return}if(p.length===0){f===-5?this._resolveEmptyArray():this._resolve(a(f));return}this._iterate(p)},o.prototype._iterate=function(l){var u=this.getActualLength(l.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var f=this._promise,p=!1,m=null,y=0;y<u;++y){var b=t(l[y],f);b instanceof n?(b=b._target(),m=b._bitField):m=null,p?m!==null&&b.suppressUnhandledRejections():m!==null?(m&50397184)===0?(b._proxy(this,y),this._values[y]=b):(m&33554432)!==0?p=this._promiseFulfilled(b._value(),y):(m&16777216)!==0?p=this._promiseRejected(b._reason(),y):p=this._promiseCancelled(y):p=this._promiseFulfilled(b,y)}p||f._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(l){this._values=null,this._promise._fulfill(l)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(l){this._values=null,this._promise._rejectCallback(l,!1)},o.prototype._promiseFulfilled=function(l,u){this._values[u]=l;var f=++this._totalResolved;return f>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(l){return this._totalResolved++,this._reject(l),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var l=this._values;if(this._cancel(),l instanceof n)l.cancel();else for(var u=0;u<l.length;++u)l[u]instanceof n&&l[u].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(l){return l},o}),PO}var FO,sB;function p_e(){return sB||(sB=1,FO=function(n){var e=!1,t=[];n.prototype._promiseCreated=function(){},n.prototype._pushContext=function(){},n.prototype._popContext=function(){return null},n._peekContext=n.prototype._peekContext=function(){};function r(){this._trace=new r.CapturedTrace(s())}r.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,t.push(this._trace))},r.prototype._popContext=function(){if(this._trace!==void 0){var a=t.pop(),o=a._promiseCreated;return a._promiseCreated=null,o}return null};function i(){if(e)return new r}function s(){var a=t.length-1;if(a>=0)return t[a]}return r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var a=n.prototype._pushContext,o=n.prototype._popContext,l=n._peekContext,u=n.prototype._peekContext,f=n.prototype._promiseCreated;r.deactivateLongStackTraces=function(){n.prototype._pushContext=a,n.prototype._popContext=o,n._peekContext=l,n.prototype._peekContext=u,n.prototype._promiseCreated=f,e=!1},e=!0,n.prototype._pushContext=r.prototype._pushContext,n.prototype._popContext=r.prototype._popContext,n._peekContext=n.prototype._peekContext=s,n.prototype._promiseCreated=function(){var p=this._peekContext();p&&p._promiseCreated==null&&(p._promiseCreated=this)}},r}),FO}var LO,aB;function m_e(){return aB||(aB=1,LO=function(n,e){var t=n._getDomain,r=n._async,i=zp().Warning,s=Nr(),a=s.canAttachTrace,o,l,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,f=/\((?:timers\.js):\d+:\d+\)/,p=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,y=null,b=!1,x,w=!!(s.env("BLUEBIRD_DEBUG")!=0&&(s.env("BLUEBIRD_DEBUG")||s.env("NODE_ENV")==="development")),S=!!(s.env("BLUEBIRD_WARNINGS")!=0&&(w||s.env("BLUEBIRD_WARNINGS"))),T=!!(s.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(w||s.env("BLUEBIRD_LONG_STACK_TRACES"))),E=s.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(S||!!s.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var Q=this._target();Q._bitField=Q._bitField&-1048577|524288},n.prototype._ensurePossibleRejectionHandled=function(){(this._bitField&524288)===0&&(this._setRejectionIsUnhandled(),r.invokeLater(this._notifyUnhandledRejection,this,void 0))},n.prototype._notifyUnhandledRejectionIsHandled=function(){lt("rejectionHandled",o,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},n.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Q=this._settledValue();this._setUnhandledRejectionIsNotified(),lt("unhandledRejection",l,Q,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},n.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},n.prototype._warn=function(Q,ue,me){return xe(Q,ue,me||this)},n.onPossiblyUnhandledRejection=function(Q){var ue=t();l=typeof Q=="function"?ue===null?Q:s.domainBind(ue,Q):void 0},n.onUnhandledRejectionHandled=function(Q){var ue=t();o=typeof Q=="function"?ue===null?Q:s.domainBind(ue,Q):void 0};var R=function(){};n.longStackTraces=function(){if(r.haveItemsQueued()&&!J.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!J.longStackTraces&&ge()){var Q=n.prototype._captureStackTrace,ue=n.prototype._attachExtraTrace;J.longStackTraces=!0,R=function(){if(r.haveItemsQueued()&&!J.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);n.prototype._captureStackTrace=Q,n.prototype._attachExtraTrace=ue,e.deactivateLongStackTraces(),r.enableTrampoline(),J.longStackTraces=!1},n.prototype._captureStackTrace=G,n.prototype._attachExtraTrace=Y,e.activateLongStackTraces(),r.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return J.longStackTraces&&ge()};var N=function(){try{if(typeof CustomEvent=="function"){var Q=new CustomEvent("CustomEvent");return s.global.dispatchEvent(Q),function(ue,me){var Ae=new CustomEvent(ue.toLowerCase(),{detail:me,cancelable:!0});return!s.global.dispatchEvent(Ae)}}else if(typeof Event=="function"){var Q=new Event("CustomEvent");return s.global.dispatchEvent(Q),function(me,Ae){var Fe=new Event(me.toLowerCase(),{cancelable:!0});return Fe.detail=Ae,!s.global.dispatchEvent(Fe)}}else{var Q=document.createEvent("CustomEvent");return Q.initCustomEvent("testingtheevent",!1,!0,{}),s.global.dispatchEvent(Q),function(me,Ae){var Fe=document.createEvent("CustomEvent");return Fe.initCustomEvent(me.toLowerCase(),!1,!0,Ae),!s.global.dispatchEvent(Fe)}}}catch{}return function(){return!1}}(),U=function(){return s.isNode?function(){return process.emit.apply(process,arguments)}:s.global?function(Q){var ue="on"+Q.toLowerCase(),me=s.global[ue];return me?(me.apply(s.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function O(Q,ue){return{promise:ue}}var M={promiseCreated:O,promiseFulfilled:O,promiseRejected:O,promiseResolved:O,promiseCancelled:O,promiseChained:function(Q,ue,me){return{promise:ue,child:me}},warning:function(Q,ue){return{warning:ue}},unhandledRejection:function(Q,ue,me){return{reason:ue,promise:me}},rejectionHandled:O},P=function(Q){var ue=!1;try{ue=U.apply(null,arguments)}catch(Ae){r.throwLater(Ae),ue=!0}var me=!1;try{me=N(Q,M[Q].apply(null,arguments))}catch(Ae){r.throwLater(Ae),me=!0}return me||ue};n.config=function(Q){if(Q=Object(Q),"longStackTraces"in Q&&(Q.longStackTraces?n.longStackTraces():!Q.longStackTraces&&n.hasLongStackTraces()&&R()),"warnings"in Q){var ue=Q.warnings;J.warnings=!!ue,E=J.warnings,s.isObject(ue)&&"wForgottenReturn"in ue&&(E=!!ue.wForgottenReturn)}if("cancellation"in Q&&Q.cancellation&&!J.cancellation){if(r.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=te,n.prototype._propagateFrom=B,n.prototype._onCancel=q,n.prototype._setOnCancel=L,n.prototype._attachCancellationCallback=I,n.prototype._execute=X,se=B,J.cancellation=!0}return"monitoring"in Q&&(Q.monitoring&&!J.monitoring?(J.monitoring=!0,n.prototype._fireEvent=P):!Q.monitoring&&J.monitoring&&(J.monitoring=!1,n.prototype._fireEvent=H)),n};function H(){return!1}n.prototype._fireEvent=H,n.prototype._execute=function(Q,ue,me){try{Q(ue,me)}catch(Ae){return Ae}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(Q){},n.prototype._attachCancellationCallback=function(Q){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(Q,ue){};function X(Q,ue,me){var Ae=this;try{Q(ue,me,function(Fe){if(typeof Fe!="function")throw new TypeError("onCancel must be a function, got: "+s.toString(Fe));Ae._attachCancellationCallback(Fe)})}catch(Fe){return Fe}}function I(Q){if(!this._isCancellable())return this;var ue=this._onCancel();ue!==void 0?s.isArray(ue)?ue.push(Q):this._setOnCancel([ue,Q]):this._setOnCancel(Q)}function q(){return this._onCancelField}function L(Q){this._onCancelField=Q}function te(){this._cancellationParent=void 0,this._onCancelField=void 0}function B(Q,ue){if((ue&1)!==0){this._cancellationParent=Q;var me=Q._branchesRemainingToCancel;me===void 0&&(me=0),Q._branchesRemainingToCancel=me+1}(ue&2)!==0&&Q._isBound()&&this._setBoundTo(Q._boundTo)}function W(Q,ue){(ue&2)!==0&&Q._isBound()&&this._setBoundTo(Q._boundTo)}var se=W;function K(){var Q=this._boundTo;return Q!==void 0&&Q instanceof n?Q.isFulfilled()?Q.value():void 0:Q}function G(){this._trace=new ke(this._peekContext())}function Y(Q,ue){if(a(Q)){var me=this._trace;if(me!==void 0&&ue&&(me=me._parent),me!==void 0)me.attachExtraTrace(Q);else if(!Q.__stackCleaned__){var Ae=Ke(Q);s.notEnumerableProp(Q,"stack",Ae.message+`
`+Ae.stack.join(`
`)),s.notEnumerableProp(Q,"__stackCleaned__",!0)}}}function ne(Q,ue,me,Ae,Fe){if(Q===void 0&&ue!==null&&E){if(Fe!==void 0&&Fe._returnedNonUndefined()||(Ae._bitField&65535)===0)return;me&&(me=me+" ");var Ge="",at="";if(ue._trace){for(var ut=ue._trace.stack.split(`
`),Te=Me(ut),He=Te.length-1;He>=0;--He){var et=Te[He];if(!f.test(et)){var ht=et.match(p);ht&&(Ge="at "+ht[1]+":"+ht[2]+":"+ht[3]+" ");break}}if(Te.length>0){for(var Tt=Te[0],He=0;He<ut.length;++He)if(ut[He]===Tt){He>0&&(at=`
`+ut[He-1]);break}}}var gt="a promise was created in a "+me+"handler "+Ge+"but was not returned from it, see http://goo.gl/rRqMUw"+at;Ae._warn(gt,!0,ue)}}function le(Q,ue){var me=Q+" is deprecated and will be removed in a future version.";return ue&&(me+=" Use "+ue+" instead."),xe(me)}function xe(Q,ue,me){if(J.warnings){var Ae=new i(Q),Fe;if(ue)me._attachExtraTrace(Ae);else if(J.longStackTraces&&(Fe=n._peekContext()))Fe.attachExtraTrace(Ae);else{var Ge=Ke(Ae);Ae.stack=Ge.message+`
`+Ge.stack.join(`
`)}P("warning",Ae)||Le(Ae,"",!0)}}function we(Q,ue){for(var me=0;me<ue.length-1;++me)ue[me].push("From previous event:"),ue[me]=ue[me].join(`
`);return me<ue.length&&(ue[me]=ue[me].join(`
`)),Q+`
`+ue.join(`
`)}function Re(Q){for(var ue=0;ue<Q.length;++ue)(Q[ue].length===0||ue+1<Q.length&&Q[ue][0]===Q[ue+1][0])&&(Q.splice(ue,1),ue--)}function Ee(Q){for(var ue=Q[0],me=1;me<Q.length;++me){for(var Ae=Q[me],Fe=ue.length-1,Ge=ue[Fe],at=-1,ut=Ae.length-1;ut>=0;--ut)if(Ae[ut]===Ge){at=ut;break}for(var ut=at;ut>=0;--ut){var Te=Ae[ut];if(ue[Fe]===Te)ue.pop(),Fe--;else break}ue=Ae}}function Me(Q){for(var ue=[],me=0;me<Q.length;++me){var Ae=Q[me],Fe=Ae==="    (No stack trace)"||m.test(Ae),Ge=Fe&&ve(Ae);Fe&&!Ge&&(b&&Ae.charAt(0)!==" "&&(Ae="    "+Ae),ue.push(Ae))}return ue}function Ye(Q){for(var ue=Q.stack.replace(/\s+$/g,"").split(`
`),me=0;me<ue.length;++me){var Ae=ue[me];if(Ae==="    (No stack trace)"||m.test(Ae))break}return me>0&&Q.name!="SyntaxError"&&(ue=ue.slice(me)),ue}function Ke(Q){var ue=Q.stack,me=Q.toString();return ue=typeof ue=="string"&&ue.length>0?Ye(Q):["    (No stack trace)"],{message:me,stack:Q.name=="SyntaxError"?ue:Me(ue)}}function Le(Q,ue,me){if(typeof console<"u"){var Ae;if(s.isObject(Q)){var Fe=Q.stack;Ae=ue+y(Fe,Q)}else Ae=ue+String(Q);typeof x=="function"?x(Ae,me):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ae)}}function lt(Q,ue,me,Ae){var Fe=!1;try{typeof ue=="function"&&(Fe=!0,Q==="rejectionHandled"?ue(Ae):ue(me,Ae))}catch(Ge){r.throwLater(Ge)}Q==="unhandledRejection"?!P(Q,me,Ae)&&!Fe&&Le(me,"Unhandled rejection "):P(Q,Ae)}function st(Q){var ue;if(typeof Q=="function")ue="[function "+(Q.name||"anonymous")+"]";else{ue=Q&&typeof Q.toString=="function"?Q.toString():s.toString(Q);var me=/\[object [a-zA-Z0-9$_]+\]/;if(me.test(ue))try{var Ae=JSON.stringify(Q);ue=Ae}catch{}ue.length===0&&(ue="(empty array)")}return"(<"+$(ue)+">, no stack trace)"}function $(Q){var ue=41;return Q.length<ue?Q:Q.substr(0,ue-3)+"..."}function ge(){return typeof be=="function"}var ve=function(){return!1},ae=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function ce(Q){var ue=Q.match(ae);if(ue)return{fileName:ue[1],line:parseInt(ue[2],10)}}function ye(Q,ue){if(ge()){for(var me=Q.stack.split(`
`),Ae=ue.stack.split(`
`),Fe=-1,Ge=-1,at,ut,Te=0;Te<me.length;++Te){var He=ce(me[Te]);if(He){at=He.fileName,Fe=He.line;break}}for(var Te=0;Te<Ae.length;++Te){var He=ce(Ae[Te]);if(He){ut=He.fileName,Ge=He.line;break}}Fe<0||Ge<0||!at||!ut||at!==ut||Fe>=Ge||(ve=function(et){if(u.test(et))return!0;var ht=ce(et);return!!(ht&&ht.fileName===at&&Fe<=ht.line&&ht.line<=Ge)})}}function ke(Q){this._parent=Q,this._promisesCreated=0;var ue=this._length=1+(Q===void 0?0:Q._length);be(this,ke),ue>32&&this.uncycle()}s.inherits(ke,Error),e.CapturedTrace=ke,ke.prototype.uncycle=function(){var Q=this._length;if(!(Q<2)){for(var ue=[],me={},Ae=0,Fe=this;Fe!==void 0;++Ae)ue.push(Fe),Fe=Fe._parent;Q=this._length=Ae;for(var Ae=Q-1;Ae>=0;--Ae){var Ge=ue[Ae].stack;me[Ge]===void 0&&(me[Ge]=Ae)}for(var Ae=0;Ae<Q;++Ae){var at=ue[Ae].stack,ut=me[at];if(ut!==void 0&&ut!==Ae){ut>0&&(ue[ut-1]._parent=void 0,ue[ut-1]._length=1),ue[Ae]._parent=void 0,ue[Ae]._length=1;var Te=Ae>0?ue[Ae-1]:this;ut<Q-1?(Te._parent=ue[ut+1],Te._parent.uncycle(),Te._length=Te._parent._length+1):(Te._parent=void 0,Te._length=1);for(var He=Te._length+1,et=Ae-2;et>=0;--et)ue[et]._length=He,He++;return}}}},ke.prototype.attachExtraTrace=function(Q){if(!Q.__stackCleaned__){this.uncycle();for(var ue=Ke(Q),me=ue.message,Ae=[ue.stack],Fe=this;Fe!==void 0;)Ae.push(Me(Fe.stack.split(`
`))),Fe=Fe._parent;Ee(Ae),Re(Ae),s.notEnumerableProp(Q,"stack",we(me,Ae)),s.notEnumerableProp(Q,"__stackCleaned__",!0)}};var be=function(){var ue=/^\s*at\s*/,me=function(at,ut){return typeof at=="string"?at:ut.name!==void 0&&ut.message!==void 0?ut.toString():st(ut)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,m=ue,y=me;var Ae=Error.captureStackTrace;return ve=function(at){return u.test(at)},function(at,ut){Error.stackTraceLimit+=6,Ae(at,ut),Error.stackTraceLimit-=6}}var Fe=new Error;if(typeof Fe.stack=="string"&&Fe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return m=/@/,y=me,b=!0,function(ut){ut.stack=new Error().stack};var Ge;try{throw new Error}catch(at){Ge="stack"in at}return!("stack"in Fe)&&Ge&&typeof Error.stackTraceLimit=="number"?(m=ue,y=me,function(ut){Error.stackTraceLimit+=6;try{throw new Error}catch(Te){ut.stack=Te.stack}Error.stackTraceLimit-=6}):(y=function(at,ut){return typeof at=="string"?at:(typeof ut=="object"||typeof ut=="function")&&ut.name!==void 0&&ut.message!==void 0?ut.toString():st(ut)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(x=function(Q){console.warn(Q)},s.isNode&&process.stderr.isTTY?x=function(Q,ue){var me=ue?"\x1B[33m":"\x1B[31m";console.warn(me+Q+`\x1B[0m
`)}:!s.isNode&&typeof new Error().stack=="string"&&(x=function(Q,ue){console.warn("%c"+Q,ue?"color: darkorange":"color: red")}));var J={warnings:S,longStackTraces:!1,cancellation:!1,monitoring:!1};return T&&n.longStackTraces(),{longStackTraces:function(){return J.longStackTraces},warnings:function(){return J.warnings},cancellation:function(){return J.cancellation},monitoring:function(){return J.monitoring},propagateFromFunction:function(){return se},boundValueFunction:function(){return K},checkForgottenReturns:ne,setBounds:ye,warn:xe,deprecated:le,CapturedTrace:ke,fireDomEvent:N,fireGlobalEvent:U}}),LO}var IO,oB;function g_e(){return oB||(oB=1,IO=function(n,e){var t=Nr(),r=n.CancellationError,i=t.errorObj;function s(p,m,y){this.promise=p,this.type=m,this.handler=y,this.called=!1,this.cancelPromise=null}s.prototype.isFinallyHandler=function(){return this.type===0};function a(p){this.finallyHandler=p}a.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(p,m){return p.cancelPromise!=null?(arguments.length>1?p.cancelPromise._reject(m):p.cancelPromise._cancel(),p.cancelPromise=null,!0):!1}function l(){return f.call(this,this.promise._target()._settledValue())}function u(p){if(!o(this,p))return i.e=p,i}function f(p){var m=this.promise,y=this.handler;if(!this.called){this.called=!0;var b=this.isFinallyHandler()?y.call(m._boundValue()):y.call(m._boundValue(),p);if(b!==void 0){m._setReturnedNonUndefined();var x=e(b,m);if(x instanceof n){if(this.cancelPromise!=null)if(x._isCancelled()){var w=new r("late cancellation observer");return m._attachExtraTrace(w),i.e=w,i}else x.isPending()&&x._attachCancellationCallback(new a(this));return x._then(l,u,void 0,this,void 0)}}}return m.isRejected()?(o(this),i.e=p,i):(o(this),p)}return n.prototype._passThrough=function(p,m,y,b){return typeof p!="function"?this.then():this._then(y,b,void 0,new s(this,m,p),void 0)},n.prototype.lastly=n.prototype.finally=function(p){return this._passThrough(p,0,f,f)},n.prototype.tap=function(p){return this._passThrough(p,1,f)},s}),IO}var $O,lB;function y_e(){return lB||(lB=1,$O=function(n){var e=Nr(),t=lw().keys,r=e.tryCatch,i=e.errorObj;function s(a,o,l){return function(u){var f=l._boundValue();e:for(var p=0;p<a.length;++p){var m=a[p];if(m===Error||m!=null&&m.prototype instanceof Error){if(u instanceof m)return r(o).call(f,u)}else if(typeof m=="function"){var y=r(m).call(f,u);if(y===i)return y;if(y)return r(o).call(f,u)}else if(e.isObject(u)){for(var b=t(m),x=0;x<b.length;++x){var w=b[x];if(m[w]!=u[w])continue e}return r(o).call(f,u)}}return n}}return s}),$O}var BO,cB;function ZZ(){if(cB)return BO;cB=1;var n=Nr(),e=n.maybeWrapAsError,t=zp(),r=t.OperationalError,i=lw();function s(u){return u instanceof Error&&i.getPrototypeOf(u)===Error.prototype}var a=/^(?:name|message|stack|cause)$/;function o(u){var f;if(s(u)){f=new r(u),f.name=u.name,f.message=u.message,f.stack=u.stack;for(var p=i.keys(u),m=0;m<p.length;++m){var y=p[m];a.test(y)||(f[y]=u[y])}return f}return n.markAsOriginatingFromRejection(u),u}function l(u,f){return function(p,m){if(u!==null){if(p){var y=o(e(p));u._attachExtraTrace(y),u._reject(y)}else if(!f)u._fulfill(m);else{for(var b=arguments.length,x=new Array(Math.max(b-1,0)),w=1;w<b;++w)x[w-1]=arguments[w];u._fulfill(x)}u=null}}}return BO=l,BO}var WO,uB;function v_e(){return uB||(uB=1,WO=function(n,e,t,r,i){var s=Nr(),a=s.tryCatch;n.method=function(o){if(typeof o!="function")throw new n.TypeError("expecting a function but got "+s.classString(o));return function(){var l=new n(e);l._captureStackTrace(),l._pushContext();var u=a(o).apply(this,arguments),f=l._popContext();return i.checkForgottenReturns(u,f,"Promise.method",l),l._resolveFromSyncValue(u),l}},n.attempt=n.try=function(o){if(typeof o!="function")return r("expecting a function but got "+s.classString(o));var l=new n(e);l._captureStackTrace(),l._pushContext();var u;if(arguments.length>1){i.deprecated("calling Promise.try with more than 1 argument");var f=arguments[1],p=arguments[2];u=s.isArray(f)?a(o).apply(p,f):a(o).call(p,f)}else u=a(o)();var m=l._popContext();return i.checkForgottenReturns(u,m,"Promise.try",l),l._resolveFromSyncValue(u),l},n.prototype._resolveFromSyncValue=function(o){o===s.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),WO}var zO,dB;function b_e(){return dB||(dB=1,zO=function(n,e,t,r){var i=!1,s=function(u,f){this._reject(f)},a=function(u,f){f.promiseRejectionQueued=!0,f.bindingPromise._then(s,s,null,this,u)},o=function(u,f){(this._bitField&50397184)===0&&this._resolveCallback(f.target)},l=function(u,f){f.promiseRejectionQueued||this._reject(u)};n.prototype.bind=function(u){i||(i=!0,n.prototype._propagateFrom=r.propagateFromFunction(),n.prototype._boundValue=r.boundValueFunction());var f=t(u),p=new n(e);p._propagateFrom(this,1);var m=this._target();if(p._setBoundTo(f),f instanceof n){var y={promiseRejectionQueued:!1,promise:p,target:m,bindingPromise:f};m._then(e,a,void 0,p,y),f._then(o,l,void 0,p,y),p._setOnCancel(f)}else p._resolveCallback(m);return p},n.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},n.prototype._isBound=function(){return(this._bitField&2097152)===2097152},n.bind=function(u,f){return n.resolve(f).bind(u)}}),zO}var qO,hB;function x_e(){return hB||(hB=1,qO=function(n,e,t,r){var i=Nr(),s=i.tryCatch,a=i.errorObj,o=n._async;n.prototype.break=n.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var l=this,u=l;l._isCancellable();){if(!l._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var f=l._cancellationParent;if(f==null||!f._isCancellable()){l._isFollowing()?l._followee().cancel():l._cancelBranched();break}else l._isFollowing()&&l._followee().cancel(),l._setWillBeCancelled(),u=l,l=f}},n.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},n.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},n.prototype._cancelBy=function(l){return l===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},n.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},n.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},n.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},n.prototype._unsetOnCancel=function(){this._onCancelField=void 0},n.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},n.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},n.prototype._doInvokeOnCancel=function(l,u){if(i.isArray(l))for(var f=0;f<l.length;++f)this._doInvokeOnCancel(l[f],u);else if(l!==void 0)if(typeof l=="function"){if(!u){var p=s(l).call(this._boundValue());p===a&&(this._attachExtraTrace(p.e),o.throwLater(p.e))}}else l._resultCancelled(this)},n.prototype._invokeOnCancel=function(){var l=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,l)},n.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},n.prototype._resultCancelled=function(){this.cancel()}}),qO}var HO,fB;function w_e(){return fB||(fB=1,HO=function(n){function e(){return this.value}function t(){throw this.reason}n.prototype.return=n.prototype.thenReturn=function(r){return r instanceof n&&r.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:r},void 0)},n.prototype.throw=n.prototype.thenThrow=function(r){return this._then(t,void 0,void 0,{reason:r},void 0)},n.prototype.catchThrow=function(r){if(arguments.length<=1)return this._then(void 0,t,void 0,{reason:r},void 0);var i=arguments[1],s=function(){throw i};return this.caught(r,s)},n.prototype.catchReturn=function(r){if(arguments.length<=1)return r instanceof n&&r.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:r},void 0);var i=arguments[1];i instanceof n&&i.suppressUnhandledRejections();var s=function(){return i};return this.caught(r,s)}}),HO}var VO,pB;function __e(){return pB||(pB=1,VO=function(n){function e(l){l!==void 0?(l=l._target(),this._bitField=l._bitField,this._settledValueField=l._isFateSealed()?l._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var t=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},s=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},a=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},n.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},n.prototype._isCancelled=function(){return this._target().__isCancelled()},n.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},n.prototype.isPending=function(){return a.call(this._target())},n.prototype.isRejected=function(){return s.call(this._target())},n.prototype.isFulfilled=function(){return i.call(this._target())},n.prototype.isResolved=function(){return o.call(this._target())},n.prototype.value=function(){return t.call(this._target())},n.prototype.reason=function(){var l=this._target();return l._unsetRejectionIsUnhandled(),r.call(l)},n.prototype._value=function(){return this._settledValue()},n.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},n.PromiseInspection=e}),VO}var GO,mB;function S_e(){return mB||(mB=1,GO=function(n,e,t,r,i,s){var a=Nr(),o=a.canEvaluate,l=a.tryCatch,u=a.errorObj,f;if(o){for(var p=function(T){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,T))},m=function(T){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,T))},y=function(T){for(var E=new Array(T),R=0;R<E.length;++R)E[R]="this.p"+(R+1);var N=E.join(" = ")+" = null;",U=`var promise;
`+E.map(function(H){return`                                                         
	                promise = `+H+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),O=E.join(", "),M="Holder$"+T,P=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return P=P.replace(/\[TheName\]/g,M).replace(/\[TheTotal\]/g,T).replace(/\[ThePassedArguments\]/g,O).replace(/\[TheProperties\]/g,N).replace(/\[CancellationCode\]/g,U),new Function("tryCatch","errorObj","Promise","async",P)(l,u,n,i)},b=[],x=[],w=[],S=0;S<8;++S)b.push(y(S+1)),x.push(p(S+1)),w.push(m(S+1));f=function(T){this._reject(T)}}n.join=function(){var T=arguments.length-1,E;if(T>0&&typeof arguments[T]=="function"&&(E=arguments[T],T<=8&&o)){var L=new n(r);L._captureStackTrace();for(var R=b[T-1],N=new R(E),U=x,O=0;O<T;++O){var M=t(arguments[O],L);if(M instanceof n){M=M._target();var P=M._bitField;(P&50397184)===0?(M._then(U[O],f,void 0,L,N),w[O](M,N),N.asyncNeeded=!1):(P&33554432)!==0?U[O].call(L,M._value(),N):(P&16777216)!==0?L._reject(M._reason()):L._cancel()}else U[O].call(L,M,N)}if(!L._isFateSealed()){if(N.asyncNeeded){var H=s();H!==null&&(N.fn=a.domainBind(H,N.fn))}L._setAsyncGuaranteed(),L._setOnCancel(N)}return L}for(var X=arguments.length,I=new Array(X),q=0;q<X;++q)I[q]=arguments[q];E&&I.pop();var L=new e(I).promise();return E!==void 0?L.spread(E):L}}),GO}var XO,gB;function D_e(){return gB||(gB=1,XO=function(n,e,t,r,i,s){var a=n._getDomain,o=Nr(),l=o.tryCatch,u=o.errorObj,f=n._async;function p(y,b,x,w){this.constructor$(y),this._promise._captureStackTrace();var S=a();this._callback=S===null?b:o.domainBind(S,b),this._preservedValues=w===i?new Array(this.length()):null,this._limit=x,this._inFlight=0,this._queue=[],f.invoke(this._asyncInit,this,void 0)}o.inherits(p,e),p.prototype._asyncInit=function(){this._init$(void 0,-2)},p.prototype._init=function(){},p.prototype._promiseFulfilled=function(y,b){var x=this._values,w=this.length(),S=this._preservedValues,T=this._limit;if(b<0){if(b=b*-1-1,x[b]=y,T>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(T>=1&&this._inFlight>=T)return x[b]=y,this._queue.push(b),!1;S!==null&&(S[b]=y);var E=this._promise,R=this._callback,N=E._boundValue();E._pushContext();var U=l(R).call(N,y,b,w),O=E._popContext();if(s.checkForgottenReturns(U,O,S!==null?"Promise.filter":"Promise.map",E),U===u)return this._reject(U.e),!0;var M=r(U,this._promise);if(M instanceof n){M=M._target();var P=M._bitField;if((P&50397184)===0)return T>=1&&this._inFlight++,x[b]=M,M._proxy(this,(b+1)*-1),!1;if((P&33554432)!==0)U=M._value();else return(P&16777216)!==0?(this._reject(M._reason()),!0):(this._cancel(),!0)}x[b]=U}var H=++this._totalResolved;return H>=w?(S!==null?this._filter(x,S):this._resolve(x),!0):!1},p.prototype._drainQueue=function(){for(var y=this._queue,b=this._limit,x=this._values;y.length>0&&this._inFlight<b;){if(this._isResolved())return;var w=y.pop();this._promiseFulfilled(x[w],w)}},p.prototype._filter=function(y,b){for(var x=b.length,w=new Array(x),S=0,T=0;T<x;++T)y[T]&&(w[S++]=b[T]);w.length=S,this._resolve(w)},p.prototype.preservedValues=function(){return this._preservedValues};function m(y,b,x,w){if(typeof b!="function")return t("expecting a function but got "+o.classString(b));var S=0;if(x!==void 0)if(typeof x=="object"&&x!==null){if(typeof x.concurrency!="number")return n.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(x.concurrency)));S=x.concurrency}else return n.reject(new TypeError("options argument must be an object but it is "+o.classString(x)));return S=typeof S=="number"&&isFinite(S)&&S>=1?S:0,new p(y,b,S,w).promise()}n.prototype.map=function(y,b){return m(this,y,b,null)},n.map=function(y,b,x,w){return m(y,b,x,w)}}),XO}var YO,yB;function A_e(){if(yB)return YO;yB=1;var n=Object.create;if(n){var e=n(null),t=n(null);e[" size"]=t[" size"]=0}return YO=function(r){var i=Nr(),s=i.canEvaluate,a=i.isIdentifier,o,l;{var u=function(w){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,w))(m)},f=function(w){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",w))},p=function(w,S,T){var E=T[w];if(typeof E!="function"){if(!a(w))return null;if(E=S(w),T[w]=E,T[" size"]++,T[" size"]>512){for(var R=Object.keys(T),N=0;N<256;++N)delete T[R[N]];T[" size"]=R.length-256}}return E};o=function(w){return p(w,u,e)},l=function(w){return p(w,f,t)}}function m(w,S){var T;if(w!=null&&(T=w[S]),typeof T!="function"){var E="Object "+i.classString(w)+" has no method '"+i.toString(S)+"'";throw new r.TypeError(E)}return T}function y(w){var S=this.pop(),T=m(w,S);return T.apply(w,this)}r.prototype.call=function(w){for(var S=arguments.length,T=new Array(Math.max(S-1,0)),E=1;E<S;++E)T[E-1]=arguments[E];if(s){var R=o(w);if(R!==null)return this._then(R,void 0,void 0,T,void 0)}return T.push(w),this._then(y,void 0,void 0,T,void 0)};function b(w){return w[this]}function x(w){var S=+this;return S<0&&(S=Math.max(0,S+w.length)),w[S]}r.prototype.get=function(w){var S=typeof w=="number",T;if(S)T=x;else if(s){var E=l(w);T=E!==null?E:b}else T=b;return this._then(T,void 0,void 0,w,void 0)}},YO}var KO,vB;function T_e(){return vB||(vB=1,KO=function(n,e,t,r,i,s){var a=Nr(),o=zp().TypeError,l=Nr().inherits,u=a.errorObj,f=a.tryCatch,p={};function m(E){setTimeout(function(){throw E},0)}function y(E){var R=t(E);return R!==E&&typeof E._isDisposable=="function"&&typeof E._getDisposer=="function"&&E._isDisposable()&&R._setDisposable(E._getDisposer()),R}function b(E,R){var N=0,U=E.length,O=new n(i);function M(){if(N>=U)return O._fulfill();var P=y(E[N++]);if(P instanceof n&&P._isDisposable()){try{P=t(P._getDisposer().tryDispose(R),E.promise)}catch(H){return m(H)}if(P instanceof n)return P._then(M,m,null,null,null)}M()}return M(),O}function x(E,R,N){this._data=E,this._promise=R,this._context=N}x.prototype.data=function(){return this._data},x.prototype.promise=function(){return this._promise},x.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},x.prototype.tryDispose=function(E){var R=this.resource(),N=this._context;N!==void 0&&N._pushContext();var U=R!==p?this.doDispose(R,E):null;return N!==void 0&&N._popContext(),this._promise._unsetDisposable(),this._data=null,U},x.isDisposer=function(E){return E!=null&&typeof E.resource=="function"&&typeof E.tryDispose=="function"};function w(E,R,N){this.constructor$(E,R,N)}l(w,x),w.prototype.doDispose=function(E,R){var N=this.data();return N.call(E,E,R)};function S(E){return x.isDisposer(E)?(this.resources[this.index]._setDisposable(E),E.promise()):E}function T(E){this.length=E,this.promise=null,this[E-1]=null}T.prototype._resultCancelled=function(){for(var E=this.length,R=0;R<E;++R){var N=this[R];N instanceof n&&N.cancel()}},n.using=function(){var E=arguments.length;if(E<2)return e("you must pass at least 2 arguments to Promise.using");var R=arguments[E-1];if(typeof R!="function")return e("expecting a function but got "+a.classString(R));var N,U=!0;E===2&&Array.isArray(arguments[0])?(N=arguments[0],E=N.length,U=!1):(N=arguments,E--);for(var O=new T(E),M=0;M<E;++M){var P=N[M];if(x.isDisposer(P)){var H=P;P=P.promise(),P._setDisposable(H)}else{var X=t(P);X instanceof n&&(P=X._then(S,null,null,{resources:O,index:M},void 0))}O[M]=P}for(var I=new Array(O.length),M=0;M<I.length;++M)I[M]=n.resolve(O[M]).reflect();var q=n.all(I).then(function(te){for(var B=0;B<te.length;++B){var W=te[B];if(W.isRejected())return u.e=W.error(),u;if(!W.isFulfilled()){q.cancel();return}te[B]=W.value()}L._pushContext(),R=f(R);var se=U?R.apply(void 0,te):R(te),K=L._popContext();return s.checkForgottenReturns(se,K,"Promise.using",L),se}),L=q.lastly(function(){var te=new n.PromiseInspection(q);return b(O,te)});return O.promise=L,L._setOnCancel(O),L},n.prototype._setDisposable=function(E){this._bitField=this._bitField|131072,this._disposer=E},n.prototype._isDisposable=function(){return(this._bitField&131072)>0},n.prototype._getDisposer=function(){return this._disposer},n.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},n.prototype.disposer=function(E){if(typeof E=="function")return new w(E,this,r());throw new o}}),KO}var ZO,bB;function E_e(){return bB||(bB=1,ZO=function(n,e,t){var r=Nr(),i=n.TimeoutError;function s(p){this.handle=p}s.prototype._resultCancelled=function(){clearTimeout(this.handle)};var a=function(p){return o(+this).thenReturn(p)},o=n.delay=function(p,m){var y,b;return m!==void 0?(y=n.resolve(m)._then(a,null,null,p,void 0),t.cancellation()&&m instanceof n&&y._setOnCancel(m)):(y=new n(e),b=setTimeout(function(){y._fulfill()},+p),t.cancellation()&&y._setOnCancel(new s(b)),y._captureStackTrace()),y._setAsyncGuaranteed(),y};n.prototype.delay=function(p){return o(p,this)};var l=function(p,m,y){var b;typeof m!="string"?m instanceof Error?b=m:b=new i("operation timed out"):b=new i(m),r.markAsOriginatingFromRejection(b),p._attachExtraTrace(b),p._reject(b),y!=null&&y.cancel()};function u(p){return clearTimeout(this.handle),p}function f(p){throw clearTimeout(this.handle),p}n.prototype.timeout=function(p,m){p=+p;var y,b,x=new s(setTimeout(function(){y.isPending()&&l(y,m,b)},p));return t.cancellation()?(b=this.then(),y=b._then(u,f,void 0,x,void 0),y._setOnCancel(x)):y=this._then(u,f,void 0,x,void 0),y}}),ZO}var QO,xB;function C_e(){return xB||(xB=1,QO=function(n,e,t,r,i,s){var a=zp(),o=a.TypeError,l=Nr(),u=l.errorObj,f=l.tryCatch,p=[];function m(b,x,w){for(var S=0;S<x.length;++S){w._pushContext();var T=f(x[S])(b);if(w._popContext(),T===u){w._pushContext();var E=n.reject(u.e);return w._popContext(),E}var R=r(T,w);if(R instanceof n)return R}return null}function y(b,x,w,S){if(s.cancellation()){var T=new n(t),E=this._finallyPromise=new n(t);this._promise=T.lastly(function(){return E}),T._captureStackTrace(),T._setOnCancel(this)}else{var R=this._promise=new n(t);R._captureStackTrace()}this._stack=S,this._generatorFunction=b,this._receiver=x,this._generator=void 0,this._yieldHandlers=typeof w=="function"?[w].concat(p):p,this._yieldedPromise=null,this._cancellationPhase=!1}l.inherits(y,i),y.prototype._isResolved=function(){return this._promise===null},y.prototype._cleanup=function(){this._promise=this._generator=null,s.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},y.prototype._promiseCancelled=function(){if(!this._isResolved()){var b=typeof this._generator.return<"u",x;if(b)this._promise._pushContext(),x=f(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var w=new n.CancellationError("generator .return() sentinel");n.coroutine.returnSentinel=w,this._promise._attachExtraTrace(w),this._promise._pushContext(),x=f(this._generator.throw).call(this._generator,w),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(x)}},y.prototype._promiseFulfilled=function(b){this._yieldedPromise=null,this._promise._pushContext();var x=f(this._generator.next).call(this._generator,b);this._promise._popContext(),this._continue(x)},y.prototype._promiseRejected=function(b){this._yieldedPromise=null,this._promise._attachExtraTrace(b),this._promise._pushContext();var x=f(this._generator.throw).call(this._generator,b);this._promise._popContext(),this._continue(x)},y.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof n){var b=this._yieldedPromise;this._yieldedPromise=null,b.cancel()}},y.prototype.promise=function(){return this._promise},y.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},y.prototype._continue=function(b){var x=this._promise;if(b===u)return this._cleanup(),this._cancellationPhase?x.cancel():x._rejectCallback(b.e,!1);var w=b.value;if(b.done===!0)return this._cleanup(),this._cancellationPhase?x.cancel():x._resolveCallback(w);var S=r(w,this._promise);if(!(S instanceof n)&&(S=m(S,this._yieldHandlers,this._promise),S===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",w)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}S=S._target();var T=S._bitField;(T&50397184)===0?(this._yieldedPromise=S,S._proxy(this,null)):(T&33554432)!==0?n._async.invoke(this._promiseFulfilled,this,S._value()):(T&16777216)!==0?n._async.invoke(this._promiseRejected,this,S._reason()):this._promiseCancelled()},n.coroutine=function(b,x){if(typeof b!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var w=Object(x).yieldHandler,S=y,T=new Error().stack;return function(){var E=b.apply(this,arguments),R=new S(void 0,void 0,w,T),N=R.promise();return R._generator=E,R._promiseFulfilled(void 0),N}},n.coroutine.addYieldHandler=function(b){if(typeof b!="function")throw new o("expecting a function but got "+l.classString(b));p.push(b)},n.spawn=function(b){if(s.deprecated("Promise.spawn()","Promise.coroutine()"),typeof b!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var x=new y(b,this),w=x.promise();return x._run(n.spawn),w}}),QO}var JO,wB;function N_e(){return wB||(wB=1,JO=function(n){var e=Nr(),t=n._async,r=e.tryCatch,i=e.errorObj;function s(l,u){var f=this;if(!e.isArray(l))return a.call(f,l,u);var p=r(u).apply(f._boundValue(),[null].concat(l));p===i&&t.throwLater(p.e)}function a(l,u){var f=this,p=f._boundValue(),m=l===void 0?r(u).call(p,null):r(u).call(p,null,l);m===i&&t.throwLater(m.e)}function o(l,u){var f=this;if(!l){var p=new Error(l+"");p.cause=l,l=p}var m=r(u).call(f._boundValue(),l);m===i&&t.throwLater(m.e)}n.prototype.asCallback=n.prototype.nodeify=function(l,u){if(typeof l=="function"){var f=a;u!==void 0&&Object(u).spread&&(f=s),this._then(f,o,void 0,this,l)}return this}}),JO}var eM,_B;function R_e(){return _B||(_B=1,eM=function(n,e){var t={},r=Nr(),i=ZZ(),s=r.withAppended,a=r.maybeWrapAsError,o=r.canEvaluate,l=zp().TypeError,u="Async",f={__isPromisified__:!0},p=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],m=new RegExp("^(?:"+p.join("|")+")$"),y=function(q){return r.isIdentifier(q)&&q.charAt(0)!=="_"&&q!=="constructor"};function b(q){return!m.test(q)}function x(q){try{return q.__isPromisified__===!0}catch{return!1}}function w(q,L,te){var B=r.getDataPropertyOrDefault(q,L+te,f);return B?x(B):!1}function S(q,L,te){for(var B=0;B<q.length;B+=2){var W=q[B];if(te.test(W)){for(var se=W.replace(te,""),K=0;K<q.length;K+=2)if(q[K]===se)throw new l(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",L))}}}function T(q,L,te,B){for(var W=r.inheritedDataKeys(q),se=[],K=0;K<W.length;++K){var G=W[K],Y=q[G],ne=B===y?!0:y(G);typeof Y=="function"&&!x(Y)&&!w(q,G,L)&&B(G,Y,q,ne)&&se.push(G,Y)}return S(se,L,te),se}var E=function(q){return q.replace(/([$])/,"\\$")},R;{var N=function(q){for(var L=[q],te=Math.max(0,q-1-3),B=q-1;B>=te;--B)L.push(B);for(var B=q+1;B<=3;++B)L.push(B);return L},U=function(q){return r.filledRange(q,"_arg","")},O=function(q){return r.filledRange(Math.max(q,3),"_arg","")},M=function(q){return typeof q.length=="number"?Math.max(Math.min(q.length,1024),0):0};R=function(q,L,te,B,W,se){var K=Math.max(0,M(B)-1),G=N(K),Y=typeof q=="string"||L===t;function ne(Re){var Ee=U(Re).join(", "),Me=Re>0?", ":"",Ye;return Y?Ye=`ret = callback.call(this, {{args}}, nodeback); break;
`:Ye=L===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Ye.replace("{{args}}",Ee).replace(", ",Me)}function le(){for(var Re="",Ee=0;Ee<G.length;++Ee)Re+="case "+G[Ee]+":"+ne(G[Ee]);return Re+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",Y?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),Re}var xe=typeof q=="string"?"this != null ? this['"+q+"'] : fn":"fn",we=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+se+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",le()).replace("[GetFunctionCode]",xe);return we=we.replace("Parameters",O(K)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",we)(n,B,L,s,a,i,r.tryCatch,r.errorObj,r.notEnumerableProp,e)}}function P(q,L,te,B,W,se){var K=function(){return this}(),G=q;typeof G=="string"&&(q=B);function Y(){var ne=L;L===t&&(ne=this);var le=new n(e);le._captureStackTrace();var xe=typeof G=="string"&&this!==K?this[G]:q,we=i(le,se);try{xe.apply(ne,s(arguments,we))}catch(Re){le._rejectCallback(a(Re),!0,!0)}return le._isFateSealed()||le._setAsyncGuaranteed(),le}return r.notEnumerableProp(Y,"__isPromisified__",!0),Y}var H=o?R:P;function X(q,L,te,B,W){for(var se=new RegExp(E(L)+"$"),K=T(q,L,se,te),G=0,Y=K.length;G<Y;G+=2){var ne=K[G],le=K[G+1],xe=ne+L;if(B===H)q[xe]=H(ne,t,ne,le,L,W);else{var we=B(le,function(){return H(ne,t,ne,le,L,W)});r.notEnumerableProp(we,"__isPromisified__",!0),q[xe]=we}}return r.toFastProperties(q),q}function I(q,L,te){return H(q,L,void 0,q,null,te)}n.promisify=function(q,L){if(typeof q!="function")throw new l("expecting a function but got "+r.classString(q));if(x(q))return q;L=Object(L);var te=L.context===void 0?t:L.context,B=!!L.multiArgs,W=I(q,te,B);return r.copyDescriptors(q,W,b),W},n.promisifyAll=function(q,L){if(typeof q!="function"&&typeof q!="object")throw new l(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);L=Object(L);var te=!!L.multiArgs,B=L.suffix;typeof B!="string"&&(B=u);var W=L.filter;typeof W!="function"&&(W=y);var se=L.promisifier;if(typeof se!="function"&&(se=H),!r.isIdentifier(B))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var K=r.inheritedDataKeys(q),G=0;G<K.length;++G){var Y=q[K[G]];K[G]!=="constructor"&&r.isClass(Y)&&(X(Y.prototype,B,W,se,te),X(Y,B,W,se,te))}return X(q,B,W,se,te)}}),eM}var tM,SB;function j_e(){return SB||(SB=1,tM=function(n,e,t,r){var i=Nr(),s=i.isObject,a=lw(),o;typeof Map=="function"&&(o=Map);var l=function(){var m=0,y=0;function b(x,w){this[m]=x,this[m+y]=w,m++}return function(w){y=w.size,m=0;var S=new Array(w.size*2);return w.forEach(b,S),S}}(),u=function(m){for(var y=new o,b=m.length/2|0,x=0;x<b;++x){var w=m[b+x],S=m[x];y.set(w,S)}return y};function f(m){var y=!1,b;if(o!==void 0&&m instanceof o)b=l(m),y=!0;else{var x=a.keys(m),w=x.length;b=new Array(w*2);for(var S=0;S<w;++S){var T=x[S];b[S]=m[T],b[S+w]=T}}this.constructor$(b),this._isMap=y,this._init$(void 0,-3)}i.inherits(f,e),f.prototype._init=function(){},f.prototype._promiseFulfilled=function(m,y){this._values[y]=m;var b=++this._totalResolved;if(b>=this._length){var x;if(this._isMap)x=u(this._values);else{x={};for(var w=this.length(),S=0,T=this.length();S<T;++S)x[this._values[S+w]]=this._values[S]}return this._resolve(x),!0}return!1},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(m){return m>>1};function p(m){var y,b=t(m);if(s(b))b instanceof n?y=b._then(n.props,void 0,void 0,void 0,void 0):y=new f(b).promise();else return r(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return b instanceof n&&y._propagateFrom(b,2),y}n.prototype.props=function(){return p(this)},n.props=function(m){return p(m)}}),tM}var nM,DB;function k_e(){return DB||(DB=1,nM=function(n,e,t,r){var i=Nr(),s=function(o){return o.then(function(l){return a(l,o)})};function a(o,l){var u=t(o);if(u instanceof n)return s(u);if(o=i.asArray(o),o===null)return r("expecting an array or an iterable object but got "+i.classString(o));var f=new n(e);l!==void 0&&f._propagateFrom(l,3);for(var p=f._fulfill,m=f._reject,y=0,b=o.length;y<b;++y){var x=o[y];x===void 0&&!(y in o)||n.cast(x)._then(p,m,void 0,f,null)}return f}n.race=function(o){return a(o,void 0)},n.prototype.race=function(){return a(this,void 0)}}),nM}var rM,AB;function U_e(){return AB||(AB=1,rM=function(n,e,t,r,i,s){var a=n._getDomain,o=Nr(),l=o.tryCatch;function u(b,x,w,S){this.constructor$(b);var T=a();this._fn=T===null?x:o.domainBind(T,x),w!==void 0&&(w=n.resolve(w),w._attachCancellationCallback(this)),this._initialValue=w,this._currentCancellable=null,S===i?this._eachValues=Array(this._length):S===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(u,e),u.prototype._gotAccum=function(b){this._eachValues!==void 0&&this._eachValues!==null&&b!==i&&this._eachValues.push(b)},u.prototype._eachComplete=function(b){return this._eachValues!==null&&this._eachValues.push(b),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(b){this._promise._resolveCallback(b),this._values=null},u.prototype._resultCancelled=function(b){if(b===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof n&&this._currentCancellable.cancel(),this._initialValue instanceof n&&this._initialValue.cancel())},u.prototype._iterate=function(b){this._values=b;var x,w,S=b.length;if(this._initialValue!==void 0?(x=this._initialValue,w=0):(x=n.resolve(b[0]),w=1),this._currentCancellable=x,!x.isRejected())for(;w<S;++w){var T={accum:null,value:b[w],index:w,length:S,array:this};x=x._then(m,void 0,void 0,T,void 0)}this._eachValues!==void 0&&(x=x._then(this._eachComplete,void 0,void 0,this,void 0)),x._then(f,f,void 0,x,this)},n.prototype.reduce=function(b,x){return p(this,b,x,null)},n.reduce=function(b,x,w,S){return p(b,x,w,S)};function f(b,x){this.isFulfilled()?x._resolve(b):x._reject(b)}function p(b,x,w,S){if(typeof x!="function")return t("expecting a function but got "+o.classString(x));var T=new u(b,x,w,S);return T.promise()}function m(b){this.accum=b,this.array._gotAccum(b);var x=r(this.value,this.array._promise);return x instanceof n?(this.array._currentCancellable=x,x._then(y,void 0,void 0,this,void 0)):y.call(this,x)}function y(b){var x=this.array,w=x._promise,S=l(x._fn);w._pushContext();var T;x._eachValues!==void 0?T=S.call(w._boundValue(),b,this.index,this.length):T=S.call(w._boundValue(),this.accum,b,this.index,this.length),T instanceof n&&(x._currentCancellable=T);var E=w._popContext();return s.checkForgottenReturns(T,E,x._eachValues!==void 0?"Promise.each":"Promise.reduce",w),T}}),rM}var iM,TB;function O_e(){return TB||(TB=1,iM=function(n,e,t){var r=n.PromiseInspection,i=Nr();function s(a){this.constructor$(a)}i.inherits(s,e),s.prototype._promiseResolved=function(a,o){this._values[a]=o;var l=++this._totalResolved;return l>=this._length?(this._resolve(this._values),!0):!1},s.prototype._promiseFulfilled=function(a,o){var l=new r;return l._bitField=33554432,l._settledValueField=a,this._promiseResolved(o,l)},s.prototype._promiseRejected=function(a,o){var l=new r;return l._bitField=16777216,l._settledValueField=a,this._promiseResolved(o,l)},n.settle=function(a){return t.deprecated(".settle()",".reflect()"),new s(a).promise()},n.prototype.settle=function(){return n.settle(this)}}),iM}var sM,EB;function M_e(){return EB||(EB=1,sM=function(n,e,t){var r=Nr(),i=zp().RangeError,s=zp().AggregateError,a=r.isArray,o={};function l(f){this.constructor$(f),this._howMany=0,this._unwrap=!1,this._initialized=!1}r.inherits(l,e),l.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var f=a(this._values);!this._isResolved()&&f&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},l.prototype.init=function(){this._initialized=!0,this._init()},l.prototype.setUnwrap=function(){this._unwrap=!0},l.prototype.howMany=function(){return this._howMany},l.prototype.setHowMany=function(f){this._howMany=f},l.prototype._promiseFulfilled=function(f){return this._addFulfilled(f),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},l.prototype._promiseRejected=function(f){return this._addRejected(f),this._checkOutcome()},l.prototype._promiseCancelled=function(){return this._values instanceof n||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var f=new s,p=this.length();p<this._values.length;++p)this._values[p]!==o&&f.push(this._values[p]);return f.length>0?this._reject(f):this._cancel(),!0}return!1},l.prototype._fulfilled=function(){return this._totalResolved},l.prototype._rejected=function(){return this._values.length-this.length()},l.prototype._addRejected=function(f){this._values.push(f)},l.prototype._addFulfilled=function(f){this._values[this._totalResolved++]=f},l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},l.prototype._getRangeError=function(f){var p="Input array must contain at least "+this._howMany+" items but contains only "+f+" items";return new i(p)},l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(f,p){if((p|0)!==p||p<0)return t(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var m=new l(f),y=m.promise();return m.setHowMany(p),m.init(),y}n.some=function(f,p){return u(f,p)},n.prototype.some=function(f){return u(this,f)},n._SomePromiseArray=l}),sM}var aM,CB;function P_e(){return CB||(CB=1,aM=function(n,e){var t=n.map;n.prototype.filter=function(r,i){return t(this,r,i,e)},n.filter=function(r,i,s){return t(r,i,s,e)}}),aM}var oM,NB;function F_e(){return NB||(NB=1,oM=function(n,e){var t=n.reduce,r=n.all;function i(){return r(this)}function s(a,o){return t(a,o,e,e)}n.prototype.each=function(a){return t(this,a,e,0)._then(i,void 0,void 0,this,void 0)},n.prototype.mapSeries=function(a){return t(this,a,e,e)},n.each=function(a,o){return t(a,o,e,0)._then(i,void 0,void 0,a,void 0)},n.mapSeries=s}),oM}var lM,RB;function L_e(){return RB||(RB=1,lM=function(n){var e=n._SomePromiseArray;function t(r){var i=new e(r),s=i.promise();return i.setHowMany(1),i.setUnwrap(),i.init(),s}n.any=function(r){return t(r)},n.prototype.any=function(){return t(this)}}),lM}var jB;function I_e(){return jB||(jB=1,function(n){n.exports=function(){var e=function(){return new m(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},t=function(){return new I.PromiseInspection(this._target())},r=function(B){return I.reject(new m(B))};function i(){}var s={},a=Nr(),o;a.isNode?o=function(){var B=process.domain;return B===void 0&&(B=null),B}:o=function(){return null},a.notEnumerableProp(I,"_getDomain",o);var l=lw(),u=d_e(),f=new u;l.defineProperty(I,"_async",{value:f});var p=zp(),m=I.TypeError=p.TypeError;I.RangeError=p.RangeError;var y=I.CancellationError=p.CancellationError;I.TimeoutError=p.TimeoutError,I.OperationalError=p.OperationalError,I.RejectionError=p.OperationalError,I.AggregateError=p.AggregateError;var b=function(){},x={},w={},S=h_e()(I,b),T=f_e()(I,b,S,r,i),E=p_e()(I),R=E.create,N=m_e()(I,E);N.CapturedTrace;var U=g_e()(I,S),O=y_e()(w),M=ZZ(),P=a.errorObj,H=a.tryCatch;function X(B,W){if(typeof W!="function")throw new m("expecting a function but got "+a.classString(W));if(B.constructor!==I)throw new m(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function I(B){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,B!==b&&(X(this,B),this._resolveFromExecutor(B)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}I.prototype.toString=function(){return"[object Promise]"},I.prototype.caught=I.prototype.catch=function(B){var W=arguments.length;if(W>1){var se=new Array(W-1),K=0,G;for(G=0;G<W-1;++G){var Y=arguments[G];if(a.isObject(Y))se[K++]=Y;else return r("expecting an object but got A catch statement predicate "+a.classString(Y))}return se.length=K,B=arguments[G],this.then(void 0,O(se,B,this))}return this.then(void 0,B)},I.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},I.prototype.then=function(B,W){if(N.warnings()&&arguments.length>0&&typeof B!="function"&&typeof W!="function"){var se=".then() only accepts functions but was passed: "+a.classString(B);arguments.length>1&&(se+=", "+a.classString(W)),this._warn(se)}return this._then(B,W,void 0,void 0,void 0)},I.prototype.done=function(B,W){var se=this._then(B,W,void 0,void 0,void 0);se._setIsFinal()},I.prototype.spread=function(B){return typeof B!="function"?r("expecting a function but got "+a.classString(B)):this.all()._then(B,void 0,void 0,x,void 0)},I.prototype.toJSON=function(){var B={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(B.fulfillmentValue=this.value(),B.isFulfilled=!0):this.isRejected()&&(B.rejectionReason=this.reason(),B.isRejected=!0),B},I.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new T(this).promise()},I.prototype.error=function(B){return this.caught(a.originatesFromRejection,B)},I.getNewLibraryCopy=n.exports,I.is=function(B){return B instanceof I},I.fromNode=I.fromCallback=function(B){var W=new I(b);W._captureStackTrace();var se=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,K=H(B)(M(W,se));return K===P&&W._rejectCallback(K.e,!0),W._isFateSealed()||W._setAsyncGuaranteed(),W},I.all=function(B){return new T(B).promise()},I.cast=function(B){var W=S(B);return W instanceof I||(W=new I(b),W._captureStackTrace(),W._setFulfilled(),W._rejectionHandler0=B),W},I.resolve=I.fulfilled=I.cast,I.reject=I.rejected=function(B){var W=new I(b);return W._captureStackTrace(),W._rejectCallback(B,!0),W},I.setScheduler=function(B){if(typeof B!="function")throw new m("expecting a function but got "+a.classString(B));return f.setScheduler(B)},I.prototype._then=function(B,W,se,K,G){var Y=G!==void 0,ne=Y?G:new I(b),le=this._target(),xe=le._bitField;Y||(ne._propagateFrom(this,3),ne._captureStackTrace(),K===void 0&&(this._bitField&2097152)!==0&&((xe&50397184)!==0?K=this._boundValue():K=le===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ne));var we=o();if((xe&50397184)!==0){var Re,Ee,Me=le._settlePromiseCtx;(xe&33554432)!==0?(Ee=le._rejectionHandler0,Re=B):(xe&16777216)!==0?(Ee=le._fulfillmentHandler0,Re=W,le._unsetRejectionIsUnhandled()):(Me=le._settlePromiseLateCancellationObserver,Ee=new y("late cancellation observer"),le._attachExtraTrace(Ee),Re=W),f.invoke(Me,le,{handler:we===null?Re:typeof Re=="function"&&a.domainBind(we,Re),promise:ne,receiver:K,value:Ee})}else le._addCallbacks(B,W,ne,K,we);return ne},I.prototype._length=function(){return this._bitField&65535},I.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},I.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},I.prototype._setLength=function(B){this._bitField=this._bitField&-65536|B&65535},I.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},I.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},I.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},I.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},I.prototype._isFinal=function(){return(this._bitField&4194304)>0},I.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},I.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},I.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},I.prototype._setAsyncGuaranteed=function(){f.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},I.prototype._receiverAt=function(B){var W=B===0?this._receiver0:this[B*4-4+3];if(W!==s)return W===void 0&&this._isBound()?this._boundValue():W},I.prototype._promiseAt=function(B){return this[B*4-4+2]},I.prototype._fulfillmentHandlerAt=function(B){return this[B*4-4+0]},I.prototype._rejectionHandlerAt=function(B){return this[B*4-4+1]},I.prototype._boundValue=function(){},I.prototype._migrateCallback0=function(B){B._bitField;var W=B._fulfillmentHandler0,se=B._rejectionHandler0,K=B._promise0,G=B._receiverAt(0);G===void 0&&(G=s),this._addCallbacks(W,se,K,G,null)},I.prototype._migrateCallbackAt=function(B,W){var se=B._fulfillmentHandlerAt(W),K=B._rejectionHandlerAt(W),G=B._promiseAt(W),Y=B._receiverAt(W);Y===void 0&&(Y=s),this._addCallbacks(se,K,G,Y,null)},I.prototype._addCallbacks=function(B,W,se,K,G){var Y=this._length();if(Y>=65531&&(Y=0,this._setLength(0)),Y===0)this._promise0=se,this._receiver0=K,typeof B=="function"&&(this._fulfillmentHandler0=G===null?B:a.domainBind(G,B)),typeof W=="function"&&(this._rejectionHandler0=G===null?W:a.domainBind(G,W));else{var ne=Y*4-4;this[ne+2]=se,this[ne+3]=K,typeof B=="function"&&(this[ne+0]=G===null?B:a.domainBind(G,B)),typeof W=="function"&&(this[ne+1]=G===null?W:a.domainBind(G,W))}return this._setLength(Y+1),Y},I.prototype._proxy=function(B,W){this._addCallbacks(void 0,void 0,W,B,null)},I.prototype._resolveCallback=function(B,W){if((this._bitField&117506048)===0){if(B===this)return this._rejectCallback(e(),!1);var se=S(B,this);if(!(se instanceof I))return this._fulfill(B);W&&this._propagateFrom(se,2);var K=se._target();if(K===this){this._reject(e());return}var G=K._bitField;if((G&50397184)===0){var Y=this._length();Y>0&&K._migrateCallback0(this);for(var ne=1;ne<Y;++ne)K._migrateCallbackAt(this,ne);this._setFollowing(),this._setLength(0),this._setFollowee(K)}else if((G&33554432)!==0)this._fulfill(K._value());else if((G&16777216)!==0)this._reject(K._reason());else{var le=new y("late cancellation observer");K._attachExtraTrace(le),this._reject(le)}}},I.prototype._rejectCallback=function(B,W,se){var K=a.ensureErrorObject(B),G=K===B;if(!G&&!se&&N.warnings()){var Y="a promise was rejected with a non-error: "+a.classString(B);this._warn(Y,!0)}this._attachExtraTrace(K,W?G:!1),this._reject(B)},I.prototype._resolveFromExecutor=function(B){var W=this;this._captureStackTrace(),this._pushContext();var se=!0,K=this._execute(B,function(G){W._resolveCallback(G)},function(G){W._rejectCallback(G,se)});se=!1,this._popContext(),K!==void 0&&W._rejectCallback(K,!0)},I.prototype._settlePromiseFromHandler=function(B,W,se,K){var G=K._bitField;if((G&65536)===0){K._pushContext();var Y;W===x?!se||typeof se.length!="number"?(Y=P,Y.e=new m("cannot .spread() a non-array: "+a.classString(se))):Y=H(B).apply(this._boundValue(),se):Y=H(B).call(W,se);var ne=K._popContext();G=K._bitField,(G&65536)===0&&(Y===w?K._reject(se):Y===P?K._rejectCallback(Y.e,!1):(N.checkForgottenReturns(Y,ne,"",K,this),K._resolveCallback(Y)))}},I.prototype._target=function(){for(var B=this;B._isFollowing();)B=B._followee();return B},I.prototype._followee=function(){return this._rejectionHandler0},I.prototype._setFollowee=function(B){this._rejectionHandler0=B},I.prototype._settlePromise=function(B,W,se,K){var G=B instanceof I,Y=this._bitField,ne=(Y&134217728)!==0;(Y&65536)!==0?(G&&B._invokeInternalOnCancel(),se instanceof U&&se.isFinallyHandler()?(se.cancelPromise=B,H(W).call(se,K)===P&&B._reject(P.e)):W===t?B._fulfill(t.call(se)):se instanceof i?se._promiseCancelled(B):G||B instanceof T?B._cancel():se.cancel()):typeof W=="function"?G?(ne&&B._setAsyncGuaranteed(),this._settlePromiseFromHandler(W,se,K,B)):W.call(se,K,B):se instanceof i?se._isResolved()||((Y&33554432)!==0?se._promiseFulfilled(K,B):se._promiseRejected(K,B)):G&&(ne&&B._setAsyncGuaranteed(),(Y&33554432)!==0?B._fulfill(K):B._reject(K))},I.prototype._settlePromiseLateCancellationObserver=function(B){var W=B.handler,se=B.promise,K=B.receiver,G=B.value;typeof W=="function"?se instanceof I?this._settlePromiseFromHandler(W,K,G,se):W.call(K,G,se):se instanceof I&&se._reject(G)},I.prototype._settlePromiseCtx=function(B){this._settlePromise(B.promise,B.handler,B.receiver,B.value)},I.prototype._settlePromise0=function(B,W,se){var K=this._promise0,G=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(K,B,G,W)},I.prototype._clearCallbackDataAtIndex=function(B){var W=B*4-4;this[W+2]=this[W+3]=this[W+0]=this[W+1]=void 0},I.prototype._fulfill=function(B){var W=this._bitField;if(!((W&117506048)>>>16)){if(B===this){var se=e();return this._attachExtraTrace(se),this._reject(se)}this._setFulfilled(),this._rejectionHandler0=B,(W&65535)>0&&((W&134217728)!==0?this._settlePromises():f.settlePromises(this))}},I.prototype._reject=function(B){var W=this._bitField;if(!((W&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=B,this._isFinal())return f.fatalError(B,a.isNode);(W&65535)>0?f.settlePromises(this):this._ensurePossibleRejectionHandled()}},I.prototype._fulfillPromises=function(B,W){for(var se=1;se<B;se++){var K=this._fulfillmentHandlerAt(se),G=this._promiseAt(se),Y=this._receiverAt(se);this._clearCallbackDataAtIndex(se),this._settlePromise(G,K,Y,W)}},I.prototype._rejectPromises=function(B,W){for(var se=1;se<B;se++){var K=this._rejectionHandlerAt(se),G=this._promiseAt(se),Y=this._receiverAt(se);this._clearCallbackDataAtIndex(se),this._settlePromise(G,K,Y,W)}},I.prototype._settlePromises=function(){var B=this._bitField,W=B&65535;if(W>0){if((B&16842752)!==0){var se=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,se,B),this._rejectPromises(W,se)}else{var K=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,K,B),this._fulfillPromises(W,K)}this._setLength(0)}this._clearCancellationData()},I.prototype._settledValue=function(){var B=this._bitField;if((B&33554432)!==0)return this._rejectionHandler0;if((B&16777216)!==0)return this._fulfillmentHandler0};function q(B){this.promise._resolveCallback(B)}function L(B){this.promise._rejectCallback(B,!1)}I.defer=I.pending=function(){N.deprecated("Promise.defer","new Promise");var B=new I(b);return{promise:B,resolve:q,reject:L}},a.notEnumerableProp(I,"_makeSelfResolutionError",e),v_e()(I,b,S,r,N),b_e()(I,b,S,N),x_e()(I,T,r,N),w_e()(I),__e()(I),S_e()(I,T,S,b,f,o),I.Promise=I,I.version="3.4.7",D_e()(I,T,r,S,b,N),A_e()(I),T_e()(I,r,S,R,b,N),E_e()(I,b,N),C_e()(I,r,b,S,i,N),N_e()(I),R_e()(I,b),j_e()(I,T,S,r),k_e()(I,b,S,r),U_e()(I,T,r,S,b,N),O_e()(I,T,N),M_e()(I,T,r),P_e()(I,b),F_e()(I,b),L_e()(I),a.toFastProperties(I),a.toFastProperties(I.prototype);function te(B){var W=new I(b);W._fulfillmentHandler0=B,W._rejectionHandler0=B,W._promise0=B,W._receiver0=B}return te({a:1}),te({b:2}),te({c:3}),te(1),te(function(){}),te(void 0),te(!1),te(new I(b)),N.setBounds(u.firstLineError,a.lastLineError),I}}(jO)),jO.exports}var kB;function sm(){if(kB)return fl;kB=1;var n=Di,e=I_e()();fl.defer=t,fl.when=e.resolve,fl.resolve=e.resolve,fl.all=e.all,fl.props=e.props,fl.reject=e.reject,fl.promisify=e.promisify,fl.mapSeries=e.mapSeries,fl.attempt=e.attempt,fl.nfcall=function(r){var i=Array.prototype.slice.call(arguments,1),s=e.promisify(r);return s.apply(null,i)},e.prototype.fail=e.prototype.caught,e.prototype.also=function(r){return this.then(function(i){var s=n.extend({},i,r(i));return e.props(s)})};function t(){var r,i,s=new e.Promise(function(a,o){r=a,i=o});return{resolve:r,reject:i,promise:s}}return fl}var Gn={},UB;function Pv(){if(UB)return Gn;UB=1;var n=Di,e=Gn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function t(U,O){return O=O||{},{type:e.document,children:U,notes:O.notes||new p({}),comments:O.comments||[]}}function r(U,O){O=O||{};var M=O.indent||{};return{type:e.paragraph,children:U,styleId:O.styleId||null,styleName:O.styleName||null,numbering:O.numbering||null,alignment:O.alignment||null,indent:{start:M.start||null,end:M.end||null,firstLine:M.firstLine||null,hanging:M.hanging||null}}}function i(U,O){return O=O||{},{type:e.run,children:U,styleId:O.styleId||null,styleName:O.styleName||null,isBold:!!O.isBold,isUnderline:!!O.isUnderline,isItalic:!!O.isItalic,isStrikethrough:!!O.isStrikethrough,isAllCaps:!!O.isAllCaps,isSmallCaps:!!O.isSmallCaps,verticalAlignment:O.verticalAlignment||s.baseline,font:O.font||null,fontSize:O.fontSize||null,highlight:O.highlight||null}}var s={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function a(U){return{type:e.text,value:U}}function o(){return{type:e.tab}}function l(U){return{type:e.checkbox,checked:U.checked}}function u(U,O){return{type:e.hyperlink,children:U,href:O.href,anchor:O.anchor,targetFrame:O.targetFrame}}function f(U){return{type:e.noteReference,noteType:U.noteType,noteId:U.noteId}}function p(U){this._notes=n.indexBy(U,function(O){return x(O.noteType,O.noteId)})}p.prototype.resolve=function(U){return this.findNoteByKey(x(U.noteType,U.noteId))},p.prototype.findNoteByKey=function(U){return this._notes[U]||null};function m(U){return{type:e.note,noteType:U.noteType,noteId:U.noteId,body:U.body}}function y(U){return{type:e.commentReference,commentId:U.commentId}}function b(U){return{type:e.comment,commentId:U.commentId,body:U.body,authorName:U.authorName,authorInitials:U.authorInitials}}function x(U,O){return U+"-"+O}function w(U){return{type:e.image,read:function(O){return O?U.readImage(O):U.readImage().then(function(M){return Buffer.from(M)})},readAsArrayBuffer:function(){return U.readImage()},readAsBase64String:function(){return U.readImage("base64")},readAsBuffer:function(){return U.readImage().then(function(O){return Buffer.from(O)})},altText:U.altText,contentType:U.contentType}}function S(U,O){return O=O||{},{type:e.table,children:U,styleId:O.styleId||null,styleName:O.styleName||null}}function T(U,O){return O=O||{},{type:e.tableRow,children:U,isHeader:O.isHeader||!1}}function E(U,O){return O=O||{},{type:e.tableCell,children:U,colSpan:O.colSpan==null?1:O.colSpan,rowSpan:O.rowSpan==null?1:O.rowSpan}}function R(U){return{type:e.break,breakType:U}}function N(U){return{type:e.bookmarkStart,name:U.name}}return Gn.document=Gn.Document=t,Gn.paragraph=Gn.Paragraph=r,Gn.run=Gn.Run=i,Gn.text=Gn.Text=a,Gn.tab=Gn.Tab=o,Gn.checkbox=Gn.Checkbox=l,Gn.Hyperlink=u,Gn.noteReference=Gn.NoteReference=f,Gn.Notes=p,Gn.Note=m,Gn.commentReference=y,Gn.comment=b,Gn.Image=w,Gn.Table=S,Gn.TableRow=T,Gn.TableCell=E,Gn.lineBreak=R("line"),Gn.pageBreak=R("page"),Gn.columnBreak=R("column"),Gn.BookmarkStart=N,Gn.verticalAlignment=s,Gn}var Nx={},OB;function Nh(){if(OB)return Nx;OB=1;var n=Di;Nx.Result=e,Nx.success=t,Nx.warning=r,Nx.error=i;function e(l,u){this.value=l,this.messages=u||[]}e.prototype.map=function(l){return new e(l(this.value),this.messages)},e.prototype.flatMap=function(l){var u=l(this.value);return new e(u.value,s([this,u]))},e.prototype.flatMapThen=function(l){var u=this;return l(this.value).then(function(f){return new e(f.value,s([u,f]))})},e.combine=function(l){var u=n.flatten(n.pluck(l,"value")),f=s(l);return new e(u,f)};function t(l){return new e(l,[])}function r(l){return{type:"warning",message:l}}function i(l){return{type:"error",message:l.message,error:l}}function s(l){var u=[];return n.flatten(n.pluck(l,"messages"),!0).forEach(function(f){a(u,f)||u.push(f)}),u}function a(l,u){return n.find(l,o.bind(null,u))!==void 0}function o(l,u){return l.type===u.type&&l.message===u.message}return Nx}var p_={},m_={},MB;function $_e(){if(MB)return m_;MB=1,m_.byteLength=o,m_.toByteArray=u,m_.fromByteArray=m;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)n[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=b);var w=x===b?0:4-x%4;return[x,w]}function o(y){var b=a(y),x=b[0],w=b[1];return(x+w)*3/4-w}function l(y,b,x){return(b+x)*3/4-x}function u(y){var b,x=a(y),w=x[0],S=x[1],T=new t(l(y,w,S)),E=0,R=S>0?w-4:w,N;for(N=0;N<R;N+=4)b=e[y.charCodeAt(N)]<<18|e[y.charCodeAt(N+1)]<<12|e[y.charCodeAt(N+2)]<<6|e[y.charCodeAt(N+3)],T[E++]=b>>16&255,T[E++]=b>>8&255,T[E++]=b&255;return S===2&&(b=e[y.charCodeAt(N)]<<2|e[y.charCodeAt(N+1)]>>4,T[E++]=b&255),S===1&&(b=e[y.charCodeAt(N)]<<10|e[y.charCodeAt(N+1)]<<4|e[y.charCodeAt(N+2)]>>2,T[E++]=b>>8&255,T[E++]=b&255),T}function f(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function p(y,b,x){for(var w,S=[],T=b;T<x;T+=3)w=(y[T]<<16&16711680)+(y[T+1]<<8&65280)+(y[T+2]&255),S.push(f(w));return S.join("")}function m(y){for(var b,x=y.length,w=x%3,S=[],T=16383,E=0,R=x-w;E<R;E+=T)S.push(p(y,E,E+T>R?R:E+T));return w===1?(b=y[x-1],S.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(y[x-2]<<8)+y[x-1],S.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),S.join("")}return m_}function XC(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var cM={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var PB;function B_e(){return PB||(PB=1,function(n,e){(function(t){n.exports=t()})(function(){return function t(r,i,s){function a(u,f){if(!i[u]){if(!r[u]){var p=typeof XC=="function"&&XC;if(!f&&p)return p(u,!0);if(o)return o(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var y=i[u]={exports:{}};r[u][0].call(y.exports,function(b){var x=r[u][1][b];return a(x||b)},y,y.exports,t,r,i,s)}return i[u].exports}for(var o=typeof XC=="function"&&XC,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(t,r,i){var s=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,f,p,m,y,b,x,w=[],S=0,T=l.length,E=T,R=s.getTypeOf(l)!=="string";S<l.length;)E=T-S,p=R?(u=l[S++],f=S<T?l[S++]:0,S<T?l[S++]:0):(u=l.charCodeAt(S++),f=S<T?l.charCodeAt(S++):0,S<T?l.charCodeAt(S++):0),m=u>>2,y=(3&u)<<4|f>>4,b=1<E?(15&f)<<2|p>>6:64,x=2<E?63&p:64,w.push(o.charAt(m)+o.charAt(y)+o.charAt(b)+o.charAt(x));return w.join("")},i.decode=function(l){var u,f,p,m,y,b,x=0,w=0,S="data:";if(l.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var T,E=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&E--,l.charAt(l.length-2)===o.charAt(64)&&E--,E%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=a.uint8array?new Uint8Array(0|E):new Array(0|E);x<l.length;)u=o.indexOf(l.charAt(x++))<<2|(m=o.indexOf(l.charAt(x++)))>>4,f=(15&m)<<4|(y=o.indexOf(l.charAt(x++)))>>2,p=(3&y)<<6|(b=o.indexOf(l.charAt(x++))),T[w++]=u,y!==64&&(T[w++]=f),b!==64&&(T[w++]=p);return T}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(f,p,m,y,b){this.compressedSize=f,this.uncompressedSize=p,this.crc32=m,this.compression=y,this.compressedContent=b}u.prototype={getContentWorker:function(){var f=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(f,p,m){return f.pipe(new o).pipe(new l("uncompressedSize")).pipe(p.compressWorker(m)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),a=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(u,f,p,m){var y=a,b=m+p;u^=-1;for(var x=m;x<b;x++)u=u>>>8^y[255&(u^f[x])];return-1^u}(0|l,o,o.length,0):function(u,f,p,m){var y=a,b=m+p;u^=-1;for(var x=m;x<b;x++)u=u>>>8^y[255&(u^f.charCodeAt(x))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),u=s?"uint8array":"array";function f(p,m){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=m,this.meta={}}i.magic="\b\0",o.inherits(f,l),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,p.data),!1)},f.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(m){p.push({data:m,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(y,b){var x,w="";for(x=0;x<b;x++)w+=String.fromCharCode(255&y),y>>>=8;return w}function a(y,b,x,w,S,T){var E,R,N=y.file,U=y.compression,O=T!==u.utf8encode,M=o.transformTo("string",T(N.name)),P=o.transformTo("string",u.utf8encode(N.name)),H=N.comment,X=o.transformTo("string",T(H)),I=o.transformTo("string",u.utf8encode(H)),q=P.length!==N.name.length,L=I.length!==H.length,te="",B="",W="",se=N.dir,K=N.date,G={crc32:0,compressedSize:0,uncompressedSize:0};b&&!x||(G.crc32=y.crc32,G.compressedSize=y.compressedSize,G.uncompressedSize=y.uncompressedSize);var Y=0;b&&(Y|=8),O||!q&&!L||(Y|=2048);var ne=0,le=0;se&&(ne|=16),S==="UNIX"?(le=798,ne|=function(we,Re){var Ee=we;return we||(Ee=Re?16893:33204),(65535&Ee)<<16}(N.unixPermissions,se)):(le=20,ne|=function(we){return 63&(we||0)}(N.dosPermissions)),E=K.getUTCHours(),E<<=6,E|=K.getUTCMinutes(),E<<=5,E|=K.getUTCSeconds()/2,R=K.getUTCFullYear()-1980,R<<=4,R|=K.getUTCMonth()+1,R<<=5,R|=K.getUTCDate(),q&&(B=s(1,1)+s(f(M),4)+P,te+="up"+s(B.length,2)+B),L&&(W=s(1,1)+s(f(X),4)+I,te+="uc"+s(W.length,2)+W);var xe="";return xe+=`
\0`,xe+=s(Y,2),xe+=U.magic,xe+=s(E,2),xe+=s(R,2),xe+=s(G.crc32,4),xe+=s(G.compressedSize,4),xe+=s(G.uncompressedSize,4),xe+=s(M.length,2),xe+=s(te.length,2),{fileRecord:p.LOCAL_FILE_HEADER+xe+M+te,dirRecord:p.CENTRAL_FILE_HEADER+s(le,2)+xe+s(X.length,2)+"\0\0\0\0"+s(ne,4)+s(w,4)+M+te+X}}var o=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),f=t("../crc32"),p=t("../signature");function m(y,b,x,w){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=x,this.encodeFileName=w,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(m,l),m.prototype.push=function(y){var b=y.meta.percent||0,x=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,l.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:x?(b+100*(x-w-1))/x:100}}))},m.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var b=this.streamFiles&&!y.file.dir;if(b){var x=a(y,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},m.prototype.closedSource=function(y){this.accumulate=!1;var b=this.streamFiles&&!y.file.dir,x=a(y,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),b)this.push({data:function(w){return p.DATA_DESCRIPTOR+s(w.crc32,4)+s(w.compressedSize,4)+s(w.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},m.prototype.flush=function(){for(var y=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var x=this.bytesWritten-y,w=function(S,T,E,R,N){var U=o.transformTo("string",N(R));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(S,2)+s(S,2)+s(T,4)+s(E,4)+s(U.length,2)+U}(this.dirRecords.length,x,y,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},m.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},m.prototype.registerPrevious=function(y){this._sources.push(y);var b=this;return y.on("data",function(x){b.processChunk(x)}),y.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),y.on("error",function(x){b.error(x)}),this},m.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},m.prototype.error=function(y){var b=this._sources;if(!l.prototype.error.call(this,y))return!1;for(var x=0;x<b.length;x++)try{b[x].error(y)}catch{}return!0},m.prototype.lock=function(){l.prototype.lock.call(this);for(var y=this._sources,b=0;b<y.length;b++)y[b].lock()},r.exports=m},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(o,l,u){var f=new a(l.streamFiles,u,l.platform,l.encodeFileName),p=0;try{o.forEach(function(m,y){p++;var b=function(T,E){var R=T||E,N=s[R];if(!N)throw new Error(R+" is not a valid compression method !");return N}(y.options.compression,l.compression),x=y.options.compressionOptions||l.compressionOptions||{},w=y.dir,S=y.date;y._compressWorker(b,x).withStreamInfo("file",{name:m,dir:w,date:S,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(m){f.error(m)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),a=t("./external"),o=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function p(m){return new a.Promise(function(y,b){var x=m.decompressed.getContentWorker().pipe(new u);x.on("error",function(w){b(w)}).on("end",function(){x.streamInfo.crc32!==m.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}r.exports=function(m,y){var b=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(m)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",m,!0,y.optimizedBinaryString,y.base64).then(function(x){var w=new l(y);return w.load(x),w}).then(function(x){var w=[a.Promise.resolve(x)],S=x.files;if(y.checkCRC32)for(var T=0;T<S.length;T++)w.push(p(S[T]));return a.Promise.all(w)}).then(function(x){for(var w=x.shift(),S=w.files,T=0;T<S.length;T++){var E=S[T],R=E.fileNameStr,N=s.resolve(E.fileNameStr);b.file(N,E.decompressed,{binary:!0,optimizedBinaryString:!0,date:E.date,dir:E.dir,comment:E.fileCommentStr.length?E.fileCommentStr:null,unixPermissions:E.unixPermissions,dosPermissions:E.dosPermissions,createFolders:y.createFolders}),E.dir||(b.file(N).unsafeOriginalName=R)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),a=t("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(f){u.push({data:f,meta:{percent:0}})}).on("error",function(f){u.isPaused?this.generatedError=f:u.error(f)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var f=this;o.on("data",function(p,m){f.push(p)||f._helper.pause(),u&&u(m)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}t("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s(N,U,O){var M,P=o.getTypeOf(U),H=o.extend(O||{},f);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(N=S(N)),H.createFolders&&(M=w(N))&&T.call(this,M,!0);var X=P==="string"&&H.binary===!1&&H.base64===!1;O&&O.binary!==void 0||(H.binary=!X),(U instanceof p&&U.uncompressedSize===0||H.dir||!U||U.length===0)&&(H.base64=!1,H.binary=!0,U="",H.compression="STORE",P="string");var I=null;I=U instanceof p||U instanceof l?U:b.isNode&&b.isStream(U)?new x(N,U):o.prepareContent(N,U,H.binary,H.optimizedBinaryString,H.base64);var q=new m(N,I,H);this.files[N]=q}var a=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),f=t("./defaults"),p=t("./compressedObject"),m=t("./zipObject"),y=t("./generate"),b=t("./nodejsUtils"),x=t("./nodejs/NodejsStreamInputAdapter"),w=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var U=N.lastIndexOf("/");return 0<U?N.substring(0,U):""},S=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},T=function(N,U){return U=U!==void 0?U:f.createFolders,N=S(N),this.files[N]||s.call(this,N,null,{dir:!0,createFolders:U}),this.files[N]};function E(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var R={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var U,O,M;for(U in this.files)M=this.files[U],(O=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&N(O,M)},filter:function(N){var U=[];return this.forEach(function(O,M){N(O,M)&&U.push(M)}),U},file:function(N,U,O){if(arguments.length!==1)return N=this.root+N,s.call(this,N,U,O),this;if(E(N)){var M=N;return this.filter(function(H,X){return!X.dir&&M.test(H)})}var P=this.files[this.root+N];return P&&!P.dir?P:null},folder:function(N){if(!N)return this;if(E(N))return this.filter(function(P,H){return H.dir&&N.test(P)});var U=this.root+N,O=T.call(this,U),M=this.clone();return M.root=O.name,M},remove:function(N){N=this.root+N;var U=this.files[N];if(U||(N.slice(-1)!=="/"&&(N+="/"),U=this.files[N]),U&&!U.dir)delete this.files[N];else for(var O=this.filter(function(P,H){return H.name.slice(0,N.length)===N}),M=0;M<O.length;M++)delete this.files[O[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var U,O={};try{if((O=o.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");o.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var M=O.comment||this.comment||"";U=y.generateWorker(this,O,M)}catch(P){(U=new l("error")).error(P)}return new u(U,O.type||"string",O.mimeType)},generateAsync:function(N,U){return this.generateInternalStream(N).accumulate(U)},generateNodeStream:function(N,U){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(U)}};r.exports=R},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),f=o.charCodeAt(2),p=o.charCodeAt(3),m=this.length-4;0<=m;--m)if(this.data[m]===l&&this.data[m+1]===u&&this.data[m+2]===f&&this.data[m+3]===p)return m-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),f=o.charCodeAt(2),p=o.charCodeAt(3),m=this.readData(4);return l===m[0]&&u===m[1]&&f===m[2]&&p===m[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),a=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");r.exports=function(p){var m=s.getTypeOf(p);return s.checkSupport(m),m!=="string"||a.uint8array?m==="nodebuffer"?new u(p):a.uint8array?new f(s.transformTo("uint8array",p)):new o(s.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),a=t("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),a=t("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),a=t("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(f){u.dataIsReady=!0,u.data=f,u.max=f&&f.length||0,u.type=s.getTypeOf(f),u.isPaused||u._tickAndRepeat()},function(f){u.error(f)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),u=t("../support"),f=t("../external"),p=null;if(u.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function m(b,x){return new f.Promise(function(w,S){var T=[],E=b._internalType,R=b._outputType,N=b._mimeType;b.on("data",function(U,O){T.push(U),x&&x(O)}).on("error",function(U){T=[],S(U)}).on("end",function(){try{var U=function(O,M,P){switch(O){case"blob":return s.newBlob(s.transformTo("arraybuffer",M),P);case"base64":return l.encode(M);default:return s.transformTo(O,M)}}(R,function(O,M){var P,H=0,X=null,I=0;for(P=0;P<M.length;P++)I+=M[P].length;switch(O){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(X=new Uint8Array(I),P=0;P<M.length;P++)X.set(M[P],H),H+=M[P].length;return X;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+O+"'")}}(E,T),N);w(U)}catch(O){S(O)}T=[]}).resume()})}function y(b,x,w){var S=x;switch(x){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=x,this._mimeType=w,s.checkSupport(S),this._worker=b.pipe(new a(S)),b.lock()}catch(T){this._worker=new o("error"),this._worker.error(T)}}y.prototype={accumulate:function(b){return m(this,b)},on:function(b,x){var w=this;return b==="data"?this._worker.on(b,function(S){x.call(w,S.data,S.meta)}):this._worker.on(b,function(){s.delay(x,arguments,w)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;u[254]=u[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function m(){l.call(this,"utf-8 encode")}i.utf8encode=function(y){return a.nodebuffer?o.newBufferFrom(y,"utf-8"):function(b){var x,w,S,T,E,R=b.length,N=0;for(T=0;T<R;T++)(64512&(w=b.charCodeAt(T)))==55296&&T+1<R&&(64512&(S=b.charCodeAt(T+1)))==56320&&(w=65536+(w-55296<<10)+(S-56320),T++),N+=w<128?1:w<2048?2:w<65536?3:4;for(x=a.uint8array?new Uint8Array(N):new Array(N),T=E=0;E<N;T++)(64512&(w=b.charCodeAt(T)))==55296&&T+1<R&&(64512&(S=b.charCodeAt(T+1)))==56320&&(w=65536+(w-55296<<10)+(S-56320),T++),w<128?x[E++]=w:(w<2048?x[E++]=192|w>>>6:(w<65536?x[E++]=224|w>>>12:(x[E++]=240|w>>>18,x[E++]=128|w>>>12&63),x[E++]=128|w>>>6&63),x[E++]=128|63&w);return x}(y)},i.utf8decode=function(y){return a.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):function(b){var x,w,S,T,E=b.length,R=new Array(2*E);for(x=w=0;x<E;)if((S=b[x++])<128)R[w++]=S;else if(4<(T=u[S]))R[w++]=65533,x+=T-1;else{for(S&=T===2?31:T===3?15:7;1<T&&x<E;)S=S<<6|63&b[x++],T--;1<T?R[w++]=65533:S<65536?R[w++]=S:(S-=65536,R[w++]=55296|S>>10&1023,R[w++]=56320|1023&S)}return R.length!==w&&(R.subarray?R=R.subarray(0,w):R.length=w),s.applyFromCharCode(R)}(y=s.transformTo(a.uint8array?"uint8array":"array",y))},s.inherits(p,l),p.prototype.processChunk=function(y){var b=s.transformTo(a.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var x=b;(b=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),b.set(x,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=function(T,E){var R;for((E=E||T.length)>T.length&&(E=T.length),R=E-1;0<=R&&(192&T[R])==128;)R--;return R<0||R===0?E:R+u[T[R]]>E?R:E}(b),S=b;w!==b.length&&(a.uint8array?(S=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(S=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:i.utf8decode(S),meta:y.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,s.inherits(m,l),m.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=m},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function u(x){return x}function f(x,w){for(var S=0;S<x.length;++S)w[S]=255&x.charCodeAt(S);return w}t("setimmediate"),i.newBlob=function(x,w){i.checkSupport("blob");try{return new Blob([x],{type:w})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(x),S.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(x,w,S){var T=[],E=0,R=x.length;if(R<=S)return String.fromCharCode.apply(null,x);for(;E<R;)w==="array"||w==="nodebuffer"?T.push(String.fromCharCode.apply(null,x.slice(E,Math.min(E+S,R)))):T.push(String.fromCharCode.apply(null,x.subarray(E,Math.min(E+S,R)))),E+=S;return T.join("")},stringifyByChar:function(x){for(var w="",S=0;S<x.length;S++)w+=String.fromCharCode(x[S]);return w},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function m(x){var w=65536,S=i.getTypeOf(x),T=!0;if(S==="uint8array"?T=p.applyCanBeUsed.uint8array:S==="nodebuffer"&&(T=p.applyCanBeUsed.nodebuffer),T)for(;1<w;)try{return p.stringifyByChunk(x,S,w)}catch{w=Math.floor(w/2)}return p.stringifyByChar(x)}function y(x,w){for(var S=0;S<x.length;S++)w[S]=x[S];return w}i.applyFromCharCode=m;var b={};b.string={string:u,array:function(x){return f(x,new Array(x.length))},arraybuffer:function(x){return b.string.uint8array(x).buffer},uint8array:function(x){return f(x,new Uint8Array(x.length))},nodebuffer:function(x){return f(x,o.allocBuffer(x.length))}},b.array={string:m,array:u,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return o.newBufferFrom(x)}},b.arraybuffer={string:function(x){return m(new Uint8Array(x))},array:function(x){return y(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:u,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return o.newBufferFrom(new Uint8Array(x))}},b.uint8array={string:m,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:u,nodebuffer:function(x){return o.newBufferFrom(x)}},b.nodebuffer={string:m,array:function(x){return y(x,new Array(x.length))},arraybuffer:function(x){return b.nodebuffer.uint8array(x).buffer},uint8array:function(x){return y(x,new Uint8Array(x.length))},nodebuffer:u},i.transformTo=function(x,w){if(w=w||"",!x)return w;i.checkSupport(x);var S=i.getTypeOf(w);return b[S][x](w)},i.resolve=function(x){for(var w=x.split("/"),S=[],T=0;T<w.length;T++){var E=w[T];E==="."||E===""&&T!==0&&T!==w.length-1||(E===".."?S.pop():S.push(E))}return S.join("/")},i.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(x)?"nodebuffer":s.uint8array&&x instanceof Uint8Array?"uint8array":s.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(x){if(!s[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(x){var w,S,T="";for(S=0;S<(x||"").length;S++)T+="\\x"+((w=x.charCodeAt(S))<16?"0":"")+w.toString(16).toUpperCase();return T},i.delay=function(x,w,S){setImmediate(function(){x.apply(S||null,w||[])})},i.inherits=function(x,w){function S(){}S.prototype=w.prototype,x.prototype=new S},i.extend=function(){var x,w,S={};for(x=0;x<arguments.length;x++)for(w in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],w)&&S[w]===void 0&&(S[w]=arguments[x][w]);return S},i.prepareContent=function(x,w,S,T,E){return l.Promise.resolve(w).then(function(R){return s.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1)&&typeof FileReader<"u"?new l.Promise(function(N,U){var O=new FileReader;O.onload=function(M){N(M.target.result)},O.onerror=function(M){U(M.target.error)},O.readAsArrayBuffer(R)}):R}).then(function(R){var N=i.getTypeOf(R);return N?(N==="arraybuffer"?R=i.transformTo("uint8array",R):N==="string"&&(E?R=a.decode(R):S&&T!==!0&&(R=function(U){return f(U,s.uint8array?new Uint8Array(U.length):new Array(U.length))}(R))),R):l.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),l=t("./zipEntry"),u=t("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(m)+", expected "+a.pretty(p)+")")}},isSignature:function(p,m){var y=this.reader.index;this.reader.setIndex(p);var b=this.reader.readString(4)===m;return this.reader.setIndex(y),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),m=u.uint8array?"uint8array":"array",y=a.transformTo(m,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,m,y,b=this.zip64EndOfCentralSize-44;0<b;)p=this.reader.readInt(2),m=this.reader.readInt(4),y=this.reader.readData(m),this.zip64ExtensibleData[p]={id:p,length:m,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,m;for(p=0;p<this.files.length;p++)m=this.files[p],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var m=p;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var b=m-y;if(0<b)this.isSignature(m,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),f=t("./compressions"),p=t("./support");function m(y,b){this.options=y,this.loadOptions=b}m.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var b,x;if(y.skip(22),this.fileNameLength=y.readInt(2),x=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(w){for(var S in f)if(Object.prototype.hasOwnProperty.call(f,S)&&f[S].magic===w)return f[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var b=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(b),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var b,x,w,S=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<S;)b=y.readInt(2),x=y.readInt(2),w=y.readData(x),this.extraFields[b]={id:b,length:x,value:w};y.setIndex(S)},handleUTF8:function(){var y=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var x=a.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var S=a.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var b=s(y.value);return b.readInt(1)!==1||l(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var b=s(y.value);return b.readInt(1)!==1||l(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(y.length-5))}return null}},r.exports=m},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(b,x,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=x,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var a=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(b){var x=null,w="string";try{if(!b)throw new Error("No output type specified.");var S=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),x=this._decompressWorker();var T=!this._dataBinary;T&&!S&&(x=x.pipe(new l.Utf8EncodeWorker)),!T&&S&&(x=x.pipe(new l.Utf8DecodeWorker))}catch(E){(x=new f("error")).error(E)}return new a(x,w,"")},async:function(b,x){return this.internalStream(b).accumulate(x)},nodeStream:function(b,x){return this.internalStream(b||"nodebuffer").toNodejsStream(x)},_compressWorker:function(b,x){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(w,b,x)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)s.prototype[p[y]]=m;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,f=new l(b),p=s.document.createTextNode("");f.observe(p,{characterData:!0}),a=function(){p.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var x=s.document.createElement("script");x.onreadystatechange=function(){b(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},s.document.documentElement.appendChild(x)}:function(){setTimeout(b,0)};else{var m=new s.MessageChannel;m.port1.onmessage=b,a=function(){m.port2.postMessage(0)}}var y=[];function b(){var x,w;o=!0;for(var S=y.length;S;){for(w=y,y=[],x=-1;++x<S;)w[x]();S=y.length}o=!1}r.exports=function(x){y.push(x)!==1||o||a()}}).call(this,typeof xa<"u"?xa:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];function p(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,S!==a&&x(this,S)}function m(S,T,E){this.promise=S,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof E=="function"&&(this.onRejected=E,this.callRejected=this.otherCallRejected)}function y(S,T,E){s(function(){var R;try{R=T(E)}catch(N){return o.reject(S,N)}R===S?o.reject(S,new TypeError("Cannot resolve promise with itself")):o.resolve(S,R)})}function b(S){var T=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof T=="function")return function(){T.apply(S,arguments)}}function x(S,T){var E=!1;function R(O){E||(E=!0,o.reject(S,O))}function N(O){E||(E=!0,o.resolve(S,O))}var U=w(function(){T(N,R)});U.status==="error"&&R(U.value)}function w(S,T){var E={};try{E.value=S(T),E.status="success"}catch(R){E.status="error",E.value=R}return E}(r.exports=p).prototype.finally=function(S){if(typeof S!="function")return this;var T=this.constructor;return this.then(function(E){return T.resolve(S()).then(function(){return E})},function(E){return T.resolve(S()).then(function(){throw E})})},p.prototype.catch=function(S){return this.then(null,S)},p.prototype.then=function(S,T){if(typeof S!="function"&&this.state===u||typeof T!="function"&&this.state===l)return this;var E=new this.constructor(a);return this.state!==f?y(E,this.state===u?S:T,this.outcome):this.queue.push(new m(E,S,T)),E},m.prototype.callFulfilled=function(S){o.resolve(this.promise,S)},m.prototype.otherCallFulfilled=function(S){y(this.promise,this.onFulfilled,S)},m.prototype.callRejected=function(S){o.reject(this.promise,S)},m.prototype.otherCallRejected=function(S){y(this.promise,this.onRejected,S)},o.resolve=function(S,T){var E=w(b,T);if(E.status==="error")return o.reject(S,E.value);var R=E.value;if(R)x(S,R);else{S.state=u,S.outcome=T;for(var N=-1,U=S.queue.length;++N<U;)S.queue[N].callFulfilled(T)}return S},o.reject=function(S,T){S.state=l,S.outcome=T;for(var E=-1,R=S.queue.length;++E<R;)S.queue[E].callRejected(T);return S},p.resolve=function(S){return S instanceof this?S:o.resolve(new this(a),S)},p.reject=function(S){var T=new this(a);return o.reject(T,S)},p.all=function(S){var T=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,R=!1;if(!E)return this.resolve([]);for(var N=new Array(E),U=0,O=-1,M=new this(a);++O<E;)P(S[O],O);return M;function P(H,X){T.resolve(H).then(function(I){N[X]=I,++U!==E||R||(R=!0,o.resolve(M,N))},function(I){R||(R=!0,o.reject(M,I))})}},p.race=function(S){var T=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var E=S.length,R=!1;if(!E)return this.resolve([]);for(var N=-1,U=new this(a);++N<E;)O=S[N],T.resolve(O).then(function(M){R||(R=!0,o.resolve(U,M))},function(M){R||(R=!0,o.reject(U,M))});var O;return U}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),f=Object.prototype.toString,p=0,m=-1,y=0,b=8;function x(S){if(!(this instanceof x))return new x(S);this.options=a.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},S||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var E=s.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(E!==p)throw new Error(l[E]);if(T.header&&s.deflateSetHeader(this.strm,T.header),T.dictionary){var R;if(R=typeof T.dictionary=="string"?o.string2buf(T.dictionary):f.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(E=s.deflateSetDictionary(this.strm,R))!==p)throw new Error(l[E]);this._dict_set=!0}}function w(S,T){var E=new x(T);if(E.push(S,!0),E.err)throw E.msg||l[E.err];return E.result}x.prototype.push=function(S,T){var E,R,N=this.strm,U=this.options.chunkSize;if(this.ended)return!1;R=T===~~T?T:T===!0?4:0,typeof S=="string"?N.input=o.string2buf(S):f.call(S)==="[object ArrayBuffer]"?N.input=new Uint8Array(S):N.input=S,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new a.Buf8(U),N.next_out=0,N.avail_out=U),(E=s.deflate(N,R))!==1&&E!==p)return this.onEnd(E),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||R!==4&&R!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(N.output,N.next_out))):this.onData(a.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&E!==1);return R===4?(E=s.deflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===p):R!==2||(this.onEnd(p),!(N.avail_out=0))},x.prototype.onData=function(S){this.chunks.push(S)},x.prototype.onEnd=function(S){S===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},i.Deflate=x,i.deflate=w,i.deflateRaw=function(S,T){return(T=T||{}).raw=!0,w(S,T)},i.gzip=function(S,T){return(T=T||{}).gzip=!0,w(S,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),f=t("./zlib/zstream"),p=t("./zlib/gzheader"),m=Object.prototype.toString;function y(x){if(!(this instanceof y))return new y(x);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},x||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||x&&x.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var S=s.inflateInit2(this.strm,w.windowBits);if(S!==l.Z_OK)throw new Error(u[S]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function b(x,w){var S=new y(w);if(S.push(x,!0),S.err)throw S.msg||u[S.err];return S.result}y.prototype.push=function(x,w){var S,T,E,R,N,U,O=this.strm,M=this.options.chunkSize,P=this.options.dictionary,H=!1;if(this.ended)return!1;T=w===~~w?w:w===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof x=="string"?O.input=o.binstring2buf(x):m.call(x)==="[object ArrayBuffer]"?O.input=new Uint8Array(x):O.input=x,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(M),O.next_out=0,O.avail_out=M),(S=s.inflate(O,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(U=typeof P=="string"?o.string2buf(P):m.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,S=s.inflateSetDictionary(this.strm,U)),S===l.Z_BUF_ERROR&&H===!0&&(S=l.Z_OK,H=!1),S!==l.Z_STREAM_END&&S!==l.Z_OK)return this.onEnd(S),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&S!==l.Z_STREAM_END&&(O.avail_in!==0||T!==l.Z_FINISH&&T!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(E=o.utf8border(O.output,O.next_out),R=O.next_out-E,N=o.buf2string(O.output,E),O.next_out=R,O.avail_out=M-R,R&&a.arraySet(O.output,O.output,E,R,0),this.onData(N)):this.onData(a.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(H=!0)}while((0<O.avail_in||O.avail_out===0)&&S!==l.Z_STREAM_END);return S===l.Z_STREAM_END&&(T=l.Z_FINISH),T===l.Z_FINISH?(S=s.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===l.Z_OK):T!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(O.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Inflate=y,i.inflate=b,i.inflateRaw=function(x,w){return(w=w||{}).raw=!0,b(x,w)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var f=u.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(l[p]=f[p])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,f,p,m){if(u.subarray&&l.subarray)l.set(u.subarray(f,f+p),m);else for(var y=0;y<p;y++)l[m+y]=u[f+y]},flattenChunks:function(l){var u,f,p,m,y,b;for(u=p=0,f=l.length;u<f;u++)p+=l[u].length;for(b=new Uint8Array(p),u=m=0,f=l.length;u<f;u++)y=l[u],b.set(y,m),m+=y.length;return b}},o={arraySet:function(l,u,f,p,m){for(var y=0;y<p;y++)l[m+y]=u[f+y]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function f(p,m){if(m<65537&&(p.subarray&&o||!p.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(p,m));for(var y="",b=0;b<m;b++)y+=String.fromCharCode(p[b]);return y}l[254]=l[254]=1,i.string2buf=function(p){var m,y,b,x,w,S=p.length,T=0;for(x=0;x<S;x++)(64512&(y=p.charCodeAt(x)))==55296&&x+1<S&&(64512&(b=p.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),T+=y<128?1:y<2048?2:y<65536?3:4;for(m=new s.Buf8(T),x=w=0;w<T;x++)(64512&(y=p.charCodeAt(x)))==55296&&x+1<S&&(64512&(b=p.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(b-56320),x++),y<128?m[w++]=y:(y<2048?m[w++]=192|y>>>6:(y<65536?m[w++]=224|y>>>12:(m[w++]=240|y>>>18,m[w++]=128|y>>>12&63),m[w++]=128|y>>>6&63),m[w++]=128|63&y);return m},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var m=new s.Buf8(p.length),y=0,b=m.length;y<b;y++)m[y]=p.charCodeAt(y);return m},i.buf2string=function(p,m){var y,b,x,w,S=m||p.length,T=new Array(2*S);for(y=b=0;y<S;)if((x=p[y++])<128)T[b++]=x;else if(4<(w=l[x]))T[b++]=65533,y+=w-1;else{for(x&=w===2?31:w===3?15:7;1<w&&y<S;)x=x<<6|63&p[y++],w--;1<w?T[b++]=65533:x<65536?T[b++]=x:(x-=65536,T[b++]=55296|x>>10&1023,T[b++]=56320|1023&x)}return f(T,b)},i.utf8border=function(p,m){var y;for((m=m||p.length)>p.length&&(m=p.length),y=m-1;0<=y&&(192&p[y])==128;)y--;return y<0||y===0?m:y+l[p[y]]>m?y:m}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,a,o,l){for(var u=65535&s|0,f=s>>>16&65535|0,p=0;o!==0;){for(o-=p=2e3<o?2e3:o;f=f+(u=u+a[l++]|0)|0,--p;);u%=65521,f%=65521}return u|f<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();r.exports=function(a,o,l,u){var f=s,p=u+l;a^=-1;for(var m=u;m<p;m++)a=a>>>8^f[255&(a^o[m])];return-1^a}},{}],46:[function(t,r,i){var s,a=t("../utils/common"),o=t("./trees"),l=t("./adler32"),u=t("./crc32"),f=t("./messages"),p=0,m=4,y=0,b=-2,x=-1,w=4,S=2,T=8,E=9,R=286,N=30,U=19,O=2*R+1,M=15,P=3,H=258,X=H+P+1,I=42,q=113,L=1,te=2,B=3,W=4;function se($,ge){return $.msg=f[ge],ge}function K($){return($<<1)-(4<$?9:0)}function G($){for(var ge=$.length;0<=--ge;)$[ge]=0}function Y($){var ge=$.state,ve=ge.pending;ve>$.avail_out&&(ve=$.avail_out),ve!==0&&(a.arraySet($.output,ge.pending_buf,ge.pending_out,ve,$.next_out),$.next_out+=ve,ge.pending_out+=ve,$.total_out+=ve,$.avail_out-=ve,ge.pending-=ve,ge.pending===0&&(ge.pending_out=0))}function ne($,ge){o._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,ge),$.block_start=$.strstart,Y($.strm)}function le($,ge){$.pending_buf[$.pending++]=ge}function xe($,ge){$.pending_buf[$.pending++]=ge>>>8&255,$.pending_buf[$.pending++]=255&ge}function we($,ge){var ve,ae,ce=$.max_chain_length,ye=$.strstart,ke=$.prev_length,be=$.nice_match,J=$.strstart>$.w_size-X?$.strstart-($.w_size-X):0,Q=$.window,ue=$.w_mask,me=$.prev,Ae=$.strstart+H,Fe=Q[ye+ke-1],Ge=Q[ye+ke];$.prev_length>=$.good_match&&(ce>>=2),be>$.lookahead&&(be=$.lookahead);do if(Q[(ve=ge)+ke]===Ge&&Q[ve+ke-1]===Fe&&Q[ve]===Q[ye]&&Q[++ve]===Q[ye+1]){ye+=2,ve++;do;while(Q[++ye]===Q[++ve]&&Q[++ye]===Q[++ve]&&Q[++ye]===Q[++ve]&&Q[++ye]===Q[++ve]&&Q[++ye]===Q[++ve]&&Q[++ye]===Q[++ve]&&Q[++ye]===Q[++ve]&&Q[++ye]===Q[++ve]&&ye<Ae);if(ae=H-(Ae-ye),ye=Ae-H,ke<ae){if($.match_start=ge,be<=(ke=ae))break;Fe=Q[ye+ke-1],Ge=Q[ye+ke]}}while((ge=me[ge&ue])>J&&--ce!=0);return ke<=$.lookahead?ke:$.lookahead}function Re($){var ge,ve,ae,ce,ye,ke,be,J,Q,ue,me=$.w_size;do{if(ce=$.window_size-$.lookahead-$.strstart,$.strstart>=me+(me-X)){for(a.arraySet($.window,$.window,me,me,0),$.match_start-=me,$.strstart-=me,$.block_start-=me,ge=ve=$.hash_size;ae=$.head[--ge],$.head[ge]=me<=ae?ae-me:0,--ve;);for(ge=ve=me;ae=$.prev[--ge],$.prev[ge]=me<=ae?ae-me:0,--ve;);ce+=me}if($.strm.avail_in===0)break;if(ke=$.strm,be=$.window,J=$.strstart+$.lookahead,Q=ce,ue=void 0,ue=ke.avail_in,Q<ue&&(ue=Q),ve=ue===0?0:(ke.avail_in-=ue,a.arraySet(be,ke.input,ke.next_in,ue,J),ke.state.wrap===1?ke.adler=l(ke.adler,be,ue,J):ke.state.wrap===2&&(ke.adler=u(ke.adler,be,ue,J)),ke.next_in+=ue,ke.total_in+=ue,ue),$.lookahead+=ve,$.lookahead+$.insert>=P)for(ye=$.strstart-$.insert,$.ins_h=$.window[ye],$.ins_h=($.ins_h<<$.hash_shift^$.window[ye+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[ye+P-1])&$.hash_mask,$.prev[ye&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=ye,ye++,$.insert--,!($.lookahead+$.insert<P)););}while($.lookahead<X&&$.strm.avail_in!==0)}function Ee($,ge){for(var ve,ae;;){if($.lookahead<X){if(Re($),$.lookahead<X&&ge===p)return L;if($.lookahead===0)break}if(ve=0,$.lookahead>=P&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+P-1])&$.hash_mask,ve=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),ve!==0&&$.strstart-ve<=$.w_size-X&&($.match_length=we($,ve)),$.match_length>=P)if(ae=o._tr_tally($,$.strstart-$.match_start,$.match_length-P),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=P){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+P-1])&$.hash_mask,ve=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else ae=o._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(ae&&(ne($,!1),$.strm.avail_out===0))return L}return $.insert=$.strstart<P-1?$.strstart:P-1,ge===m?(ne($,!0),$.strm.avail_out===0?B:W):$.last_lit&&(ne($,!1),$.strm.avail_out===0)?L:te}function Me($,ge){for(var ve,ae,ce;;){if($.lookahead<X){if(Re($),$.lookahead<X&&ge===p)return L;if($.lookahead===0)break}if(ve=0,$.lookahead>=P&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+P-1])&$.hash_mask,ve=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=P-1,ve!==0&&$.prev_length<$.max_lazy_match&&$.strstart-ve<=$.w_size-X&&($.match_length=we($,ve),$.match_length<=5&&($.strategy===1||$.match_length===P&&4096<$.strstart-$.match_start)&&($.match_length=P-1)),$.prev_length>=P&&$.match_length<=$.prev_length){for(ce=$.strstart+$.lookahead-P,ae=o._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-P),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=ce&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+P-1])&$.hash_mask,ve=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=P-1,$.strstart++,ae&&(ne($,!1),$.strm.avail_out===0))return L}else if($.match_available){if((ae=o._tr_tally($,0,$.window[$.strstart-1]))&&ne($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return L}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(ae=o._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<P-1?$.strstart:P-1,ge===m?(ne($,!0),$.strm.avail_out===0?B:W):$.last_lit&&(ne($,!1),$.strm.avail_out===0)?L:te}function Ye($,ge,ve,ae,ce){this.good_length=$,this.max_lazy=ge,this.nice_length=ve,this.max_chain=ae,this.func=ce}function Ke(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*O),this.dyn_dtree=new a.Buf16(2*(2*N+1)),this.bl_tree=new a.Buf16(2*(2*U+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(M+1),this.heap=new a.Buf16(2*R+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*R+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le($){var ge;return $&&$.state?($.total_in=$.total_out=0,$.data_type=S,(ge=$.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?I:q,$.adler=ge.wrap===2?0:1,ge.last_flush=p,o._tr_init(ge),y):se($,b)}function lt($){var ge=Le($);return ge===y&&function(ve){ve.window_size=2*ve.w_size,G(ve.head),ve.max_lazy_match=s[ve.level].max_lazy,ve.good_match=s[ve.level].good_length,ve.nice_match=s[ve.level].nice_length,ve.max_chain_length=s[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=P-1,ve.match_available=0,ve.ins_h=0}($.state),ge}function st($,ge,ve,ae,ce,ye){if(!$)return b;var ke=1;if(ge===x&&(ge=6),ae<0?(ke=0,ae=-ae):15<ae&&(ke=2,ae-=16),ce<1||E<ce||ve!==T||ae<8||15<ae||ge<0||9<ge||ye<0||w<ye)return se($,b);ae===8&&(ae=9);var be=new Ke;return($.state=be).strm=$,be.wrap=ke,be.gzhead=null,be.w_bits=ae,be.w_size=1<<be.w_bits,be.w_mask=be.w_size-1,be.hash_bits=ce+7,be.hash_size=1<<be.hash_bits,be.hash_mask=be.hash_size-1,be.hash_shift=~~((be.hash_bits+P-1)/P),be.window=new a.Buf8(2*be.w_size),be.head=new a.Buf16(be.hash_size),be.prev=new a.Buf16(be.w_size),be.lit_bufsize=1<<ce+6,be.pending_buf_size=4*be.lit_bufsize,be.pending_buf=new a.Buf8(be.pending_buf_size),be.d_buf=1*be.lit_bufsize,be.l_buf=3*be.lit_bufsize,be.level=ge,be.strategy=ye,be.method=ve,lt($)}s=[new Ye(0,0,0,0,function($,ge){var ve=65535;for(ve>$.pending_buf_size-5&&(ve=$.pending_buf_size-5);;){if($.lookahead<=1){if(Re($),$.lookahead===0&&ge===p)return L;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var ae=$.block_start+ve;if(($.strstart===0||$.strstart>=ae)&&($.lookahead=$.strstart-ae,$.strstart=ae,ne($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-X&&(ne($,!1),$.strm.avail_out===0))return L}return $.insert=0,ge===m?(ne($,!0),$.strm.avail_out===0?B:W):($.strstart>$.block_start&&(ne($,!1),$.strm.avail_out),L)}),new Ye(4,4,8,4,Ee),new Ye(4,5,16,8,Ee),new Ye(4,6,32,32,Ee),new Ye(4,4,16,16,Me),new Ye(8,16,32,32,Me),new Ye(8,16,128,128,Me),new Ye(8,32,128,256,Me),new Ye(32,128,258,1024,Me),new Ye(32,258,258,4096,Me)],i.deflateInit=function($,ge){return st($,ge,T,15,8,0)},i.deflateInit2=st,i.deflateReset=lt,i.deflateResetKeep=Le,i.deflateSetHeader=function($,ge){return $&&$.state?$.state.wrap!==2?b:($.state.gzhead=ge,y):b},i.deflate=function($,ge){var ve,ae,ce,ye;if(!$||!$.state||5<ge||ge<0)return $?se($,b):b;if(ae=$.state,!$.output||!$.input&&$.avail_in!==0||ae.status===666&&ge!==m)return se($,$.avail_out===0?-5:b);if(ae.strm=$,ve=ae.last_flush,ae.last_flush=ge,ae.status===I)if(ae.wrap===2)$.adler=0,le(ae,31),le(ae,139),le(ae,8),ae.gzhead?(le(ae,(ae.gzhead.text?1:0)+(ae.gzhead.hcrc?2:0)+(ae.gzhead.extra?4:0)+(ae.gzhead.name?8:0)+(ae.gzhead.comment?16:0)),le(ae,255&ae.gzhead.time),le(ae,ae.gzhead.time>>8&255),le(ae,ae.gzhead.time>>16&255),le(ae,ae.gzhead.time>>24&255),le(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),le(ae,255&ae.gzhead.os),ae.gzhead.extra&&ae.gzhead.extra.length&&(le(ae,255&ae.gzhead.extra.length),le(ae,ae.gzhead.extra.length>>8&255)),ae.gzhead.hcrc&&($.adler=u($.adler,ae.pending_buf,ae.pending,0)),ae.gzindex=0,ae.status=69):(le(ae,0),le(ae,0),le(ae,0),le(ae,0),le(ae,0),le(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),le(ae,3),ae.status=q);else{var ke=T+(ae.w_bits-8<<4)<<8;ke|=(2<=ae.strategy||ae.level<2?0:ae.level<6?1:ae.level===6?2:3)<<6,ae.strstart!==0&&(ke|=32),ke+=31-ke%31,ae.status=q,xe(ae,ke),ae.strstart!==0&&(xe(ae,$.adler>>>16),xe(ae,65535&$.adler)),$.adler=1}if(ae.status===69)if(ae.gzhead.extra){for(ce=ae.pending;ae.gzindex<(65535&ae.gzhead.extra.length)&&(ae.pending!==ae.pending_buf_size||(ae.gzhead.hcrc&&ae.pending>ce&&($.adler=u($.adler,ae.pending_buf,ae.pending-ce,ce)),Y($),ce=ae.pending,ae.pending!==ae.pending_buf_size));)le(ae,255&ae.gzhead.extra[ae.gzindex]),ae.gzindex++;ae.gzhead.hcrc&&ae.pending>ce&&($.adler=u($.adler,ae.pending_buf,ae.pending-ce,ce)),ae.gzindex===ae.gzhead.extra.length&&(ae.gzindex=0,ae.status=73)}else ae.status=73;if(ae.status===73)if(ae.gzhead.name){ce=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>ce&&($.adler=u($.adler,ae.pending_buf,ae.pending-ce,ce)),Y($),ce=ae.pending,ae.pending===ae.pending_buf_size)){ye=1;break}ye=ae.gzindex<ae.gzhead.name.length?255&ae.gzhead.name.charCodeAt(ae.gzindex++):0,le(ae,ye)}while(ye!==0);ae.gzhead.hcrc&&ae.pending>ce&&($.adler=u($.adler,ae.pending_buf,ae.pending-ce,ce)),ye===0&&(ae.gzindex=0,ae.status=91)}else ae.status=91;if(ae.status===91)if(ae.gzhead.comment){ce=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>ce&&($.adler=u($.adler,ae.pending_buf,ae.pending-ce,ce)),Y($),ce=ae.pending,ae.pending===ae.pending_buf_size)){ye=1;break}ye=ae.gzindex<ae.gzhead.comment.length?255&ae.gzhead.comment.charCodeAt(ae.gzindex++):0,le(ae,ye)}while(ye!==0);ae.gzhead.hcrc&&ae.pending>ce&&($.adler=u($.adler,ae.pending_buf,ae.pending-ce,ce)),ye===0&&(ae.status=103)}else ae.status=103;if(ae.status===103&&(ae.gzhead.hcrc?(ae.pending+2>ae.pending_buf_size&&Y($),ae.pending+2<=ae.pending_buf_size&&(le(ae,255&$.adler),le(ae,$.adler>>8&255),$.adler=0,ae.status=q)):ae.status=q),ae.pending!==0){if(Y($),$.avail_out===0)return ae.last_flush=-1,y}else if($.avail_in===0&&K(ge)<=K(ve)&&ge!==m)return se($,-5);if(ae.status===666&&$.avail_in!==0)return se($,-5);if($.avail_in!==0||ae.lookahead!==0||ge!==p&&ae.status!==666){var be=ae.strategy===2?function(J,Q){for(var ue;;){if(J.lookahead===0&&(Re(J),J.lookahead===0)){if(Q===p)return L;break}if(J.match_length=0,ue=o._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,ue&&(ne(J,!1),J.strm.avail_out===0))return L}return J.insert=0,Q===m?(ne(J,!0),J.strm.avail_out===0?B:W):J.last_lit&&(ne(J,!1),J.strm.avail_out===0)?L:te}(ae,ge):ae.strategy===3?function(J,Q){for(var ue,me,Ae,Fe,Ge=J.window;;){if(J.lookahead<=H){if(Re(J),J.lookahead<=H&&Q===p)return L;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=P&&0<J.strstart&&(me=Ge[Ae=J.strstart-1])===Ge[++Ae]&&me===Ge[++Ae]&&me===Ge[++Ae]){Fe=J.strstart+H;do;while(me===Ge[++Ae]&&me===Ge[++Ae]&&me===Ge[++Ae]&&me===Ge[++Ae]&&me===Ge[++Ae]&&me===Ge[++Ae]&&me===Ge[++Ae]&&me===Ge[++Ae]&&Ae<Fe);J.match_length=H-(Fe-Ae),J.match_length>J.lookahead&&(J.match_length=J.lookahead)}if(J.match_length>=P?(ue=o._tr_tally(J,1,J.match_length-P),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0):(ue=o._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++),ue&&(ne(J,!1),J.strm.avail_out===0))return L}return J.insert=0,Q===m?(ne(J,!0),J.strm.avail_out===0?B:W):J.last_lit&&(ne(J,!1),J.strm.avail_out===0)?L:te}(ae,ge):s[ae.level].func(ae,ge);if(be!==B&&be!==W||(ae.status=666),be===L||be===B)return $.avail_out===0&&(ae.last_flush=-1),y;if(be===te&&(ge===1?o._tr_align(ae):ge!==5&&(o._tr_stored_block(ae,0,0,!1),ge===3&&(G(ae.head),ae.lookahead===0&&(ae.strstart=0,ae.block_start=0,ae.insert=0))),Y($),$.avail_out===0))return ae.last_flush=-1,y}return ge!==m?y:ae.wrap<=0?1:(ae.wrap===2?(le(ae,255&$.adler),le(ae,$.adler>>8&255),le(ae,$.adler>>16&255),le(ae,$.adler>>24&255),le(ae,255&$.total_in),le(ae,$.total_in>>8&255),le(ae,$.total_in>>16&255),le(ae,$.total_in>>24&255)):(xe(ae,$.adler>>>16),xe(ae,65535&$.adler)),Y($),0<ae.wrap&&(ae.wrap=-ae.wrap),ae.pending!==0?y:1)},i.deflateEnd=function($){var ge;return $&&$.state?(ge=$.state.status)!==I&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==q&&ge!==666?se($,b):($.state=null,ge===q?se($,-3):y):b},i.deflateSetDictionary=function($,ge){var ve,ae,ce,ye,ke,be,J,Q,ue=ge.length;if(!$||!$.state||(ye=(ve=$.state).wrap)===2||ye===1&&ve.status!==I||ve.lookahead)return b;for(ye===1&&($.adler=l($.adler,ge,ue,0)),ve.wrap=0,ue>=ve.w_size&&(ye===0&&(G(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),Q=new a.Buf8(ve.w_size),a.arraySet(Q,ge,ue-ve.w_size,ve.w_size,0),ge=Q,ue=ve.w_size),ke=$.avail_in,be=$.next_in,J=$.input,$.avail_in=ue,$.next_in=0,$.input=ge,Re(ve);ve.lookahead>=P;){for(ae=ve.strstart,ce=ve.lookahead-(P-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[ae+P-1])&ve.hash_mask,ve.prev[ae&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=ae,ae++,--ce;);ve.strstart=ae,ve.lookahead=P-1,Re(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=P-1,ve.match_available=0,$.next_in=be,$.input=J,$.avail_in=ke,ve.wrap=ye,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,a){var o,l,u,f,p,m,y,b,x,w,S,T,E,R,N,U,O,M,P,H,X,I,q,L,te;o=s.state,l=s.next_in,L=s.input,u=l+(s.avail_in-5),f=s.next_out,te=s.output,p=f-(a-s.avail_out),m=f+(s.avail_out-257),y=o.dmax,b=o.wsize,x=o.whave,w=o.wnext,S=o.window,T=o.hold,E=o.bits,R=o.lencode,N=o.distcode,U=(1<<o.lenbits)-1,O=(1<<o.distbits)-1;e:do{E<15&&(T+=L[l++]<<E,E+=8,T+=L[l++]<<E,E+=8),M=R[T&U];t:for(;;){if(T>>>=P=M>>>24,E-=P,(P=M>>>16&255)===0)te[f++]=65535&M;else{if(!(16&P)){if((64&P)==0){M=R[(65535&M)+(T&(1<<P)-1)];continue t}if(32&P){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}H=65535&M,(P&=15)&&(E<P&&(T+=L[l++]<<E,E+=8),H+=T&(1<<P)-1,T>>>=P,E-=P),E<15&&(T+=L[l++]<<E,E+=8,T+=L[l++]<<E,E+=8),M=N[T&O];n:for(;;){if(T>>>=P=M>>>24,E-=P,!(16&(P=M>>>16&255))){if((64&P)==0){M=N[(65535&M)+(T&(1<<P)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(X=65535&M,E<(P&=15)&&(T+=L[l++]<<E,(E+=8)<P&&(T+=L[l++]<<E,E+=8)),y<(X+=T&(1<<P)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(T>>>=P,E-=P,(P=f-p)<X){if(x<(P=X-P)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(q=S,(I=0)===w){if(I+=b-P,P<H){for(H-=P;te[f++]=S[I++],--P;);I=f-X,q=te}}else if(w<P){if(I+=b+w-P,(P-=w)<H){for(H-=P;te[f++]=S[I++],--P;);if(I=0,w<H){for(H-=P=w;te[f++]=S[I++],--P;);I=f-X,q=te}}}else if(I+=w-P,P<H){for(H-=P;te[f++]=S[I++],--P;);I=f-X,q=te}for(;2<H;)te[f++]=q[I++],te[f++]=q[I++],te[f++]=q[I++],H-=3;H&&(te[f++]=q[I++],1<H&&(te[f++]=q[I++]))}else{for(I=f-X;te[f++]=te[I++],te[f++]=te[I++],te[f++]=te[I++],2<(H-=3););H&&(te[f++]=te[I++],1<H&&(te[f++]=te[I++]))}break}}break}}while(l<u&&f<m);l-=H=E>>3,T&=(1<<(E-=H<<3))-1,s.next_in=l,s.next_out=f,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=f<m?m-f+257:257-(f-m),o.hold=T,o.bits=E}},{}],49:[function(t,r,i){var s=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),f=1,p=2,m=0,y=-2,b=1,x=852,w=592;function S(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function T(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function E(I){var q;return I&&I.state?(q=I.state,I.total_in=I.total_out=q.total=0,I.msg="",q.wrap&&(I.adler=1&q.wrap),q.mode=b,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new s.Buf32(x),q.distcode=q.distdyn=new s.Buf32(w),q.sane=1,q.back=-1,m):y}function R(I){var q;return I&&I.state?((q=I.state).wsize=0,q.whave=0,q.wnext=0,E(I)):y}function N(I,q){var L,te;return I&&I.state?(te=I.state,q<0?(L=0,q=-q):(L=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?y:(te.window!==null&&te.wbits!==q&&(te.window=null),te.wrap=L,te.wbits=q,R(I))):y}function U(I,q){var L,te;return I?(te=new T,(I.state=te).window=null,(L=N(I,q))!==m&&(I.state=null),L):y}var O,M,P=!0;function H(I){if(P){var q;for(O=new s.Buf32(512),M=new s.Buf32(32),q=0;q<144;)I.lens[q++]=8;for(;q<256;)I.lens[q++]=9;for(;q<280;)I.lens[q++]=7;for(;q<288;)I.lens[q++]=8;for(u(f,I.lens,0,288,O,0,I.work,{bits:9}),q=0;q<32;)I.lens[q++]=5;u(p,I.lens,0,32,M,0,I.work,{bits:5}),P=!1}I.lencode=O,I.lenbits=9,I.distcode=M,I.distbits=5}function X(I,q,L,te){var B,W=I.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new s.Buf8(W.wsize)),te>=W.wsize?(s.arraySet(W.window,q,L-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(te<(B=W.wsize-W.wnext)&&(B=te),s.arraySet(W.window,q,L-te,B,W.wnext),(te-=B)?(s.arraySet(W.window,q,L-te,te,0),W.wnext=te,W.whave=W.wsize):(W.wnext+=B,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=B))),0}i.inflateReset=R,i.inflateReset2=N,i.inflateResetKeep=E,i.inflateInit=function(I){return U(I,15)},i.inflateInit2=U,i.inflate=function(I,q){var L,te,B,W,se,K,G,Y,ne,le,xe,we,Re,Ee,Me,Ye,Ke,Le,lt,st,$,ge,ve,ae,ce=0,ye=new s.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return y;(L=I.state).mode===12&&(L.mode=13),se=I.next_out,B=I.output,G=I.avail_out,W=I.next_in,te=I.input,K=I.avail_in,Y=L.hold,ne=L.bits,le=K,xe=G,ge=m;e:for(;;)switch(L.mode){case b:if(L.wrap===0){L.mode=13;break}for(;ne<16;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(2&L.wrap&&Y===35615){ye[L.check=0]=255&Y,ye[1]=Y>>>8&255,L.check=o(L.check,ye,2,0),ne=Y=0,L.mode=2;break}if(L.flags=0,L.head&&(L.head.done=!1),!(1&L.wrap)||(((255&Y)<<8)+(Y>>8))%31){I.msg="incorrect header check",L.mode=30;break}if((15&Y)!=8){I.msg="unknown compression method",L.mode=30;break}if(ne-=4,$=8+(15&(Y>>>=4)),L.wbits===0)L.wbits=$;else if($>L.wbits){I.msg="invalid window size",L.mode=30;break}L.dmax=1<<$,I.adler=L.check=1,L.mode=512&Y?10:12,ne=Y=0;break;case 2:for(;ne<16;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(L.flags=Y,(255&L.flags)!=8){I.msg="unknown compression method",L.mode=30;break}if(57344&L.flags){I.msg="unknown header flags set",L.mode=30;break}L.head&&(L.head.text=Y>>8&1),512&L.flags&&(ye[0]=255&Y,ye[1]=Y>>>8&255,L.check=o(L.check,ye,2,0)),ne=Y=0,L.mode=3;case 3:for(;ne<32;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}L.head&&(L.head.time=Y),512&L.flags&&(ye[0]=255&Y,ye[1]=Y>>>8&255,ye[2]=Y>>>16&255,ye[3]=Y>>>24&255,L.check=o(L.check,ye,4,0)),ne=Y=0,L.mode=4;case 4:for(;ne<16;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}L.head&&(L.head.xflags=255&Y,L.head.os=Y>>8),512&L.flags&&(ye[0]=255&Y,ye[1]=Y>>>8&255,L.check=o(L.check,ye,2,0)),ne=Y=0,L.mode=5;case 5:if(1024&L.flags){for(;ne<16;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}L.length=Y,L.head&&(L.head.extra_len=Y),512&L.flags&&(ye[0]=255&Y,ye[1]=Y>>>8&255,L.check=o(L.check,ye,2,0)),ne=Y=0}else L.head&&(L.head.extra=null);L.mode=6;case 6:if(1024&L.flags&&(K<(we=L.length)&&(we=K),we&&(L.head&&($=L.head.extra_len-L.length,L.head.extra||(L.head.extra=new Array(L.head.extra_len)),s.arraySet(L.head.extra,te,W,we,$)),512&L.flags&&(L.check=o(L.check,te,we,W)),K-=we,W+=we,L.length-=we),L.length))break e;L.length=0,L.mode=7;case 7:if(2048&L.flags){if(K===0)break e;for(we=0;$=te[W+we++],L.head&&$&&L.length<65536&&(L.head.name+=String.fromCharCode($)),$&&we<K;);if(512&L.flags&&(L.check=o(L.check,te,we,W)),K-=we,W+=we,$)break e}else L.head&&(L.head.name=null);L.length=0,L.mode=8;case 8:if(4096&L.flags){if(K===0)break e;for(we=0;$=te[W+we++],L.head&&$&&L.length<65536&&(L.head.comment+=String.fromCharCode($)),$&&we<K;);if(512&L.flags&&(L.check=o(L.check,te,we,W)),K-=we,W+=we,$)break e}else L.head&&(L.head.comment=null);L.mode=9;case 9:if(512&L.flags){for(;ne<16;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(Y!==(65535&L.check)){I.msg="header crc mismatch",L.mode=30;break}ne=Y=0}L.head&&(L.head.hcrc=L.flags>>9&1,L.head.done=!0),I.adler=L.check=0,L.mode=12;break;case 10:for(;ne<32;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}I.adler=L.check=S(Y),ne=Y=0,L.mode=11;case 11:if(L.havedict===0)return I.next_out=se,I.avail_out=G,I.next_in=W,I.avail_in=K,L.hold=Y,L.bits=ne,2;I.adler=L.check=1,L.mode=12;case 12:if(q===5||q===6)break e;case 13:if(L.last){Y>>>=7&ne,ne-=7&ne,L.mode=27;break}for(;ne<3;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}switch(L.last=1&Y,ne-=1,3&(Y>>>=1)){case 0:L.mode=14;break;case 1:if(H(L),L.mode=20,q!==6)break;Y>>>=2,ne-=2;break e;case 2:L.mode=17;break;case 3:I.msg="invalid block type",L.mode=30}Y>>>=2,ne-=2;break;case 14:for(Y>>>=7&ne,ne-=7&ne;ne<32;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if((65535&Y)!=(Y>>>16^65535)){I.msg="invalid stored block lengths",L.mode=30;break}if(L.length=65535&Y,ne=Y=0,L.mode=15,q===6)break e;case 15:L.mode=16;case 16:if(we=L.length){if(K<we&&(we=K),G<we&&(we=G),we===0)break e;s.arraySet(B,te,W,we,se),K-=we,W+=we,G-=we,se+=we,L.length-=we;break}L.mode=12;break;case 17:for(;ne<14;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(L.nlen=257+(31&Y),Y>>>=5,ne-=5,L.ndist=1+(31&Y),Y>>>=5,ne-=5,L.ncode=4+(15&Y),Y>>>=4,ne-=4,286<L.nlen||30<L.ndist){I.msg="too many length or distance symbols",L.mode=30;break}L.have=0,L.mode=18;case 18:for(;L.have<L.ncode;){for(;ne<3;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}L.lens[ke[L.have++]]=7&Y,Y>>>=3,ne-=3}for(;L.have<19;)L.lens[ke[L.have++]]=0;if(L.lencode=L.lendyn,L.lenbits=7,ve={bits:L.lenbits},ge=u(0,L.lens,0,19,L.lencode,0,L.work,ve),L.lenbits=ve.bits,ge){I.msg="invalid code lengths set",L.mode=30;break}L.have=0,L.mode=19;case 19:for(;L.have<L.nlen+L.ndist;){for(;Ye=(ce=L.lencode[Y&(1<<L.lenbits)-1])>>>16&255,Ke=65535&ce,!((Me=ce>>>24)<=ne);){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(Ke<16)Y>>>=Me,ne-=Me,L.lens[L.have++]=Ke;else{if(Ke===16){for(ae=Me+2;ne<ae;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(Y>>>=Me,ne-=Me,L.have===0){I.msg="invalid bit length repeat",L.mode=30;break}$=L.lens[L.have-1],we=3+(3&Y),Y>>>=2,ne-=2}else if(Ke===17){for(ae=Me+3;ne<ae;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}ne-=Me,$=0,we=3+(7&(Y>>>=Me)),Y>>>=3,ne-=3}else{for(ae=Me+7;ne<ae;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}ne-=Me,$=0,we=11+(127&(Y>>>=Me)),Y>>>=7,ne-=7}if(L.have+we>L.nlen+L.ndist){I.msg="invalid bit length repeat",L.mode=30;break}for(;we--;)L.lens[L.have++]=$}}if(L.mode===30)break;if(L.lens[256]===0){I.msg="invalid code -- missing end-of-block",L.mode=30;break}if(L.lenbits=9,ve={bits:L.lenbits},ge=u(f,L.lens,0,L.nlen,L.lencode,0,L.work,ve),L.lenbits=ve.bits,ge){I.msg="invalid literal/lengths set",L.mode=30;break}if(L.distbits=6,L.distcode=L.distdyn,ve={bits:L.distbits},ge=u(p,L.lens,L.nlen,L.ndist,L.distcode,0,L.work,ve),L.distbits=ve.bits,ge){I.msg="invalid distances set",L.mode=30;break}if(L.mode=20,q===6)break e;case 20:L.mode=21;case 21:if(6<=K&&258<=G){I.next_out=se,I.avail_out=G,I.next_in=W,I.avail_in=K,L.hold=Y,L.bits=ne,l(I,xe),se=I.next_out,B=I.output,G=I.avail_out,W=I.next_in,te=I.input,K=I.avail_in,Y=L.hold,ne=L.bits,L.mode===12&&(L.back=-1);break}for(L.back=0;Ye=(ce=L.lencode[Y&(1<<L.lenbits)-1])>>>16&255,Ke=65535&ce,!((Me=ce>>>24)<=ne);){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(Ye&&(240&Ye)==0){for(Le=Me,lt=Ye,st=Ke;Ye=(ce=L.lencode[st+((Y&(1<<Le+lt)-1)>>Le)])>>>16&255,Ke=65535&ce,!(Le+(Me=ce>>>24)<=ne);){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}Y>>>=Le,ne-=Le,L.back+=Le}if(Y>>>=Me,ne-=Me,L.back+=Me,L.length=Ke,Ye===0){L.mode=26;break}if(32&Ye){L.back=-1,L.mode=12;break}if(64&Ye){I.msg="invalid literal/length code",L.mode=30;break}L.extra=15&Ye,L.mode=22;case 22:if(L.extra){for(ae=L.extra;ne<ae;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}L.length+=Y&(1<<L.extra)-1,Y>>>=L.extra,ne-=L.extra,L.back+=L.extra}L.was=L.length,L.mode=23;case 23:for(;Ye=(ce=L.distcode[Y&(1<<L.distbits)-1])>>>16&255,Ke=65535&ce,!((Me=ce>>>24)<=ne);){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if((240&Ye)==0){for(Le=Me,lt=Ye,st=Ke;Ye=(ce=L.distcode[st+((Y&(1<<Le+lt)-1)>>Le)])>>>16&255,Ke=65535&ce,!(Le+(Me=ce>>>24)<=ne);){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}Y>>>=Le,ne-=Le,L.back+=Le}if(Y>>>=Me,ne-=Me,L.back+=Me,64&Ye){I.msg="invalid distance code",L.mode=30;break}L.offset=Ke,L.extra=15&Ye,L.mode=24;case 24:if(L.extra){for(ae=L.extra;ne<ae;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}L.offset+=Y&(1<<L.extra)-1,Y>>>=L.extra,ne-=L.extra,L.back+=L.extra}if(L.offset>L.dmax){I.msg="invalid distance too far back",L.mode=30;break}L.mode=25;case 25:if(G===0)break e;if(we=xe-G,L.offset>we){if((we=L.offset-we)>L.whave&&L.sane){I.msg="invalid distance too far back",L.mode=30;break}Re=we>L.wnext?(we-=L.wnext,L.wsize-we):L.wnext-we,we>L.length&&(we=L.length),Ee=L.window}else Ee=B,Re=se-L.offset,we=L.length;for(G<we&&(we=G),G-=we,L.length-=we;B[se++]=Ee[Re++],--we;);L.length===0&&(L.mode=21);break;case 26:if(G===0)break e;B[se++]=L.length,G--,L.mode=21;break;case 27:if(L.wrap){for(;ne<32;){if(K===0)break e;K--,Y|=te[W++]<<ne,ne+=8}if(xe-=G,I.total_out+=xe,L.total+=xe,xe&&(I.adler=L.check=L.flags?o(L.check,B,xe,se-xe):a(L.check,B,xe,se-xe)),xe=G,(L.flags?Y:S(Y))!==L.check){I.msg="incorrect data check",L.mode=30;break}ne=Y=0}L.mode=28;case 28:if(L.wrap&&L.flags){for(;ne<32;){if(K===0)break e;K--,Y+=te[W++]<<ne,ne+=8}if(Y!==(4294967295&L.total)){I.msg="incorrect length check",L.mode=30;break}ne=Y=0}L.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return y}return I.next_out=se,I.avail_out=G,I.next_in=W,I.avail_in=K,L.hold=Y,L.bits=ne,(L.wsize||xe!==I.avail_out&&L.mode<30&&(L.mode<27||q!==4))&&X(I,I.output,I.next_out,xe-I.avail_out)?(L.mode=31,-4):(le-=I.avail_in,xe-=I.avail_out,I.total_in+=le,I.total_out+=xe,L.total+=xe,L.wrap&&xe&&(I.adler=L.check=L.flags?o(L.check,B,xe,I.next_out-xe):a(L.check,B,xe,I.next_out-xe)),I.data_type=L.bits+(L.last?64:0)+(L.mode===12?128:0)+(L.mode===20||L.mode===15?256:0),(le==0&&xe===0||q===4)&&ge===m&&(ge=-5),ge)},i.inflateEnd=function(I){if(!I||!I.state)return y;var q=I.state;return q.window&&(q.window=null),I.state=null,m},i.inflateGetHeader=function(I,q){var L;return I&&I.state?(2&(L=I.state).wrap)==0?y:((L.head=q).done=!1,m):y},i.inflateSetDictionary=function(I,q){var L,te=q.length;return I&&I.state?(L=I.state).wrap!==0&&L.mode!==11?y:L.mode===11&&a(1,q,te,0)!==L.check?-3:X(I,q,te,te)?(L.mode=31,-4):(L.havedict=1,m):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,p,m,y,b,x,w,S){var T,E,R,N,U,O,M,P,H,X=S.bits,I=0,q=0,L=0,te=0,B=0,W=0,se=0,K=0,G=0,Y=0,ne=null,le=0,xe=new s.Buf16(16),we=new s.Buf16(16),Re=null,Ee=0;for(I=0;I<=15;I++)xe[I]=0;for(q=0;q<y;q++)xe[p[m+q]]++;for(B=X,te=15;1<=te&&xe[te]===0;te--);if(te<B&&(B=te),te===0)return b[x++]=20971520,b[x++]=20971520,S.bits=1,0;for(L=1;L<te&&xe[L]===0;L++);for(B<L&&(B=L),I=K=1;I<=15;I++)if(K<<=1,(K-=xe[I])<0)return-1;if(0<K&&(f===0||te!==1))return-1;for(we[1]=0,I=1;I<15;I++)we[I+1]=we[I]+xe[I];for(q=0;q<y;q++)p[m+q]!==0&&(w[we[p[m+q]]++]=q);if(O=f===0?(ne=Re=w,19):f===1?(ne=a,le-=257,Re=o,Ee-=257,256):(ne=l,Re=u,-1),I=L,U=x,se=q=Y=0,R=-1,N=(G=1<<(W=B))-1,f===1&&852<G||f===2&&592<G)return 1;for(;;){for(M=I-se,H=w[q]<O?(P=0,w[q]):w[q]>O?(P=Re[Ee+w[q]],ne[le+w[q]]):(P=96,0),T=1<<I-se,L=E=1<<W;b[U+(Y>>se)+(E-=T)]=M<<24|P<<16|H|0,E!==0;);for(T=1<<I-1;Y&T;)T>>=1;if(T!==0?(Y&=T-1,Y+=T):Y=0,q++,--xe[I]==0){if(I===te)break;I=p[m+w[q]]}if(B<I&&(Y&N)!==R){for(se===0&&(se=B),U+=L,K=1<<(W=I-se);W+se<te&&!((K-=xe[W+se])<=0);)W++,K<<=1;if(G+=1<<W,f===1&&852<G||f===2&&592<G)return 1;b[R=Y&N]=B<<24|W<<16|U-x|0}}return Y!==0&&(b[U+Y]=I-se<<24|64<<16|0),S.bits=B,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),a=0,o=1;function l(ce){for(var ye=ce.length;0<=--ye;)ce[ye]=0}var u=0,f=29,p=256,m=p+1+f,y=30,b=19,x=2*m+1,w=15,S=16,T=7,E=256,R=16,N=17,U=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(m+2));l(X);var I=new Array(2*y);l(I);var q=new Array(512);l(q);var L=new Array(256);l(L);var te=new Array(f);l(te);var B,W,se,K=new Array(y);function G(ce,ye,ke,be,J){this.static_tree=ce,this.extra_bits=ye,this.extra_base=ke,this.elems=be,this.max_length=J,this.has_stree=ce&&ce.length}function Y(ce,ye){this.dyn_tree=ce,this.max_code=0,this.stat_desc=ye}function ne(ce){return ce<256?q[ce]:q[256+(ce>>>7)]}function le(ce,ye){ce.pending_buf[ce.pending++]=255&ye,ce.pending_buf[ce.pending++]=ye>>>8&255}function xe(ce,ye,ke){ce.bi_valid>S-ke?(ce.bi_buf|=ye<<ce.bi_valid&65535,le(ce,ce.bi_buf),ce.bi_buf=ye>>S-ce.bi_valid,ce.bi_valid+=ke-S):(ce.bi_buf|=ye<<ce.bi_valid&65535,ce.bi_valid+=ke)}function we(ce,ye,ke){xe(ce,ke[2*ye],ke[2*ye+1])}function Re(ce,ye){for(var ke=0;ke|=1&ce,ce>>>=1,ke<<=1,0<--ye;);return ke>>>1}function Ee(ce,ye,ke){var be,J,Q=new Array(w+1),ue=0;for(be=1;be<=w;be++)Q[be]=ue=ue+ke[be-1]<<1;for(J=0;J<=ye;J++){var me=ce[2*J+1];me!==0&&(ce[2*J]=Re(Q[me]++,me))}}function Me(ce){var ye;for(ye=0;ye<m;ye++)ce.dyn_ltree[2*ye]=0;for(ye=0;ye<y;ye++)ce.dyn_dtree[2*ye]=0;for(ye=0;ye<b;ye++)ce.bl_tree[2*ye]=0;ce.dyn_ltree[2*E]=1,ce.opt_len=ce.static_len=0,ce.last_lit=ce.matches=0}function Ye(ce){8<ce.bi_valid?le(ce,ce.bi_buf):0<ce.bi_valid&&(ce.pending_buf[ce.pending++]=ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0}function Ke(ce,ye,ke,be){var J=2*ye,Q=2*ke;return ce[J]<ce[Q]||ce[J]===ce[Q]&&be[ye]<=be[ke]}function Le(ce,ye,ke){for(var be=ce.heap[ke],J=ke<<1;J<=ce.heap_len&&(J<ce.heap_len&&Ke(ye,ce.heap[J+1],ce.heap[J],ce.depth)&&J++,!Ke(ye,be,ce.heap[J],ce.depth));)ce.heap[ke]=ce.heap[J],ke=J,J<<=1;ce.heap[ke]=be}function lt(ce,ye,ke){var be,J,Q,ue,me=0;if(ce.last_lit!==0)for(;be=ce.pending_buf[ce.d_buf+2*me]<<8|ce.pending_buf[ce.d_buf+2*me+1],J=ce.pending_buf[ce.l_buf+me],me++,be===0?we(ce,J,ye):(we(ce,(Q=L[J])+p+1,ye),(ue=O[Q])!==0&&xe(ce,J-=te[Q],ue),we(ce,Q=ne(--be),ke),(ue=M[Q])!==0&&xe(ce,be-=K[Q],ue)),me<ce.last_lit;);we(ce,E,ye)}function st(ce,ye){var ke,be,J,Q=ye.dyn_tree,ue=ye.stat_desc.static_tree,me=ye.stat_desc.has_stree,Ae=ye.stat_desc.elems,Fe=-1;for(ce.heap_len=0,ce.heap_max=x,ke=0;ke<Ae;ke++)Q[2*ke]!==0?(ce.heap[++ce.heap_len]=Fe=ke,ce.depth[ke]=0):Q[2*ke+1]=0;for(;ce.heap_len<2;)Q[2*(J=ce.heap[++ce.heap_len]=Fe<2?++Fe:0)]=1,ce.depth[J]=0,ce.opt_len--,me&&(ce.static_len-=ue[2*J+1]);for(ye.max_code=Fe,ke=ce.heap_len>>1;1<=ke;ke--)Le(ce,Q,ke);for(J=Ae;ke=ce.heap[1],ce.heap[1]=ce.heap[ce.heap_len--],Le(ce,Q,1),be=ce.heap[1],ce.heap[--ce.heap_max]=ke,ce.heap[--ce.heap_max]=be,Q[2*J]=Q[2*ke]+Q[2*be],ce.depth[J]=(ce.depth[ke]>=ce.depth[be]?ce.depth[ke]:ce.depth[be])+1,Q[2*ke+1]=Q[2*be+1]=J,ce.heap[1]=J++,Le(ce,Q,1),2<=ce.heap_len;);ce.heap[--ce.heap_max]=ce.heap[1],function(Ge,at){var ut,Te,He,et,ht,Tt,gt=at.dyn_tree,Et=at.max_code,vn=at.stat_desc.static_tree,vr=at.stat_desc.has_stree,Ea=at.stat_desc.extra_bits,oe=at.stat_desc.extra_base,fe=at.stat_desc.max_length,De=0;for(et=0;et<=w;et++)Ge.bl_count[et]=0;for(gt[2*Ge.heap[Ge.heap_max]+1]=0,ut=Ge.heap_max+1;ut<x;ut++)fe<(et=gt[2*gt[2*(Te=Ge.heap[ut])+1]+1]+1)&&(et=fe,De++),gt[2*Te+1]=et,Et<Te||(Ge.bl_count[et]++,ht=0,oe<=Te&&(ht=Ea[Te-oe]),Tt=gt[2*Te],Ge.opt_len+=Tt*(et+ht),vr&&(Ge.static_len+=Tt*(vn[2*Te+1]+ht)));if(De!==0){do{for(et=fe-1;Ge.bl_count[et]===0;)et--;Ge.bl_count[et]--,Ge.bl_count[et+1]+=2,Ge.bl_count[fe]--,De-=2}while(0<De);for(et=fe;et!==0;et--)for(Te=Ge.bl_count[et];Te!==0;)Et<(He=Ge.heap[--ut])||(gt[2*He+1]!==et&&(Ge.opt_len+=(et-gt[2*He+1])*gt[2*He],gt[2*He+1]=et),Te--)}}(ce,ye),Ee(Q,Fe,ce.bl_count)}function $(ce,ye,ke){var be,J,Q=-1,ue=ye[1],me=0,Ae=7,Fe=4;for(ue===0&&(Ae=138,Fe=3),ye[2*(ke+1)+1]=65535,be=0;be<=ke;be++)J=ue,ue=ye[2*(be+1)+1],++me<Ae&&J===ue||(me<Fe?ce.bl_tree[2*J]+=me:J!==0?(J!==Q&&ce.bl_tree[2*J]++,ce.bl_tree[2*R]++):me<=10?ce.bl_tree[2*N]++:ce.bl_tree[2*U]++,Q=J,Fe=(me=0)===ue?(Ae=138,3):J===ue?(Ae=6,3):(Ae=7,4))}function ge(ce,ye,ke){var be,J,Q=-1,ue=ye[1],me=0,Ae=7,Fe=4;for(ue===0&&(Ae=138,Fe=3),be=0;be<=ke;be++)if(J=ue,ue=ye[2*(be+1)+1],!(++me<Ae&&J===ue)){if(me<Fe)for(;we(ce,J,ce.bl_tree),--me!=0;);else J!==0?(J!==Q&&(we(ce,J,ce.bl_tree),me--),we(ce,R,ce.bl_tree),xe(ce,me-3,2)):me<=10?(we(ce,N,ce.bl_tree),xe(ce,me-3,3)):(we(ce,U,ce.bl_tree),xe(ce,me-11,7));Q=J,Fe=(me=0)===ue?(Ae=138,3):J===ue?(Ae=6,3):(Ae=7,4)}}l(K);var ve=!1;function ae(ce,ye,ke,be){xe(ce,(u<<1)+(be?1:0),3),function(J,Q,ue,me){Ye(J),le(J,ue),le(J,~ue),s.arraySet(J.pending_buf,J.window,Q,ue,J.pending),J.pending+=ue}(ce,ye,ke)}i._tr_init=function(ce){ve||(function(){var ye,ke,be,J,Q,ue=new Array(w+1);for(J=be=0;J<f-1;J++)for(te[J]=be,ye=0;ye<1<<O[J];ye++)L[be++]=J;for(L[be-1]=J,J=Q=0;J<16;J++)for(K[J]=Q,ye=0;ye<1<<M[J];ye++)q[Q++]=J;for(Q>>=7;J<y;J++)for(K[J]=Q<<7,ye=0;ye<1<<M[J]-7;ye++)q[256+Q++]=J;for(ke=0;ke<=w;ke++)ue[ke]=0;for(ye=0;ye<=143;)X[2*ye+1]=8,ye++,ue[8]++;for(;ye<=255;)X[2*ye+1]=9,ye++,ue[9]++;for(;ye<=279;)X[2*ye+1]=7,ye++,ue[7]++;for(;ye<=287;)X[2*ye+1]=8,ye++,ue[8]++;for(Ee(X,m+1,ue),ye=0;ye<y;ye++)I[2*ye+1]=5,I[2*ye]=Re(ye,5);B=new G(X,O,p+1,m,w),W=new G(I,M,0,y,w),se=new G(new Array(0),P,0,b,T)}(),ve=!0),ce.l_desc=new Y(ce.dyn_ltree,B),ce.d_desc=new Y(ce.dyn_dtree,W),ce.bl_desc=new Y(ce.bl_tree,se),ce.bi_buf=0,ce.bi_valid=0,Me(ce)},i._tr_stored_block=ae,i._tr_flush_block=function(ce,ye,ke,be){var J,Q,ue=0;0<ce.level?(ce.strm.data_type===2&&(ce.strm.data_type=function(me){var Ae,Fe=4093624447;for(Ae=0;Ae<=31;Ae++,Fe>>>=1)if(1&Fe&&me.dyn_ltree[2*Ae]!==0)return a;if(me.dyn_ltree[18]!==0||me.dyn_ltree[20]!==0||me.dyn_ltree[26]!==0)return o;for(Ae=32;Ae<p;Ae++)if(me.dyn_ltree[2*Ae]!==0)return o;return a}(ce)),st(ce,ce.l_desc),st(ce,ce.d_desc),ue=function(me){var Ae;for($(me,me.dyn_ltree,me.l_desc.max_code),$(me,me.dyn_dtree,me.d_desc.max_code),st(me,me.bl_desc),Ae=b-1;3<=Ae&&me.bl_tree[2*H[Ae]+1]===0;Ae--);return me.opt_len+=3*(Ae+1)+5+5+4,Ae}(ce),J=ce.opt_len+3+7>>>3,(Q=ce.static_len+3+7>>>3)<=J&&(J=Q)):J=Q=ke+5,ke+4<=J&&ye!==-1?ae(ce,ye,ke,be):ce.strategy===4||Q===J?(xe(ce,2+(be?1:0),3),lt(ce,X,I)):(xe(ce,4+(be?1:0),3),function(me,Ae,Fe,Ge){var at;for(xe(me,Ae-257,5),xe(me,Fe-1,5),xe(me,Ge-4,4),at=0;at<Ge;at++)xe(me,me.bl_tree[2*H[at]+1],3);ge(me,me.dyn_ltree,Ae-1),ge(me,me.dyn_dtree,Fe-1)}(ce,ce.l_desc.max_code+1,ce.d_desc.max_code+1,ue+1),lt(ce,ce.dyn_ltree,ce.dyn_dtree)),Me(ce),be&&Ye(ce)},i._tr_tally=function(ce,ye,ke){return ce.pending_buf[ce.d_buf+2*ce.last_lit]=ye>>>8&255,ce.pending_buf[ce.d_buf+2*ce.last_lit+1]=255&ye,ce.pending_buf[ce.l_buf+ce.last_lit]=255&ke,ce.last_lit++,ye===0?ce.dyn_ltree[2*ke]++:(ce.matches++,ye--,ce.dyn_ltree[2*(L[ke]+p+1)]++,ce.dyn_dtree[2*ne(ye)]++),ce.last_lit===ce.lit_bufsize-1},i._tr_align=function(ce){xe(ce,2,3),we(ce,E,X),function(ye){ye.bi_valid===16?(le(ye,ye.bi_buf),ye.bi_buf=0,ye.bi_valid=0):8<=ye.bi_valid&&(ye.pending_buf[ye.pending++]=255&ye.bi_buf,ye.bi_buf>>=8,ye.bi_valid-=8)}(ce)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,f,p,m=1,y={},b=!1,x=a.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(a);w=w&&w.setTimeout?w:a,l={}.toString.call(a.process)==="[object process]"?function(R){process.nextTick(function(){T(R)})}:function(){if(a.postMessage&&!a.importScripts){var R=!0,N=a.onmessage;return a.onmessage=function(){R=!1},a.postMessage("","*"),a.onmessage=N,R}}()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",E,!1):a.attachEvent("onmessage",E),function(R){a.postMessage(p+R,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(R){T(R.data)},function(R){f.port2.postMessage(R)}):x&&"onreadystatechange"in x.createElement("script")?(u=x.documentElement,function(R){var N=x.createElement("script");N.onreadystatechange=function(){T(R),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(R){setTimeout(T,0,R)},w.setImmediate=function(R){typeof R!="function"&&(R=new Function(""+R));for(var N=new Array(arguments.length-1),U=0;U<N.length;U++)N[U]=arguments[U+1];var O={callback:R,args:N};return y[m]=O,l(m),m++},w.clearImmediate=S}function S(R){delete y[R]}function T(R){if(b)setTimeout(T,0,R);else{var N=y[R];if(N){b=!0;try{(function(U){var O=U.callback,M=U.args;switch(M.length){case 0:O();break;case 1:O(M[0]);break;case 2:O(M[0],M[1]);break;case 3:O(M[0],M[1],M[2]);break;default:O.apply(o,M)}})(N)}finally{S(R),b=!1}}}}function E(R){R.source===a&&typeof R.data=="string"&&R.data.indexOf(p)===0&&T(+R.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof xa<"u"?xa:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(cM)),cM.exports}var FB;function QZ(){if(FB)return p_;FB=1;var n=$_e(),e=B_e();p_.openArrayBuffer=t,p_.splitPath=r,p_.joinPath=i;function t(s){return e.loadAsync(s).then(function(a){function o(p){return a.file(p)!==null}function l(p,m){return a.file(p).async("uint8array").then(function(y){if(m==="base64")return n.fromByteArray(y);if(m){var b=new TextDecoder(m);return b.decode(y)}else return y})}function u(p,m){a.file(p,m)}function f(){return a.generateAsync({type:"arraybuffer"})}return{exists:o,read:l,write:u,toArrayBuffer:f}})}function r(s){var a=s.lastIndexOf("/");return a===-1?{dirname:"",basename:s}:{dirname:s.substring(0,a),basename:s.substring(a+1)}}function i(){var s=Array.prototype.filter.call(arguments,function(o){return o}),a=[];return s.forEach(function(o){/^\//.test(o)?a=[o]:a.push(o)}),a.join("/")}return p_}var YC={},Mf={},Rx={},LB;function JZ(){if(LB)return Rx;LB=1;var n=Di;Rx.Element=t,Rx.element=function(s,a,o){return new t(s,a,o)},Rx.text=function(s){return{type:"text",value:s}};var e=Rx.emptyElement={first:function(){return null},firstOrEmpty:function(){return e},attributes:{},children:[]};function t(s,a,o){this.type="element",this.name=s,this.attributes=a||{},this.children=o||[]}t.prototype.first=function(s){return n.find(this.children,function(a){return a.name===s})},t.prototype.firstOrEmpty=function(s){return this.first(s)||e},t.prototype.getElementsByTagName=function(s){var a=n.filter(this.children,function(o){return o.name===s});return i(a)},t.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var r={getElementsByTagName:function(s){return i(n.flatten(this.map(function(a){return a.getElementsByTagName(s)},!0)))}};function i(s){return n.extend(s,r)}return Rx}var uM={},KC={},g_={},jd={},Sg={},IB;function Y3(){if(IB)return Sg;IB=1;function n(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var u=s[l];if(a.call(void 0,u,l,s))return u}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function t(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var r=e({HTML:"text/html",isHTML:function(s){return s===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Sg.assign=t,Sg.find=n,Sg.freeze=e,Sg.MIME_TYPE=r,Sg.NAMESPACE=i,Sg}var $B;function kL(){if($B)return jd;$B=1;var n=Y3(),e=n.find,t=n.NAMESPACE;function r(oe){return oe!==""}function i(oe){return oe?oe.split(/[\t\n\f\r ]+/).filter(r):[]}function s(oe,fe){return oe.hasOwnProperty(fe)||(oe[fe]=!0),oe}function a(oe){if(!oe)return[];var fe=i(oe);return Object.keys(fe.reduce(s,{}))}function o(oe){return function(fe){return oe&&oe.indexOf(fe)!==-1}}function l(oe,fe){for(var De in oe)Object.prototype.hasOwnProperty.call(oe,De)&&(fe[De]=oe[De])}function u(oe,fe){var De=oe.prototype;if(!(De instanceof fe)){let ze=function(){};ze.prototype=fe.prototype,ze=new ze,l(De,ze),oe.prototype=De=ze}De.constructor!=oe&&(typeof oe!="function"&&console.error("unknown Class:"+oe),De.constructor=oe)}var f={},p=f.ELEMENT_NODE=1,m=f.ATTRIBUTE_NODE=2,y=f.TEXT_NODE=3,b=f.CDATA_SECTION_NODE=4,x=f.ENTITY_REFERENCE_NODE=5,w=f.ENTITY_NODE=6,S=f.PROCESSING_INSTRUCTION_NODE=7,T=f.COMMENT_NODE=8,E=f.DOCUMENT_NODE=9,R=f.DOCUMENT_TYPE_NODE=10,N=f.DOCUMENT_FRAGMENT_NODE=11,U=f.NOTATION_NODE=12,O={},M={};O.INDEX_SIZE_ERR=(M[1]="Index size error",1),O.DOMSTRING_SIZE_ERR=(M[2]="DOMString size error",2);var P=O.HIERARCHY_REQUEST_ERR=(M[3]="Hierarchy request error",3);O.WRONG_DOCUMENT_ERR=(M[4]="Wrong document",4),O.INVALID_CHARACTER_ERR=(M[5]="Invalid character",5),O.NO_DATA_ALLOWED_ERR=(M[6]="No data allowed",6),O.NO_MODIFICATION_ALLOWED_ERR=(M[7]="No modification allowed",7);var H=O.NOT_FOUND_ERR=(M[8]="Not found",8);O.NOT_SUPPORTED_ERR=(M[9]="Not supported",9);var X=O.INUSE_ATTRIBUTE_ERR=(M[10]="Attribute in use",10);O.INVALID_STATE_ERR=(M[11]="Invalid state",11),O.SYNTAX_ERR=(M[12]="Syntax error",12),O.INVALID_MODIFICATION_ERR=(M[13]="Invalid modification",13),O.NAMESPACE_ERR=(M[14]="Invalid namespace",14),O.INVALID_ACCESS_ERR=(M[15]="Invalid access",15);function I(oe,fe){if(fe instanceof Error)var De=fe;else De=this,Error.call(this,M[oe]),this.message=M[oe],Error.captureStackTrace&&Error.captureStackTrace(this,I);return De.code=oe,fe&&(this.message=this.message+": "+fe),De}I.prototype=Error.prototype,l(O,I);function q(){}q.prototype={length:0,item:function(oe){return oe>=0&&oe<this.length?this[oe]:null},toString:function(oe,fe){for(var De=[],ze=0;ze<this.length;ze++)Et(this[ze],De,oe,fe);return De.join("")},filter:function(oe){return Array.prototype.filter.call(this,oe)},indexOf:function(oe){return Array.prototype.indexOf.call(this,oe)}};function L(oe,fe){this._node=oe,this._refresh=fe,te(this)}function te(oe){var fe=oe._node._inc||oe._node.ownerDocument._inc;if(oe._inc!==fe){var De=oe._refresh(oe._node);if(Ea(oe,"length",De.length),!oe.$$length||De.length<oe.$$length)for(var ze=De.length;ze in oe;ze++)Object.prototype.hasOwnProperty.call(oe,ze)&&delete oe[ze];l(De,oe),oe._inc=fe}}L.prototype.item=function(oe){return te(this),this[oe]||null},u(L,q);function B(){}function W(oe,fe){for(var De=oe.length;De--;)if(oe[De]===fe)return De}function se(oe,fe,De,ze){if(ze?fe[W(fe,ze)]=De:fe[fe.length++]=De,oe){De.ownerElement=oe;var dt=oe.ownerDocument;dt&&(ze&&Re(dt,oe,ze),we(dt,oe,De))}}function K(oe,fe,De){var ze=W(fe,De);if(ze>=0){for(var dt=fe.length-1;ze<dt;)fe[ze]=fe[++ze];if(fe.length=dt,oe){var Ct=oe.ownerDocument;Ct&&(Re(Ct,oe,De),De.ownerElement=null)}}else throw new I(H,new Error(oe.tagName+"@"+De))}B.prototype={length:0,item:q.prototype.item,getNamedItem:function(oe){for(var fe=this.length;fe--;){var De=this[fe];if(De.nodeName==oe)return De}},setNamedItem:function(oe){var fe=oe.ownerElement;if(fe&&fe!=this._ownerElement)throw new I(X);var De=this.getNamedItem(oe.nodeName);return se(this._ownerElement,this,oe,De),De},setNamedItemNS:function(oe){var fe=oe.ownerElement,De;if(fe&&fe!=this._ownerElement)throw new I(X);return De=this.getNamedItemNS(oe.namespaceURI,oe.localName),se(this._ownerElement,this,oe,De),De},removeNamedItem:function(oe){var fe=this.getNamedItem(oe);return K(this._ownerElement,this,fe),fe},removeNamedItemNS:function(oe,fe){var De=this.getNamedItemNS(oe,fe);return K(this._ownerElement,this,De),De},getNamedItemNS:function(oe,fe){for(var De=this.length;De--;){var ze=this[De];if(ze.localName==fe&&ze.namespaceURI==oe)return ze}return null}};function G(){}G.prototype={hasFeature:function(oe,fe){return!0},createDocument:function(oe,fe,De){var ze=new xe;if(ze.implementation=this,ze.childNodes=new q,ze.doctype=De||null,De&&ze.appendChild(De),fe){var dt=ze.createElementNS(oe,fe);ze.appendChild(dt)}return ze},createDocumentType:function(oe,fe,De){var ze=new Fe;return ze.name=oe,ze.nodeName=oe,ze.publicId=fe||"",ze.systemId=De||"",ze}};function Y(){}Y.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(oe,fe){return ye(this,oe,fe)},replaceChild:function(oe,fe){ye(this,oe,fe,ce),fe&&this.removeChild(fe)},removeChild:function(oe){return Me(this,oe)},appendChild:function(oe){return this.insertBefore(oe,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(oe){return vr(this.ownerDocument||this,this,oe)},normalize:function(){for(var oe=this.firstChild;oe;){var fe=oe.nextSibling;fe&&fe.nodeType==y&&oe.nodeType==y?(this.removeChild(fe),oe.appendData(fe.data)):(oe.normalize(),oe=fe)}},isSupported:function(oe,fe){return this.ownerDocument.implementation.hasFeature(oe,fe)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(oe){for(var fe=this;fe;){var De=fe._nsMap;if(De){for(var ze in De)if(Object.prototype.hasOwnProperty.call(De,ze)&&De[ze]===oe)return ze}fe=fe.nodeType==m?fe.ownerDocument:fe.parentNode}return null},lookupNamespaceURI:function(oe){for(var fe=this;fe;){var De=fe._nsMap;if(De&&Object.prototype.hasOwnProperty.call(De,oe))return De[oe];fe=fe.nodeType==m?fe.ownerDocument:fe.parentNode}return null},isDefaultNamespace:function(oe){var fe=this.lookupPrefix(oe);return fe==null}};function ne(oe){return oe=="<"&&"&lt;"||oe==">"&&"&gt;"||oe=="&"&&"&amp;"||oe=='"'&&"&quot;"||"&#"+oe.charCodeAt()+";"}l(f,Y),l(f,Y.prototype);function le(oe,fe){if(fe(oe))return!0;if(oe=oe.firstChild)do if(le(oe,fe))return!0;while(oe=oe.nextSibling)}function xe(){this.ownerDocument=this}function we(oe,fe,De){oe&&oe._inc++;var ze=De.namespaceURI;ze===t.XMLNS&&(fe._nsMap[De.prefix?De.localName:""]=De.value)}function Re(oe,fe,De,ze){oe&&oe._inc++;var dt=De.namespaceURI;dt===t.XMLNS&&delete fe._nsMap[De.prefix?De.localName:""]}function Ee(oe,fe,De){if(oe&&oe._inc){oe._inc++;var ze=fe.childNodes;if(De)ze[ze.length++]=De;else{for(var dt=fe.firstChild,Ct=0;dt;)ze[Ct++]=dt,dt=dt.nextSibling;ze.length=Ct,delete ze[ze.length]}}}function Me(oe,fe){var De=fe.previousSibling,ze=fe.nextSibling;return De?De.nextSibling=ze:oe.firstChild=ze,ze?ze.previousSibling=De:oe.lastChild=De,fe.parentNode=null,fe.previousSibling=null,fe.nextSibling=null,Ee(oe.ownerDocument,oe),fe}function Ye(oe){return oe&&(oe.nodeType===Y.DOCUMENT_NODE||oe.nodeType===Y.DOCUMENT_FRAGMENT_NODE||oe.nodeType===Y.ELEMENT_NODE)}function Ke(oe){return oe&&(lt(oe)||st(oe)||Le(oe)||oe.nodeType===Y.DOCUMENT_FRAGMENT_NODE||oe.nodeType===Y.COMMENT_NODE||oe.nodeType===Y.PROCESSING_INSTRUCTION_NODE)}function Le(oe){return oe&&oe.nodeType===Y.DOCUMENT_TYPE_NODE}function lt(oe){return oe&&oe.nodeType===Y.ELEMENT_NODE}function st(oe){return oe&&oe.nodeType===Y.TEXT_NODE}function $(oe,fe){var De=oe.childNodes||[];if(e(De,lt)||Le(fe))return!1;var ze=e(De,Le);return!(fe&&ze&&De.indexOf(ze)>De.indexOf(fe))}function ge(oe,fe){var De=oe.childNodes||[];function ze(Ct){return lt(Ct)&&Ct!==fe}if(e(De,ze))return!1;var dt=e(De,Le);return!(fe&&dt&&De.indexOf(dt)>De.indexOf(fe))}function ve(oe,fe,De){if(!Ye(oe))throw new I(P,"Unexpected parent node type "+oe.nodeType);if(De&&De.parentNode!==oe)throw new I(H,"child not in parent");if(!Ke(fe)||Le(fe)&&oe.nodeType!==Y.DOCUMENT_NODE)throw new I(P,"Unexpected node type "+fe.nodeType+" for parent node type "+oe.nodeType)}function ae(oe,fe,De){var ze=oe.childNodes||[],dt=fe.childNodes||[];if(fe.nodeType===Y.DOCUMENT_FRAGMENT_NODE){var Ct=dt.filter(lt);if(Ct.length>1||e(dt,st))throw new I(P,"More than one element or text in fragment");if(Ct.length===1&&!$(oe,De))throw new I(P,"Element in fragment can not be inserted before doctype")}if(lt(fe)&&!$(oe,De))throw new I(P,"Only one element can be added and only after doctype");if(Le(fe)){if(e(ze,Le))throw new I(P,"Only one doctype is allowed");var On=e(ze,lt);if(De&&ze.indexOf(On)<ze.indexOf(De))throw new I(P,"Doctype can only be inserted before an element");if(!De&&On)throw new I(P,"Doctype can not be appended since element is present")}}function ce(oe,fe,De){var ze=oe.childNodes||[],dt=fe.childNodes||[];if(fe.nodeType===Y.DOCUMENT_FRAGMENT_NODE){var Ct=dt.filter(lt);if(Ct.length>1||e(dt,st))throw new I(P,"More than one element or text in fragment");if(Ct.length===1&&!ge(oe,De))throw new I(P,"Element in fragment can not be inserted before doctype")}if(lt(fe)&&!ge(oe,De))throw new I(P,"Only one element can be added and only after doctype");if(Le(fe)){if(e(ze,function(co){return Le(co)&&co!==De}))throw new I(P,"Only one doctype is allowed");var On=e(ze,lt);if(De&&ze.indexOf(On)<ze.indexOf(De))throw new I(P,"Doctype can only be inserted before an element")}}function ye(oe,fe,De,ze){ve(oe,fe,De),oe.nodeType===Y.DOCUMENT_NODE&&(ze||ae)(oe,fe,De);var dt=fe.parentNode;if(dt&&dt.removeChild(fe),fe.nodeType===N){var Ct=fe.firstChild;if(Ct==null)return fe;var On=fe.lastChild}else Ct=On=fe;var ii=De?De.previousSibling:oe.lastChild;Ct.previousSibling=ii,On.nextSibling=De,ii?ii.nextSibling=Ct:oe.firstChild=Ct,De==null?oe.lastChild=On:De.previousSibling=On;do Ct.parentNode=oe;while(Ct!==On&&(Ct=Ct.nextSibling));return Ee(oe.ownerDocument||oe,oe),fe.nodeType==N&&(fe.firstChild=fe.lastChild=null),fe}function ke(oe,fe){return fe.parentNode&&fe.parentNode.removeChild(fe),fe.parentNode=oe,fe.previousSibling=oe.lastChild,fe.nextSibling=null,fe.previousSibling?fe.previousSibling.nextSibling=fe:oe.firstChild=fe,oe.lastChild=fe,Ee(oe.ownerDocument,oe,fe),fe}xe.prototype={nodeName:"#document",nodeType:E,doctype:null,documentElement:null,_inc:1,insertBefore:function(oe,fe){if(oe.nodeType==N){for(var De=oe.firstChild;De;){var ze=De.nextSibling;this.insertBefore(De,fe),De=ze}return oe}return ye(this,oe,fe),oe.ownerDocument=this,this.documentElement===null&&oe.nodeType===p&&(this.documentElement=oe),oe},removeChild:function(oe){return this.documentElement==oe&&(this.documentElement=null),Me(this,oe)},replaceChild:function(oe,fe){ye(this,oe,fe,ce),oe.ownerDocument=this,fe&&this.removeChild(fe),lt(oe)&&(this.documentElement=oe)},importNode:function(oe,fe){return vn(this,oe,fe)},getElementById:function(oe){var fe=null;return le(this.documentElement,function(De){if(De.nodeType==p&&De.getAttribute("id")==oe)return fe=De,!0}),fe},getElementsByClassName:function(oe){var fe=a(oe);return new L(this,function(De){var ze=[];return fe.length>0&&le(De.documentElement,function(dt){if(dt!==De&&dt.nodeType===p){var Ct=dt.getAttribute("class");if(Ct){var On=oe===Ct;if(!On){var ii=a(Ct);On=fe.every(o(ii))}On&&ze.push(dt)}}}),ze})},createElement:function(oe){var fe=new be;fe.ownerDocument=this,fe.nodeName=oe,fe.tagName=oe,fe.localName=oe,fe.childNodes=new q;var De=fe.attributes=new B;return De._ownerElement=fe,fe},createDocumentFragment:function(){var oe=new Te;return oe.ownerDocument=this,oe.childNodes=new q,oe},createTextNode:function(oe){var fe=new ue;return fe.ownerDocument=this,fe.appendData(oe),fe},createComment:function(oe){var fe=new me;return fe.ownerDocument=this,fe.appendData(oe),fe},createCDATASection:function(oe){var fe=new Ae;return fe.ownerDocument=this,fe.appendData(oe),fe},createProcessingInstruction:function(oe,fe){var De=new He;return De.ownerDocument=this,De.tagName=De.nodeName=De.target=oe,De.nodeValue=De.data=fe,De},createAttribute:function(oe){var fe=new J;return fe.ownerDocument=this,fe.name=oe,fe.nodeName=oe,fe.localName=oe,fe.specified=!0,fe},createEntityReference:function(oe){var fe=new ut;return fe.ownerDocument=this,fe.nodeName=oe,fe},createElementNS:function(oe,fe){var De=new be,ze=fe.split(":"),dt=De.attributes=new B;return De.childNodes=new q,De.ownerDocument=this,De.nodeName=fe,De.tagName=fe,De.namespaceURI=oe,ze.length==2?(De.prefix=ze[0],De.localName=ze[1]):De.localName=fe,dt._ownerElement=De,De},createAttributeNS:function(oe,fe){var De=new J,ze=fe.split(":");return De.ownerDocument=this,De.nodeName=fe,De.name=fe,De.namespaceURI=oe,De.specified=!0,ze.length==2?(De.prefix=ze[0],De.localName=ze[1]):De.localName=fe,De}},u(xe,Y);function be(){this._nsMap={}}be.prototype={nodeType:p,hasAttribute:function(oe){return this.getAttributeNode(oe)!=null},getAttribute:function(oe){var fe=this.getAttributeNode(oe);return fe&&fe.value||""},getAttributeNode:function(oe){return this.attributes.getNamedItem(oe)},setAttribute:function(oe,fe){var De=this.ownerDocument.createAttribute(oe);De.value=De.nodeValue=""+fe,this.setAttributeNode(De)},removeAttribute:function(oe){var fe=this.getAttributeNode(oe);fe&&this.removeAttributeNode(fe)},appendChild:function(oe){return oe.nodeType===N?this.insertBefore(oe,null):ke(this,oe)},setAttributeNode:function(oe){return this.attributes.setNamedItem(oe)},setAttributeNodeNS:function(oe){return this.attributes.setNamedItemNS(oe)},removeAttributeNode:function(oe){return this.attributes.removeNamedItem(oe.nodeName)},removeAttributeNS:function(oe,fe){var De=this.getAttributeNodeNS(oe,fe);De&&this.removeAttributeNode(De)},hasAttributeNS:function(oe,fe){return this.getAttributeNodeNS(oe,fe)!=null},getAttributeNS:function(oe,fe){var De=this.getAttributeNodeNS(oe,fe);return De&&De.value||""},setAttributeNS:function(oe,fe,De){var ze=this.ownerDocument.createAttributeNS(oe,fe);ze.value=ze.nodeValue=""+De,this.setAttributeNode(ze)},getAttributeNodeNS:function(oe,fe){return this.attributes.getNamedItemNS(oe,fe)},getElementsByTagName:function(oe){return new L(this,function(fe){var De=[];return le(fe,function(ze){ze!==fe&&ze.nodeType==p&&(oe==="*"||ze.tagName==oe)&&De.push(ze)}),De})},getElementsByTagNameNS:function(oe,fe){return new L(this,function(De){var ze=[];return le(De,function(dt){dt!==De&&dt.nodeType===p&&(oe==="*"||dt.namespaceURI===oe)&&(fe==="*"||dt.localName==fe)&&ze.push(dt)}),ze})}},xe.prototype.getElementsByTagName=be.prototype.getElementsByTagName,xe.prototype.getElementsByTagNameNS=be.prototype.getElementsByTagNameNS,u(be,Y);function J(){}J.prototype.nodeType=m,u(J,Y);function Q(){}Q.prototype={data:"",substringData:function(oe,fe){return this.data.substring(oe,oe+fe)},appendData:function(oe){oe=this.data+oe,this.nodeValue=this.data=oe,this.length=oe.length},insertData:function(oe,fe){this.replaceData(oe,0,fe)},appendChild:function(oe){throw new Error(M[P])},deleteData:function(oe,fe){this.replaceData(oe,fe,"")},replaceData:function(oe,fe,De){var ze=this.data.substring(0,oe),dt=this.data.substring(oe+fe);De=ze+De+dt,this.nodeValue=this.data=De,this.length=De.length}},u(Q,Y);function ue(){}ue.prototype={nodeName:"#text",nodeType:y,splitText:function(oe){var fe=this.data,De=fe.substring(oe);fe=fe.substring(0,oe),this.data=this.nodeValue=fe,this.length=fe.length;var ze=this.ownerDocument.createTextNode(De);return this.parentNode&&this.parentNode.insertBefore(ze,this.nextSibling),ze}},u(ue,Q);function me(){}me.prototype={nodeName:"#comment",nodeType:T},u(me,Q);function Ae(){}Ae.prototype={nodeName:"#cdata-section",nodeType:b},u(Ae,Q);function Fe(){}Fe.prototype.nodeType=R,u(Fe,Y);function Ge(){}Ge.prototype.nodeType=U,u(Ge,Y);function at(){}at.prototype.nodeType=w,u(at,Y);function ut(){}ut.prototype.nodeType=x,u(ut,Y);function Te(){}Te.prototype.nodeName="#document-fragment",Te.prototype.nodeType=N,u(Te,Y);function He(){}He.prototype.nodeType=S,u(He,Y);function et(){}et.prototype.serializeToString=function(oe,fe,De){return ht.call(oe,fe,De)},Y.prototype.toString=ht;function ht(oe,fe){var De=[],ze=this.nodeType==9&&this.documentElement||this,dt=ze.prefix,Ct=ze.namespaceURI;if(Ct&&dt==null){var dt=ze.lookupPrefix(Ct);if(dt==null)var On=[{namespace:Ct,prefix:null}]}return Et(this,De,oe,fe,On),De.join("")}function Tt(oe,fe,De){var ze=oe.prefix||"",dt=oe.namespaceURI;if(!dt||ze==="xml"&&dt===t.XML||dt===t.XMLNS)return!1;for(var Ct=De.length;Ct--;){var On=De[Ct];if(On.prefix===ze)return On.namespace!==dt}return!0}function gt(oe,fe,De){oe.push(" ",fe,'="',De.replace(/[<>&"\t\n\r]/g,ne),'"')}function Et(oe,fe,De,ze,dt){if(dt||(dt=[]),ze)if(oe=ze(oe),oe){if(typeof oe=="string"){fe.push(oe);return}}else return;switch(oe.nodeType){case p:var Ct=oe.attributes,On=Ct.length,Ir=oe.firstChild,ii=oe.tagName;De=t.isHTML(oe.namespaceURI)||De;var co=ii;if(!De&&!oe.prefix&&oe.namespaceURI){for(var Pi,Yn=0;Yn<Ct.length;Yn++)if(Ct.item(Yn).name==="xmlns"){Pi=Ct.item(Yn).value;break}if(!Pi)for(var Lr=dt.length-1;Lr>=0;Lr--){var Hi=dt[Lr];if(Hi.prefix===""&&Hi.namespace===oe.namespaceURI){Pi=Hi.namespace;break}}if(Pi!==oe.namespaceURI)for(var Lr=dt.length-1;Lr>=0;Lr--){var Hi=dt[Lr];if(Hi.namespace===oe.namespaceURI){Hi.prefix&&(co=Hi.prefix+":"+ii);break}}}fe.push("<",co);for(var uo=0;uo<On;uo++){var Ca=Ct.item(uo);Ca.prefix=="xmlns"?dt.push({prefix:Ca.localName,namespace:Ca.value}):Ca.nodeName=="xmlns"&&dt.push({prefix:"",namespace:Ca.value})}for(var uo=0;uo<On;uo++){var Ca=Ct.item(uo);if(Tt(Ca,De,dt)){var Il=Ca.prefix||"",Bc=Ca.namespaceURI;gt(fe,Il?"xmlns:"+Il:"xmlns",Bc),dt.push({prefix:Il,namespace:Bc})}Et(Ca,fe,De,ze,dt)}if(ii===co&&Tt(oe,De,dt)){var Il=oe.prefix||"",Bc=oe.namespaceURI;gt(fe,Il?"xmlns:"+Il:"xmlns",Bc),dt.push({prefix:Il,namespace:Bc})}if(Ir||De&&!/^(?:meta|link|img|br|hr|input)$/i.test(ii)){if(fe.push(">"),De&&/^script$/i.test(ii))for(;Ir;)Ir.data?fe.push(Ir.data):Et(Ir,fe,De,ze,dt.slice()),Ir=Ir.nextSibling;else for(;Ir;)Et(Ir,fe,De,ze,dt.slice()),Ir=Ir.nextSibling;fe.push("</",co,">")}else fe.push("/>");return;case E:case N:for(var Ir=oe.firstChild;Ir;)Et(Ir,fe,De,ze,dt.slice()),Ir=Ir.nextSibling;return;case m:return gt(fe,oe.name,oe.value);case y:return fe.push(oe.data.replace(/[<&>]/g,ne));case b:return fe.push("<![CDATA[",oe.data,"]]>");case T:return fe.push("<!--",oe.data,"-->");case R:var Ph=oe.publicId,Js=oe.systemId;if(fe.push("<!DOCTYPE ",oe.name),Ph)fe.push(" PUBLIC ",Ph),Js&&Js!="."&&fe.push(" ",Js),fe.push(">");else if(Js&&Js!=".")fe.push(" SYSTEM ",Js,">");else{var $l=oe.internalSubset;$l&&fe.push(" [",$l,"]"),fe.push(">")}return;case S:return fe.push("<?",oe.target," ",oe.data,"?>");case x:return fe.push("&",oe.nodeName,";");default:fe.push("??",oe.nodeName)}}function vn(oe,fe,De){var ze;switch(fe.nodeType){case p:ze=fe.cloneNode(!1),ze.ownerDocument=oe;case N:break;case m:De=!0;break}if(ze||(ze=fe.cloneNode(!1)),ze.ownerDocument=oe,ze.parentNode=null,De)for(var dt=fe.firstChild;dt;)ze.appendChild(vn(oe,dt,De)),dt=dt.nextSibling;return ze}function vr(oe,fe,De){var ze=new fe.constructor;for(var dt in fe)if(Object.prototype.hasOwnProperty.call(fe,dt)){var Ct=fe[dt];typeof Ct!="object"&&Ct!=ze[dt]&&(ze[dt]=Ct)}switch(fe.childNodes&&(ze.childNodes=new q),ze.ownerDocument=oe,ze.nodeType){case p:var On=fe.attributes,ii=ze.attributes=new B,co=On.length;ii._ownerElement=ze;for(var Pi=0;Pi<co;Pi++)ze.setAttributeNode(vr(oe,On.item(Pi),!0));break;case m:De=!0}if(De)for(var Yn=fe.firstChild;Yn;)ze.appendChild(vr(oe,Yn,De)),Yn=Yn.nextSibling;return ze}function Ea(oe,fe,De){oe[fe]=De}try{if(Object.defineProperty){let oe=function(fe){switch(fe.nodeType){case p:case N:var De=[];for(fe=fe.firstChild;fe;)fe.nodeType!==7&&fe.nodeType!==8&&De.push(oe(fe)),fe=fe.nextSibling;return De.join("");default:return fe.nodeValue}};Object.defineProperty(L.prototype,"length",{get:function(){return te(this),this.$$length}}),Object.defineProperty(Y.prototype,"textContent",{get:function(){return oe(this)},set:function(fe){switch(this.nodeType){case p:case N:for(;this.firstChild;)this.removeChild(this.firstChild);(fe||String(fe))&&this.appendChild(this.ownerDocument.createTextNode(fe));break;default:this.data=fe,this.value=fe,this.nodeValue=fe}}}),Ea=function(fe,De,ze){fe["$$"+De]=ze}}}catch{}return jd.DocumentType=Fe,jd.DOMException=I,jd.DOMImplementation=G,jd.Element=be,jd.Node=Y,jd.NodeList=q,jd.XMLSerializer=et,jd}var y_={},dM={},BB;function W_e(){return BB||(BB=1,function(n){var e=Y3().freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),n.entityMap=n.HTML_ENTITIES}(dM)),dM}var ZC={},WB;function z_e(){if(WB)return ZC;WB=1;var n=Y3().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,u=5,f=6,p=7;function m(P,H){this.message=P,this.locator=H,Error.captureStackTrace&&Error.captureStackTrace(this,m)}m.prototype=new Error,m.prototype.name=m.name;function y(){}y.prototype={parse:function(P,H,X){var I=this.domBuilder;I.startDocument(),R(H,H={}),b(P,H,X,I,this.errorHandler),I.endDocument()}};function b(P,H,X,I,q){function L(be){if(be>65535){be-=65536;var J=55296+(be>>10),Q=56320+(be&1023);return String.fromCharCode(J,Q)}else return String.fromCharCode(be)}function te(be){var J=be.slice(1,-1);return Object.hasOwnProperty.call(X,J)?X[J]:J.charAt(0)==="#"?L(parseInt(J.substr(1).replace("x","0x"))):(q.error("entity not found:"+be),be)}function B(be){if(be>xe){var J=P.substring(xe,be).replace(/&#?\w+;/g,te);Y&&W(xe),I.characters(J,0,be-xe),xe=be}}function W(be,J){for(;be>=K&&(J=G.exec(P));)se=J.index,K=se+J[0].length,Y.lineNumber++;Y.columnNumber=be-se+1}for(var se=0,K=0,G=/.*(?:\r\n?|\n)|.*$/g,Y=I.locator,ne=[{currentNSMap:H}],le={},xe=0;;){try{var we=P.indexOf("<",xe);if(we<0){if(!P.substr(xe).match(/^\s*$/)){var Re=I.doc,Ee=Re.createTextNode(P.substr(xe));Re.appendChild(Ee),I.currentElement=Ee}return}switch(we>xe&&B(we),P.charAt(we+1)){case"/":var ve=P.indexOf(">",we+3),Me=P.substring(we+2,ve).replace(/[ \t\n\r]+$/g,""),Ye=ne.pop();ve<0?(Me=P.substring(we+2).replace(/[\s<].*/,""),q.error("end tag name: "+Me+" is not complete:"+Ye.tagName),ve=we+1+Me.length):Me.match(/\s</)&&(Me=Me.replace(/[\s<].*/,""),q.error("end tag name: "+Me+" maybe not complete"),ve=we+1+Me.length);var Ke=Ye.localNSMap,Le=Ye.tagName==Me,lt=Le||Ye.tagName&&Ye.tagName.toLowerCase()==Me.toLowerCase();if(lt){if(I.endElement(Ye.uri,Ye.localName,Me),Ke)for(var st in Ke)Object.prototype.hasOwnProperty.call(Ke,st)&&I.endPrefixMapping(st);Le||q.fatalError("end tag name: "+Me+" is not match the current start tagName:"+Ye.tagName)}else ne.push(Ye);ve++;break;case"?":Y&&W(we),ve=U(P,we,I);break;case"!":Y&&W(we),ve=N(P,we,I,q);break;default:Y&&W(we);var $=new O,ge=ne[ne.length-1].currentNSMap,ve=w(P,we,$,ge,te,q),ae=$.length;if(!$.closed&&E(P,ve,$.tagName,le)&&($.closed=!0,X.nbsp||q.warning("unclosed xml attribute")),Y&&ae){for(var ce=x(Y,{}),ye=0;ye<ae;ye++){var ke=$[ye];W(ke.offset),ke.locator=x(Y,{})}I.locator=ce,S($,I,ge)&&ne.push($),I.locator=Y}else S($,I,ge)&&ne.push($);n.isHTML($.uri)&&!$.closed?ve=T(P,ve,$.tagName,te,I):ve++}}catch(be){if(be instanceof m)throw be;q.error("element parse error: "+be),ve=-1}ve>xe?xe=ve:B(Math.max(we,xe)+1)}}function x(P,H){return H.lineNumber=P.lineNumber,H.columnNumber=P.columnNumber,H}function w(P,H,X,I,q,L){function te(Y,ne,le){X.attributeNames.hasOwnProperty(Y)&&L.fatalError("Attribute "+Y+" redefined"),X.addValue(Y,ne.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,q),le)}for(var B,W,se=++H,K=i;;){var G=P.charAt(se);switch(G){case"=":if(K===s)B=P.slice(H,se),K=o;else if(K===a)K=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(K===o||K===s)if(K===s&&(L.warning('attribute value must after "="'),B=P.slice(H,se)),H=se+1,se=P.indexOf(G,H),se>0)W=P.slice(H,se),te(B,W,H-1),K=u;else throw new Error("attribute value no end '"+G+"' match");else if(K==l)W=P.slice(H,se),te(B,W,H),L.warning('attribute "'+B+'" missed start quot('+G+")!!"),H=se+1,K=u;else throw new Error('attribute value must after "="');break;case"/":switch(K){case i:X.setTagName(P.slice(H,se));case u:case f:case p:K=p,X.closed=!0;case l:case s:break;case a:X.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return L.error("unexpected end of input"),K==i&&X.setTagName(P.slice(H,se)),se;case">":switch(K){case i:X.setTagName(P.slice(H,se));case u:case f:case p:break;case l:case s:W=P.slice(H,se),W.slice(-1)==="/"&&(X.closed=!0,W=W.slice(0,-1));case a:K===a&&(W=B),K==l?(L.warning('attribute "'+W+'" missed quot(")!'),te(B,W,H)):((!n.isHTML(I[""])||!W.match(/^(?:disabled|checked|selected)$/i))&&L.warning('attribute "'+W+'" missed value!! "'+W+'" instead!!'),te(W,W,H));break;case o:throw new Error("attribute value missed!!")}return se;case"":G=" ";default:if(G<=" ")switch(K){case i:X.setTagName(P.slice(H,se)),K=f;break;case s:B=P.slice(H,se),K=a;break;case l:var W=P.slice(H,se);L.warning('attribute "'+W+'" missed quot(")!!'),te(B,W,H);case u:K=f;break}else switch(K){case a:X.tagName,(!n.isHTML(I[""])||!B.match(/^(?:disabled|checked|selected)$/i))&&L.warning('attribute "'+B+'" missed value!! "'+B+'" instead2!!'),te(B,B,H),H=se,K=s;break;case u:L.warning('attribute space is required"'+B+'"!!');case f:K=s,H=se;break;case o:K=l,H=se;break;case p:throw new Error("elements closed character '/' and '>' must be connected to")}}se++}}function S(P,H,X){for(var I=P.tagName,q=null,G=P.length;G--;){var L=P[G],te=L.qName,B=L.value,Y=te.indexOf(":");if(Y>0)var W=L.prefix=te.slice(0,Y),se=te.slice(Y+1),K=W==="xmlns"&&se;else se=te,W=null,K=te==="xmlns"&&"";L.localName=se,K!==!1&&(q==null&&(q={},R(X,X={})),X[K]=q[K]=B,L.uri=n.XMLNS,H.startPrefixMapping(K,B))}for(var G=P.length;G--;){L=P[G];var W=L.prefix;W&&(W==="xml"&&(L.uri=n.XML),W!=="xmlns"&&(L.uri=X[W||""]))}var Y=I.indexOf(":");Y>0?(W=P.prefix=I.slice(0,Y),se=P.localName=I.slice(Y+1)):(W=null,se=P.localName=I);var ne=P.uri=X[W||""];if(H.startElement(ne,se,I,P),P.closed){if(H.endElement(ne,se,I),q)for(W in q)Object.prototype.hasOwnProperty.call(q,W)&&H.endPrefixMapping(W)}else return P.currentNSMap=X,P.localNSMap=q,!0}function T(P,H,X,I,q){if(/^(?:script|textarea)$/i.test(X)){var L=P.indexOf("</"+X+">",H),te=P.substring(H+1,L);if(/[&<]/.test(te))return/^script$/i.test(X)?(q.characters(te,0,te.length),L):(te=te.replace(/&#?\w+;/g,I),q.characters(te,0,te.length),L)}return H+1}function E(P,H,X,I){var q=I[X];return q==null&&(q=P.lastIndexOf("</"+X+">"),q<H&&(q=P.lastIndexOf("</"+X)),I[X]=q),q<H}function R(P,H){for(var X in P)Object.prototype.hasOwnProperty.call(P,X)&&(H[X]=P[X])}function N(P,H,X,I){var q=P.charAt(H+2);switch(q){case"-":if(P.charAt(H+3)==="-"){var L=P.indexOf("-->",H+4);return L>H?(X.comment(P,H+4,L-H-4),L+3):(I.error("Unclosed comment"),-1)}else return-1;default:if(P.substr(H+3,6)=="CDATA["){var L=P.indexOf("]]>",H+9);return X.startCDATA(),X.characters(P,H+9,L-H-9),X.endCDATA(),L+3}var te=M(P,H),B=te.length;if(B>1&&/!doctype/i.test(te[0][0])){var W=te[1][0],se=!1,K=!1;B>3&&(/^public$/i.test(te[2][0])?(se=te[3][0],K=B>4&&te[4][0]):/^system$/i.test(te[2][0])&&(K=te[3][0]));var G=te[B-1];return X.startDTD(W,se,K),X.endDTD(),G.index+G[0].length}}return-1}function U(P,H,X){var I=P.indexOf("?>",H);if(I){var q=P.substring(H,I).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return q?(q[0].length,X.processingInstruction(q[1],q[2]),I+2):-1}return-1}function O(){this.attributeNames={}}O.prototype={setTagName:function(P){if(!r.test(P))throw new Error("invalid tagName:"+P);this.tagName=P},addValue:function(P,H,X){if(!r.test(P))throw new Error("invalid attribute:"+P);this.attributeNames[P]=this.length,this[this.length++]={qName:P,value:H,offset:X}},length:0,getLocalName:function(P){return this[P].localName},getLocator:function(P){return this[P].locator},getQName:function(P){return this[P].qName},getURI:function(P){return this[P].uri},getValue:function(P){return this[P].value}};function M(P,H){var X,I=[],q=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(q.lastIndex=H,q.exec(P);X=q.exec(P);)if(I.push(X),X[1])return I}return ZC.XMLReader=y,ZC.ParseError=m,ZC}var zB;function q_e(){if(zB)return y_;zB=1;var n=Y3(),e=kL(),t=W_e(),r=z_e(),i=e.DOMImplementation,s=n.NAMESPACE,a=r.ParseError,o=r.XMLReader;function l(w){return w.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function u(w){this.options=w||{locator:{}}}u.prototype.parseFromString=function(w,S){var T=this.options,E=new o,R=T.domBuilder||new p,N=T.errorHandler,U=T.locator,O=T.xmlns||{},M=/\/x?html?$/.test(S),P=M?t.HTML_ENTITIES:t.XML_ENTITIES;U&&R.setDocumentLocator(U),E.errorHandler=f(N,R,U),E.domBuilder=T.domBuilder||R,M&&(O[""]=s.HTML),O.xml=O.xml||s.XML;var H=T.normalizeLineEndings||l;return w&&typeof w=="string"?E.parse(H(w),O,P):E.errorHandler.error("invalid doc source"),R.doc};function f(w,S,T){if(!w){if(S instanceof p)return S;w=S}var E={},R=w instanceof Function;T=T||{};function N(U){var O=w[U];!O&&R&&(O=w.length==2?function(M){w(U,M)}:w),E[U]=O&&function(M){O("[xmldom "+U+"]	"+M+y(T))}||function(){}}return N("warning"),N("error"),N("fatalError"),E}function p(){this.cdata=!1}function m(w,S){S.lineNumber=w.lineNumber,S.columnNumber=w.columnNumber}p.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(w,S,T,E){var R=this.doc,N=R.createElementNS(w,T||S),U=E.length;x(this,N),this.currentElement=N,this.locator&&m(this.locator,N);for(var O=0;O<U;O++){var w=E.getURI(O),M=E.getValue(O),T=E.getQName(O),P=R.createAttributeNS(w,T);this.locator&&m(E.getLocator(O),P),P.value=P.nodeValue=M,N.setAttributeNode(P)}},endElement:function(w,S,T){var E=this.currentElement;E.tagName,this.currentElement=E.parentNode},startPrefixMapping:function(w,S){},endPrefixMapping:function(w){},processingInstruction:function(w,S){var T=this.doc.createProcessingInstruction(w,S);this.locator&&m(this.locator,T),x(this,T)},ignorableWhitespace:function(w,S,T){},characters:function(w,S,T){if(w=b.apply(this,arguments),w){if(this.cdata)var E=this.doc.createCDATASection(w);else var E=this.doc.createTextNode(w);this.currentElement?this.currentElement.appendChild(E):/^\s*$/.test(w)&&this.doc.appendChild(E),this.locator&&m(this.locator,E)}},skippedEntity:function(w){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(w){(this.locator=w)&&(w.lineNumber=0)},comment:function(w,S,T){w=b.apply(this,arguments);var E=this.doc.createComment(w);this.locator&&m(this.locator,E),x(this,E)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(w,S,T){var E=this.doc.implementation;if(E&&E.createDocumentType){var R=E.createDocumentType(w,S,T);this.locator&&m(this.locator,R),x(this,R),this.doc.doctype=R}},warning:function(w){console.warn("[xmldom warning]	"+w,y(this.locator))},error:function(w){console.error("[xmldom error]	"+w,y(this.locator))},fatalError:function(w){throw new a(w,this.locator)}};function y(w){if(w)return`
@`+(w.systemId||"")+"#[line:"+w.lineNumber+",col:"+w.columnNumber+"]"}function b(w,S,T){return typeof w=="string"?w.substr(S,T):w.length>=S+T||S?new java.lang.String(w,S,T)+"":w}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(w){p.prototype[w]=function(){return null}});function x(w,S){w.currentElement?w.currentElement.appendChild(S):w.doc.appendChild(S)}return y_.__DOMHandler=p,y_.normalizeLineEndings=l,y_.DOMParser=u,y_}var qB;function H_e(){if(qB)return g_;qB=1;var n=kL();return g_.DOMImplementation=n.DOMImplementation,g_.XMLSerializer=n.XMLSerializer,g_.DOMParser=q_e().DOMParser,g_}var HB;function V_e(){if(HB)return KC;HB=1;var n=H_e(),e=kL();function t(r){var i=null,s=new n.DOMParser({errorHandler:function(o,l){i={level:o,message:l}}}),a=s.parseFromString(r);if(i===null)return a;throw new Error(i.level+": "+i.message)}return KC.parseFromString=t,KC.Node=e.Node,KC}var VB;function G_e(){if(VB)return uM;VB=1;var n=sm(),e=Di,t=V_e(),r=JZ(),i=r.Element;uM.readString=a;var s=t.Node;function a(o,l){l=l||{};try{var u=t.parseFromString(o,"text/xml")}catch(y){return n.reject(y)}if(u.documentElement.tagName==="parsererror")return n.resolve(new Error(u.documentElement.textContent));function f(y){switch(y.nodeType){case s.ELEMENT_NODE:return p(y);case s.TEXT_NODE:return r.text(y.nodeValue)}}function p(y){var b=m(y),x=[];e.forEach(y.childNodes,function(S){var T=f(S);T&&x.push(T)});var w={};return e.forEach(y.attributes,function(S){w[m(S)]=S.value}),new i(b,w,x)}function m(y){if(y.namespaceURI){var b=l[y.namespaceURI],x;return b?x=b+":":x="{"+y.namespaceURI+"}",x+y.localName}else return y.localName}return n.resolve(f(u.documentElement))}return uM}var hM={},Dg={},vu={},GB;function am(){return GB||(GB=1,(function(){var n,e,t,r,i,s,a,o=[].slice,l={}.hasOwnProperty;n=function(){var u,f,p,m,y,b;if(b=arguments[0],y=2<=arguments.length?o.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(u=0,p=y.length;u<p;u++)if(m=y[u],m!=null)for(f in m)l.call(m,f)&&(b[f]=m[f]);return b},i=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},s=function(u){var f;return!!u&&((f=typeof u)=="function"||f==="object")},t=function(u){return i(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},r=function(u){var f;if(t(u))return!u.length;for(f in u)if(l.call(u,f))return!1;return!0},a=function(u){var f,p;return s(u)&&(p=Object.getPrototypeOf(u))&&(f=p.constructor)&&typeof f=="function"&&f instanceof f&&Function.prototype.toString.call(f)===Function.prototype.toString.call(Object)},e=function(u){return i(u.valueOf)?u.valueOf():u},vu.assign=n,vu.isFunction=i,vu.isObject=s,vu.isArray=t,vu.isEmpty=r,vu.isPlainObject=a,vu.getValue=e}).call(vu)),vu}var wN={exports:{}},_N={exports:{}},SN={exports:{}},DN={exports:{}},X_e=DN.exports,XB;function eQ(){return XB||(XB=1,(function(){DN.exports=function(){function n(e,t,r){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,t==null)throw new Error("Missing attribute name. "+this.debugInfo(t));if(r==null)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(r)}return n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},n.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},n}()}).call(X_e)),DN.exports}var Y_e=SN.exports,YB;function K3(){return YB||(YB=1,(function(){var n,e,t,r,i,s,a=function(l,u){for(var f in u)o.call(u,f)&&(l[f]=u[f]);function p(){this.constructor=l}return p.prototype=u.prototype,l.prototype=new p,l.__super__=u.prototype,l},o={}.hasOwnProperty;s=am(),i=s.isObject,r=s.isFunction,t=s.getValue,e=lo(),n=eQ(),SN.exports=function(l){a(u,l);function u(f,p,m){if(u.__super__.constructor.call(this,f),p==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(p),this.attributes={},m!=null&&this.attribute(m),f.isDocument&&(this.isRoot=!0,this.documentObject=f,f.rootObject=this)}return u.prototype.clone=function(){var f,p,m,y;m=Object.create(this),m.isRoot&&(m.documentObject=null),m.attributes={},y=this.attributes;for(p in y)o.call(y,p)&&(f=y[p],m.attributes[p]=f.clone());return m.children=[],this.children.forEach(function(b){var x;return x=b.clone(),x.parent=m,m.children.push(x)}),m},u.prototype.attribute=function(f,p){var m,y;if(f!=null&&(f=t(f)),i(f))for(m in f)o.call(f,m)&&(y=f[m],this.attribute(m,y));else r(p)&&(p=p.apply()),(!this.options.skipNullAttributes||p!=null)&&(this.attributes[f]=new n(this,f,p));return this},u.prototype.removeAttribute=function(f){var p,m,y;if(f==null)throw new Error("Missing attribute name. "+this.debugInfo());if(f=t(f),Array.isArray(f))for(m=0,y=f.length;m<y;m++)p=f[m],delete this.attributes[p];else delete this.attributes[f];return this},u.prototype.toString=function(f){return this.options.writer.set(f).element(this)},u.prototype.att=function(f,p){return this.attribute(f,p)},u.prototype.a=function(f,p){return this.attribute(f,p)},u}(e)}).call(Y_e)),SN.exports}var AN={exports:{}},K_e=AN.exports,KB;function Z3(){return KB||(KB=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),AN.exports=function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).cdata(this)},i}(n)}).call(K_e)),AN.exports}var TN={exports:{}},Z_e=TN.exports,ZB;function Q3(){return ZB||(ZB=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),TN.exports=function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).comment(this)},i}(n)}).call(Z_e)),TN.exports}var EN={exports:{}},Q_e=EN.exports,QB;function J3(){return QB||(QB=1,(function(){var n,e,t=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=am().isObject,n=lo(),EN.exports=function(i){t(s,i);function s(a,o,l,u){var f;s.__super__.constructor.call(this,a),e(o)&&(f=o,o=f.version,l=f.encoding,u=f.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),l!=null&&(this.encoding=this.stringify.xmlEncoding(l)),u!=null&&(this.standalone=this.stringify.xmlStandalone(u))}return s.prototype.toString=function(a){return this.options.writer.set(a).declaration(this)},s}(n)}).call(Q_e)),EN.exports}var CN={exports:{}},NN={exports:{}},J_e=NN.exports,JB;function ek(){return JB||(JB=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),NN.exports=function(r){e(i,r);function i(s,a,o,l,u,f){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(a));if(!l)throw new Error("Missing DTD attribute type. "+this.debugInfo(a));if(!u)throw new Error("Missing DTD attribute default. "+this.debugInfo(a));if(u.indexOf("#")!==0&&(u="#"+u),!u.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(a));if(f&&!u.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(a));this.elementName=this.stringify.eleName(a),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(l),this.defaultValue=this.stringify.dtdAttDefault(f),this.defaultValueType=u}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdAttList(this)},i}(n)}).call(J_e)),NN.exports}var RN={exports:{}},eSe=RN.exports,e7;function tk(){return e7||(e7=1,(function(){var n,e,t=function(i,s){for(var a in s)r.call(s,a)&&(i[a]=s[a]);function o(){this.constructor=i}return o.prototype=s.prototype,i.prototype=new o,i.__super__=s.prototype,i},r={}.hasOwnProperty;e=am().isObject,n=lo(),RN.exports=function(i){t(s,i);function s(a,o,l,u){if(s.__super__.constructor.call(this,a),l==null)throw new Error("Missing DTD entity name. "+this.debugInfo(l));if(u==null)throw new Error("Missing DTD entity value. "+this.debugInfo(l));if(this.pe=!!o,this.name=this.stringify.eleName(l),!e(u))this.value=this.stringify.dtdEntityValue(u);else{if(!u.pubID&&!u.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(l));if(u.pubID&&!u.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(l));if(u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID)),u.nData!=null&&(this.nData=this.stringify.dtdNData(u.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(l))}}return s.prototype.toString=function(a){return this.options.writer.set(a).dtdEntity(this)},s}(n)}).call(eSe)),RN.exports}var jN={exports:{}},tSe=jN.exports,t7;function nk(){return t7||(t7=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),jN.exports=function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(a),this.value=this.stringify.dtdElementValue(o)}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdElement(this)},i}(n)}).call(tSe)),jN.exports}var kN={exports:{}},nSe=kN.exports,n7;function rk(){return n7||(n7=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),kN.exports=function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing DTD notation name. "+this.debugInfo(a));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(a));this.name=this.stringify.eleName(a),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return i.prototype.toString=function(s){return this.options.writer.set(s).dtdNotation(this)},i}(n)}).call(nSe)),kN.exports}var rSe=CN.exports,r7;function ik(){return r7||(r7=1,(function(){var n,e,t,r,i,s,a=function(l,u){for(var f in u)o.call(u,f)&&(l[f]=u[f]);function p(){this.constructor=l}return p.prototype=u.prototype,l.prototype=new p,l.__super__=u.prototype,l},o={}.hasOwnProperty;s=am().isObject,i=lo(),n=ek(),t=tk(),e=nk(),r=rk(),CN.exports=function(l){a(u,l);function u(f,p,m){var y,b;u.__super__.constructor.call(this,f),this.name="!DOCTYPE",this.documentObject=f,s(p)&&(y=p,p=y.pubID,m=y.sysID),m==null&&(b=[p,m],m=b[0],p=b[1]),p!=null&&(this.pubID=this.stringify.dtdPubID(p)),m!=null&&(this.sysID=this.stringify.dtdSysID(m))}return u.prototype.element=function(f,p){var m;return m=new e(this,f,p),this.children.push(m),this},u.prototype.attList=function(f,p,m,y,b){var x;return x=new n(this,f,p,m,y,b),this.children.push(x),this},u.prototype.entity=function(f,p){var m;return m=new t(this,!1,f,p),this.children.push(m),this},u.prototype.pEntity=function(f,p){var m;return m=new t(this,!0,f,p),this.children.push(m),this},u.prototype.notation=function(f,p){var m;return m=new r(this,f,p),this.children.push(m),this},u.prototype.toString=function(f){return this.options.writer.set(f).docType(this)},u.prototype.ele=function(f,p){return this.element(f,p)},u.prototype.att=function(f,p,m,y,b){return this.attList(f,p,m,y,b)},u.prototype.ent=function(f,p){return this.entity(f,p)},u.prototype.pent=function(f,p){return this.pEntity(f,p)},u.prototype.not=function(f,p){return this.notation(f,p)},u.prototype.up=function(){return this.root()||this.documentObject},u}(i)}).call(rSe)),CN.exports}var UN={exports:{}},iSe=UN.exports,i7;function sk(){return i7||(i7=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),UN.exports=function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).raw(this)},i}(n)}).call(iSe)),UN.exports}var ON={exports:{}},sSe=ON.exports,s7;function ak(){return s7||(s7=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),ON.exports=function(r){e(i,r);function i(s,a){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(a)}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).text(this)},i}(n)}).call(sSe)),ON.exports}var MN={exports:{}},aSe=MN.exports,a7;function ok(){return a7||(a7=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),MN.exports=function(r){e(i,r);function i(s,a,o){if(i.__super__.constructor.call(this,s),a==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(a),o&&(this.value=this.stringify.insValue(o))}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return this.options.writer.set(s).processingInstruction(this)},i}(n)}).call(aSe)),MN.exports}var PN={exports:{}},oSe=PN.exports,o7;function UL(){return o7||(o7=1,(function(){var n,e=function(r,i){for(var s in i)t.call(i,s)&&(r[s]=i[s]);function a(){this.constructor=r}return a.prototype=i.prototype,r.prototype=new a,r.__super__=i.prototype,r},t={}.hasOwnProperty;n=lo(),PN.exports=function(r){e(i,r);function i(s){i.__super__.constructor.call(this,s),this.isDummy=!0}return i.prototype.clone=function(){return Object.create(this)},i.prototype.toString=function(s){return""},i}(n)}).call(oSe)),PN.exports}var lSe=_N.exports,l7;function lo(){return l7||(l7=1,(function(){var n,e,t,r,i,s,a,o,l,u,f,p,m,y,b={}.hasOwnProperty;y=am(),m=y.isObject,p=y.isFunction,f=y.isEmpty,u=y.getValue,s=null,n=null,e=null,t=null,r=null,o=null,l=null,a=null,i=null,_N.exports=function(){function x(w){this.parent=w,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],s||(s=K3(),n=Z3(),e=Q3(),t=J3(),r=ik(),o=sk(),l=ak(),a=ok(),i=UL())}return x.prototype.element=function(w,S,T){var E,R,N,U,O,M,P,H,X,I,q;if(M=null,S===null&&T==null&&(X=[{},null],S=X[0],T=X[1]),S==null&&(S={}),S=u(S),m(S)||(I=[S,T],T=I[0],S=I[1]),w!=null&&(w=u(w)),Array.isArray(w))for(N=0,P=w.length;N<P;N++)R=w[N],M=this.element(R);else if(p(w))M=this.element(w.apply());else if(m(w)){for(O in w)if(b.call(w,O))if(q=w[O],p(q)&&(q=q.apply()),m(q)&&f(q)&&(q=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&O.indexOf(this.stringify.convertAttKey)===0)M=this.attribute(O.substr(this.stringify.convertAttKey.length),q);else if(!this.options.separateArrayItems&&Array.isArray(q))for(U=0,H=q.length;U<H;U++)R=q[U],E={},E[O]=R,M=this.element(E);else m(q)?(M=this.element(O),M.element(q)):M=this.element(O,q)}else this.options.skipNullNodes&&T===null?M=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&w.indexOf(this.stringify.convertTextKey)===0?M=this.text(T):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&w.indexOf(this.stringify.convertCDataKey)===0?M=this.cdata(T):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&w.indexOf(this.stringify.convertCommentKey)===0?M=this.comment(T):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&w.indexOf(this.stringify.convertRawKey)===0?M=this.raw(T):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&w.indexOf(this.stringify.convertPIKey)===0?M=this.instruction(w.substr(this.stringify.convertPIKey.length),T):M=this.node(w,S,T);if(M==null)throw new Error("Could not create any elements with: "+w+". "+this.debugInfo());return M},x.prototype.insertBefore=function(w,S,T){var E,R,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(w));return R=this.parent.children.indexOf(this),N=this.parent.children.splice(R),E=this.parent.element(w,S,T),Array.prototype.push.apply(this.parent.children,N),E},x.prototype.insertAfter=function(w,S,T){var E,R,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(w));return R=this.parent.children.indexOf(this),N=this.parent.children.splice(R+1),E=this.parent.element(w,S,T),Array.prototype.push.apply(this.parent.children,N),E},x.prototype.remove=function(){var w;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return w=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[w,w-w+1].concat([])),this.parent},x.prototype.node=function(w,S,T){var E,R;return w!=null&&(w=u(w)),S||(S={}),S=u(S),m(S)||(R=[S,T],T=R[0],S=R[1]),E=new s(this,w,S),T!=null&&E.text(T),this.children.push(E),E},x.prototype.text=function(w){var S;return S=new l(this,w),this.children.push(S),this},x.prototype.cdata=function(w){var S;return S=new n(this,w),this.children.push(S),this},x.prototype.comment=function(w){var S;return S=new e(this,w),this.children.push(S),this},x.prototype.commentBefore=function(w){var S,T;return S=this.parent.children.indexOf(this),T=this.parent.children.splice(S),this.parent.comment(w),Array.prototype.push.apply(this.parent.children,T),this},x.prototype.commentAfter=function(w){var S,T;return S=this.parent.children.indexOf(this),T=this.parent.children.splice(S+1),this.parent.comment(w),Array.prototype.push.apply(this.parent.children,T),this},x.prototype.raw=function(w){var S;return S=new o(this,w),this.children.push(S),this},x.prototype.dummy=function(){var w;return w=new i(this),this.children.push(w),w},x.prototype.instruction=function(w,S){var T,E,R,N,U;if(w!=null&&(w=u(w)),S!=null&&(S=u(S)),Array.isArray(w))for(N=0,U=w.length;N<U;N++)T=w[N],this.instruction(T);else if(m(w))for(T in w)b.call(w,T)&&(E=w[T],this.instruction(T,E));else p(S)&&(S=S.apply()),R=new a(this,w,S),this.children.push(R);return this},x.prototype.instructionBefore=function(w,S){var T,E;return T=this.parent.children.indexOf(this),E=this.parent.children.splice(T),this.parent.instruction(w,S),Array.prototype.push.apply(this.parent.children,E),this},x.prototype.instructionAfter=function(w,S){var T,E;return T=this.parent.children.indexOf(this),E=this.parent.children.splice(T+1),this.parent.instruction(w,S),Array.prototype.push.apply(this.parent.children,E),this},x.prototype.declaration=function(w,S,T){var E,R;return E=this.document(),R=new t(E,w,S,T),E.children[0]instanceof t?E.children[0]=R:E.children.unshift(R),E.root()||E},x.prototype.doctype=function(w,S){var T,E,R,N,U,O,M,P,H,X;for(E=this.document(),R=new r(E,w,S),H=E.children,N=U=0,M=H.length;U<M;N=++U)if(T=H[N],T instanceof r)return E.children[N]=R,R;for(X=E.children,N=O=0,P=X.length;O<P;N=++O)if(T=X[N],T.isRoot)return E.children.splice(N,0,R),R;return E.children.push(R),R},x.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},x.prototype.root=function(){var w;for(w=this;w;){if(w.isDocument)return w.rootObject;if(w.isRoot)return w;w=w.parent}},x.prototype.document=function(){var w;for(w=this;w;){if(w.isDocument)return w;w=w.parent}},x.prototype.end=function(w){return this.document().end(w)},x.prototype.prev=function(){var w;for(w=this.parent.children.indexOf(this);w>0&&this.parent.children[w-1].isDummy;)w=w-1;if(w<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[w-1]},x.prototype.next=function(){var w;for(w=this.parent.children.indexOf(this);w<this.parent.children.length-1&&this.parent.children[w+1].isDummy;)w=w+1;if(w===-1||w===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[w+1]},x.prototype.importDocument=function(w){var S;return S=w.root().clone(),S.parent=this,S.isRoot=!1,this.children.push(S),this},x.prototype.debugInfo=function(w){var S,T;return w=w||this.name,w==null&&!((S=this.parent)!=null&&S.name)?"":w==null?"parent: <"+this.parent.name+">":(T=this.parent)!=null&&T.name?"node: <"+w+">, parent: <"+this.parent.name+">":"node: <"+w+">"},x.prototype.ele=function(w,S,T){return this.element(w,S,T)},x.prototype.nod=function(w,S,T){return this.node(w,S,T)},x.prototype.txt=function(w){return this.text(w)},x.prototype.dat=function(w){return this.cdata(w)},x.prototype.com=function(w){return this.comment(w)},x.prototype.ins=function(w,S){return this.instruction(w,S)},x.prototype.doc=function(){return this.document()},x.prototype.dec=function(w,S,T){return this.declaration(w,S,T)},x.prototype.dtd=function(w,S){return this.doctype(w,S)},x.prototype.e=function(w,S,T){return this.element(w,S,T)},x.prototype.n=function(w,S,T){return this.node(w,S,T)},x.prototype.t=function(w){return this.text(w)},x.prototype.d=function(w){return this.cdata(w)},x.prototype.c=function(w){return this.comment(w)},x.prototype.r=function(w){return this.raw(w)},x.prototype.i=function(w,S){return this.instruction(w,S)},x.prototype.u=function(){return this.up()},x.prototype.importXMLBuilder=function(w){return this.importDocument(w)},x}()}).call(lSe)),_N.exports}var FN={exports:{}},cSe=FN.exports,c7;function tQ(){return c7||(c7=1,(function(){var n=function(t,r){return function(){return t.apply(r,arguments)}},e={}.hasOwnProperty;FN.exports=function(){function t(r){this.assertLegalChar=n(this.assertLegalChar,this);var i,s,a;r||(r={}),this.noDoubleEncoding=r.noDoubleEncoding,s=r.stringify||{};for(i in s)e.call(s,i)&&(a=s[i],this[i]=a)}return t.prototype.eleName=function(r){return r=""+r||"",this.assertLegalChar(r)},t.prototype.eleText=function(r){return r=""+r||"",this.assertLegalChar(this.elEscape(r))},t.prototype.cdata=function(r){return r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r)},t.prototype.comment=function(r){if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},t.prototype.raw=function(r){return""+r||""},t.prototype.attName=function(r){return r=""+r||""},t.prototype.attValue=function(r){return r=""+r||"",this.attEscape(r)},t.prototype.insTarget=function(r){return""+r||""},t.prototype.insValue=function(r){if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return r},t.prototype.xmlVersion=function(r){if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},t.prototype.xmlEncoding=function(r){if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return r},t.prototype.xmlStandalone=function(r){return r?"yes":"no"},t.prototype.dtdPubID=function(r){return""+r||""},t.prototype.dtdSysID=function(r){return""+r||""},t.prototype.dtdElementValue=function(r){return""+r||""},t.prototype.dtdAttType=function(r){return""+r||""},t.prototype.dtdAttDefault=function(r){return r!=null?""+r||"":r},t.prototype.dtdEntityValue=function(r){return""+r||""},t.prototype.dtdNData=function(r){return""+r||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(r){var i;if(i=r.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),i)throw new Error("Invalid character in string: "+r+" at index "+i.index);return r},t.prototype.elEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(r){var i;return i=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(i,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(cSe)),FN.exports}var LN={exports:{}},IN={exports:{}},uSe=IN.exports,u7;function nQ(){return u7||(u7=1,(function(){var n={}.hasOwnProperty;IN.exports=function(){function e(t){var r,i,s,a,o,l,u,f,p;t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=(i=t.allowEmpty)!=null?i:!1,this.pretty?(this.indent=(s=t.indent)!=null?s:"  ",this.newline=(a=t.newline)!=null?a:`
`,this.offset=(o=t.offset)!=null?o:0,this.dontprettytextnodes=(l=t.dontprettytextnodes)!=null?l:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(u=t.spacebeforeslash)!=null?u:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,f=t.writer||{};for(r in f)n.call(f,r)&&(p=f[r],this[r]=p)}return e.prototype.set=function(t){var r,i,s;t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:`
`,this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{};for(r in i)n.call(i,r)&&(s=i[r],this[r]=s);return this},e.prototype.space=function(t){var r;return this.pretty?(r=(t||0)+this.offset+1,r>0?new Array(r).join(this.indent):""):""},e}()}).call(uSe)),IN.exports}var dSe=LN.exports,d7;function OL(){return d7||(d7=1,(function(){var n,e,t,r,i,s,a,o,l,u,f,p,m,y,b=function(w,S){for(var T in S)x.call(S,T)&&(w[T]=S[T]);function E(){this.constructor=w}return E.prototype=S.prototype,w.prototype=new E,w.__super__=S.prototype,w},x={}.hasOwnProperty;a=J3(),o=ik(),n=Z3(),e=Q3(),u=K3(),p=sk(),m=ak(),f=ok(),l=UL(),t=ek(),r=nk(),i=tk(),s=rk(),y=nQ(),LN.exports=function(w){b(S,w);function S(T){S.__super__.constructor.call(this,T)}return S.prototype.document=function(T){var E,R,N,U,O;for(this.textispresent=!1,U="",O=T.children,R=0,N=O.length;R<N;R++)E=O[R],!(E instanceof l)&&(U+=(function(){switch(!1){case!(E instanceof a):return this.declaration(E);case!(E instanceof o):return this.docType(E);case!(E instanceof e):return this.comment(E);case!(E instanceof f):return this.processingInstruction(E);default:return this.element(E,0)}}).call(this));return this.pretty&&U.slice(-this.newline.length)===this.newline&&(U=U.slice(0,-this.newline.length)),U},S.prototype.attribute=function(T){return" "+T.name+'="'+T.value+'"'},S.prototype.cdata=function(T,E){return this.space(E)+"<![CDATA["+T.text+"]]>"+this.newline},S.prototype.comment=function(T,E){return this.space(E)+"<!-- "+T.text+" -->"+this.newline},S.prototype.declaration=function(T,E){var R;return R=this.space(E),R+='<?xml version="'+T.version+'"',T.encoding!=null&&(R+=' encoding="'+T.encoding+'"'),T.standalone!=null&&(R+=' standalone="'+T.standalone+'"'),R+=this.spacebeforeslash+"?>",R+=this.newline,R},S.prototype.docType=function(T,E){var R,N,U,O,M;if(E||(E=0),O=this.space(E),O+="<!DOCTYPE "+T.root().name,T.pubID&&T.sysID?O+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(O+=' SYSTEM "'+T.sysID+'"'),T.children.length>0){for(O+=" [",O+=this.newline,M=T.children,N=0,U=M.length;N<U;N++)R=M[N],O+=(function(){switch(!1){case!(R instanceof t):return this.dtdAttList(R,E+1);case!(R instanceof r):return this.dtdElement(R,E+1);case!(R instanceof i):return this.dtdEntity(R,E+1);case!(R instanceof s):return this.dtdNotation(R,E+1);case!(R instanceof n):return this.cdata(R,E+1);case!(R instanceof e):return this.comment(R,E+1);case!(R instanceof f):return this.processingInstruction(R,E+1);default:throw new Error("Unknown DTD node type: "+R.constructor.name)}}).call(this);O+="]"}return O+=this.spacebeforeslash+">",O+=this.newline,O},S.prototype.element=function(T,E){var R,N,U,O,M,P,H,X,I,q,L,te,B;E||(E=0),B=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),te=this.space(E),X="",X+=te+"<"+T.name,I=T.attributes;for(H in I)x.call(I,H)&&(R=I[H],X+=this.attribute(R));if(T.children.length===0||T.children.every(function(W){return W.value===""}))this.allowEmpty?X+="></"+T.name+">"+this.newline:X+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&T.children.length===1&&T.children[0].value!=null)X+=">",X+=T.children[0].value,X+="</"+T.name+">"+this.newline;else{if(this.dontprettytextnodes){for(q=T.children,U=0,M=q.length;U<M;U++)if(N=q[U],N.value!=null){this.textispresent++,B=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,te=this.space(E)),X+=">"+this.newline,L=T.children,O=0,P=L.length;O<P;O++)N=L[O],X+=(function(){switch(!1){case!(N instanceof n):return this.cdata(N,E+1);case!(N instanceof e):return this.comment(N,E+1);case!(N instanceof u):return this.element(N,E+1);case!(N instanceof p):return this.raw(N,E+1);case!(N instanceof m):return this.text(N,E+1);case!(N instanceof f):return this.processingInstruction(N,E+1);case!(N instanceof l):return"";default:throw new Error("Unknown XML node type: "+N.constructor.name)}}).call(this);B&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),X+=te+"</"+T.name+">"+this.newline}return X},S.prototype.processingInstruction=function(T,E){var R;return R=this.space(E)+"<?"+T.target,T.value&&(R+=" "+T.value),R+=this.spacebeforeslash+"?>"+this.newline,R},S.prototype.raw=function(T,E){return this.space(E)+T.value+this.newline},S.prototype.text=function(T,E){return this.space(E)+T.value+this.newline},S.prototype.dtdAttList=function(T,E){var R;return R=this.space(E)+"<!ATTLIST "+T.elementName+" "+T.attributeName+" "+T.attributeType,T.defaultValueType!=="#DEFAULT"&&(R+=" "+T.defaultValueType),T.defaultValue&&(R+=' "'+T.defaultValue+'"'),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.dtdElement=function(T,E){return this.space(E)+"<!ELEMENT "+T.name+" "+T.value+this.spacebeforeslash+">"+this.newline},S.prototype.dtdEntity=function(T,E){var R;return R=this.space(E)+"<!ENTITY",T.pe&&(R+=" %"),R+=" "+T.name,T.value?R+=' "'+T.value+'"':(T.pubID&&T.sysID?R+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(R+=' SYSTEM "'+T.sysID+'"'),T.nData&&(R+=" NDATA "+T.nData)),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.dtdNotation=function(T,E){var R;return R=this.space(E)+"<!NOTATION "+T.name,T.pubID&&T.sysID?R+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.pubID?R+=' PUBLIC "'+T.pubID+'"':T.sysID&&(R+=' SYSTEM "'+T.sysID+'"'),R+=this.spacebeforeslash+">"+this.newline,R},S.prototype.openNode=function(T,E){var R,N,U,O;if(E||(E=0),T instanceof u){U=this.space(E)+"<"+T.name,O=T.attributes;for(N in O)x.call(O,N)&&(R=O[N],U+=this.attribute(R));return U+=(T.children?">":"/>")+this.newline,U}else return U=this.space(E)+"<!DOCTYPE "+T.rootNodeName,T.pubID&&T.sysID?U+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(U+=' SYSTEM "'+T.sysID+'"'),U+=(T.children?" [":">")+this.newline,U},S.prototype.closeNode=function(T,E){switch(E||(E=0),!1){case!(T instanceof u):return this.space(E)+"</"+T.name+">"+this.newline;case!(T instanceof o):return this.space(E)+"]>"+this.newline}},S}(y)}).call(dSe)),LN.exports}var hSe=wN.exports,h7;function fSe(){return h7||(h7=1,(function(){var n,e,t,r,i=function(a,o){for(var l in o)s.call(o,l)&&(a[l]=o[l]);function u(){this.constructor=a}return u.prototype=o.prototype,a.prototype=new u,a.__super__=o.prototype,a},s={}.hasOwnProperty;r=am().isPlainObject,n=lo(),t=tQ(),e=OL(),wN.exports=function(a){i(o,a);function o(l){o.__super__.constructor.call(this,null),this.name="?xml",l||(l={}),l.writer||(l.writer=new e),this.options=l,this.stringify=new t(l),this.isDocument=!0}return o.prototype.end=function(l){var u;return l?r(l)&&(u=l,l=this.options.writer.set(u)):l=this.options.writer,l.document(this)},o.prototype.toString=function(l){return this.options.writer.set(l).document(this)},o}(n)}).call(hSe)),wN.exports}var $N={exports:{}},pSe=$N.exports,f7;function mSe(){return f7||(f7=1,(function(){var n,e,t,r,i,s,a,o,l,u,f,p,m,y,b,x,w,S,T,E,R={}.hasOwnProperty;E=am(),S=E.isObject,w=E.isFunction,T=E.isPlainObject,x=E.getValue,u=K3(),e=Z3(),t=Q3(),p=sk(),b=ak(),f=ok(),o=J3(),l=ik(),r=ek(),s=tk(),i=nk(),a=rk(),n=eQ(),y=tQ(),m=OL(),$N.exports=function(){function N(U,O,M){var P;this.name="?xml",U||(U={}),U.writer?T(U.writer)&&(P=U.writer,U.writer=new m(P)):U.writer=new m(U),this.options=U,this.writer=U.writer,this.stringify=new y(U),this.onDataCallback=O||function(){},this.onEndCallback=M||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return N.prototype.node=function(U,O,M){var P,H;if(U==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(U));return this.openCurrent(),U=x(U),O===null&&M==null&&(P=[{},null],O=P[0],M=P[1]),O==null&&(O={}),O=x(O),S(O)||(H=[O,M],M=H[0],O=H[1]),this.currentNode=new u(this,U,O),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,M!=null&&this.text(M),this},N.prototype.element=function(U,O,M){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(U,O,M)},N.prototype.attribute=function(U,O){var M,P;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(U));if(U!=null&&(U=x(U)),S(U))for(M in U)R.call(U,M)&&(P=U[M],this.attribute(M,P));else w(O)&&(O=O.apply()),(!this.options.skipNullAttributes||O!=null)&&(this.currentNode.attributes[U]=new n(this,U,O));return this},N.prototype.text=function(U){var O;return this.openCurrent(),O=new b(this,U),this.onData(this.writer.text(O,this.currentLevel+1),this.currentLevel+1),this},N.prototype.cdata=function(U){var O;return this.openCurrent(),O=new e(this,U),this.onData(this.writer.cdata(O,this.currentLevel+1),this.currentLevel+1),this},N.prototype.comment=function(U){var O;return this.openCurrent(),O=new t(this,U),this.onData(this.writer.comment(O,this.currentLevel+1),this.currentLevel+1),this},N.prototype.raw=function(U){var O;return this.openCurrent(),O=new p(this,U),this.onData(this.writer.raw(O,this.currentLevel+1),this.currentLevel+1),this},N.prototype.instruction=function(U,O){var M,P,H,X,I;if(this.openCurrent(),U!=null&&(U=x(U)),O!=null&&(O=x(O)),Array.isArray(U))for(M=0,X=U.length;M<X;M++)P=U[M],this.instruction(P);else if(S(U))for(P in U)R.call(U,P)&&(H=U[P],this.instruction(P,H));else w(O)&&(O=O.apply()),I=new f(this,U,O),this.onData(this.writer.processingInstruction(I,this.currentLevel+1),this.currentLevel+1);return this},N.prototype.declaration=function(U,O,M){var P;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return P=new o(this,U,O,M),this.onData(this.writer.declaration(P,this.currentLevel+1),this.currentLevel+1),this},N.prototype.doctype=function(U,O,M){if(this.openCurrent(),U==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new l(this,O,M),this.currentNode.rootNodeName=U,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},N.prototype.dtdElement=function(U,O){var M;return this.openCurrent(),M=new i(this,U,O),this.onData(this.writer.dtdElement(M,this.currentLevel+1),this.currentLevel+1),this},N.prototype.attList=function(U,O,M,P,H){var X;return this.openCurrent(),X=new r(this,U,O,M,P,H),this.onData(this.writer.dtdAttList(X,this.currentLevel+1),this.currentLevel+1),this},N.prototype.entity=function(U,O){var M;return this.openCurrent(),M=new s(this,!1,U,O),this.onData(this.writer.dtdEntity(M,this.currentLevel+1),this.currentLevel+1),this},N.prototype.pEntity=function(U,O){var M;return this.openCurrent(),M=new s(this,!0,U,O),this.onData(this.writer.dtdEntity(M,this.currentLevel+1),this.currentLevel+1),this},N.prototype.notation=function(U,O){var M;return this.openCurrent(),M=new a(this,U,O),this.onData(this.writer.dtdNotation(M,this.currentLevel+1),this.currentLevel+1),this},N.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},N.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},N.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},N.prototype.openNode=function(U){if(!U.isOpen)return!this.root&&this.currentLevel===0&&U instanceof u&&(this.root=U),this.onData(this.writer.openNode(U,this.currentLevel),this.currentLevel),U.isOpen=!0},N.prototype.closeNode=function(U){if(!U.isClosed)return this.onData(this.writer.closeNode(U,this.currentLevel),this.currentLevel),U.isClosed=!0},N.prototype.onData=function(U,O){return this.documentStarted=!0,this.onDataCallback(U,O+1)},N.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},N.prototype.debugInfo=function(U){return U==null?"":"node: <"+U+">"},N.prototype.ele=function(){return this.element.apply(this,arguments)},N.prototype.nod=function(U,O,M){return this.node(U,O,M)},N.prototype.txt=function(U){return this.text(U)},N.prototype.dat=function(U){return this.cdata(U)},N.prototype.com=function(U){return this.comment(U)},N.prototype.ins=function(U,O){return this.instruction(U,O)},N.prototype.dec=function(U,O,M){return this.declaration(U,O,M)},N.prototype.dtd=function(U,O,M){return this.doctype(U,O,M)},N.prototype.e=function(U,O,M){return this.element(U,O,M)},N.prototype.n=function(U,O,M){return this.node(U,O,M)},N.prototype.t=function(U){return this.text(U)},N.prototype.d=function(U){return this.cdata(U)},N.prototype.c=function(U){return this.comment(U)},N.prototype.r=function(U){return this.raw(U)},N.prototype.i=function(U,O){return this.instruction(U,O)},N.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.ent=function(U,O){return this.entity(U,O)},N.prototype.pent=function(U,O){return this.pEntity(U,O)},N.prototype.not=function(U,O){return this.notation(U,O)},N}()}).call(pSe)),$N.exports}var BN={exports:{}},gSe=BN.exports,p7;function ySe(){return p7||(p7=1,(function(){var n,e,t,r,i,s,a,o,l,u,f,p,m,y,b=function(w,S){for(var T in S)x.call(S,T)&&(w[T]=S[T]);function E(){this.constructor=w}return E.prototype=S.prototype,w.prototype=new E,w.__super__=S.prototype,w},x={}.hasOwnProperty;a=J3(),o=ik(),n=Z3(),e=Q3(),u=K3(),p=sk(),m=ak(),f=ok(),l=UL(),t=ek(),r=nk(),i=tk(),s=rk(),y=nQ(),BN.exports=function(w){b(S,w);function S(T,E){S.__super__.constructor.call(this,E),this.stream=T}return S.prototype.document=function(T){var E,R,N,U,O,M,P,H;for(M=T.children,R=0,U=M.length;R<U;R++)E=M[R],E.isLastRootNode=!1;for(T.children[T.children.length-1].isLastRootNode=!0,P=T.children,H=[],N=0,O=P.length;N<O;N++)if(E=P[N],!(E instanceof l))switch(!1){case!(E instanceof a):H.push(this.declaration(E));break;case!(E instanceof o):H.push(this.docType(E));break;case!(E instanceof e):H.push(this.comment(E));break;case!(E instanceof f):H.push(this.processingInstruction(E));break;default:H.push(this.element(E))}return H},S.prototype.attribute=function(T){return this.stream.write(" "+T.name+'="'+T.value+'"')},S.prototype.cdata=function(T,E){return this.stream.write(this.space(E)+"<![CDATA["+T.text+"]]>"+this.endline(T))},S.prototype.comment=function(T,E){return this.stream.write(this.space(E)+"<!-- "+T.text+" -->"+this.endline(T))},S.prototype.declaration=function(T,E){return this.stream.write(this.space(E)),this.stream.write('<?xml version="'+T.version+'"'),T.encoding!=null&&this.stream.write(' encoding="'+T.encoding+'"'),T.standalone!=null&&this.stream.write(' standalone="'+T.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(T))},S.prototype.docType=function(T,E){var R,N,U,O;if(E||(E=0),this.stream.write(this.space(E)),this.stream.write("<!DOCTYPE "+T.root().name),T.pubID&&T.sysID?this.stream.write(' PUBLIC "'+T.pubID+'" "'+T.sysID+'"'):T.sysID&&this.stream.write(' SYSTEM "'+T.sysID+'"'),T.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(T)),O=T.children,N=0,U=O.length;N<U;N++)switch(R=O[N],!1){case!(R instanceof t):this.dtdAttList(R,E+1);break;case!(R instanceof r):this.dtdElement(R,E+1);break;case!(R instanceof i):this.dtdEntity(R,E+1);break;case!(R instanceof s):this.dtdNotation(R,E+1);break;case!(R instanceof n):this.cdata(R,E+1);break;case!(R instanceof e):this.comment(R,E+1);break;case!(R instanceof f):this.processingInstruction(R,E+1);break;default:throw new Error("Unknown DTD node type: "+R.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(T))},S.prototype.element=function(T,E){var R,N,U,O,M,P,H,X;E||(E=0),X=this.space(E),this.stream.write(X+"<"+T.name),P=T.attributes;for(M in P)x.call(P,M)&&(R=P[M],this.attribute(R));if(T.children.length===0||T.children.every(function(I){return I.value===""}))this.allowEmpty?this.stream.write("></"+T.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&T.children.length===1&&T.children[0].value!=null)this.stream.write(">"),this.stream.write(T.children[0].value),this.stream.write("</"+T.name+">");else{for(this.stream.write(">"+this.newline),H=T.children,U=0,O=H.length;U<O;U++)switch(N=H[U],!1){case!(N instanceof n):this.cdata(N,E+1);break;case!(N instanceof e):this.comment(N,E+1);break;case!(N instanceof u):this.element(N,E+1);break;case!(N instanceof p):this.raw(N,E+1);break;case!(N instanceof m):this.text(N,E+1);break;case!(N instanceof f):this.processingInstruction(N,E+1);break;case!(N instanceof l):break;default:throw new Error("Unknown XML node type: "+N.constructor.name)}this.stream.write(X+"</"+T.name+">")}return this.stream.write(this.endline(T))},S.prototype.processingInstruction=function(T,E){return this.stream.write(this.space(E)+"<?"+T.target),T.value&&this.stream.write(" "+T.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(T))},S.prototype.raw=function(T,E){return this.stream.write(this.space(E)+T.value+this.endline(T))},S.prototype.text=function(T,E){return this.stream.write(this.space(E)+T.value+this.endline(T))},S.prototype.dtdAttList=function(T,E){return this.stream.write(this.space(E)+"<!ATTLIST "+T.elementName+" "+T.attributeName+" "+T.attributeType),T.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+T.defaultValueType),T.defaultValue&&this.stream.write(' "'+T.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},S.prototype.dtdElement=function(T,E){return this.stream.write(this.space(E)+"<!ELEMENT "+T.name+" "+T.value),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},S.prototype.dtdEntity=function(T,E){return this.stream.write(this.space(E)+"<!ENTITY"),T.pe&&this.stream.write(" %"),this.stream.write(" "+T.name),T.value?this.stream.write(' "'+T.value+'"'):(T.pubID&&T.sysID?this.stream.write(' PUBLIC "'+T.pubID+'" "'+T.sysID+'"'):T.sysID&&this.stream.write(' SYSTEM "'+T.sysID+'"'),T.nData&&this.stream.write(" NDATA "+T.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},S.prototype.dtdNotation=function(T,E){return this.stream.write(this.space(E)+"<!NOTATION "+T.name),T.pubID&&T.sysID?this.stream.write(' PUBLIC "'+T.pubID+'" "'+T.sysID+'"'):T.pubID?this.stream.write(' PUBLIC "'+T.pubID+'"'):T.sysID&&this.stream.write(' SYSTEM "'+T.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(T))},S.prototype.endline=function(T){return T.isLastRootNode?"":this.newline},S}(y)}).call(gSe)),BN.exports}var m7;function vSe(){return m7||(m7=1,(function(){var n,e,t,r,i,s,a;a=am(),i=a.assign,s=a.isFunction,n=fSe(),e=mSe(),r=OL(),t=ySe(),Dg.create=function(o,l,u,f){var p,m;if(o==null)throw new Error("Root element needs a name.");return f=i({},l,u,f),p=new n(f),m=p.element(o),f.headless||(p.declaration(f),(f.pubID!=null||f.sysID!=null)&&p.doctype(f)),m},Dg.begin=function(o,l,u){var f;return s(o)&&(f=[o,l],l=f[0],u=f[1],o={}),l?new e(o,l,u):new n(o)},Dg.stringWriter=function(o){return new r(o)},Dg.streamWriter=function(o,l){return new t(o,l)}}).call(Dg)),Dg}var g7;function bSe(){if(g7)return hM;g7=1;var n=Di,e=vSe();hM.writeString=t;function t(i,s){var a=n.invert(s),o={element:u,text:r};function l(m,y){return o[y.type](m,y)}function u(m,y){var b=m.element(f(y.name),y.attributes);y.children.forEach(function(x){l(b,x)})}function f(m){var y=/^\{(.*)\}(.*)$/.exec(m);if(y){var b=a[y[1]];return b+(b===""?"":":")+y[2]}else return m}function p(m){var y=e.create(f(m.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return n.forEach(s,function(b,x){var w="xmlns"+(x===""?"":":"+x);y.attribute(w,b)}),m.children.forEach(function(b){l(y,b)}),y.end()}return p(i)}function r(i,s){i.text(s.value)}return hM}var y7;function ML(){if(y7)return Mf;y7=1;var n=JZ();return Mf.Element=n.Element,Mf.element=n.element,Mf.emptyElement=n.emptyElement,Mf.text=n.text,Mf.readString=G_e().readString,Mf.writeString=bSe().writeString,Mf}var v7;function xSe(){if(v7)return YC;v7=1;var n=Di,e=sm(),t=ML();YC.read=i,YC.readXmlFromZipFile=s;var r={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function i(l){return t.readString(l,r).then(function(u){return o(u)[0]})}function s(l,u){return l.exists(u)?l.read(u,"utf-8").then(a).then(i):e.resolve(null)}function a(l){return l.replace(/^\uFEFF/g,"")}function o(l){return l.type==="element"?l.name==="mc:AlternateContent"?l.first("mc:Fallback").children:(l.children=n.flatten(l.children.map(o,!0)),[l]):[l]}return YC}var QC={},ac={},JC={},b7;function wSe(){if(b7)return JC;b7=1,Object.defineProperty(JC,"__esModule",{value:!0});var n=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];return JC.default=n,JC}var x7;function _Se(){if(x7)return ac;x7=1;var n=ac&&ac.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(ac,"__esModule",{value:!0}),ac.hex=ac.dec=ac.codePoint=void 0;for(var e=n(wSe()),t={},r=String.fromCodePoint?String.fromCodePoint:m,i=0,s=e.default;i<s.length;i++){var a=s[i],o=parseInt(a["Unicode dec"],10),l={codePoint:o,string:r(o)};t[a["Typeface name"].toUpperCase()+"_"+a["Dingbat dec"]]=l}function u(y,b){return t[y.toUpperCase()+"_"+b]}ac.codePoint=u;function f(y,b){return u(y,parseInt(b,10))}ac.dec=f;function p(y,b){return u(y,parseInt(b,16))}ac.hex=p;function m(y){if(y<=65535)return String.fromCharCode(y);var b=Math.floor((y-65536)/1024)+55296,x=(y-65536)%1024+56320;return String.fromCharCode(b,x)}return ac}var eN={},w7;function SSe(){if(w7)return eN;w7=1,eN.uriToZipEntryName=n,eN.replaceFragment=e;function n(t,r){return r.charAt(0)==="/"?r.substr(1):t+"/"+r}function e(t,r){var i=t.indexOf("#");return i!==-1&&(t=t.substring(0,i)),t+"#"+r}return eN}var _7;function DSe(){if(_7)return QC;_7=1,QC.createBodyReader=o,QC._readNumberingProperties=u;var n=_Se(),e=Di,t=Pv(),r=Nh().Result,i=Nh().warning,s=ML(),a=SSe();function o(R){return{readXmlElement:function(N){return new l(R).readXmlElement(N)},readXmlElements:function(N){return new l(R).readXmlElements(N)}}}function l(R){var N=[],U=[],O=[],M=R.relationships,P=R.contentTypes,H=R.docxFile,X=R.files,I=R.numbering,q=R.styles;function L(Te){var He=Te.map(te);return S(He)}function te(Te){if(Te.type==="element"){var He=ve[Te.name];if(He)return He(Te);if(!Object.prototype.hasOwnProperty.call(p,Te.name)){var et=i("An unrecognised element was ignored: "+Te.name);return m([et])}}return y()}function B(Te){return le(Te).map(function(He){return{type:"paragraphProperties",styleId:He.styleId,styleName:He.name,alignment:Te.firstOrEmpty("w:jc").attributes["w:val"],numbering:u(He.styleId,Te.firstOrEmpty("w:numPr"),I),indent:W(Te.firstOrEmpty("w:ind"))}})}function W(Te){return{start:Te.attributes["w:start"]||Te.attributes["w:left"],end:Te.attributes["w:end"]||Te.attributes["w:right"],firstLine:Te.attributes["w:firstLine"],hanging:Te.attributes["w:hanging"]}}function se(Te){return xe(Te).map(function(He){var et=Te.firstOrEmpty("w:sz").attributes["w:val"],ht=/^[0-9]+$/.test(et)?parseInt(et,10)/2:null;return{type:"runProperties",styleId:He.styleId,styleName:He.name,verticalAlignment:Te.firstOrEmpty("w:vertAlign").attributes["w:val"],font:Te.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:ht,isBold:G(Te.first("w:b")),isUnderline:K(Te.first("w:u")),isItalic:G(Te.first("w:i")),isStrikethrough:G(Te.first("w:strike")),isAllCaps:G(Te.first("w:caps")),isSmallCaps:G(Te.first("w:smallCaps")),highlight:ne(Te.firstOrEmpty("w:highlight").attributes["w:val"])}})}function K(Te){if(Te){var He=Te.attributes["w:val"];return He!==void 0&&He!=="false"&&He!=="0"&&He!=="none"}else return!1}function G(Te){if(Te){var He=Te.attributes["w:val"];return He!=="false"&&He!=="0"}else return!1}function Y(Te){return Te!=="false"&&Te!=="0"}function ne(Te){return!Te||Te==="none"?null:Te}function le(Te){return Re(Te,"w:pStyle","Paragraph",q.findParagraphStyleById)}function xe(Te){return Re(Te,"w:rStyle","Run",q.findCharacterStyleById)}function we(Te){return Re(Te,"w:tblStyle","Table",q.findTableStyleById)}function Re(Te,He,et,ht){var Tt=[],gt=Te.first(He),Et=null,vn=null;if(gt&&(Et=gt.attributes["w:val"],Et)){var vr=ht(Et);vr?vn=vr.name:Tt.push(ut(et,Et))}return x({styleId:Et,name:vn},Tt)}function Ee(Te){var He=Te.attributes["w:fldCharType"];if(He==="begin")N.push({type:"begin",fldChar:Te}),U=[];else if(He==="end"){var et=N.pop();if(et.type==="begin"&&(et=Ye(et)),et.type==="checkbox")return b(t.checkbox({checked:et.checked}))}else if(He==="separate"){var ht=N.pop(),Tt=Ye(ht);N.push(Tt)}return y()}function Me(){var Te=e.last(N.filter(function(He){return He.type==="hyperlink"}));return Te?Te.options:null}function Ye(Te){return Ke(U.join(""),Te.type==="begin"?Te.fldChar:s.emptyElement)}function Ke(Te,He){var et=/\s*HYPERLINK "(.*)"/.exec(Te);if(et)return{type:"hyperlink",options:{href:et[1]}};var ht=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(Te);if(ht)return{type:"hyperlink",options:{anchor:ht[1]}};var Tt=/\s*FORMCHECKBOX\s*/.exec(Te);if(Tt){var gt=He.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),Et=gt.first("w:checked"),vn=Et==null?G(gt.first("w:default")):G(Et);return{type:"checkbox",checked:vn}}return{type:"unknown"}}function Le(Te){return U.push(Te.text()),y()}function lt(Te){var He=Te.attributes["w:font"],et=Te.attributes["w:char"],ht=n.hex(He,et);return ht==null&&/^F0..$/.test(et)&&(ht=n.hex(He,et.substring(2))),ht==null?m([i("A w:sym element with an unsupported character was ignored: char "+et+" in font "+He)]):b(new t.Text(ht.string))}function st(Te){return function(He){var et=He.attributes["w:id"];return b(new t.NoteReference({noteType:Te,noteId:et}))}}function $(Te){return b(t.commentReference({commentId:Te.attributes["w:id"]}))}function ge(Te){return L(Te.children)}var ve={"w:p":function(Te){var He=Te.firstOrEmpty("w:pPr"),et=!!He.firstOrEmpty("w:rPr").first("w:del");if(et)return Te.children.forEach(function(Tt){O.push(Tt)}),y();var ht=Te.children;return O.length>0&&(ht=O.concat(ht),O=[]),w.map(B(He),L(ht),function(Tt,gt){return new t.Paragraph(gt,Tt)}).insertExtra()},"w:r":function(Te){return w.map(se(Te.firstOrEmpty("w:rPr")),L(Te.children),function(He,et){var ht=Me();return ht!==null&&(et=[new t.Hyperlink(et,ht)]),new t.Run(et,He)})},"w:fldChar":Ee,"w:instrText":Le,"w:t":function(Te){return b(new t.Text(Te.text()))},"w:tab":function(Te){return b(new t.Tab)},"w:noBreakHyphen":function(){return b(new t.Text("‑"))},"w:softHyphen":function(Te){return b(new t.Text("­"))},"w:sym":lt,"w:hyperlink":function(Te){var He=Te.attributes["r:id"],et=Te.attributes["w:anchor"];return L(Te.children).map(function(ht){function Tt(Et){var vn=Te.attributes["w:tgtFrame"]||null;return new t.Hyperlink(ht,e.extend({targetFrame:vn},Et))}if(He){var gt=M.findTargetByRelationshipId(He);return et&&(gt=a.replaceFragment(gt,et)),Tt({href:gt})}else return et?Tt({anchor:et}):ht})},"w:tbl":ae,"w:tr":ye,"w:tc":ke,"w:footnoteReference":st("footnote"),"w:endnoteReference":st("endnote"),"w:commentReference":$,"w:br":function(Te){var He=Te.attributes["w:type"];return He==null||He==="textWrapping"?b(t.lineBreak):He==="page"?b(t.pageBreak):He==="column"?b(t.columnBreak):m([i("Unsupported break type: "+He)])},"w:bookmarkStart":function(Te){var He=Te.attributes["w:name"];return He==="_GoBack"?y():b(new t.BookmarkStart({name:He}))},"mc:AlternateContent":function(Te){return ge(Te.first("mc:Fallback"))},"w:sdt":function(Te){var He=Te.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(He){var et=He.first("wordml:checked"),ht=!!et&&Y(et.attributes["wordml:val"]);return b(t.checkbox({checked:ht}))}else return L(Te.firstOrEmpty("w:sdtContent").children)},"w:ins":ge,"w:object":ge,"w:smartTag":ge,"w:drawing":ge,"w:pict":function(Te){return ge(Te).toExtra()},"v:roundrect":ge,"v:shape":ge,"v:textbox":ge,"w:txbxContent":ge,"wp:inline":Q,"wp:anchor":Q,"v:imagedata":Fe,"v:group":ge,"v:rect":ge};return{readXmlElement:te,readXmlElements:L};function ae(Te){var He=ce(Te.firstOrEmpty("w:tblPr"));return L(Te.children).flatMap(J).flatMap(function(et){return He.map(function(ht){return t.Table(et,ht)})})}function ce(Te){return we(Te).map(function(He){return{styleId:He.styleId,styleName:He.name}})}function ye(Te){var He=Te.firstOrEmpty("w:trPr"),et=!!He.first("w:tblHeader");return L(Te.children).map(function(ht){return t.TableRow(ht,{isHeader:et})})}function ke(Te){return L(Te.children).map(function(He){var et=Te.firstOrEmpty("w:tcPr"),ht=et.firstOrEmpty("w:gridSpan").attributes["w:val"],Tt=ht?parseInt(ht,10):1,gt=t.TableCell(He,{colSpan:Tt});return gt._vMerge=be(et),gt})}function be(Te){var He=Te.first("w:vMerge");if(He){var et=He.attributes["w:val"];return et==="continue"||!et}else return null}function J(Te){var He=e.any(Te,function(Tt){return Tt.type!==t.types.tableRow});if(He)return x(Te,[i("unexpected non-row element in table, cell merging may be incorrect")]);var et=e.any(Te,function(Tt){return e.any(Tt.children,function(gt){return gt.type!==t.types.tableCell})});if(et)return x(Te,[i("unexpected non-cell element in table row, cell merging may be incorrect")]);var ht={};return Te.forEach(function(Tt){var gt=0;Tt.children.forEach(function(Et){Et._vMerge&&ht[gt]?ht[gt].rowSpan++:(ht[gt]=Et,Et._vMerge=!1),gt+=Et.colSpan})}),Te.forEach(function(Tt){Tt.children=Tt.children.filter(function(gt){return!gt._vMerge}),Tt.children.forEach(function(gt){delete gt._vMerge})}),b(Te)}function Q(Te){var He=Te.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return S(He.map(ue.bind(null,Te)))}function ue(Te,He){var et=Te.first("wp:docPr").attributes,ht=me(et.descr)?et.title:et.descr,Tt=Ae(He);return Tt===null?m([i("Could not find image file for a:blip element")]):at(Tt,ht)}function me(Te){return Te==null||/^\s*$/.test(Te)}function Ae(Te){var He=Te.attributes["r:embed"],et=Te.attributes["r:link"];if(He)return Ge(He);if(et){var ht=M.findTargetByRelationshipId(et);return{path:ht,read:X.read.bind(X,ht)}}else return null}function Fe(Te){var He=Te.attributes["r:id"];return He?at(Ge(He),Te.attributes["o:title"]):m([i("A v:imagedata element without a relationship ID was ignored")])}function Ge(Te){var He=a.uriToZipEntryName("word",M.findTargetByRelationshipId(Te));return{path:He,read:H.read.bind(H,He)}}function at(Te,He){var et=P.findContentType(Te.path),ht=t.Image({readImage:Te.read,altText:He,contentType:et}),Tt=f[et]?[]:i("Image of type "+et+" is unlikely to display in web browsers");return x(ht,Tt)}function ut(Te,He){return i(Te+" style with ID "+He+" was referenced but not defined in the document")}}function u(R,N,U){var O=N.firstOrEmpty("w:ilvl").attributes["w:val"],M=N.firstOrEmpty("w:numId").attributes["w:val"];if(O!==void 0&&M!==void 0)return U.findLevel(M,O);if(R!=null){var P=U.findLevelByParagraphStyleId(R);if(P!=null)return P}return null}var f={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},p={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function m(R){return new w(null,null,R)}function y(){return new w(null)}function b(R){return new w(R)}function x(R,N){return new w(R,null,N)}function w(R,N,U){this.value=R||[],this.extra=N||[],this._result=new r({element:this.value,extra:N},U),this.messages=this._result.messages}w.prototype.toExtra=function(){return new w(null,T(this.extra,this.value),this.messages)},w.prototype.insertExtra=function(){var R=this.extra;return R&&R.length?new w(T(this.value,R),null,this.messages):this},w.prototype.map=function(R){var N=this._result.map(function(U){return R(U.element)});return new w(N.value,this.extra,N.messages)},w.prototype.flatMap=function(R){var N=this._result.flatMap(function(U){return R(U.element)._result});return new w(N.value.element,T(this.extra,N.value.extra),N.messages)},w.map=function(R,N,U){return new w(U(R.value,N.value),T(R.extra,N.extra),R.messages.concat(N.messages))};function S(R){var N=r.combine(e.pluck(R,"_result"));return new w(e.flatten(e.pluck(N.value,"element")),e.filter(e.flatten(e.pluck(N.value,"extra")),E),N.messages)}function T(R,N){return e.flatten([R,N])}function E(R){return R}return QC}var fM={},S7;function ASe(){if(S7)return fM;S7=1,fM.DocumentXmlReader=t;var n=Pv(),e=Nh().Result;function t(r){var i=r.bodyReader;function s(a){var o=a.first("w:body");if(o==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var l=i.readXmlElements(o.children).map(function(u){return new n.Document(u,{notes:r.notes,comments:r.comments})});return new e(l.value,l.messages)}return{convertXmlToDocument:s}}return fM}var v_={},D7;function TSe(){if(D7)return v_;D7=1,v_.readRelationships=n,v_.defaultValue=new e([]),v_.Relationships=e;function n(t){var r=[];return t.children.forEach(function(i){if(i.name==="relationships:Relationship"){var s={relationshipId:i.attributes.Id,target:i.attributes.Target,type:i.attributes.Type};r.push(s)}}),new e(r)}function e(t){var r={};t.forEach(function(s){r[s.relationshipId]=s.target});var i={};return t.forEach(function(s){i[s.type]||(i[s.type]=[]),i[s.type].push(s.target)}),{findTargetByRelationshipId:function(s){return r[s]},findTargetsByType:function(s){return i[s]||[]}}}return v_}var tN={},A7;function ESe(){if(A7)return tN;A7=1,tN.readContentTypesFromXml=e;var n={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};tN.defaultContentTypes=t({},{});function e(r){var i={},s={};return r.children.forEach(function(a){if(a.name==="content-types:Default"&&(i[a.attributes.Extension]=a.attributes.ContentType),a.name==="content-types:Override"){var o=a.attributes.PartName;o.charAt(0)==="/"&&(o=o.substring(1)),s[o]=a.attributes.ContentType}}),t(s,i)}function t(r,i){return{findContentType:function(s){var a=r[s];if(a)return a;var o=s.split("."),l=o[o.length-1];if(i.hasOwnProperty(l))return i[l];var u=n[l.toLowerCase()];return u?"image/"+u:null}}}return tN}var b_={},T7;function CSe(){if(T7)return b_;T7=1;var n=Di;b_.readNumberingXml=t,b_.Numbering=e,b_.defaultNumbering=new e({},{});function e(a,o,l){var u=n.flatten(n.values(o).map(function(y){return n.values(y.levels)})),f=n.indexBy(u.filter(function(y){return y.paragraphStyleId!=null}),"paragraphStyleId");function p(y,b){var x=a[y];if(x){var w=o[x.abstractNumId];if(w){if(w.numStyleLink==null)return o[x.abstractNumId].levels[b];var S=l.findNumberingStyleById(w.numStyleLink);return p(S.numId,b)}else return null}else return null}function m(y){return f[y]||null}return{findLevel:p,findLevelByParagraphStyleId:m}}function t(a,o){if(!o||!o.styles)throw new Error("styles is missing");var l=r(a),u=s(a);return new e(u,l,o.styles)}function r(a){var o={};return a.getElementsByTagName("w:abstractNum").forEach(function(l){var u=l.attributes["w:abstractNumId"];o[u]=i(l)}),o}function i(a){var o={};a.getElementsByTagName("w:lvl").forEach(function(u){var f=u.attributes["w:ilvl"],p=u.firstOrEmpty("w:numFmt").attributes["w:val"],m=u.firstOrEmpty("w:pStyle").attributes["w:val"];o[f]={isOrdered:p!=="bullet",level:f,paragraphStyleId:m}});var l=a.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:o,numStyleLink:l}}function s(a){var o={};return a.getElementsByTagName("w:num").forEach(function(l){var u=l.attributes["w:numId"],f=l.first("w:abstractNumId").attributes["w:val"];o[u]={abstractNumId:f}}),o}return b_}var x_={},E7;function NSe(){if(E7)return x_;E7=1,x_.readStylesXml=e,x_.Styles=n,x_.defaultStyles=new n({},{});function n(s,a,o,l){return{findParagraphStyleById:function(u){return s[u]},findCharacterStyleById:function(u){return a[u]},findTableStyleById:function(u){return o[u]},findNumberingStyleById:function(u){return l[u]}}}n.EMPTY=new n({},{},{},{});function e(s){var a={},o={},l={},u={},f={paragraph:a,character:o,table:l};return s.getElementsByTagName("w:style").forEach(function(p){var m=t(p);if(m.type==="numbering")u[m.styleId]=i(p);else{var y=f[m.type];y&&(y[m.styleId]=m)}}),new n(a,o,l,u)}function t(s){var a=s.attributes["w:type"],o=s.attributes["w:styleId"],l=r(s);return{type:a,styleId:o,name:l}}function r(s){var a=s.first("w:name");return a?a.attributes["w:val"]:null}function i(s){var a=s.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:a}}return x_}var jx={},C7;function RSe(){if(C7)return jx;C7=1;var n=Pv(),e=Nh().Result;jx.createFootnotesReader=t.bind(jx,"footnote"),jx.createEndnotesReader=t.bind(jx,"endnote");function t(r,i){function s(l){return e.combine(l.getElementsByTagName("w:"+r).filter(a).map(o))}function a(l){var u=l.attributes["w:type"];return u!=="continuationSeparator"&&u!=="separator"}function o(l){var u=l.attributes["w:id"];return i.readXmlElements(l.children).map(function(f){return n.Note({noteType:r,noteId:u,body:f})})}return s}return jx}var pM={},N7;function jSe(){if(N7)return pM;N7=1;var n=Pv(),e=Nh().Result;function t(r){function i(a){return e.combine(a.getElementsByTagName("w:comment").map(s))}function s(a){var o=a.attributes["w:id"];function l(u){return(a.attributes[u]||"").trim()||null}return r.readXmlElements(a.children).map(function(u){return n.comment({commentId:o,body:u,authorName:l("w:author"),authorInitials:l("w:initials")})})}return i}return pM.createCommentsReader=t,pM}var mM={},R7;function kSe(){if(R7)return mM;R7=1;var n=sm();mM.Files=e;function e(){function t(r){return n.reject(new Error("could not open external image: '"+r+`'
cannot open linked files from a web browser`))}return{read:t}}return mM}var j7;function USe(){if(j7)return HC;j7=1,HC.read=b,HC._findPartPaths=x;var n=sm(),e=Pv(),t=Nh().Result,r=QZ(),i=xSe().readXmlFromZipFile,s=DSe().createBodyReader,a=ASe().DocumentXmlReader,o=TSe(),l=ESe(),u=CSe(),f=NSe(),p=RSe(),m=jSe(),y=kSe().Files;function b(P,H){return H=H||{},n.props({contentTypes:N(P),partPaths:x(P),docxFile:P,files:H.path?y.relativeToFile(H.path):new y(null)}).also(function(X){return{styles:O(P,X.partPaths.styles)}}).also(function(X){return{numbering:U(P,X.partPaths.numbering,X.styles)}}).also(function(X){return{footnotes:E(X.partPaths.footnotes,X,function(I,q){return q?p.createFootnotesReader(I)(q):new t([])}),endnotes:E(X.partPaths.endnotes,X,function(I,q){return q?p.createEndnotesReader(I)(q):new t([])}),comments:E(X.partPaths.comments,X,function(I,q){return q?m.createCommentsReader(I)(q):new t([])})}}).also(function(X){return{notes:X.footnotes.flatMap(function(I){return X.endnotes.map(function(q){return new e.Notes(I.concat(q))})})}}).then(function(X){return E(X.partPaths.mainDocument,X,function(I,q){return X.notes.flatMap(function(L){return X.comments.flatMap(function(te){var B=new a({bodyReader:I,notes:L,comments:te});return B.convertXmlToDocument(q)})})})})}function x(P){return M(P).then(function(H){var X=w({docxFile:P,relationships:H,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!P.exists(X))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return T({filename:R(X),readElement:o.readRelationships,defaultValue:o.defaultValue})(P).then(function(I){function q(L){return w({docxFile:P,relationships:I,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+L,basePath:r.splitPath(X).dirname,fallbackPath:"word/"+L+".xml"})}return{mainDocument:X,comments:q("comments"),endnotes:q("endnotes"),footnotes:q("footnotes"),numbering:q("numbering"),styles:q("styles")}})})}function w(P){var H=P.docxFile,X=P.relationships,I=P.relationshipType,q=P.basePath,L=P.fallbackPath,te=X.findTargetsByType(I),B=te.map(function(se){return S(r.joinPath(q,se),"/")}),W=B.filter(function(se){return H.exists(se)});return W.length===0?L:W[0]}function S(P,H){return P.substring(0,H.length)===H?P.substring(H.length):P}function T(P){return function(H){return i(H,P.filename).then(function(X){return X?P.readElement(X):P.defaultValue})}}function E(P,H,X){var I=T({filename:R(P),readElement:o.readRelationships,defaultValue:o.defaultValue});return I(H.docxFile).then(function(q){var L=new s({relationships:q,contentTypes:H.contentTypes,docxFile:H.docxFile,numbering:H.numbering,styles:H.styles,files:H.files});return i(H.docxFile,P).then(function(te){return X(L,te)})})}function R(P){var H=r.splitPath(P);return r.joinPath(H.dirname,"_rels",H.basename+".rels")}var N=T({filename:"[Content_Types].xml",readElement:l.readContentTypesFromXml,defaultValue:l.defaultContentTypes});function U(P,H,X){return T({filename:H,readElement:function(I){return u.readNumberingXml(I,{styles:X})},defaultValue:u.defaultNumbering})(P)}function O(P,H){return T({filename:H,readElement:f.readStylesXml,defaultValue:f.defaultStyles})(P)}var M=T({filename:"_rels/.rels",readElement:o.readRelationships,defaultValue:o.defaultValue});return HC}var nN={},k7;function OSe(){if(k7)return nN;k7=1;var n=Di,e=sm(),t=ML();nN.writeStyleMap=a,nN.readStyleMap=f;var r="http://schemas.zwobble.org/mammoth/style-map",i="mammoth/style-map",s="/"+i;function a(p,m){return p.write(i,m),o(p).then(function(){return l(p)})}function o(p){var m="word/_rels/document.xml.rels",y="http://schemas.openxmlformats.org/package/2006/relationships",b="{"+y+"}Relationship";return p.read(m,"utf8").then(t.readString).then(function(x){var w=x.children;u(w,b,"Id",{Id:"rMammothStyleMap",Type:r,Target:s});var S={"":y};return p.write(m,t.writeString(x,S))})}function l(p){var m="[Content_Types].xml",y="http://schemas.openxmlformats.org/package/2006/content-types",b="{"+y+"}Override";return p.read(m,"utf8").then(t.readString).then(function(x){var w=x.children;u(w,b,"PartName",{PartName:s,ContentType:"text/prs.mammoth.style-map"});var S={"":y};return p.write(m,t.writeString(x,S))})}function u(p,m,y,b){var x=n.find(p,function(w){return w.name===m&&w.attributes[y]===b[y]});x?x.attributes=b:p.push(t.element(m,b))}function f(p){return p.exists(i)?p.read(i,"utf8"):e.resolve(null)}return nN}var rN={},Ag={},kd={},Pf={},U7;function rQ(){if(U7)return Pf;U7=1;var n=ck();function e(l,u,f){return r(n.element(l,u,{fresh:!1}),f)}function t(l,u,f){var p=n.element(l,u,{fresh:!0});return r(p,f)}function r(l,u){return{type:"element",tag:l,children:u||[]}}function i(l){return{type:"text",value:l}}var s={type:"forceWrite"};Pf.freshElement=t,Pf.nonFreshElement=e,Pf.elementWithTag=r,Pf.text=i,Pf.forceWrite=s;var a={br:!0,hr:!0,img:!0,input:!0};function o(l){return l.children.length===0&&a[l.tag.tagName]}return Pf.isVoidElement=o,Pf}var gM,O7;function MSe(){if(O7)return gM;O7=1;var n=Di,e=rQ();function t(x){return r(u(x))}function r(x){var w=[];return x.map(i).forEach(function(S){l(w,S)}),w}function i(x){return s[x.type](x)}var s={element:a,text:o,forceWrite:o};function a(x){return e.elementWithTag(x.tag,r(x.children))}function o(x){return x}function l(x,w){var S=x[x.length-1];w.type==="element"&&!w.tag.fresh&&S&&S.type==="element"&&w.tag.matchesElement(S.tag)?(w.tag.separator&&l(S.children,e.text(w.tag.separator)),w.children.forEach(function(T){l(S.children,T)})):x.push(w)}function u(x){return f(x,function(w){return p[w.type](w)})}function f(x,w){return n.flatten(n.map(x,w),!0)}var p={element:y,text:b,forceWrite:m};function m(x){return[x]}function y(x){var w=u(x.children);return w.length===0&&!e.isVoidElement(x)?[]:[e.elementWithTag(x.tag,w)]}function b(x){return x.value.length===0?[]:[x]}return gM=t,gM}var M7;function lk(){if(M7)return kd;M7=1;var n=rQ();kd.freshElement=n.freshElement,kd.nonFreshElement=n.nonFreshElement,kd.elementWithTag=n.elementWithTag,kd.text=n.text,kd.forceWrite=n.forceWrite,kd.simplify=MSe();function e(a,o){o.forEach(function(l){t(a,l)})}function t(a,o){r[o.type](a,o)}var r={element:i,text:s,forceWrite:function(){}};function i(a,o){n.isVoidElement(o)?a.selfClosing(o.tag.tagName,o.tag.attributes):(a.open(o.tag.tagName,o.tag.attributes),e(a,o.children),a.close(o.tag.tagName))}function s(a,o){a.text(o.value)}return kd.write=e,kd}var P7;function ck(){if(P7)return Ag;P7=1;var n=Di,e=lk();Ag.topLevelElement=t,Ag.elements=r,Ag.element=s;function t(o,l){return r([s(o,l,{fresh:!0})])}function r(o){return new i(o.map(function(l){return n.isString(l)?s(l):l}))}function i(o){this._elements=o}i.prototype.wrap=function(l){for(var u=l(),f=this._elements.length-1;f>=0;f--)u=this._elements[f].wrapNodes(u);return u};function s(o,l,u){return u=u||{},new a(o,l,u)}function a(o,l,u){var f={};n.isArray(o)?(o.forEach(function(p){f[p]=!0}),o=o[0]):f[o]=!0,this.tagName=o,this.tagNames=f,this.attributes=l||{},this.fresh=u.fresh,this.separator=u.separator}return a.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&n.isEqual(this.attributes||{},o.attributes||{})},a.prototype.wrap=function(l){return this.wrapNodes(l())},a.prototype.wrapNodes=function(l){return[e.elementWithTag(this,l)]},Ag.empty=r([]),Ag.ignore={wrap:function(){return[]}},Ag}var yM={},F7;function iQ(){return F7||(F7=1,function(n){var e=Di,t=sm(),r=lk();n.imgElement=i;function i(s){return function(a,o){return t.when(s(a)).then(function(l){var u={};return a.altText&&(u.alt=a.altText),e.extend(u,l),[r.freshElement("img",u)]})}}n.inline=n.imgElement,n.dataUri=i(function(s){return s.readAsBase64String().then(function(a){return{src:"data:"+s.contentType+";base64,"+a}})})}(yM)),yM}var vM={},bM={},L7;function PSe(){if(L7)return bM;L7=1;var n=Di;bM.writer=e;function e(o){return o=o||{},o.prettyPrint?r():i()}var t={div:!0,p:!0,ul:!0,li:!0};function r(){var o=0,l="  ",u=[],f=!0,p=!1,m=i();function y(N,U){t[N]&&E(),u.push(N),m.open(N,U),t[N]&&o++,f=!1}function b(N){t[N]&&(o--,E()),u.pop(),m.close(N)}function x(N){T();var U=R()?N:N.replace(`
`,`
`+l);m.text(U)}function w(N,U){E(),m.selfClosing(N,U)}function S(){return u.length===0||t[u[u.length-1]]}function T(){p||(E(),p=!0)}function E(){if(p=!1,!f&&S()&&!R()){m._append(`
`);for(var N=0;N<o;N++)m._append(l)}}function R(){return n.some(u,function(N){return N==="pre"})}return{asString:m.asString,open:y,close:b,text:x,selfClosing:w}}function i(){var o=[];function l(x,w){var S=p(w);o.push("<"+x+S+">")}function u(x){o.push("</"+x+">")}function f(x,w){var S=p(w);o.push("<"+x+S+" />")}function p(x){return n.map(x,function(w,S){return" "+S+'="'+a(w)+'"'}).join("")}function m(x){o.push(s(x))}function y(x){o.push(x)}function b(){return o.join("")}return{asString:b,open:l,close:u,text:m,selfClosing:f,_append:y}}function s(o){return o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(o){return o.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return bM}var xM={},I7;function FSe(){if(I7)return xM;I7=1;var n=Di;function e(p){return t(p,p)}function t(p,m){return function(){return{start:p,end:m}}}function r(p){var m=p.href||"";return m?{start:"[",end:"]("+m+")",anchorPosition:"before"}:{}}function i(p){var m=p.src||"",y=p.alt||"";return m||y?{start:"!["+y+"]("+m+")"}:{}}function s(p){return function(m,y){return{start:y?`
`:"",end:y?"":`
`,list:{isOrdered:p.isOrdered,indent:y?y.indent+1:0,count:0}}}}function a(p,m,y){m=m||{indent:0,isOrdered:!1,count:0},m.count++,y.hasClosed=!1;var b=m.isOrdered?m.count+".":"-",x=l("	",m.indent)+b+" ";return{start:x,end:function(){if(!y.hasClosed)return y.hasClosed=!0,`
`}}}var o={p:t("",`

`),br:t("",`  
`),ul:s({isOrdered:!1}),ol:s({isOrdered:!0}),li:a,strong:e("__"),em:e("*"),a:r,img:i};(function(){for(var p=1;p<=6;p++)o["h"+p]=t(l("#",p)+" ",`

`)})();function l(p,m){return new Array(m+1).join(p)}function u(){var p=[],m=[],y=null,b={};function x(N,U){U=U||{};var O=o[N]||function(){return{}},M=O(U,y,b);m.push({end:M.end,list:y}),M.list&&(y=M.list);var P=M.anchorPosition==="before";P&&w(U),p.push(M.start||""),P||w(U)}function w(N){N.id&&p.push('<a id="'+N.id+'"></a>')}function S(N){var U=m.pop();y=U.list;var O=n.isFunction(U.end)?U.end():U.end;p.push(O||"")}function T(N,U){x(N,U),S()}function E(N){p.push(f(N))}function R(){return p.join("")}return{asString:R,open:x,close:S,text:E,selfClosing:T}}xM.writer=u;function f(p){return p.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}return xM}var $7;function LSe(){if($7)return vM;$7=1;var n=PSe(),e=FSe();vM.writer=t;function t(r){return r=r||{},r.outputFormat==="markdown"?e.writer():n.writer(r)}return vM}var B7;function ISe(){if(B7)return rN;B7=1;var n=Di,e=sm(),t=Pv(),r=ck(),i=Nh(),s=iQ(),a=lk(),o=LSe();rN.DocumentConverter=l;function l(w){return{convertToHtml:function(S){var T=n.indexBy(S.type===t.types.document?S.comments:[],"commentId"),E=new u(w,T);return E.convertToHtml(S)}}}function u(w,S){var T=1,E=[],R=[];w=n.extend({ignoreEmptyParagraphs:!0},w);var N=w.idPrefix===void 0?"":w.idPrefix,U=w.ignoreEmptyParagraphs,O=r.topLevelElement("p"),M=w.styleMap||[];function P($){var ge=[],ve=X($,ge,{}),ae=[];b(ve,function(ye){ye.type==="deferred"&&ae.push(ye)});var ce={};return e.mapSeries(ae,function(ye){return ye.value().then(function(ke){ce[ye.id]=ke})}).then(function(){function ye(be){return y(be,function(J){return J.type==="deferred"?ce[J.id]:J.children?[n.extend({},J,{children:ye(J.children)})]:[J]})}var ke=o.writer({prettyPrint:w.prettyPrint,outputFormat:w.outputFormat});return a.write(ke,a.simplify(ye(ve))),new i.Result(ke.asString(),ge)})}function H($,ge,ve){return y($,function(ae){return X(ae,ge,ve)})}function X($,ge,ve){if(!ve)throw new Error("options not set");var ae=st[$.type];return ae?ae($,ge,ve):[]}function I($,ge,ve){return q($,ge).wrap(function(){var ae=H($.children,ge,ve);return U?ae:[a.forceWrite].concat(ae)})}function q($,ge){var ve=W($);return ve?ve.to:($.styleId&&ge.push(m("paragraph",$)),O)}function L($,ge,ve){var ae=function(){return H($.children,ge,ve)},ce=[];if($.highlight!==null){var ye=B({type:"highlight",color:$.highlight});ye&&ce.push(ye)}$.isSmallCaps&&ce.push(te("smallCaps")),$.isAllCaps&&ce.push(te("allCaps")),$.isStrikethrough&&ce.push(te("strikethrough","s")),$.isUnderline&&ce.push(te("underline")),$.verticalAlignment===t.verticalAlignment.subscript&&ce.push(r.element("sub",{},{fresh:!1})),$.verticalAlignment===t.verticalAlignment.superscript&&ce.push(r.element("sup",{},{fresh:!1})),$.isItalic&&ce.push(te("italic","em")),$.isBold&&ce.push(te("bold","strong"));var ke=r.empty,be=W($);return be?ke=be.to:$.styleId&&ge.push(m("run",$)),ce.push(ke),ce.forEach(function(J){ae=J.wrap.bind(J,ae)}),ae()}function te($,ge){var ve=B({type:$});return ve||(ge?r.element(ge,{},{fresh:!1}):r.empty)}function B($,ge){var ve=W($);return ve?ve.to:ge}function W($){for(var ge=0;ge<M.length;ge++)if(M[ge].from.matches($))return M[ge]}function se($){return function(ge,ve){return e.attempt(function(){return $(ge,ve)}).caught(function(ae){return ve.push(i.error(ae)),[]})}}function K($){return Y($.noteType,$.noteId)}function G($){return ne($.noteType,$.noteId)}function Y($,ge){return le($+"-"+ge)}function ne($,ge){return le($+"-ref-"+ge)}function le($){return N+$}var xe=r.elements([r.element("table",{},{fresh:!0})]);function we($,ge,ve){return B($,xe).wrap(function(){return Re($,ge,ve)})}function Re($,ge,ve){var ae=n.findIndex($.children,function(be){return!be.type===t.types.tableRow||!be.isHeader});ae===-1&&(ae=$.children.length);var ce;if(ae===0)ce=H($.children,ge,n.extend({},ve,{isTableHeader:!1}));else{var ye=H($.children.slice(0,ae),ge,n.extend({},ve,{isTableHeader:!0})),ke=H($.children.slice(ae),ge,n.extend({},ve,{isTableHeader:!1}));ce=[a.freshElement("thead",{},ye),a.freshElement("tbody",{},ke)]}return[a.forceWrite].concat(ce)}function Ee($,ge,ve){var ae=H($.children,ge,ve);return[a.freshElement("tr",{},[a.forceWrite].concat(ae))]}function Me($,ge,ve){var ae=ve.isTableHeader?"th":"td",ce=H($.children,ge,ve),ye={};return $.colSpan!==1&&(ye.colspan=$.colSpan.toString()),$.rowSpan!==1&&(ye.rowspan=$.rowSpan.toString()),[a.freshElement(ae,ye,[a.forceWrite].concat(ce))]}function Ye($,ge,ve){return B($,r.ignore).wrap(function(){var ae=S[$.commentId],ce=R.length+1,ye="["+x(ae)+ce+"]";return R.push({label:ye,comment:ae}),[a.freshElement("a",{href:"#"+Y("comment",$.commentId),id:ne("comment",$.commentId)},[a.text(ye)])]})}function Ke($,ge,ve){var ae=$.label,ce=$.comment,ye=H(ce.body,ge,ve).concat([a.nonFreshElement("p",{},[a.text(" "),a.freshElement("a",{href:"#"+ne("comment",ce.commentId)},[a.text("↑")])])]);return[a.freshElement("dt",{id:Y("comment",ce.commentId)},[a.text("Comment "+ae)]),a.freshElement("dd",{},ye)]}function Le($,ge,ve){return lt($).wrap(function(){return[]})}function lt($){var ge=W($);return ge?ge.to:$.breakType==="line"?r.topLevelElement("br"):r.empty}var st={document:function($,ge,ve){var ae=H($.children,ge,ve),ce=E.map(function(ke){return $.notes.resolve(ke)}),ye=H(ce,ge,ve);return ae.concat([a.freshElement("ol",{},ye),a.freshElement("dl",{},y(R,function(ke){return Ke(ke,ge,ve)}))])},paragraph:I,run:L,text:function($,ge,ve){return[a.text($.value)]},tab:function($,ge,ve){return[a.text("	")]},hyperlink:function($,ge,ve){var ae=$.anchor?"#"+le($.anchor):$.href,ce={href:ae};$.targetFrame!=null&&(ce.target=$.targetFrame);var ye=H($.children,ge,ve);return[a.nonFreshElement("a",ce,ye)]},checkbox:function($){var ge={type:"checkbox"};return $.checked&&(ge.checked="checked"),[a.freshElement("input",ge)]},bookmarkStart:function($,ge,ve){var ae=a.freshElement("a",{id:le($.name)},[a.forceWrite]);return[ae]},noteReference:function($,ge,ve){E.push($);var ae=a.freshElement("a",{href:"#"+K($),id:G($)},[a.text("["+T+++"]")]);return[a.freshElement("sup",{},[ae])]},note:function($,ge,ve){var ae=H($.body,ge,ve),ce=a.elementWithTag(r.element("p",{},{fresh:!1}),[a.text(" "),a.freshElement("a",{href:"#"+G($)},[a.text("↑")])]),ye=ae.concat([ce]);return a.freshElement("li",{id:K($)},ye)},commentReference:Ye,comment:Ke,image:p(se(w.convertImage||s.dataUri)),table:we,tableRow:Ee,tableCell:Me,break:Le};return{convertToHtml:P}}var f=1;function p(w){return function(S,T,E){return[{type:"deferred",id:f++,value:function(){return w(S,T,E)}}]}}function m(w,S){return i.warning("Unrecognised "+w+" style: '"+S.styleName+"' (Style ID: "+S.styleId+")")}function y(w,S){return n.flatten(w.map(S),!0)}function b(w,S){w.forEach(function(T){S(T),T.children&&b(T.children,S)})}var x=rN.commentAuthorLabel=function(S){return S.authorInitials||""};return rN}var wM={},W7;function $Se(){if(W7)return wM;W7=1;var n=Pv();function e(t){if(t.type==="text")return t.value;if(t.type===n.types.tab)return"	";var r=t.type==="paragraph"?`

`:"";return(t.children||[]).map(e).join("")+r}return wM.convertElementToRawText=e,wM}var w_={},oc={},_M={},SM={exports:{}},z7;function BSe(){if(z7)return SM.exports;z7=1;var n=SM.exports=function(e,t){this._tokens=e,this._startIndex=t||0};return n.prototype.head=function(){return this._tokens[this._startIndex]},n.prototype.tail=function(e){return new n(this._tokens,this._startIndex+1)},n.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},n.prototype.end=function(){return this._tokens[this._tokens.length-1]},n.prototype.to=function(e){var t=this.head().source,r=e.head()||e.end();return t.to(r.source)},SM.exports}var q7;function WSe(){if(q7)return _M;q7=1;var n=BSe();return _M.Parser=function(e){var t=function(r,i){return r(new n(i))};return{parseTokens:t}},_M}var DM={},AM={},H7;function zSe(){return H7||(H7=1,function(n){n.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return n.none},flatMap:function(){return n.none},filter:function(){return n.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(r){return typeof r=="function"?r():r}n.some=function(r){return new t(r)};var t=function(r){this._value=r};t.prototype.value=function(){return this._value},t.prototype.isNone=function(){return!1},t.prototype.isSome=function(){return!0},t.prototype.map=function(r){return new t(r(this._value))},t.prototype.flatMap=function(r){return r(this._value)},t.prototype.filter=function(r){return r(this._value)?this:n.none},t.prototype.toArray=function(){return[this._value]},t.prototype.orElse=function(r){return this},t.prototype.valueOrElse=function(r){return this._value},n.isOption=function(r){return r===n.none||r instanceof t},n.fromNullable=function(r){return r==null?n.none:new t(r)}}(AM)),AM}var TM,V7;function PL(){if(V7)return TM;V7=1,TM={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new n({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new n({status:"error",remaining:t,errors:e})},success:function(e,t,r){return new n({status:"success",value:e,source:r,remaining:t,errors:[]})},cut:function(e){return new n({status:"cut",remaining:e,errors:[]})}};var n=function(e){this._value=e.value,this._status=e.status,this._hasValue=e.value!==void 0,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};return n.prototype.map=function(e){return this._hasValue?new n({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},n.prototype.changeRemaining=function(e){return new n({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},n.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},n.prototype.isFailure=function(){return this._status==="failure"},n.prototype.isError=function(){return this._status==="error"},n.prototype.isCut=function(){return this._status==="cut"},n.prototype.value=function(){return this._value},n.prototype.remaining=function(){return this._remaining},n.prototype.source=function(){return this._source},n.prototype.errors=function(){return this._errors},TM}var EM={},G7;function sQ(){if(G7)return EM;G7=1,EM.error=function(e){return new n(e)};var n=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};return n.prototype.describe=function(){var e=this._location?this._location.describe()+`:
`:"";return e+"Expected "+this.expected+`
but got `+this.actual},n.prototype.lineNumber=function(){return this._location.lineNumber()},n.prototype.characterNumber=function(){return this._location.characterNumber()},EM}var CM={},X7;function qSe(){if(X7)return CM;X7=1,CM.fromArray=function(e){var t=0,r=function(){return t<e.length};return new n({hasNext:r,next:function(){if(r())return e[t++];throw new Error("No more elements")}})};var n=function(e){this._iterator=e};return n.prototype.map=function(e){var t=this._iterator;return new n({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},n.prototype.filter=function(e){var t=this._iterator,r=!1,i=!1,s,a=function(){if(!r)for(r=!0,i=!1;t.hasNext()&&!i;)s=t.next(),i=e(s)};return new n({hasNext:function(){return a(),i},next:function(){a();var o=s;return r=!1,o}})},n.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},n.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},CM}var Y7;function aQ(){return Y7||(Y7=1,function(n){var e=Di,t=zSe(),r=PL(),i=sQ(),s=qSe();n.token=function(m,y){var b=y!==void 0;return function(x){var w=x.head();if(w&&w.name===m&&(!b||w.value===y))return r.success(w.value,x.tail(),w.source);var S=f({name:m,value:y});return p(x,S)}},n.tokenOfType=function(m){return n.token(m)},n.firstOf=function(m,y){return e.isArray(y)||(y=Array.prototype.slice.call(arguments,1)),function(b){return s.fromArray(y).map(function(x){return x(b)}).filter(function(x){return x.isSuccess()||x.isError()}).first()||p(b,m)}},n.then=function(m,y){return function(b){var x=m(b);return x.map||console.log(x),x.map(y)}},n.sequence=function(){var m=Array.prototype.slice.call(arguments,0),y=function(x){var w=e.foldl(m,function(T,E){var R=T.result,N=T.hasCut;if(!R.isSuccess())return{result:R,hasCut:N};var U=E(R.remaining());if(U.isCut())return{result:R,hasCut:!0};if(U.isSuccess()){var O;E.isCaptured?O=R.value().withValue(E,U.value()):O=R.value();var M=U.remaining(),P=x.to(M);return{result:r.success(O,M,P),hasCut:N}}else return N?{result:r.error(U.errors(),U.remaining()),hasCut:N}:{result:U,hasCut:N}},{result:r.success(new a,x),hasCut:!1}).result,S=x.to(w.remaining());return w.map(function(T){return T.withValue(n.sequence.source,S)})};y.head=function(){var x=e.find(m,b);return n.then(y,n.sequence.extract(x))},y.map=function(x){return n.then(y,function(w){return x.apply(this,w.toArray())})};function b(x){return x.isCaptured}return y};var a=function(m,y){this._values=m||{},this._valuesArray=y||[]};a.prototype.withValue=function(m,y){if(m.captureName&&m.captureName in this._values)throw new Error('Cannot add second value for capture "'+m.captureName+'"');var b=e.clone(this._values);b[m.captureName]=y;var x=this._valuesArray.concat([y]);return new a(b,x)},a.prototype.get=function(m){if(m.captureName in this._values)return this._values[m.captureName];throw new Error('No value for capture "'+m.captureName+'"')},a.prototype.toArray=function(){return this._valuesArray},n.sequence.capture=function(m,y){var b=function(){return m.apply(this,arguments)};return b.captureName=y,b.isCaptured=!0,b},n.sequence.extract=function(m){return function(y){return y.get(m)}},n.sequence.applyValues=function(m){var y=Array.prototype.slice.call(arguments,1);return function(b){var x=y.map(function(w){return b.get(w)});return m.apply(this,x)}},n.sequence.source={captureName:"☃source☃"},n.sequence.cut=function(){return function(m){return r.cut(m)}},n.optional=function(m){return function(y){var b=m(y);return b.isSuccess()?b.map(t.some):b.isFailure()?r.success(t.none,y):b}},n.zeroOrMoreWithSeparator=function(m,y){return u(m,y,!1)},n.oneOrMoreWithSeparator=function(m,y){return u(m,y,!0)};var o=n.zeroOrMore=function(m){return function(y){for(var b=[],x;(x=m(y))&&x.isSuccess();)y=x.remaining(),b.push(x.value());return x.isError()?x:r.success(b,y)}};n.oneOrMore=function(m){return n.oneOrMoreWithSeparator(m,l)};function l(m){return r.success(null,m)}var u=function(m,y,b){return function(x){var w=m(x);if(w.isSuccess()){var S=n.sequence.capture(m,"main"),T=o(n.then(n.sequence(y,S),n.sequence.extract(S))),E=T(w.remaining());return r.success([w.value()].concat(E.value()),E.remaining())}else return b||w.isError()?w:r.success([],x)}};n.leftAssociative=function(m,y,b){var x;b?x=[{func:b,rule:y}]:x=y,x=x.map(function(S){return n.then(S.rule,function(T){return function(E,R){return S.func(E,T,R)}})});var w=n.firstOf.apply(null,["rules"].concat(x));return function(S){var T=S,E=m(S);if(!E.isSuccess())return E;for(var R=w(E.remaining());R.isSuccess();){var N=R.remaining(),U=T.to(R.remaining()),O=R.value();E=r.success(O(E.value(),U),N,U),R=w(E.remaining())}return R.isError()?R:E}},n.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},n.nonConsuming=function(m){return function(y){return m(y).changeRemaining(y)}};var f=function(m){return m.value?m.name+' "'+m.value+'"':m.name};function p(m,y){var b,x=m.head();return x?b=i.error({expected:y,actual:f(x),location:x.source}):b=i.error({expected:y,actual:"end of tokens"}),r.failure([b],m)}}(DM)),DM}var NM={exports:{}},K7;function oQ(){if(K7)return NM.exports;K7=1,NM.exports=function(e,t){var r={asString:function(){return e},range:function(i,s){return new n(e,t,i,s)}};return r};var n=function(e,t,r,i){this._string=e,this._description=t,this._startIndex=r,this._endIndex=i};return n.prototype.to=function(e){return new n(this._string,this._description,this._startIndex,e._endIndex)},n.prototype.describe=function(){var e=this._position(),t=this._description?this._description+`
`:"";return t+"Line number: "+e.lineNumber+`
Character number: `+e.characterNumber},n.prototype.lineNumber=function(){return this._position().lineNumber},n.prototype.characterNumber=function(){return this._position().characterNumber},n.prototype._position=function(){for(var e=this,t=0,r=function(){return e._string.indexOf(`
`,t)},i=1;r()!==-1&&r()<this._startIndex;)t=r()+1,i+=1;var s=this._startIndex-t+1;return{lineNumber:i,characterNumber:s}},NM.exports}var RM,Z7;function lQ(){return Z7||(Z7=1,RM=function(n,e,t){this.name=n,this.value=e,t&&(this.source=t)}),RM}var jM={},Q7;function HSe(){return Q7||(Q7=1,function(n){var e=aQ(),t=PL();n.parser=function(s,a,o){var l={rule:m,leftAssociative:y,rightAssociative:b},u=new r(o.map(p)),f=e.firstOf(s,a);function p(S){return{name:S.name,rule:i(S.ruleBuilder.bind(null,l))}}function m(){return x(u)}function y(S){return x(u.untilExclusive(S))}function b(S){return x(u.untilInclusive(S))}function x(S){return w.bind(null,S)}function w(S,T){var E=f(T);return E.isSuccess()?S.apply(E):E}return l};function r(s){function a(p){return new r(s.slice(0,l().indexOf(p)))}function o(p){return new r(s.slice(0,l().indexOf(p)+1))}function l(){return s.map(function(p){return p.name})}function u(p){for(var m,y;;)if(m=f(p.remaining()),m.isSuccess())y=p.source().to(m.source()),p=t.success(m.value()(p.value(),y),m.remaining(),y);else return m.isFailure()?p:m}function f(p){return e.firstOf("infix",s.map(function(m){return m.rule}))(p)}return{apply:u,untilExclusive:a,untilInclusive:o}}n.infix=function(s,a){function o(l){return n.infix(s,function(u){var f=a(u);return function(p){var m=f(p);return m.map(function(y){return function(b,x){return l(b,y,x)}})}})}return{name:s,ruleBuilder:a,map:o}};var i=function(s){var a;return function(o){return a||(a=s()),a(o)}}}(jM)),jM}var kM={},J7;function VSe(){if(J7)return kM;J7=1;var n=lQ(),e=oQ();kM.RegexTokeniser=t;function t(r){r=r.map(function(o){return{name:o.name,regex:new RegExp(o.regex.source,"g")}});function i(o,l){for(var u=new e(o,l),f=0,p=[];f<o.length;){var m=s(o,f,u);f=m.endIndex,p.push(m.token)}return p.push(a(o,u)),p}function s(o,l,u){for(var f=0;f<r.length;f++){var p=r[f].regex;p.lastIndex=l;var m=p.exec(o);if(m){var b=l+m[0].length;if(m.index===l&&b>l){var y=m[1],x=new n(r[f].name,y,u.range(l,b));return{token:x,endIndex:b}}}}var b=l+1,x=new n("unrecognisedCharacter",o.substring(l,b),u.range(l,b));return{token:x,endIndex:b}}function a(o,l){return new n("end",null,l.range(o.length,o.length))}return{tokenise:i}}return kM}var eW;function cQ(){return eW||(eW=1,oc.Parser=WSe().Parser,oc.rules=aQ(),oc.errors=sQ(),oc.results=PL(),oc.StringSource=oQ(),oc.Token=lQ(),oc.bottomUp=HSe(),oc.RegexTokeniser=VSe().RegexTokeniser,oc.rule=function(n){var e;return function(t){return e||(e=n()),e(t)}}),oc}var Qi={},tW;function GSe(){if(tW)return Qi;tW=1,Qi.paragraph=n,Qi.run=e,Qi.table=t,Qi.bold=new i("bold"),Qi.italic=new i("italic"),Qi.underline=new i("underline"),Qi.strikethrough=new i("strikethrough"),Qi.allCaps=new i("allCaps"),Qi.smallCaps=new i("smallCaps"),Qi.highlight=r,Qi.commentReference=new i("commentReference"),Qi.lineBreak=new a({breakType:"line"}),Qi.pageBreak=new a({breakType:"page"}),Qi.columnBreak=new a({breakType:"column"}),Qi.equalTo=l,Qi.startsWith=u;function n(m){return new i("paragraph",m)}function e(m){return new i("run",m)}function t(m){return new i("table",m)}function r(m){return new s(m)}function i(m,y){y=y||{},this._elementType=m,this._styleId=y.styleId,this._styleName=y.styleName,y.list&&(this._listIndex=y.list.levelIndex,this._listIsOrdered=y.list.isOrdered)}i.prototype.matches=function(m){return m.type===this._elementType&&(this._styleId===void 0||m.styleId===this._styleId)&&(this._styleName===void 0||m.styleName&&this._styleName.operator(this._styleName.operand,m.styleName))&&(this._listIndex===void 0||o(m,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===m.breakType)};function s(m){m=m||{},this._color=m.color}s.prototype.matches=function(m){return m.type==="highlight"&&(this._color===void 0||m.color===this._color)};function a(m){m=m||{},this._breakType=m.breakType}a.prototype.matches=function(m){return m.type==="break"&&(this._breakType===void 0||m.breakType===this._breakType)};function o(m,y,b){return m.numbering&&m.numbering.level==y&&m.numbering.isOrdered==b}function l(m){return{operator:f,operand:m}}function u(m){return{operator:p,operand:m}}function f(m,y){return m.toUpperCase()===y.toUpperCase()}function p(m,y){return y.toUpperCase().indexOf(m.toUpperCase())===0}return Qi}var UM={},nW;function XSe(){if(nW)return UM;nW=1;var n=cQ(),e=n.RegexTokeniser;UM.tokenise=r;var t="'((?:\\\\.|[^'])*)";function r(i){var s="(?:[a-zA-Z\\-_]|\\\\.)",a=new e([{name:"identifier",regex:new RegExp("("+s+"(?:"+s+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(t+"'")},{name:"unterminated-string",regex:new RegExp(t)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return a.tokenise(i)}return UM}var rW;function YSe(){if(rW)return w_;rW=1;var n=Di,e=cQ(),t=GSe(),r=ck(),i=XSe().tokenise,s=Nh();w_.readHtmlPath=f,w_.readDocumentMatcher=l,w_.readStyle=a;function a(M){return R(O,M)}function o(){return e.rules.sequence(e.rules.sequence.capture(u()),e.rules.tokenOfType("whitespace"),e.rules.tokenOfType("arrow"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("whitespace"),e.rules.sequence.capture(p())).head())),e.rules.tokenOfType("end")).map(function(M,P){return{from:M,to:P.valueOrElse(r.empty)}})}function l(M){return R(u(),M)}function u(){var M=e.rules.sequence,P=function(Ke,Le){return e.rules.then(e.rules.token("identifier",Ke),function(){return Le})},H=P("p",t.paragraph),X=P("r",t.run),I=e.rules.firstOf("p or r or table",H,X),q=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(m)).map(function(Ke){return{styleId:Ke}}),L=e.rules.firstOf("style name matcher",e.rules.then(e.rules.sequence(e.rules.tokenOfType("equals"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(Ke){return{styleName:t.equalTo(Ke)}}),e.rules.then(e.rules.sequence(e.rules.tokenOfType("startsWith"),e.rules.sequence.cut(),e.rules.sequence.capture(b)).head(),function(Ke){return{styleName:t.startsWith(Ke)}})),te=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","style-name"),e.rules.sequence.capture(L),e.rules.tokenOfType("close-square-bracket")).head(),B=e.rules.firstOf("list type",P("ordered-list",{isOrdered:!0}),P("unordered-list",{isOrdered:!1})),W=M(e.rules.tokenOfType("colon"),M.capture(B),M.cut(),e.rules.tokenOfType("open-paren"),M.capture(y),e.rules.tokenOfType("close-paren")).map(function(Ke,Le){return{list:{isOrdered:Ke.isOrdered,levelIndex:Le-1}}});function se(Ke){var Le=e.rules.firstOf.apply(e.rules.firstOf,["matcher suffix"].concat(Ke)),lt=e.rules.zeroOrMore(Le);return e.rules.then(lt,function(st){var $={};return st.forEach(function(ge){n.extend($,ge)}),$})}var K=M(M.capture(I),M.capture(se([q,te,W]))).map(function(Ke,Le){return Ke(Le)}),G=M(e.rules.token("identifier","table"),M.capture(se([q,te]))).map(function(Ke){return t.table(Ke)}),Y=P("b",t.bold),ne=P("i",t.italic),le=P("u",t.underline),xe=P("strike",t.strikethrough),we=P("all-caps",t.allCaps),Re=P("small-caps",t.smallCaps),Ee=M(e.rules.token("identifier","highlight"),e.rules.sequence.capture(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.token("identifier","color"),e.rules.tokenOfType("equals"),e.rules.sequence.capture(b),e.rules.tokenOfType("close-square-bracket")).head()))).map(function(Ke){return t.highlight({color:Ke.valueOrElse(void 0)})}),Me=P("comment-reference",t.commentReference),Ye=M(e.rules.token("identifier","br"),M.cut(),e.rules.tokenOfType("open-square-bracket"),e.rules.token("identifier","type"),e.rules.tokenOfType("equals"),M.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(Ke){switch(Ke){case"line":return t.lineBreak;case"page":return t.pageBreak;case"column":return t.columnBreak}});return e.rules.firstOf("element type",K,G,Y,ne,le,xe,we,Re,Ee,Me,Ye)}function f(M){return R(p(),M)}function p(){var M=e.rules.sequence.capture,P=e.rules.tokenOfType("whitespace"),H=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","fresh"))),function(L){return L.map(function(){return!0}).valueOrElse(!1)}),X=e.rules.then(e.rules.optional(e.rules.sequence(e.rules.tokenOfType("colon"),e.rules.token("identifier","separator"),e.rules.tokenOfType("open-paren"),M(b),e.rules.tokenOfType("close-paren")).head()),function(L){return L.valueOrElse("")}),I=e.rules.oneOrMoreWithSeparator(m,e.rules.tokenOfType("choice")),q=e.rules.sequence(M(I),M(e.rules.zeroOrMore(E)),M(H),M(X)).map(function(L,te,B,W){var se={},K={};return te.forEach(function(G){G.append&&se[G.name]?se[G.name]+=" "+G.value:se[G.name]=G.value}),B&&(K.fresh=!0),W&&(K.separator=W),r.element(L,se,K)});return e.rules.firstOf("html path",e.rules.then(e.rules.tokenOfType("bang"),function(){return r.ignore}),e.rules.then(e.rules.zeroOrMoreWithSeparator(q,e.rules.sequence(P,e.rules.tokenOfType("gt"),P)),r.elements))}var m=e.rules.then(e.rules.tokenOfType("identifier"),w),y=e.rules.tokenOfType("integer"),b=e.rules.then(e.rules.tokenOfType("string"),w),x={n:`
`,r:"\r",t:"	"};function w(M){return M.replace(/\\(.)/g,function(P,H){return x[H]||H})}var S=e.rules.sequence(e.rules.tokenOfType("open-square-bracket"),e.rules.sequence.cut(),e.rules.sequence.capture(m),e.rules.tokenOfType("equals"),e.rules.sequence.capture(b),e.rules.tokenOfType("close-square-bracket")).map(function(M,P){return{name:M,value:P,append:!1}}),T=e.rules.sequence(e.rules.tokenOfType("dot"),e.rules.sequence.cut(),e.rules.sequence.capture(m)).map(function(M){return{name:"class",value:M,append:!0}}),E=e.rules.firstOf("attribute or class",S,T);function R(M,P){var H=i(P),X=e.Parser(),I=X.parseTokens(M,H);return I.isSuccess()?s.success(I.value()):new s.Result(null,[s.warning(N(P,I))])}function N(M,P){return"Did not understand this style mapping, so ignored it: "+M+`
`+P.errors().map(U).join(`
`)}function U(M){return"Error was at character number "+M.characterNumber()+": Expected "+M.expected+" but got "+M.actual}var O=o();return w_}var __={},iW;function KSe(){if(iW)return __;iW=1,__.readOptions=r;var n=Di,e=__._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh"],t=__._standardOptions={transformDocument:s,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function r(a){return a=a||{},n.extend({},t,a,{customStyleMap:i(a.styleMap),readStyleMap:function(){var o=this.customStyleMap;return this.includeEmbeddedStyleMap&&(o=o.concat(i(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(o=o.concat(e)),o}})}function i(a){return a?n.isString(a)?a.split(`
`).map(function(o){return o.trim()}).filter(function(o){return o!==""&&o.charAt(0)!=="#"}):a:[]}function s(a){return a}return __}var OM={},sW;function ZSe(){if(sW)return OM;sW=1;var n=sm(),e=QZ();OM.openZip=t;function t(r){return r.arrayBuffer?n.resolve(e.openArrayBuffer(r.arrayBuffer)):n.reject(new Error("Could not find file in options"))}return OM}var Tg={},aW;function QSe(){if(aW)return Tg;aW=1;var n=Di;Tg.paragraph=e,Tg.run=t,Tg._elements=i,Tg.getDescendantsOfType=s,Tg.getDescendants=a;function e(l){return r("paragraph",l)}function t(l){return r("run",l)}function r(l,u){return i(function(f){return f.type===l?u(f):f})}function i(l){return function u(f){if(f.children){var p=n.map(f.children,u);f=n.extend(f,{children:p})}return l(f)}}function s(l,u){return a(l).filter(function(f){return f.type===u})}function a(l){var u=[];return o(l,function(f){u.push(f)}),u}function o(l,u){l.children&&l.children.forEach(function(f){o(f,u),u(f)})}return Tg}var MM={},oW;function JSe(){if(oW)return MM;oW=1;var n=ck(),e=lk();MM.element=t;function t(r){return function(i){return e.elementWithTag(n.element(r),[i])}}return MM}var lW;function eDe(){if(lW)return hl;lW=1;var n=Di,e=USe(),t=OSe(),r=ISe().DocumentConverter,i=$Se().convertElementToRawText,s=YSe().readStyle,a=KSe().readOptions,o=ZSe(),l=Nh().Result;hl.convertToHtml=u,hl.convertToMarkdown=f,hl.convert=p,hl.extractRawText=x,hl.images=iQ(),hl.transforms=QSe(),hl.underline=JSe(),hl.embedStyleMap=w,hl.readEmbeddedStyleMap=m;function u(S,T){return p(S,T)}function f(S,T){var E=Object.create(T||{});return E.outputFormat="markdown",p(S,E)}function p(S,T){return T=a(T),o.openZip(S).tap(function(E){return t.readStyleMap(E).then(function(R){T.embeddedStyleMap=R})}).then(function(E){return e.read(E,S).then(function(R){return R.map(T.transformDocument)}).then(function(R){return y(R,T)})})}function m(S){return o.openZip(S).then(t.readStyleMap)}function y(S,T){var E=b(T.readStyleMap()),R=n.extend({},T,{styleMap:E.value}),N=new r(R);return S.flatMapThen(function(U){return E.flatMapThen(function(O){return N.convertToHtml(U)})})}function b(S){return l.combine((S||[]).map(s)).map(function(T){return T.filter(function(E){return!!E})})}function x(S){return o.openZip(S).then(e.read).then(function(T){return T.map(i)})}function w(S,T){return o.openZip(S).tap(function(E){return t.writeStyleMap(E,T)}).then(function(E){return E.toArrayBuffer()}).then(function(E){return{toArrayBuffer:function(){return E},toBuffer:function(){return Buffer.from(E)}}})}return hl.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)},hl}var tDe=eDe();const nDe=kh(tDe);var cS={};cS.d=(n,e)=>{for(var t in e)cS.o(e,t)&&!cS.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};cS.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var Kt=globalThis.pdfjsLib={};cS.d(Kt,{AbortException:()=>qp,AnnotationEditorLayer:()=>xF,AnnotationEditorParamsType:()=>jn,AnnotationEditorType:()=>sn,AnnotationEditorUIManager:()=>gv,AnnotationLayer:()=>ZAe,AnnotationMode:()=>Gf,ColorPicker:()=>ij,DOMSVGFactory:()=>HL,DrawLayer:()=>SF,FeatureTest:()=>wa,GlobalWorkerOptions:()=>ph,ImageKind:()=>WN,InvalidPDFException:()=>f5,MissingPDFException:()=>FS,OPS:()=>dc,OutputScale:()=>m5,PDFDataRangeTransport:()=>dJ,PDFDateString:()=>BL,PDFWorker:()=>s0,PasswordResponses:()=>aDe,PermissionFlag:()=>sDe,PixelsPerInch:()=>Hp,RenderingCancelledException:()=>IL,TextLayer:()=>LS,TouchManager:()=>nj,UnexpectedResponseException:()=>JR,Util:()=>Ut,VerbosityLevel:()=>uk,XfaLayer:()=>fJ,build:()=>jAe,createValidAbsoluteUrl:()=>uDe,fetchData:()=>pk,getDocument:()=>_Ae,getFilenameFromUrl:()=>bDe,getPdfFilenameFromUrl:()=>xDe,getXfaPageViewport:()=>wDe,isDataScheme:()=>mk,isPdfFile:()=>$L,noContextMenu:()=>Mc,normalizeUnicode:()=>gDe,setLayerDimensions:()=>mv,shadow:()=>yn,stopEvent:()=>Io,version:()=>RAe});const Xs=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),uQ=[1,0,0,1,0,0],h5=[.001,0,0,.001,0,0],rDe=1e7,PM=1.35,Po={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Gf={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},iDe="pdfjs_internal_editor_",sn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},jn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},sDe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Ls={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},WN={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Li={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},S_={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},uk={ERRORS:0,WARNINGS:1,INFOS:5},dc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},aDe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let dk=uk.WARNINGS;function oDe(n){Number.isInteger(n)&&(dk=n)}function lDe(){return dk}function hk(n){dk>=uk.INFOS&&console.log(`Info: ${n}`)}function an(n){dk>=uk.WARNINGS&&console.log(`Warning: ${n}`)}function gr(n){throw new Error(n)}function Ui(n,e){n||gr(e)}function cDe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function uDe(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=mDe(n)}catch{}}const r=e?new URL(n,e):new URL(n);if(cDe(r))return r}catch{}return null}function yn(n,e,t,r=!1){return Object.defineProperty(n,e,{value:t,enumerable:!r,configurable:!0,writable:!1}),t}const om=function(){function e(t,r){this.message=t,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class cW extends om{constructor(e,t){super(e,"PasswordException"),this.code=t}}class FM extends om{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class f5 extends om{constructor(e){super(e,"InvalidPDFException")}}class FS extends om{constructor(e){super(e,"MissingPDFException")}}class JR extends om{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class dDe extends om{constructor(e){super(e,"FormatError")}}class qp extends om{constructor(e){super(e,"AbortException")}}function dQ(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&gr("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const r=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=n.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function fk(n){typeof n!="string"&&gr("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let r=0;r<e;++r)t[r]=n.charCodeAt(r)&255;return t}function hDe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function FL(n){const e=Object.create(null);for(const[t,r]of n)e[t]=r;return e}function fDe(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function pDe(){try{return new Function(""),!0}catch{return!1}}class wa{static get isLittleEndian(){return yn(this,"isLittleEndian",fDe())}static get isEvalSupported(){return yn(this,"isEvalSupported",pDe())}static get isOffscreenCanvasSupported(){return yn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return yn(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?yn(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):yn(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return yn(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const LM=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var wh,zN,p5;class Ut{static makeHexColor(e,t,r){return`#${LM[e]}${LM[t]}${LM[r]}`}static scaleMinMax(e,t){let r;e[0]?(e[0]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[3],t[3]*=e[3]):(r=t[0],t[0]=t[1],t[1]=r,r=t[2],t[2]=t[3],t[3]=r,e[1]<0&&(r=t[1],t[1]=t[3],t[3]=r),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(r=t[0],t[0]=t[2],t[2]=r),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const r=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[r,i]}static applyInverseTransform(e,t){const r=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/r,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/r;return[i,s]}static getAxialAlignedBoundingBox(e,t){const r=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(r[0],i[0],s[0],a[0]),Math.min(r[1],i[1],s[1],a[1]),Math.max(r[0],i[0],s[0],a[0]),Math.max(r[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],r=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(r+a)/2,l=Math.sqrt((r+a)**2-4*(r*a-s*i))/2,u=o+l||1,f=o-l||1;return[Math.sqrt(u),Math.sqrt(f)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const r=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[r,s,i,a]}static bezierBoundingBox(e,t,r,i,s,a,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],ie(this,wh,p5).call(this,e,r,s,o,t,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),u),ie(this,wh,p5).call(this,e,r,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u),u}}wh=new WeakSet,zN=function(e,t,r,i,s,a,o,l,u,f){if(u<=0||u>=1)return;const p=1-u,m=u*u,y=m*u,b=p*(p*(p*e+3*u*t)+3*m*r)+y*i,x=p*(p*(p*s+3*u*a)+3*m*o)+y*l;f[0]=Math.min(f[0],b),f[1]=Math.min(f[1],x),f[2]=Math.max(f[2],b),f[3]=Math.max(f[3],x)},p5=function(e,t,r,i,s,a,o,l,u,f,p,m){if(Math.abs(u)<1e-12){Math.abs(f)>=1e-12&&ie(this,wh,zN).call(this,e,t,r,i,s,a,o,l,-p/f,m);return}const y=f**2-4*p*u;if(y<0)return;const b=Math.sqrt(y),x=2*u;ie(this,wh,zN).call(this,e,t,r,i,s,a,o,l,(-f+b)/x,m),ie(this,wh,zN).call(this,e,t,r,i,s,a,o,l,(-f-b)/x,m)},ee(Ut,wh);function mDe(n){return decodeURIComponent(escape(n))}let IM=null,uW=null;function gDe(n){return IM||(IM=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,uW=new Map([["ﬅ","ſt"]])),n.replaceAll(IM,(e,t,r)=>t?t.normalize("NFKC"):uW.get(r))}function yDe(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),dQ(n)}const LL="pdfjs_internal_id_";function vDe(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(dQ(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});const Od="http://www.w3.org/2000/svg",Mg=class Mg{};Wt(Mg,"CSS",96),Wt(Mg,"PDF",72),Wt(Mg,"PDF_TO_CSS_UNITS",Mg.CSS/Mg.PDF);let Hp=Mg;async function pk(n,e="text"){if(O_(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,r)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class ZA{constructor({viewBox:e,userUnit:t,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let f,p,m,y;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,p=0,m=0,y=1;break;case 90:f=0,p=1,m=1,y=0;break;case 270:f=0,p=-1,m=-1,y=0;break;case 0:f=1,p=0,m=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,y=-y);let b,x,w,S;f===0?(b=Math.abs(u-e[1])*r+s,x=Math.abs(l-e[0])*r+a,w=(e[3]-e[1])*r,S=(e[2]-e[0])*r):(b=Math.abs(l-e[0])*r+s,x=Math.abs(u-e[1])*r+a,w=(e[2]-e[0])*r,S=(e[3]-e[1])*r),this.transform=[f*r,p*r,m*r,y*r,b-f*r*l-m*r*u,x-p*r*l-y*r*u],this.width=w,this.height=S}get rawDims(){const{userUnit:e,viewBox:t}=this,r=t.map(i=>i*e);return yn(this,"rawDims",{pageWidth:r[2]-r[0],pageHeight:r[3]-r[1],pageX:r[0],pageY:r[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new ZA({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return Ut.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=Ut.applyTransform([e[0],e[1]],this.transform),r=Ut.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],r[0],r[1]]}convertToPdfPoint(e,t){return Ut.applyInverseTransform([e,t],this.transform)}}class IL extends om{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function mk(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function $L(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function bDe(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function xDe(n,e="document.pdf"){if(typeof n!="string")return e;if(mk(n))return an('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(n);let s=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=r.exec(decodeURIComponent(s))[0]}catch{}return s||e}class dW{constructor(){Wt(this,"started",Object.create(null));Wt(this,"times",[])}time(e){e in this.started&&an(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||an(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:r}of this.times)t=Math.max(r.length,t);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(t)} ${s-i}ms
`);return e.join("")}}function O_(n,e){try{const{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Mc(n){n.preventDefault()}function Io(n){n.preventDefault(),n.stopPropagation()}var WS;class BL{static toDateObject(e){if(!e||typeof e!="string")return null;_(this,WS)||V(this,WS,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=_(this,WS).exec(e);if(!t)return null;const r=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,u==="-"?(a+=f,o+=p):u==="+"&&(a-=f,o-=p),new Date(Date.UTC(r,i,s,a,o,l))}}WS=new WeakMap,ee(BL,WS);function wDe(n,{scale:e=1,rotation:t=0}){const{width:r,height:i}=n.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new ZA({viewBox:s,userUnit:1,scale:e,rotation:t})}function WL(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(an(`Not a valid color format: "${n}"`),[0,0,0])}function _De(n){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of n.keys()){e.style.color=t;const r=window.getComputedStyle(e).color;n.set(t,WL(r))}e.remove()}function Hr(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform();return[e,t,r,i,s,a]}function bu(n){const{a:e,b:t,c:r,d:i,e:s,f:a}=n.getTransform().invertSelf();return[e,t,r,i,s,a]}function mv(n,e,t=!1,r=!0){if(e instanceof ZA){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=n,o=wa.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,f=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,p=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=f,a.height=p):(a.width=p,a.height=f)}r&&n.setAttribute("data-main-rotation",e.rotation)}class m5{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Xf,$g,hc,Bg,zS,qS,fj,hQ,_a,fQ,pQ,qN,mQ,y5;const Id=class Id{constructor(e){ee(this,_a);ee(this,Xf,null);ee(this,$g,null);ee(this,hc);ee(this,Bg,null);ee(this,zS,null);V(this,hc,e),_(Id,qS)||V(Id,qS,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=V(this,Xf,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=_(this,hc)._uiManager._signal;e.addEventListener("contextmenu",Mc,{signal:t}),e.addEventListener("pointerdown",ie(Id,fj,hQ),{signal:t});const r=V(this,Bg,document.createElement("div"));r.className="buttons",e.append(r);const i=_(this,hc).toolbarPosition;if(i){const{style:s}=e,a=_(this,hc)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return ie(this,_a,mQ).call(this),e}get div(){return _(this,Xf)}hide(){var e;_(this,Xf).classList.add("hidden"),(e=_(this,$g))==null||e.hideDropdown()}show(){var e;_(this,Xf).classList.remove("hidden"),(e=_(this,zS))==null||e.shown()}async addAltText(e){const t=await e.render();ie(this,_a,qN).call(this,t),_(this,Bg).prepend(t,_(this,_a,y5)),V(this,zS,e)}addColorPicker(e){V(this,$g,e);const t=e.renderButton();ie(this,_a,qN).call(this,t),_(this,Bg).prepend(t,_(this,_a,y5))}remove(){var e;_(this,Xf).remove(),(e=_(this,$g))==null||e.destroy(),V(this,$g,null)}};Xf=new WeakMap,$g=new WeakMap,hc=new WeakMap,Bg=new WeakMap,zS=new WeakMap,qS=new WeakMap,fj=new WeakSet,hQ=function(e){e.stopPropagation()},_a=new WeakSet,fQ=function(e){_(this,hc)._focusEventsAllowed=!1,Io(e)},pQ=function(e){_(this,hc)._focusEventsAllowed=!0,Io(e)},qN=function(e){const t=_(this,hc)._uiManager._signal;e.addEventListener("focusin",ie(this,_a,fQ).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ie(this,_a,pQ).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Mc,{signal:t})},mQ=function(){const{editorType:e,_uiManager:t}=_(this,hc),r=document.createElement("button");r.className="delete",r.tabIndex=0,r.setAttribute("data-l10n-id",_(Id,qS)[e]),ie(this,_a,qN).call(this,r),r.addEventListener("click",i=>{t.delete()},{signal:t._signal}),_(this,Bg).append(r)},y5=function(){const e=document.createElement("div");return e.className="divider",e},ee(Id,fj),ee(Id,qS,null);let g5=Id;var HS,Wg,zg,Vp,gQ,yQ,vQ;class SDe{constructor(e){ee(this,Vp);ee(this,HS,null);ee(this,Wg,null);ee(this,zg);V(this,zg,e)}show(e,t,r){const[i,s]=ie(this,Vp,yQ).call(this,t,r),{style:a}=_(this,Wg)||V(this,Wg,ie(this,Vp,gQ).call(this));e.append(_(this,Wg)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){_(this,Wg).remove()}}HS=new WeakMap,Wg=new WeakMap,zg=new WeakMap,Vp=new WeakSet,gQ=function(){const e=V(this,Wg,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Mc,{signal:_(this,zg)._signal});const t=V(this,HS,document.createElement("div"));return t.className="buttons",e.append(t),ie(this,Vp,vQ).call(this),e},yQ=function(e,t){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(t?s.width:0);if(a>r){i=o,r=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,r]},vQ=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const r=_(this,zg)._signal;e.addEventListener("contextmenu",Mc,{signal:r}),e.addEventListener("click",()=>{_(this,zg).highlightSelection("floating_button")},{signal:r}),_(this,HS).append(e)};function ej(n,e,t){for(const r of t)e.addEventListener(r,n[r].bind(n))}var pj;class DDe{constructor(){ee(this,pj,0)}get id(){return`${iDe}${Ki(this,pj)._++}`}}pj=new WeakMap;var l0,VS,Bs,c0,HN;const rI=class rI{constructor(){ee(this,c0);ee(this,l0,yDe());ee(this,VS,0);ee(this,Bs,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return yn(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:r,size:i,type:s}=e;return ie(this,c0,HN).call(this,`${t}_${r}_${i}_${s}`,e)}async getFromUrl(e){return ie(this,c0,HN).call(this,e,e)}async getFromBlob(e,t){const r=await t;return ie(this,c0,HN).call(this,e,r)}async getFromId(e){_(this,Bs)||V(this,Bs,new Map);const t=_(this,Bs).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:r}=t;return delete t.blobPromise,this.getFromBlob(t.id,r)}return this.getFromUrl(t.url)}getFromCanvas(e,t){_(this,Bs)||V(this,Bs,new Map);let r=_(this,Bs).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${_(this,l0)}_${Ki(this,VS)._++}`,refCounter:1,isSvg:!1},_(this,Bs).set(e,r),_(this,Bs).set(r.id,r),r}getSvgUrl(e){const t=_(this,Bs).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;_(this,Bs)||V(this,Bs,new Map);const t=_(this,Bs).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:r}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),t.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),t.bitmap=null}isValidId(e){return e.startsWith(`image_${_(this,l0)}_`)}};l0=new WeakMap,VS=new WeakMap,Bs=new WeakMap,c0=new WeakSet,HN=async function(e,t){_(this,Bs)||V(this,Bs,new Map);let r=_(this,Bs).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${_(this,l0)}_${Ki(this,VS)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(r.url=t,i=await pk(t,"blob")):t instanceof File?i=r.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=rI._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,f)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,u()},a.onload=async()=>{const p=r.svgUrl=a.result;o.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},o.onerror=a.onerror=f});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){an(i),r=null}return _(this,Bs).set(e,r),r&&_(this,Bs).set(r.id,r),r};let v5=rI;var vi,Yf,GS,Zr;class ADe{constructor(e=128){ee(this,vi,[]);ee(this,Yf,!1);ee(this,GS);ee(this,Zr,-1);V(this,GS,e)}add({cmd:e,undo:t,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),_(this,Yf))return;const l={cmd:e,undo:t,post:r,type:s};if(_(this,Zr)===-1){_(this,vi).length>0&&(_(this,vi).length=0),V(this,Zr,0),_(this,vi).push(l);return}if(a&&_(this,vi)[_(this,Zr)].type===s){o&&(l.undo=_(this,vi)[_(this,Zr)].undo),_(this,vi)[_(this,Zr)]=l;return}const u=_(this,Zr)+1;u===_(this,GS)?_(this,vi).splice(0,1):(V(this,Zr,u),u<_(this,vi).length&&_(this,vi).splice(u)),_(this,vi).push(l)}undo(){if(_(this,Zr)===-1)return;V(this,Yf,!0);const{undo:e,post:t}=_(this,vi)[_(this,Zr)];e(),t==null||t(),V(this,Yf,!1),V(this,Zr,_(this,Zr)-1)}redo(){if(_(this,Zr)<_(this,vi).length-1){V(this,Zr,_(this,Zr)+1),V(this,Yf,!0);const{cmd:e,post:t}=_(this,vi)[_(this,Zr)];e(),t==null||t(),V(this,Yf,!1)}}hasSomethingToUndo(){return _(this,Zr)!==-1}hasSomethingToRedo(){return _(this,Zr)<_(this,vi).length-1}cleanType(e){if(_(this,Zr)!==-1){for(let t=_(this,Zr);t>=0;t--)if(_(this,vi)[t].type!==e){_(this,vi).splice(t+1,_(this,Zr)-t),V(this,Zr,t);return}_(this,vi).length=0,V(this,Zr,-1)}}destroy(){V(this,vi,null)}}vi=new WeakMap,Yf=new WeakMap,GS=new WeakMap,Zr=new WeakMap;var mj,bQ;class QA{constructor(e){ee(this,mj);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=wa.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const r=this.callbacks.get(ie(this,mj,bQ).call(this,t));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,t)||(i.bind(e,...a,t)(),s||Io(t))}}mj=new WeakSet,bQ=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const gj=class gj{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return _De(e),yn(this,"_colors",e)}convert(e){const t=WL(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[r,i]of this._colors)if(i.every((s,a)=>s===t[a]))return gj._colorsMapping.get(r);return t}getHexCode(e){const t=this._colors.get(e);return t?Ut.makeHexColor(...t):e}};Wt(gj,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let b5=gj;var u0,Do,$i,ms,d0,Wd,h0,yl,Kf,qg,f0,Hg,Du,fc,Vg,XS,YS,p0,KS,Au,Zf,m0,Qf,Tu,yj,Jf,ZS,ep,Gg,QS,JS,Ji,sr,zd,Xg,eD,tD,tp,Eu,qd,nD,vl,mt,VN,x5,xQ,wQ,GN,_Q,SQ,DQ,w5,AQ,_5,S5,TQ,ha,Md,EQ,CQ,D5,NQ,M_,A5;const Yx=class Yx{constructor(e,t,r,i,s,a,o,l,u,f,p,m,y){ee(this,mt);ee(this,u0,new AbortController);ee(this,Do,null);ee(this,$i,new Map);ee(this,ms,new Map);ee(this,d0,null);ee(this,Wd,null);ee(this,h0,null);ee(this,yl,new ADe);ee(this,Kf,null);ee(this,qg,null);ee(this,f0,0);ee(this,Hg,new Set);ee(this,Du,null);ee(this,fc,null);ee(this,Vg,new Set);Wt(this,"_editorUndoBar",null);ee(this,XS,!1);ee(this,YS,!1);ee(this,p0,!1);ee(this,KS,null);ee(this,Au,null);ee(this,Zf,null);ee(this,m0,null);ee(this,Qf,!1);ee(this,Tu,null);ee(this,yj,new DDe);ee(this,Jf,!1);ee(this,ZS,!1);ee(this,ep,null);ee(this,Gg,null);ee(this,QS,null);ee(this,JS,null);ee(this,Ji,sn.NONE);ee(this,sr,new Set);ee(this,zd,null);ee(this,Xg,null);ee(this,eD,null);ee(this,tD,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ee(this,tp,[0,0]);ee(this,Eu,null);ee(this,qd,null);ee(this,nD,null);ee(this,vl,null);const b=this._signal=_(this,u0).signal;V(this,qd,e),V(this,nD,t),V(this,d0,r),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:b}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),i._on("setpreference",this.onSetPreference.bind(this),{signal:b}),i._on("switchannotationeditorparams",x=>this.updateParams(x.type,x.value),{signal:b}),ie(this,mt,_Q).call(this),ie(this,mt,TQ).call(this),ie(this,mt,w5).call(this),V(this,Wd,s.annotationStorage),V(this,KS,s.filterFactory),V(this,Xg,a),V(this,m0,o||null),V(this,XS,l),V(this,YS,u),V(this,p0,f),V(this,JS,p||null),this.viewParameters={realScale:Hp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=y!==!1}static get _keyboardManager(){const e=Yx.prototype,t=a=>_(a,qd).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return yn(this,"_keyboardManager",new QA([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&_(a,qd).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&_(a,qd).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,r,i,s;(e=_(this,vl))==null||e.resolve(),V(this,vl,null),(t=_(this,u0))==null||t.abort(),V(this,u0,null),this._signal=null;for(const a of _(this,ms).values())a.destroy();_(this,ms).clear(),_(this,$i).clear(),_(this,Vg).clear(),V(this,Do,null),_(this,sr).clear(),_(this,yl).destroy(),(r=_(this,d0))==null||r.destroy(),(i=_(this,Tu))==null||i.hide(),V(this,Tu,null),_(this,Au)&&(clearTimeout(_(this,Au)),V(this,Au,null)),_(this,Eu)&&(clearTimeout(_(this,Eu)),V(this,Eu,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return _(this,JS)}get useNewAltTextFlow(){return _(this,YS)}get useNewAltTextWhenAddingImage(){return _(this,p0)}get hcmFilter(){return yn(this,"hcmFilter",_(this,Xg)?_(this,KS).addHCMFilter(_(this,Xg).foreground,_(this,Xg).background):"none")}get direction(){return yn(this,"direction",getComputedStyle(_(this,qd)).direction)}get highlightColors(){return yn(this,"highlightColors",_(this,m0)?new Map(_(this,m0).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return yn(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),V(this,qg,e)}setMainHighlightColorPicker(e){V(this,QS,e)}editAltText(e,t=!1){var r;(r=_(this,d0))==null||r.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":V(this,p0,t);break}}onPageChanging({pageNumber:e}){V(this,f0,e-1)}focusMainContainer(){_(this,qd).focus()}findParent(e,t){for(const r of _(this,ms).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return r}return null}disableUserSelect(e=!1){_(this,nD).classList.toggle("noUserSelect",e)}addShouldRescale(e){_(this,Vg).add(e)}removeShouldRescale(e){_(this,Vg).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Hp.PDF_TO_CSS_UNITS;for(const r of _(this,Vg))r.onScaleChanging();(t=_(this,qg))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),u=ie(this,mt,VN).call(this,t).closest(".textLayer"),f=this.getSelectionBoxes(u);if(!f)return;t.empty();const p=ie(this,mt,x5).call(this,u),m=_(this,Ji)===sn.NONE,y=()=>{p==null||p.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),m&&this.showAllEditors("highlight",!0,!0)};if(m){this.switchToMode(sn.HIGHLIGHT,y);return}y()}addToAnnotationStorage(e){!e.isEmpty()&&_(this,Wd)&&!_(this,Wd).has(e.id)&&_(this,Wd).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,_(this,Qf)&&(V(this,Qf,!1),ie(this,mt,GN).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of _(this,sr))if(t.div.contains(e)){V(this,Gg,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!_(this,Gg))return;const[e,t]=_(this,Gg);V(this,Gg,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ie(this,mt,w5).call(this),ie(this,mt,_5).call(this)}removeEditListeners(){ie(this,mt,AQ).call(this),ie(this,mt,S5).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const r of _(this,fc))if(r.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const r of _(this,fc))if(r.isHandlingMimeForPasting(t.type)){r.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=_(this,Do))==null||r.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of _(this,sr)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of _(this,fc))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=t.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){an(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)ie(this,mt,D5).call(this,l);ie(this,mt,A5).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){an(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),_(this,Ji)!==sn.NONE&&!this.isEditorHandlingKeyboard&&Yx._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,_(this,Qf)&&(V(this,Qf,!1),ie(this,mt,GN).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(ie(this,mt,SQ).call(this),ie(this,mt,_5).call(this),ie(this,mt,ha).call(this,{isEditing:_(this,Ji)!==sn.NONE,isEmpty:ie(this,mt,M_).call(this),hasSomethingToUndo:_(this,yl).hasSomethingToUndo(),hasSomethingToRedo:_(this,yl).hasSomethingToRedo(),hasSelectedEditor:!1})):(ie(this,mt,DQ).call(this),ie(this,mt,S5).call(this),ie(this,mt,ha).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!_(this,fc)){V(this,fc,e);for(const t of _(this,fc))ie(this,mt,Md).call(this,t.defaultPropertiesToUpdate)}}getId(){return _(this,yj).id}get currentLayer(){return _(this,ms).get(_(this,f0))}getLayer(e){return _(this,ms).get(e)}get currentPageIndex(){return _(this,f0)}addLayer(e){_(this,ms).set(e.pageIndex,e),_(this,Jf)?e.enable():e.disable()}removeLayer(e){_(this,ms).delete(e.pageIndex)}async updateMode(e,t=null,r=!1){var i;if(_(this,Ji)!==e&&!(_(this,vl)&&(await _(this,vl).promise,!_(this,vl)))){if(V(this,vl,Promise.withResolvers()),V(this,Ji,e),e===sn.NONE){this.setEditingState(!1),ie(this,mt,CQ).call(this),(i=this._editorUndoBar)==null||i.hide(),_(this,vl).resolve();return}this.setEditingState(!0),await ie(this,mt,EQ).call(this),this.unselectAll();for(const s of _(this,ms).values())s.updateMode(e);if(!t){r&&this.addNewEditorFromKeyboard(),_(this,vl).resolve();return}for(const s of _(this,$i).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();_(this,vl).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==_(this,Ji)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var r;if(_(this,fc)){switch(e){case jn.CREATE:this.currentLayer.addNewEditor();return;case jn.HIGHLIGHT_DEFAULT_COLOR:(r=_(this,QS))==null||r.updateColor(t);break;case jn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(_(this,eD)||V(this,eD,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of _(this,sr))i.updateParams(e,t);for(const i of _(this,fc))i.updateDefaultParams(e,t)}}showAllEditors(e,t,r=!1){var s;for(const a of _(this,$i).values())a.editorType===e&&a.show(t);(((s=_(this,eD))==null?void 0:s.get(jn.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ie(this,mt,Md).call(this,[[jn.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(_(this,ZS)!==e){V(this,ZS,e);for(const t of _(this,ms).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const r of _(this,$i).values())r.pageIndex===e&&t.push(r);return t}getEditor(e){return _(this,$i).get(e)}addEditor(e){_(this,$i).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(_(this,Au)&&clearTimeout(_(this,Au)),V(this,Au,setTimeout(()=>{this.focusMainContainer(),V(this,Au,null)},0))),_(this,$i).delete(e.id),this.unselect(e),(!e.annotationElementId||!_(this,Hg).has(e.annotationElementId))&&((t=_(this,Wd))==null||t.remove(e.id))}addDeletedAnnotationElement(e){_(this,Hg).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return _(this,Hg).has(e)}removeDeletedAnnotationElement(e){_(this,Hg).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){_(this,Do)!==e&&(V(this,Do,e),e&&ie(this,mt,Md).call(this,e.propertiesToUpdate))}updateUI(e){_(this,mt,NQ)===e&&ie(this,mt,Md).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ie(this,mt,Md).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(_(this,sr).has(e)){_(this,sr).delete(e),e.unselect(),ie(this,mt,ha).call(this,{hasSelectedEditor:this.hasSelection});return}_(this,sr).add(e),e.select(),ie(this,mt,Md).call(this,e.propertiesToUpdate),ie(this,mt,ha).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=_(this,qg))==null||t.commitOrRemove();for(const r of _(this,sr))r!==e&&r.unselect();_(this,sr).clear(),_(this,sr).add(e),e.select(),ie(this,mt,Md).call(this,e.propertiesToUpdate),ie(this,mt,ha).call(this,{hasSelectedEditor:!0})}isSelected(e){return _(this,sr).has(e)}get firstSelectedEditor(){return _(this,sr).values().next().value}unselect(e){e.unselect(),_(this,sr).delete(e),ie(this,mt,ha).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _(this,sr).size!==0}get isEnterHandled(){return _(this,sr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;_(this,yl).undo(),ie(this,mt,ha).call(this,{hasSomethingToUndo:_(this,yl).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ie(this,mt,M_).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){_(this,yl).redo(),ie(this,mt,ha).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_(this,yl).hasSomethingToRedo(),isEmpty:ie(this,mt,M_).call(this)})}addCommands(e){_(this,yl).add(e),ie(this,mt,ha).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ie(this,mt,M_).call(this)})}cleanUndoStack(e){_(this,yl).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[..._(this,sr)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)ie(this,mt,D5).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=_(this,Do))==null||e.commitOrRemove()}hasSomethingToControl(){return _(this,Do)||this.hasSelection}selectAll(){for(const e of _(this,sr))e.commit();ie(this,mt,A5).call(this,_(this,$i).values())}unselectAll(){var e;if(!(_(this,Do)&&(_(this,Do).commitOrRemove(),_(this,Ji)!==sn.NONE))&&!((e=_(this,qg))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of _(this,sr))t.unselect();_(this,sr).clear(),ie(this,mt,ha).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;_(this,tp)[0]+=e,_(this,tp)[1]+=t;const[i,s]=_(this,tp),a=[..._(this,sr)],o=1e3;_(this,Eu)&&clearTimeout(_(this,Eu)),V(this,Eu,setTimeout(()=>{V(this,Eu,null),_(this,tp)[0]=_(this,tp)[1]=0,this.addCommands({cmd:()=>{for(const l of a)_(this,$i).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of a)_(this,$i).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),V(this,Du,new Map);for(const e of _(this,sr))_(this,Du).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_(this,Du))return!1;this.disableUserSelect(!1);const e=_(this,Du);V(this,Du,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const r=(i,s,a,o)=>{if(_(this,$i).has(i.id)){const l=_(this,ms).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(_(this,Du))for(const r of _(this,Du).keys())r.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||_(this,sr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return _(this,Do)===e}getActive(){return _(this,Do)}getMode(){return _(this,Ji)}get imageManager(){return yn(this,"imageManager",new v5)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,f=t.rangeCount;u<f;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,f,p,m)=>({x:(f-i)/a,y:1-(u+p-r)/s,width:m/a,height:p/s});break;case"180":o=(u,f,p,m)=>({x:1-(u+p-r)/s,y:1-(f+m-i)/a,width:p/s,height:m/a});break;case"270":o=(u,f,p,m)=>({x:1-(f+m-i)/a,y:(u-r)/s,width:m/a,height:p/s});break;default:o=(u,f,p,m)=>({x:(u-r)/s,y:(f-i)/a,width:p/s,height:m/a});break}const l=[];for(let u=0,f=t.rangeCount;u<f;u++){const p=t.getRangeAt(u);if(!p.collapsed)for(const{x:m,y,width:b,height:x}of p.getClientRects())b===0||x===0||l.push(o(m,y,b,x))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(_(this,h0)||V(this,h0,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=_(this,h0))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=_(this,h0))==null?void 0:i.get(e.data.id);if(!t)return;const r=_(this,Wd).getRawValue(t);r&&(_(this,Ji)===sn.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}};u0=new WeakMap,Do=new WeakMap,$i=new WeakMap,ms=new WeakMap,d0=new WeakMap,Wd=new WeakMap,h0=new WeakMap,yl=new WeakMap,Kf=new WeakMap,qg=new WeakMap,f0=new WeakMap,Hg=new WeakMap,Du=new WeakMap,fc=new WeakMap,Vg=new WeakMap,XS=new WeakMap,YS=new WeakMap,p0=new WeakMap,KS=new WeakMap,Au=new WeakMap,Zf=new WeakMap,m0=new WeakMap,Qf=new WeakMap,Tu=new WeakMap,yj=new WeakMap,Jf=new WeakMap,ZS=new WeakMap,ep=new WeakMap,Gg=new WeakMap,QS=new WeakMap,JS=new WeakMap,Ji=new WeakMap,sr=new WeakMap,zd=new WeakMap,Xg=new WeakMap,eD=new WeakMap,tD=new WeakMap,tp=new WeakMap,Eu=new WeakMap,qd=new WeakMap,nD=new WeakMap,vl=new WeakMap,mt=new WeakSet,VN=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},x5=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const r of _(this,ms).values())if(r.hasTextLayer(e))return r;return null},xQ=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=ie(this,mt,VN).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(_(this,Tu)||V(this,Tu,new SDe(this)),_(this,Tu).show(r,i,this.direction==="ltr"))},wQ=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){_(this,zd)&&((s=_(this,Tu))==null||s.hide(),V(this,zd,null),ie(this,mt,ha).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===_(this,zd))return;const i=ie(this,mt,VN).call(this,e).closest(".textLayer");if(!i){_(this,zd)&&((a=_(this,Tu))==null||a.hide(),V(this,zd,null),ie(this,mt,ha).call(this,{hasSelectedText:!1}));return}if((o=_(this,Tu))==null||o.hide(),V(this,zd,t),ie(this,mt,ha).call(this,{hasSelectedText:!0}),!(_(this,Ji)!==sn.HIGHLIGHT&&_(this,Ji)!==sn.NONE)&&(_(this,Ji)===sn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),V(this,Qf,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=_(this,Ji)===sn.HIGHLIGHT?ie(this,mt,x5).call(this,i):null;l==null||l.toggleDrawing();const u=new AbortController,f=this.combinedSignal(u),p=m=>{m.type==="pointerup"&&m.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),m.type==="pointerup"&&ie(this,mt,GN).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("blur",p,{signal:f})}},GN=function(e=""){_(this,Ji)===sn.HIGHLIGHT?this.highlightSelection(e):_(this,XS)&&ie(this,mt,xQ).call(this)},_Q=function(){document.addEventListener("selectionchange",ie(this,mt,wQ).bind(this),{signal:this._signal})},SQ=function(){if(_(this,Zf))return;V(this,Zf,new AbortController);const e=this.combinedSignal(_(this,Zf));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},DQ=function(){var e;(e=_(this,Zf))==null||e.abort(),V(this,Zf,null)},w5=function(){if(_(this,ep))return;V(this,ep,new AbortController);const e=this.combinedSignal(_(this,ep));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},AQ=function(){var e;(e=_(this,ep))==null||e.abort(),V(this,ep,null)},_5=function(){if(_(this,Kf))return;V(this,Kf,new AbortController);const e=this.combinedSignal(_(this,Kf));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},S5=function(){var e;(e=_(this,Kf))==null||e.abort(),V(this,Kf,null)},TQ=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ha=function(e){Object.entries(e).some(([r,i])=>_(this,tD)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_(this,tD),e)}),_(this,Ji)===sn.HIGHLIGHT&&e.hasSelectedEditor===!1&&ie(this,mt,Md).call(this,[[jn.HIGHLIGHT_FREE,!0]]))},Md=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},EQ=async function(){if(!_(this,Jf)){V(this,Jf,!0);const e=[];for(const t of _(this,ms).values())e.push(t.enable());await Promise.all(e);for(const t of _(this,$i).values())t.enable()}},CQ=function(){if(this.unselectAll(),_(this,Jf)){V(this,Jf,!1);for(const e of _(this,ms).values())e.disable();for(const e of _(this,$i).values())e.disable()}},D5=function(e){const t=_(this,ms).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},NQ=function(){let e=null;for(e of _(this,sr));return e},M_=function(){if(_(this,$i).size===0)return!0;if(_(this,$i).size===1)for(const e of _(this,$i).values())return e.isEmpty();return!1},A5=function(e){for(const t of _(this,sr))t.unselect();_(this,sr).clear();for(const t of e)t.isEmpty()||(_(this,sr).add(t),t.select());ie(this,mt,ha).call(this,{hasSelectedEditor:this.hasSelection})},Wt(Yx,"TRANSLATE_SMALL",1),Wt(Yx,"TRANSLATE_BIG",10);let gv=Yx;var es,Cu,pc,g0,Nu,Ao,y0,Ru,Ya,Hd,Yg,ju,np,Cc,P_,XN;const fa=class fa{constructor(e){ee(this,Cc);ee(this,es,null);ee(this,Cu,!1);ee(this,pc,null);ee(this,g0,null);ee(this,Nu,null);ee(this,Ao,null);ee(this,y0,!1);ee(this,Ru,null);ee(this,Ya,null);ee(this,Hd,null);ee(this,Yg,null);ee(this,ju,!1);V(this,Ya,e),V(this,ju,e._uiManager.useNewAltTextFlow),_(fa,np)||V(fa,np,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){fa._l10n??(fa._l10n=e)}async render(){const e=V(this,pc,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=V(this,g0,document.createElement("span"));e.append(t),_(this,ju)?(e.classList.add("new"),e.setAttribute("data-l10n-id",_(fa,np).missing),t.setAttribute("data-l10n-id",_(fa,np)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=_(this,Ya)._uiManager._signal;e.addEventListener("contextmenu",Mc,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),_(this,Ya)._uiManager.editAltText(_(this,Ya)),_(this,ju)&&_(this,Ya)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:_(this,Cc,P_)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(V(this,y0,!0),i(s))},{signal:r}),await ie(this,Cc,XN).call(this),e}finish(){_(this,pc)&&(_(this,pc).focus({focusVisible:_(this,y0)}),V(this,y0,!1))}isEmpty(){return _(this,ju)?_(this,es)===null:!_(this,es)&&!_(this,Cu)}hasData(){return _(this,ju)?_(this,es)!==null||!!_(this,Hd):this.isEmpty()}get guessedText(){return _(this,Hd)}async setGuessedText(e){_(this,es)===null&&(V(this,Hd,e),V(this,Yg,await fa._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ie(this,Cc,XN).call(this))}toggleAltTextBadge(e=!1){var t;if(!_(this,ju)||_(this,es)){(t=_(this,Ru))==null||t.remove(),V(this,Ru,null);return}if(!_(this,Ru)){const r=V(this,Ru,document.createElement("div"));r.className="noAltTextBadge",_(this,Ya).div.append(r)}_(this,Ru).classList.toggle("hidden",!e)}serialize(e){let t=_(this,es);return!e&&_(this,Hd)===t&&(t=_(this,Yg)),{altText:t,decorative:_(this,Cu),guessedText:_(this,Hd),textWithDisclaimer:_(this,Yg)}}get data(){return{altText:_(this,es),decorative:_(this,Cu)}}set data({altText:e,decorative:t,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(V(this,Hd,r),V(this,Yg,i)),!(_(this,es)===e&&_(this,Cu)===t)&&(s||(V(this,es,e),V(this,Cu,t)),ie(this,Cc,XN).call(this))}toggle(e=!1){_(this,pc)&&(!e&&_(this,Ao)&&(clearTimeout(_(this,Ao)),V(this,Ao,null)),_(this,pc).disabled=!e)}shown(){_(this,Ya)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:_(this,Cc,P_)}})}destroy(){var e,t;(e=_(this,pc))==null||e.remove(),V(this,pc,null),V(this,g0,null),V(this,Nu,null),(t=_(this,Ru))==null||t.remove(),V(this,Ru,null)}};es=new WeakMap,Cu=new WeakMap,pc=new WeakMap,g0=new WeakMap,Nu=new WeakMap,Ao=new WeakMap,y0=new WeakMap,Ru=new WeakMap,Ya=new WeakMap,Hd=new WeakMap,Yg=new WeakMap,ju=new WeakMap,np=new WeakMap,Cc=new WeakSet,P_=function(){return _(this,es)&&"added"||_(this,es)===null&&this.guessedText&&"review"||"missing"},XN=async function(){var i,s,a;const e=_(this,pc);if(!e)return;if(_(this,ju)){if(e.classList.toggle("done",!!_(this,es)),e.setAttribute("data-l10n-id",_(fa,np)[_(this,Cc,P_)]),(i=_(this,g0))==null||i.setAttribute("data-l10n-id",_(fa,np)[`${_(this,Cc,P_)}-label`]),!_(this,es)){(s=_(this,Nu))==null||s.remove();return}}else{if(!_(this,es)&&!_(this,Cu)){e.classList.remove("done"),(a=_(this,Nu))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=_(this,Nu);if(!t){V(this,Nu,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${_(this,Ya).id}`;const o=100,l=_(this,Ya)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(_(this,Ao)),V(this,Ao,null)},{once:!0}),e.addEventListener("mouseenter",()=>{V(this,Ao,setTimeout(()=>{V(this,Ao,null),_(this,Nu).classList.add("show"),_(this,Ya)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;_(this,Ao)&&(clearTimeout(_(this,Ao)),V(this,Ao,null)),(u=_(this,Nu))==null||u.classList.remove("show")},{signal:l})}_(this,Cu)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=_(this,es)),t.parentNode||e.append(t);const r=_(this,Ya).getImageForAltText();r==null||r.setAttribute("aria-describedby",t.id)},ee(fa,np,null),Wt(fa,"_l10n",null);let tj=fa;var rD,Kg,iD,sD,aD,oD,lD,v0,Vd,Zg,rp,Rh,RQ,jQ,T5;const iI=class iI{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ee(this,Rh);ee(this,rD);ee(this,Kg,!1);ee(this,iD,null);ee(this,sD);ee(this,aD);ee(this,oD);ee(this,lD);ee(this,v0);ee(this,Vd,null);ee(this,Zg);ee(this,rp,null);V(this,rD,e),V(this,iD,r),V(this,sD,t),V(this,aD,i),V(this,oD,s),V(this,lD,a),V(this,Zg,new AbortController),V(this,v0,AbortSignal.any([o,_(this,Zg).signal])),e.addEventListener("touchstart",ie(this,Rh,RQ).bind(this),{passive:!1,signal:_(this,v0)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return yn(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=_(this,Zg))==null||e.abort(),V(this,Zg,null)}};rD=new WeakMap,Kg=new WeakMap,iD=new WeakMap,sD=new WeakMap,aD=new WeakMap,oD=new WeakMap,lD=new WeakMap,v0=new WeakMap,Vd=new WeakMap,Zg=new WeakMap,rp=new WeakMap,Rh=new WeakSet,RQ=function(e){var i,s,a;if((i=_(this,sD))!=null&&i.call(this)||e.touches.length<2)return;if(!_(this,rp)){V(this,rp,new AbortController);const o=AbortSignal.any([_(this,v0),_(this,rp).signal]),l=_(this,rD),u={signal:o,passive:!1};l.addEventListener("touchmove",ie(this,Rh,jQ).bind(this),u),l.addEventListener("touchend",ie(this,Rh,T5).bind(this),u),l.addEventListener("touchcancel",ie(this,Rh,T5).bind(this),u),(s=_(this,aD))==null||s.call(this)}if(Io(e),e.touches.length!==2||(a=_(this,iD))!=null&&a.call(this)){V(this,Vd,null);return}let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]),V(this,Vd,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:r.screenX,touch1Y:r.screenY})},jQ=function(e){var R;if(!_(this,Vd)||e.touches.length!==2)return;let[t,r]=e.touches;t.identifier>r.identifier&&([t,r]=[r,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=r,l=_(this,Vd),{touch0X:u,touch0Y:f,touch1X:p,touch1Y:m}=l,y=p-u,b=m-f,x=a-i,w=o-s,S=Math.hypot(x,w)||1,T=Math.hypot(y,b)||1;if(!_(this,Kg)&&Math.abs(T-S)<=iI.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,e.preventDefault(),!_(this,Kg)){V(this,Kg,!0);return}const E=[(i+a)/2,(s+o)/2];(R=_(this,oD))==null||R.call(this,E,T,S)},T5=function(e){var t;_(this,rp).abort(),V(this,rp,null),(t=_(this,lD))==null||t.call(this),_(this,Vd)&&(e.preventDefault(),V(this,Vd,null),V(this,Kg,!1))};let nj=iI;var Qg,mc,kr,b0,ip,cD,Jg,gs,ey,Gd,sp,uD,ty,To,dD,ny,Xd,ku,x0,w0,bl,ry,hD,vj,zt,E5,fD,C5,YN,kQ,UQ,N5,KN,R5,OQ,MQ,PQ,j5,FQ,k5,LQ,IQ,$Q,U5,F_;const un=class un{constructor(e){ee(this,zt);ee(this,Qg,null);ee(this,mc,null);ee(this,kr,null);ee(this,b0,!1);ee(this,ip,null);ee(this,cD,"");ee(this,Jg,!1);ee(this,gs,null);ee(this,ey,null);ee(this,Gd,null);ee(this,sp,null);ee(this,uD,"");ee(this,ty,!1);ee(this,To,null);ee(this,dD,!1);ee(this,ny,!1);ee(this,Xd,!1);ee(this,ku,null);ee(this,x0,0);ee(this,w0,0);ee(this,bl,null);ee(this,ry,null);Wt(this,"_editToolbar",null);Wt(this,"_initialOptions",Object.create(null));Wt(this,"_initialData",null);Wt(this,"_isVisible",!0);Wt(this,"_uiManager",null);Wt(this,"_focusEventsAllowed",!0);ee(this,hD,!1);ee(this,vj,un._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=un.prototype._resizeWithKeyboard,t=gv.TRANSLATE_SMALL,r=gv.TRANSLATE_BIG;return yn(this,"_resizerKeyboardManager",new QA([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],un.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return yn(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new TDe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(un._l10n??(un._l10n=e),un._l10nResizer||(un._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),un._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);un._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){gr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _(this,hD)}set _isDraggable(e){var t;V(this,hD,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_(this,vj)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ie(this,zt,F_).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(_(this,ty)?V(this,ty,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){ie(this,zt,E5).call(this,this.parentDimensions,e,t)}translateInPage(e,t){_(this,To)||V(this,To,[this.x,this.y,this.width,this.height]),ie(this,zt,E5).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){_(this,To)||V(this,To,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:f}=r;f.left=`${(100*a).toFixed(2)}%`,f.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!_(this,To)&&(_(this,To)[0]!==this.x||_(this,To)[1]!==this.y)}get _hasBeenResized(){return!!_(this,To)&&(_(this,To)[2]!==this.width||_(this,To)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:r}=un,i=r/e,s=r/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(r-o,s)),a=Math.max(0,Math.min(i-l,a));break;case 90:s=Math.max(0,Math.min(r-l,s)),a=Math.min(i,Math.max(o,a));break;case 180:s=Math.min(r,Math.max(o,s)),a=Math.min(i,Math.max(l,a));break;case 270:s=Math.min(r,Math.max(l,s)),a=Math.max(0,Math.min(i-o,a));break}this.x=s/=r,this.y=a/=i;const[u,f]=this.getBaseTranslation();s+=u,a+=f,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var r;return ie(r=un,fD,C5).call(r,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var r;return ie(r=un,fD,C5).call(r,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,r]}=this;return[t*e,r*e]}setDims(e,t){const[r,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/r).toFixed(2)}%`,_(this,Jg)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:r}=e,i=r.endsWith("%"),s=!_(this,Jg)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(r)/a).toFixed(2)}%`),!_(this,Jg)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=_(this,kr))==null||e.finish()}async addEditToolbar(){return this._editToolbar||_(this,ny)?this._editToolbar:(this._editToolbar=new g5(this),this.div.append(this._editToolbar.render()),_(this,kr)&&await this._editToolbar.addAltText(_(this,kr)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=_(this,kr))==null||e.destroy())}addContainer(e){var r;const t=(r=this._editToolbar)==null?void 0:r.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){_(this,kr)||(tj.initialize(un._l10n),V(this,kr,new tj(this)),_(this,Qg)&&(_(this,kr).data=_(this,Qg),V(this,Qg,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=_(this,kr))==null?void 0:e.data}set altTextData(e){_(this,kr)&&(_(this,kr).data=e)}get guessedAltText(){var e;return(e=_(this,kr))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=_(this,kr))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=_(this,kr))==null?void 0:t.serialize(e)}hasAltText(){return!!_(this,kr)&&!_(this,kr).isEmpty()}hasAltTextData(){var e;return((e=_(this,kr))==null?void 0:e.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=_(this,b0)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),ie(this,zt,k5).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[r,i]=this.getInitialTranslation();return this.translate(r,i),ej(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(_(this,ry)||V(this,ry,new nj({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ie(this,zt,OQ).bind(this),onPinching:ie(this,zt,MQ).bind(this),onPinchEnd:ie(this,zt,PQ).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(e){const{isMac:t}=wa.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(V(this,ty,!0),this._isDraggable){ie(this,zt,FQ).call(this,e);return}ie(this,zt,j5).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){_(this,ku)&&clearTimeout(_(this,ku)),V(this,ku,setTimeout(()=>{var e;V(this,ku,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,r){e.changeParent(this),this.x=t,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,f=t/i,p=this.x*s,m=this.y*a,y=this.width*s,b=this.height*a;switch(r){case 0:return[p+u+o,a-m-f-b+l,p+u+y+o,a-m-f+l];case 90:return[p+f+o,a-m+u+l,p+f+b+o,a-m+u+y+l];case 180:return[p-u-y+o,a-m+f+l,p-u+o,a-m+f+b+l];case 270:return[p-f-b+o,a-m-u-y+l,p-f+o,a-m-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,t-a,o,l];case 90:return[r,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){V(this,ny,!0)}disableEditMode(){V(this,ny,!1)}isInEditMode(){return _(this,ny)}shouldGetKeyboardEvents(){return _(this,Xd)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&r>0}rebuild(){ie(this,zt,k5).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){gr("An editor must be serializable")}static async deserialize(e,t,r){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:r});i.rotation=e.rotation,V(i,Qg,e.accessibilityData);const[s,a]=i.pageDimensions,[o,l,u,f]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=f/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=_(this,sp))==null||e.abort(),V(this,sp,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),_(this,ku)&&(clearTimeout(_(this,ku)),V(this,ku,null)),ie(this,zt,F_).call(this),this.removeEditToolbar(),_(this,bl)){for(const r of _(this,bl).values())clearTimeout(r);V(this,bl,null)}this.parent=null,(t=_(this,ry))==null||t.destroy(),V(this,ry,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ie(this,zt,kQ).call(this),_(this,gs).classList.remove("hidden"),ej(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),V(this,Gd,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=_(this,gs).children;if(!_(this,mc)){V(this,mc,Array.from(t));const a=ie(this,zt,LQ).bind(this),o=ie(this,zt,IQ).bind(this),l=this._uiManager._signal;for(const u of _(this,mc)){const f=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",ie(this,zt,$Q).bind(this,f),{signal:l}),u.setAttribute("data-l10n-id",un._l10nResizer[f])}}const r=_(this,mc)[0];let i=0;for(const a of t){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(_(this,mc).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)_(this,gs).append(_(this,gs).firstChild);else if(s>i)for(let o=0;o<s-i;o++)_(this,gs).firstChild.before(_(this,gs).lastChild);let a=0;for(const o of t){const u=_(this,mc)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",un._l10nResizer[u])}}ie(this,zt,U5).call(this,0),V(this,Xd,!0),_(this,gs).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){_(this,Xd)&&ie(this,zt,R5).call(this,_(this,uD),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ie(this,zt,F_).call(this),this.div.focus()}select(){var e,t,r;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(r=_(this,kr))==null||r.toggleAltTextBadge(!1)}unselect(){var e,t,r,i,s;(e=_(this,gs))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=_(this,kr))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return _(this,dD)}set isEditing(e){V(this,dD,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){V(this,Jg,!0);const r=e/t,{style:i}=this.div;i.aspectRatio=r,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){_(this,bl)||V(this,bl,new Map);const{action:r}=e;let i=_(this,bl).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),_(this,bl).delete(r),_(this,bl).size===0&&V(this,bl,null)},un._telemetryTimeout),_(this,bl).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),V(this,b0,!1)}disable(){this.div&&(this.div.tabIndex=-1),V(this,b0,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const r=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),r.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};Qg=new WeakMap,mc=new WeakMap,kr=new WeakMap,b0=new WeakMap,ip=new WeakMap,cD=new WeakMap,Jg=new WeakMap,gs=new WeakMap,ey=new WeakMap,Gd=new WeakMap,sp=new WeakMap,uD=new WeakMap,ty=new WeakMap,To=new WeakMap,dD=new WeakMap,ny=new WeakMap,Xd=new WeakMap,ku=new WeakMap,x0=new WeakMap,w0=new WeakMap,bl=new WeakMap,ry=new WeakMap,hD=new WeakMap,vj=new WeakMap,zt=new WeakSet,E5=function([e,t],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},fD=new WeakSet,C5=function(e,t,r){switch(r){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},YN=function(e){switch(e){case 90:{const[t,r]=this.pageDimensions;return[0,-t/r,r/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,r]=this.pageDimensions;return[0,t/r,-r/t,0]}default:return[1,0,0,1]}},kQ=function(){if(_(this,gs))return;V(this,gs,document.createElement("div")),_(this,gs).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const r of e){const i=document.createElement("div");_(this,gs).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",ie(this,zt,UQ).bind(this,r),{signal:t}),i.addEventListener("contextmenu",Mc,{signal:t}),i.tabIndex=-1}this.div.prepend(_(this,gs))},UQ=function(e,t){var f;t.preventDefault();const{isMac:r}=wa.platform;if(t.button!==0||t.ctrlKey&&r)return;(f=_(this,kr))==null||f.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,V(this,ey,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ie(this,zt,R5).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Io,{passive:!1,signal:a}),window.addEventListener("contextmenu",Mc,{signal:a}),V(this,Gd,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var p;s.abort(),this.parent.togglePointerEvents(!0),(p=_(this,kr))==null||p.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,ie(this,zt,KN).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},N5=function(e,t,r,i){this.width=r,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*r,a*i),this.fixAndSetPosition(),this._onResized()},KN=function(){if(!_(this,Gd))return;const{savedX:e,savedY:t,savedWidth:r,savedHeight:i}=_(this,Gd);V(this,Gd,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===r&&l===i||this.addCommands({cmd:ie(this,zt,N5).bind(this,s,a,o,l),undo:ie(this,zt,N5).bind(this,e,t,r,i),mustExec:!0})},R5=function(e,t){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=un.MIN_SIZE/r,f=un.MIN_SIZE/i,p=ie(this,zt,YN).call(this,this.rotation),m=(B,W)=>[p[0]*B+p[2]*W,p[1]*B+p[3]*W],y=ie(this,zt,YN).call(this,360-this.rotation),b=(B,W)=>[y[0]*B+y[2]*W,y[1]*B+y[3]*W];let x,w,S=!1,T=!1;switch(e){case"topLeft":S=!0,x=(B,W)=>[0,0],w=(B,W)=>[B,W];break;case"topMiddle":x=(B,W)=>[B/2,0],w=(B,W)=>[B/2,W];break;case"topRight":S=!0,x=(B,W)=>[B,0],w=(B,W)=>[0,W];break;case"middleRight":T=!0,x=(B,W)=>[B,W/2],w=(B,W)=>[0,W/2];break;case"bottomRight":S=!0,x=(B,W)=>[B,W],w=(B,W)=>[0,0];break;case"bottomMiddle":x=(B,W)=>[B/2,W],w=(B,W)=>[B/2,0];break;case"bottomLeft":S=!0,x=(B,W)=>[0,W],w=(B,W)=>[B,0];break;case"middleLeft":T=!0,x=(B,W)=>[0,W/2],w=(B,W)=>[B,W/2];break}const E=x(o,l),R=w(o,l);let N=m(...R);const U=un._round(s+N[0]),O=un._round(a+N[1]);let M=1,P=1,H,X;if(t.fromKeyboard)({deltaX:H,deltaY:X}=t);else{const{screenX:B,screenY:W}=t,[se,K]=_(this,ey);[H,X]=this.screenToPageTranslation(B-se,W-K),_(this,ey)[0]=B,_(this,ey)[1]=W}if([H,X]=b(H/r,X/i),S){const B=Math.hypot(o,l);M=P=Math.max(Math.min(Math.hypot(R[0]-E[0]-H,R[1]-E[1]-X)/B,1/o,1/l),u/o,f/l)}else T?M=Math.max(u,Math.min(1,Math.abs(R[0]-E[0]-H)))/o:P=Math.max(f,Math.min(1,Math.abs(R[1]-E[1]-X)))/l;const I=un._round(o*M),q=un._round(l*P);N=m(...w(I,q));const L=U-N[0],te=O-N[1];_(this,To)||V(this,To,[this.x,this.y,this.width,this.height]),this.width=I,this.height=q,this.x=L,this.y=te,this.setDims(r*I,i*q),this.fixAndSetPosition(),this._onResizing()},OQ=function(){var e;V(this,Gd,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=_(this,kr))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},MQ=function(e,t,r){let s=.7*(r/t)+1-.7;if(s===1)return;const a=ie(this,zt,YN).call(this,this.rotation),o=(U,O)=>[a[0]*U+a[2]*O,a[1]*U+a[3]*O],[l,u]=this.parentDimensions,f=this.x,p=this.y,m=this.width,y=this.height,b=un.MIN_SIZE/l,x=un.MIN_SIZE/u;s=Math.max(Math.min(s,1/m,1/y),b/m,x/y);const w=un._round(m*s),S=un._round(y*s);if(w===m&&S===y)return;_(this,To)||V(this,To,[f,p,m,y]);const T=o(m/2,y/2),E=un._round(f+T[0]),R=un._round(p+T[1]),N=o(w/2,S/2);this.x=E-N[0],this.y=R-N[1],this.width=w,this.height=S,this.setDims(l*w,u*S),this.fixAndSetPosition(),this._onResizing()},PQ=function(){var e;(e=_(this,kr))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ie(this,zt,KN).call(this)},j5=function(e){const{isMac:t}=wa.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},FQ=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),V(this,ip,null),V(this,ty,!1),this._uiManager.endDragSession()||ie(this,zt,j5).call(this,u),r&&this._onStopDragging()};t&&(V(this,x0,e.clientX),V(this,w0,e.clientY),V(this,ip,e.pointerId),V(this,cD,e.pointerType),window.addEventListener("pointermove",u=>{r||(r=!0,this._onStartDragging());const{clientX:f,clientY:p,pointerId:m}=u;if(m!==_(this,ip)){Io(u);return}const[y,b]=this.screenToPageTranslation(f-_(this,x0),p-_(this,w0));V(this,x0,f),V(this,w0,p),this._uiManager.dragSelectedEditors(y,b)},a),window.addEventListener("touchmove",Io,a),window.addEventListener("pointerdown",u=>{u.pointerType===_(this,cD)&&(_(this,ry)||u.isPrimary)&&o(u),Io(u)},a));const l=u=>{if(!_(this,ip)||_(this,ip)===u.pointerId){o(u);return}Io(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},k5=function(){if(_(this,sp)||!this.div)return;V(this,sp,new AbortController);const e=this._uiManager.combinedSignal(_(this,sp));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},LQ=function(e){un._resizerKeyboardManager.exec(this,e)},IQ=function(e){var t;_(this,Xd)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==_(this,gs)&&ie(this,zt,F_).call(this)},$Q=function(e){V(this,uD,_(this,Xd)?e:"")},U5=function(e){if(_(this,mc))for(const t of _(this,mc))t.tabIndex=e},F_=function(){V(this,Xd,!1),ie(this,zt,U5).call(this,-1),ie(this,zt,KN).call(this)},ee(un,fD),Wt(un,"_l10n",null),Wt(un,"_l10nResizer",null),Wt(un,"_borderLineWidth",-1),Wt(un,"_colorManager",new b5),Wt(un,"_zIndex",1),Wt(un,"_telemetryTimeout",1e3);let ei=un;class TDe extends ei{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const hW=3285377520,pl=4294901760,xu=65535;class BQ{constructor(e){this.h1=e?e&4294967295:hW,this.h2=e?e&4294967295:hW}update(e){let t,r;if(typeof e=="string"){t=new Uint8Array(e.length*2),r=0;for(let x=0,w=e.length;x<w;x++){const S=e.charCodeAt(x);S<=255?t[r++]=S:(t[r++]=S>>>8,t[r++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),r=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,f=this.h2;const p=3432918353,m=461845907,y=p&xu,b=m&xu;for(let x=0;x<i;x++)x&1?(o=a[x],o=o*p&pl|o*y&xu,o=o<<15|o>>>17,o=o*m&pl|o*b&xu,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[x],l=l*p&pl|l*y&xu,l=l<<15|l>>>17,l=l*m&pl|l*b&xu,f^=l,f=f<<13|f>>>19,f=f*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*p&pl|o*y&xu,o=o<<15|o>>>17,o=o*m&pl|o*b&xu,i&1?u^=o:f^=o}this.h1=u,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&pl|e*36045&xu,t=t*4283543511&pl|((t<<16|e>>>16)*2950163797&pl)>>>16,e^=t>>>1,e=e*444984403&pl|e*60499&xu,t=t*3301882366&pl|((t<<16|e>>>16)*3120437893&pl)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const O5=Object.freeze({map:null,hash:"",transfer:void 0});var iy,sy,ts,bj,WQ;class zL{constructor(){ee(this,bj);ee(this,iy,!1);ee(this,sy,null);ee(this,ts,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const r=_(this,ts).get(e);return r===void 0?t:Object.assign(t,r)}getRawValue(e){return _(this,ts).get(e)}remove(e){if(_(this,ts).delete(e),_(this,ts).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of _(this,ts).values())if(t instanceof ei)return;this.onAnnotationEditor(null)}}setValue(e,t){const r=_(this,ts).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(t))r[s]!==a&&(i=!0,r[s]=a);else i=!0,_(this,ts).set(e,t);i&&ie(this,bj,WQ).call(this),t instanceof ei&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return _(this,ts).has(e)}getAll(){return _(this,ts).size>0?FL(_(this,ts)):null}setAll(e){for(const[t,r]of Object.entries(e))this.setValue(t,r)}get size(){return _(this,ts).size}resetModified(){_(this,iy)&&(V(this,iy,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new zQ(this)}get serializable(){if(_(this,ts).size===0)return O5;const e=new Map,t=new BQ,r=[],i=Object.create(null);let s=!1;for(const[a,o]of _(this,ts)){const l=o instanceof ei?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:r}:O5}get editorStats(){let e=null;const t=new Map;for(const r of _(this,ts).values()){if(!(r instanceof ei))continue;const i=r.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const f=u.get(l)??0;u.set(l,f+1)}}for(const[r,i]of t)e[r]=i.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){V(this,sy,null)}get modifiedIds(){if(_(this,sy))return _(this,sy);const e=[];for(const t of _(this,ts).values())!(t instanceof ei)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return V(this,sy,{ids:new Set(e),hash:e.join(",")})}}iy=new WeakMap,sy=new WeakMap,ts=new WeakMap,bj=new WeakSet,WQ=function(){_(this,iy)||(V(this,iy,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var pD;class zQ extends zL{constructor(t){super();ee(this,pD);const{map:r,hash:i,transfer:s}=t.serializable,a=structuredClone(r,s?{transfer:s}:null);V(this,pD,{map:a,hash:i,transfer:s})}get print(){gr("Should not call PrintAnnotationStorage.print")}get serializable(){return _(this,pD)}get modifiedIds(){return yn(this,"modifiedIds",{ids:new Set,hash:""})}}pD=new WeakMap;var _0;class EDe{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ee(this,_0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),_(this,_0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||_(this,_0).has(e.loadedName))){if(Ui(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:i,style:s}=e,a=new FontFace(r,i,s);this.addNativeFontFace(a);try{await a.load(),_(this,_0).add(r),t==null||t(e)}catch{an(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}gr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw an(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return yn(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Xs||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),yn(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(Ui(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:t,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return yn(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function r(R,N){return R.charCodeAt(N)<<24|R.charCodeAt(N+1)<<16|R.charCodeAt(N+2)<<8|R.charCodeAt(N+3)&255}function i(R,N,U,O){const M=R.substring(0,N),P=R.substring(N+U);return M+O+P}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function f(R,N){if(++u>30){an("Load test font never loaded."),N();return}if(l.font="30px "+R,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(f.bind(null,R,N))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,p.length,p);const b=16,x=1482184792;let w=r(m,b);for(s=0,a=p.length-3;s<a;s+=4)w=w-x+r(p,s)|0;s<p.length&&(w=w-x+r(p+"XXX",s)|0),m=i(m,b,4,hDe(w));const S=`url(data:font/opentype;base64,${btoa(m)});`,T=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(T);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const R of[e.loadedName,p]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=R,E.append(N)}this._document.body.append(E),f(p,()=>{E.remove(),t.complete()})}}_0=new WeakMap;class CDe{constructor(e,{disableFontFace:t=!1,fontExtraProperties:r=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this.fontExtraProperties=r===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${vDe(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const r=this.loadedName+"_path_"+t;let i;try{i=e.get(r)}catch(a){an(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[t]=s}}const iN={DATA:1,ERROR:2},Ri={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fW(){}function Ga(n){if(n instanceof qp||n instanceof f5||n instanceof FS||n instanceof cW||n instanceof JR||n instanceof FM)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||gr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new qp(n.message);case"InvalidPDFException":return new f5(n.message);case"MissingPDFException":return new FS(n.message);case"PasswordException":return new cW(n.message,n.code);case"UnexpectedResponseException":return new JR(n.message,n.status);case"UnknownErrorException":return new FM(n.message,n.details)}return new FM(n.message,n.toString())}var S0,Ol,qQ,HQ,VQ,ZN;class L_{constructor(e,t,r){ee(this,Ol);ee(this,S0,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",ie(this,Ol,qQ).bind(this),{signal:_(this,S0).signal})}on(e,t){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=t}send(e,t,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},r)}sendWithPromise(e,t,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),f.promise},pull:u=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,l.postMessage({sourceName:a,targetName:o,stream:Ri.PULL,streamId:s,desiredSize:u.desiredSize}),f.promise},cancel:u=>{Ui(u instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Ri.CANCEL,streamId:s,reason:Ga(u)}),f.promise}},r)}destroy(){var e;(e=_(this,S0))==null||e.abort(),V(this,S0,null)}}S0=new WeakMap,Ol=new WeakSet,qQ=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ie(this,Ol,VQ).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===iN.DATA)i.resolve(e.data);else if(e.callback===iN.ERROR)i.reject(Ga(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:iN.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:iN.ERROR,callbackId:e.callbackId,reason:Ga(a)})});return}if(e.streamId){ie(this,Ol,HQ).call(this,e);return}t(e.data)},HQ=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,f=1,p){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=f,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:Ri.ENQUEUE,streamId:t,chunk:u},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Ri.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){Ui(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:Ri.ERROR,streamId:t,reason:Ga(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ri.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Ri.START_COMPLETE,streamId:t,reason:Ga(u)})})},VQ=function(e){const t=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Ri.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Ga(e.reason));break;case Ri.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Ga(e.reason));break;case Ri.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:Ri.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||fW).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ri.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Ri.PULL_COMPLETE,streamId:t,reason:Ga(u)})});break;case Ri.ENQUEUE:if(Ui(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Ri.CLOSE:if(Ui(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),ie(this,Ol,ZN).call(this,a,t);break;case Ri.ERROR:Ui(a,"error should have stream controller"),a.controller.error(Ga(e.reason)),ie(this,Ol,ZN).call(this,a,t);break;case Ri.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Ga(e.reason)),ie(this,Ol,ZN).call(this,a,t);break;case Ri.CANCEL:if(!o)break;const l=Ga(e.reason);Promise.try(o.onCancel||fW,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:Ri.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:r,targetName:i,stream:Ri.CANCEL_COMPLETE,streamId:t,reason:Ga(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},ZN=async function(e,t){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var mD;class GQ{constructor({enableHWA:e=!1}){ee(this,mD,!1);V(this,mD,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,t);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!_(this,mD)})}}reset(e,t,r){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){gr("Abstract method `_createCanvas` called.")}}mD=new WeakMap;class NDe extends GQ{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const r=this._document.createElement("canvas");return r.width=e,r.height=t,r}}class XQ{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){gr("Abstract method `_fetch` called.")}}class YQ extends XQ{async _fetch(e){const t=await pk(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):fk(t)}}class KQ{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,r,i,s){return"none"}destroy(e=!1){}}var ay,D0,Yd,Kd,Ws,oy,ly,wt,Is,I_,Mx,QN,Px,ZQ,M5,Fx,$_,B_,P5,W_;class RDe extends KQ{constructor({docId:t,ownerDocument:r=globalThis.document}){super();ee(this,wt);ee(this,ay);ee(this,D0);ee(this,Yd);ee(this,Kd);ee(this,Ws);ee(this,oy);ee(this,ly,0);V(this,Kd,t),V(this,Ws,r)}addFilter(t){if(!t)return"none";let r=_(this,wt,Is).get(t);if(r)return r;const[i,s,a]=ie(this,wt,QN).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(r=_(this,wt,Is).get(o),r)return _(this,wt,Is).set(t,r),r;const l=`g_${_(this,Kd)}_transfer_map_${Ki(this,ly)._++}`,u=ie(this,wt,Px).call(this,l);_(this,wt,Is).set(t,u),_(this,wt,Is).set(o,u);const f=ie(this,wt,Fx).call(this,l);return ie(this,wt,B_).call(this,i,s,a,f),u}addHCMFilter(t,r){var b;const i=`${t}-${r}`,s="base";let a=_(this,wt,I_).get(s);if((a==null?void 0:a.key)===i||(a?((b=a.filter)==null||b.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},_(this,wt,I_).set(s,a)),!t||!r))return a.url;const o=ie(this,wt,W_).call(this,t);t=Ut.makeHexColor(...o);const l=ie(this,wt,W_).call(this,r);if(r=Ut.makeHexColor(...l),_(this,wt,Mx).style.color="",t==="#000000"&&r==="#ffffff"||t===r)return a.url;const u=new Array(256);for(let x=0;x<=255;x++){const w=x/255;u[x]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=u.join(","),p=`g_${_(this,Kd)}_hcm_filter`,m=a.filter=ie(this,wt,Fx).call(this,p);ie(this,wt,B_).call(this,f,f,f,m),ie(this,wt,M5).call(this,m);const y=(x,w)=>{const S=o[x]/255,T=l[x]/255,E=new Array(w+1);for(let R=0;R<=w;R++)E[R]=S+R/w*(T-S);return E.join(",")};return ie(this,wt,B_).call(this,y(0,5),y(1,5),y(2,5),m),a.url=ie(this,wt,Px).call(this,p),a.url}addAlphaFilter(t){let r=_(this,wt,Is).get(t);if(r)return r;const[i]=ie(this,wt,QN).call(this,[t]),s=`alpha_${i}`;if(r=_(this,wt,Is).get(s),r)return _(this,wt,Is).set(t,r),r;const a=`g_${_(this,Kd)}_alpha_map_${Ki(this,ly)._++}`,o=ie(this,wt,Px).call(this,a);_(this,wt,Is).set(t,o),_(this,wt,Is).set(s,o);const l=ie(this,wt,Fx).call(this,a);return ie(this,wt,P5).call(this,i,l),o}addLuminosityFilter(t){let r=_(this,wt,Is).get(t||"luminosity");if(r)return r;let i,s;if(t?([i]=ie(this,wt,QN).call(this,[t]),s=`luminosity_${i}`):s="luminosity",r=_(this,wt,Is).get(s),r)return _(this,wt,Is).set(t,r),r;const a=`g_${_(this,Kd)}_luminosity_map_${Ki(this,ly)._++}`,o=ie(this,wt,Px).call(this,a);_(this,wt,Is).set(t,o),_(this,wt,Is).set(s,o);const l=ie(this,wt,Fx).call(this,a);return ie(this,wt,ZQ).call(this,l),t&&ie(this,wt,P5).call(this,i,l),o}addHighlightHCMFilter(t,r,i,s,a){var T;const o=`${r}-${i}-${s}-${a}`;let l=_(this,wt,I_).get(t);if((l==null?void 0:l.key)===o||(l?((T=l.filter)==null||T.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},_(this,wt,I_).set(t,l)),!r||!i))return l.url;const[u,f]=[r,i].map(ie(this,wt,W_).bind(this));let p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),m=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[y,b]=[s,a].map(ie(this,wt,W_).bind(this));m<p&&([p,m,y,b]=[m,p,b,y]),_(this,wt,Mx).style.color="";const x=(E,R,N)=>{const U=new Array(256),O=(m-p)/N,M=E/255,P=(R-E)/(255*N);let H=0;for(let X=0;X<=N;X++){const I=Math.round(p+X*O),q=M+X*P;for(let L=H;L<=I;L++)U[L]=q;H=I+1}for(let X=H;X<256;X++)U[X]=U[H-1];return U.join(",")},w=`g_${_(this,Kd)}_hcm_${t}_filter`,S=l.filter=ie(this,wt,Fx).call(this,w);return ie(this,wt,M5).call(this,S),ie(this,wt,B_).call(this,x(y[0],b[0],5),x(y[1],b[1],5),x(y[2],b[2],5),S),l.url=ie(this,wt,Px).call(this,w),l.url}destroy(t=!1){var r,i,s,a;t&&((r=_(this,oy))!=null&&r.size)||((i=_(this,Yd))==null||i.parentNode.parentNode.remove(),V(this,Yd,null),(s=_(this,D0))==null||s.clear(),V(this,D0,null),(a=_(this,oy))==null||a.clear(),V(this,oy,null),V(this,ly,0))}}ay=new WeakMap,D0=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,Ws=new WeakMap,oy=new WeakMap,ly=new WeakMap,wt=new WeakSet,Is=function(){return _(this,D0)||V(this,D0,new Map)},I_=function(){return _(this,oy)||V(this,oy,new Map)},Mx=function(){if(!_(this,Yd)){const t=_(this,Ws).createElement("div"),{style:r}=t;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=_(this,Ws).createElementNS(Od,"svg");i.setAttribute("width",0),i.setAttribute("height",0),V(this,Yd,_(this,Ws).createElementNS(Od,"defs")),t.append(i),i.append(_(this,Yd)),_(this,Ws).body.append(t)}return _(this,Yd)},QN=function(t){if(t.length===1){const u=t[0],f=new Array(256);for(let m=0;m<256;m++)f[m]=u[m]/255;const p=f.join(",");return[p,p,p]}const[r,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=r[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},Px=function(t){if(_(this,ay)===void 0){V(this,ay,"");const r=_(this,Ws).URL;r!==_(this,Ws).baseURI&&(mk(r)?an('#createUrl: ignore "data:"-URL for performance reasons.'):V(this,ay,r.split("#",1)[0]))}return`url(${_(this,ay)}#${t})`},ZQ=function(t){const r=_(this,Ws).createElementNS(Od,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(r)},M5=function(t){const r=_(this,Ws).createElementNS(Od,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(r)},Fx=function(t){const r=_(this,Ws).createElementNS(Od,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",t),_(this,wt,Mx).append(r),r},$_=function(t,r,i){const s=_(this,Ws).createElementNS(Od,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},B_=function(t,r,i,s){const a=_(this,Ws).createElementNS(Od,"feComponentTransfer");s.append(a),ie(this,wt,$_).call(this,a,"feFuncR",t),ie(this,wt,$_).call(this,a,"feFuncG",r),ie(this,wt,$_).call(this,a,"feFuncB",i)},P5=function(t,r){const i=_(this,Ws).createElementNS(Od,"feComponentTransfer");r.append(i),ie(this,wt,$_).call(this,i,"feFuncA",t)},W_=function(t){return _(this,wt,Mx).style.color=t,WL(getComputedStyle(_(this,wt,Mx)).getPropertyValue("color"))};class QQ{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(r=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){gr("Abstract method `_fetch` called.")}}class JQ extends QQ{async _fetch(e){const t=await pk(e,"arraybuffer");return new Uint8Array(t)}}Xs&&an("Please use the `legacy` build in Node.js environments.");async function eJ(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class jDe extends KQ{}class kDe extends GQ{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class UDe extends XQ{async _fetch(e){return eJ(e)}}class ODe extends QQ{async _fetch(e){return eJ(e)}}const Gs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function F5(n,e){if(!e)return;const t=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,r),n.clip(i)}class qL{getPattern(){gr("Abstract method `getPattern` called.")}}class MDe extends qL{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)t.addColorStop(r[0],r[1]);return t}getPattern(e,t,r,i){let s;if(i===Gs.STROKE||i===Gs.FILL){const a=t.current.getClippedPathBoundingBox(i,Hr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),f=u.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-a[0],-a[1]),r=Ut.transform(r,[1,0,0,1,a[0],a[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),F5(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(u.canvas,"no-repeat");const p=new DOMMatrix(r);s.setTransform(p)}else F5(e,this._bbox),s=this._createGradient(e);return s}}function $M(n,e,t,r,i,s,a,o){const l=e.coords,u=e.colors,f=n.data,p=n.width*4;let m;l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=s,s=a,a=m),l[r+1]>l[i+1]&&(m=r,r=i,i=m,m=a,a=o,o=m),l[t+1]>l[r+1]&&(m=t,t=r,r=m,m=s,s=a,a=m);const y=(l[t]+e.offsetX)*e.scaleX,b=(l[t+1]+e.offsetY)*e.scaleY,x=(l[r]+e.offsetX)*e.scaleX,w=(l[r+1]+e.offsetY)*e.scaleY,S=(l[i]+e.offsetX)*e.scaleX,T=(l[i+1]+e.offsetY)*e.scaleY;if(b>=T)return;const E=u[s],R=u[s+1],N=u[s+2],U=u[a],O=u[a+1],M=u[a+2],P=u[o],H=u[o+1],X=u[o+2],I=Math.round(b),q=Math.round(T);let L,te,B,W,se,K,G,Y;for(let ne=I;ne<=q;ne++){if(ne<w){const Ee=ne<b?0:(b-ne)/(b-w);L=y-(y-x)*Ee,te=E-(E-U)*Ee,B=R-(R-O)*Ee,W=N-(N-M)*Ee}else{let Ee;ne>T?Ee=1:w===T?Ee=0:Ee=(w-ne)/(w-T),L=x-(x-S)*Ee,te=U-(U-P)*Ee,B=O-(O-H)*Ee,W=M-(M-X)*Ee}let le;ne<b?le=0:ne>T?le=1:le=(b-ne)/(b-T),se=y-(y-S)*le,K=E-(E-P)*le,G=R-(R-H)*le,Y=N-(N-X)*le;const xe=Math.round(Math.min(L,se)),we=Math.round(Math.max(L,se));let Re=p*ne+xe*4;for(let Ee=xe;Ee<=we;Ee++)le=(L-Ee)/(L-se),le<0?le=0:le>1&&(le=1),f[Re++]=te-(te-K)*le|0,f[Re++]=B-(B-G)*le|0,f[Re++]=W-(W-Y)*le|0,f[Re++]=255}}function PDe(n,e,t){const r=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,u=o-1;for(s=0;s<l;s++){let f=s*o;for(let p=0;p<u;p++,f++)$M(n,t,r[f],r[f+1],r[f+o],i[f],i[f+1],i[f+o]),$M(n,t,r[f+o+1],r[f+1],r[f+o],i[f+o+1],i[f+1],i[f+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)$M(n,t,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class FDe extends qL{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,f=Math.ceil(this._bounds[3])-l,p=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),y=u/p,b=f/m,x={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/y,scaleY:1/b},w=p+2*2,S=m+2*2,T=r.getCanvas("mesh",w,S),E=T.context,R=E.createImageData(p,m);if(t){const U=R.data;for(let O=0,M=U.length;O<M;O+=4)U[O]=t[0],U[O+1]=t[1],U[O+2]=t[2],U[O+3]=255}for(const U of this._figures)PDe(R,U,x);return E.putImageData(R,2,2),{canvas:T.canvas,offsetX:o-2*y,offsetY:l-2*b,scaleX:y,scaleY:b}}getPattern(e,t,r,i){F5(e,this._bbox);let s;if(i===Gs.SHADING)s=Ut.singularValueDecompose2dScale(Hr(e));else if(s=Ut.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=Ut.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===Gs.SHADING?null:this._background,t.cachedCanvases);return i!==Gs.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class LDe extends qL{getPattern(){return"hotpink"}}function IDe(n){switch(n[0]){case"RadialAxial":return new MDe(n);case"Mesh":return new FDe(n);case"Dummy":return new LDe}throw new Error(`Unknown IR type: ${n[0]}`)}const pW={COLORED:1,UNCOLORED:2},xj=class xj{constructor(e,t,r,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:r,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),hk("TilingType: "+s);const f=t[0],p=t[1],m=t[2],y=t[3],b=m-f,x=y-p,w=Ut.singularValueDecompose2dScale(this.matrix),S=Ut.singularValueDecompose2dScale(this.baseTransform),T=w[0]*S[0],E=w[1]*S[1];let R=b,N=x,U=!1,O=!1;const M=Math.ceil(l*T),P=Math.ceil(u*E),H=Math.ceil(b*T),X=Math.ceil(x*E);M>=H?R=l:U=!0,P>=X?N=u:O=!0;const I=this.getSizeAndScale(R,this.ctx.canvas.width,T),q=this.getSizeAndScale(N,this.ctx.canvas.height,E),L=e.cachedCanvases.getCanvas("pattern",I.size,q.size),te=L.context,B=o.createCanvasGraphics(te);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,i,a),te.translate(-I.scale*f,-q.scale*p),B.transform(I.scale,0,0,q.scale,0,0),te.save(),this.clipBbox(B,f,p,m,y),B.baseTransform=Hr(B.ctx),B.executeOperatorList(r),B.endDrawing(),te.restore(),U||O){const W=L.canvas;U&&(R=l),O&&(N=u);const se=this.getSizeAndScale(R,this.ctx.canvas.width,T),K=this.getSizeAndScale(N,this.ctx.canvas.height,E),G=se.size,Y=K.size,ne=e.cachedCanvases.getCanvas("pattern-workaround",G,Y),le=ne.context,xe=U?Math.floor(b/l):0,we=O?Math.floor(x/u):0;for(let Re=0;Re<=xe;Re++)for(let Ee=0;Ee<=we;Ee++)le.drawImage(W,G*Re,Y*Ee,G,Y,0,0,G,Y);return{canvas:ne.canvas,scaleX:se.scale,scaleY:K.scale,offsetX:f,offsetY:p}}return{canvas:L.canvas,scaleX:I.scale,scaleY:q.scale,offsetX:f,offsetY:p}}getSizeAndScale(e,t,r){const i=Math.max(xj.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,t,r,i,s){const a=i-t,o=s-r;e.ctx.rect(t,r,a,o),e.current.updateRectMinMax(Hr(e.ctx),[t,r,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,r){const i=e.ctx,s=e.current;switch(t){case pW.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case pW.UNCOLORED:const o=Ut.makeHexColor(r[0],r[1],r[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new dDe(`Unsupported paint type: ${t}`)}}getPattern(e,t,r,i){let s=r;i!==Gs.SHADING&&(s=Ut.transform(s,t.baseTransform),this.matrix&&(s=Ut.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};Wt(xj,"MAX_PATTERN_SIZE",3e3);let L5=xj;function $De({src:n,srcPos:e=0,dest:t,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=wa.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],f=r>>3,p=r&7,m=n.length;t=new Uint32Array(t.buffer);let y=0;for(let b=0;b<i;b++){for(const w=e+f;e<w;e++){const S=e<m?n[e]:255;t[y++]=S&128?u:l,t[y++]=S&64?u:l,t[y++]=S&32?u:l,t[y++]=S&16?u:l,t[y++]=S&8?u:l,t[y++]=S&4?u:l,t[y++]=S&2?u:l,t[y++]=S&1?u:l}if(p===0)continue;const x=e<m?n[e++]:255;for(let w=0;w<p;w++)t[y++]=x&1<<7-w?u:l}return{srcPos:e,destPos:y}}const mW=16,gW=100,BDe=15,yW=10,vW=1e3,Ja=16;function WDe(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(r,i){e.translate(r,i),this.__originalTranslate(r,i)},n.scale=function(r,i){e.scale(r,i),this.__originalScale(r,i)},n.transform=function(r,i,s,a,o,l){e.transform(r,i,s,a,o,l),this.__originalTransform(r,i,s,a,o,l)},n.setTransform=function(r,i,s,a,o,l){e.setTransform(r,i,s,a,o,l),this.__originalSetTransform(r,i,s,a,o,l)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(r){e.rotate(r),this.__originalRotate(r)},n.clip=function(r){e.clip(r),this.__originalClip(r)},n.moveTo=function(t,r){e.moveTo(t,r),this.__originalMoveTo(t,r)},n.lineTo=function(t,r){e.lineTo(t,r),this.__originalLineTo(t,r)},n.bezierCurveTo=function(t,r,i,s,a,o){e.bezierCurveTo(t,r,i,s,a,o),this.__originalBezierCurveTo(t,r,i,s,a,o)},n.rect=function(t,r,i,s){e.rect(t,r,i,s),this.__originalRect(t,r,i,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class zDe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,r)):(i=this.canvasFactory.create(t,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function sN(n,e,t,r,i,s,a,o,l,u){const[f,p,m,y,b,x]=Hr(n);if(p===0&&m===0){const T=a*f+b,E=Math.round(T),R=o*y+x,N=Math.round(R),U=(a+l)*f+b,O=Math.abs(Math.round(U)-E)||1,M=(o+u)*y+x,P=Math.abs(Math.round(M)-N)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(y),E,N),n.drawImage(e,t,r,i,s,0,0,O,P),n.setTransform(f,p,m,y,b,x),[O,P]}if(f===0&&y===0){const T=o*m+b,E=Math.round(T),R=a*p+x,N=Math.round(R),U=(o+u)*m+b,O=Math.abs(Math.round(U)-E)||1,M=(a+l)*p+x,P=Math.abs(Math.round(M)-N)||1;return n.setTransform(0,Math.sign(p),Math.sign(m),0,E,N),n.drawImage(e,t,r,i,s,0,0,P,O),n.setTransform(f,p,m,y,b,x),[P,O]}n.drawImage(e,t,r,i,s,a,o,l,u);const w=Math.hypot(f,p),S=Math.hypot(m,y);return[w*l,S*u]}function qDe(n){const{width:e,height:t}=n;if(e>vW||t>vW)return null;const r=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,l,u;const f=e+7&-8;let p=new Uint8Array(f*t),m=0;for(const S of n.data){let T=128;for(;T>0;)p[m++]=S&T?0:255,T>>=1}let y=0;for(m=0,p[m]!==0&&(a[0]=1,++y),l=1;l<e;l++)p[m]!==p[m+1]&&(a[l]=p[m]?2:1,++y),m++;for(p[m]!==0&&(a[l]=2,++y),o=1;o<t;o++){m=o*f,u=o*s,p[m-f]!==p[m]&&(a[u]=p[m]?1:8,++y);let S=(p[m]?4:0)+(p[m-f]?8:0);for(l=1;l<e;l++)S=(S>>2)+(p[m+1]?4:0)+(p[m-f+1]?8:0),i[S]&&(a[u+l]=i[S],++y),m++;if(p[m-f]!==p[m]&&(a[u+l]=p[m]?2:4,++y),y>r)return null}for(m=f*(t-1),u=o*s,p[m]!==0&&(a[u]=8,++y),l=1;l<e;l++)p[m]!==p[m+1]&&(a[u+l]=p[m]?4:8,++y),m++;if(p[m]!==0&&(a[u+l]=4,++y),y>r)return null;const b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),x=new Path2D;for(o=0;y&&o<=t;o++){let S=o*s;const T=S+e;for(;S<T&&!a[S];)S++;if(S===T)continue;x.moveTo(S%s,o);const E=S;let R=a[S];do{const N=b[R];do S+=N;while(!a[S]);const U=a[S];U!==5&&U!==10?(R=U,a[S]=0):(R=U&51*R>>4,a[S]&=R>>2|R<<2),x.lineTo(S%s,S/s|0),a[S]||--y}while(E!==S);--o}return p=null,a=null,function(S){S.save(),S.scale(1/e,-1/t),S.translate(0,-t),S.fill(x),S.beginPath(),S.restore()}}class bW{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=uQ,this.textMatrixScale=1,this.fontMatrix=h5,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Ls.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,r){[t,r]=Ut.applyTransform([t,r],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,r),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,r)}updateRectMinMax(e,t){const r=Ut.applyTransform(t,e),i=Ut.applyTransform(t.slice(2),e),s=Ut.applyTransform([t[0],t[3]],e),a=Ut.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,r[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,r[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,r[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,r[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){Ut.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,r,i,s,a,o,l,u,f){const p=Ut.bezierBoundingBox(t,r,i,s,a,o,l,u,f);f||this.updateRectMinMax(e,p)}getPathBoundingBox(e=Gs.FILL,t=null){const r=[this.minX,this.minY,this.maxX,this.maxY];if(e===Gs.STROKE){t||gr("Stroke bounding box must include transform.");const i=Ut.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;r[0]-=s,r[1]-=a,r[2]+=s,r[3]+=a}return r}updateClipFromPath(){const e=Ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=Gs.FILL,t=null){return Ut.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function xW(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,r=e.width,i=t%Ja,s=(t-i)/Ja,a=i===0?s:s+1,o=n.createImageData(r,Ja);let l=0,u;const f=e.data,p=o.data;let m,y,b,x;if(e.kind===WN.GRAYSCALE_1BPP){const w=f.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),T=S.length,E=r+7>>3,R=4294967295,N=wa.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(b=m<s?Ja:i,u=0,y=0;y<b;y++){const U=w-l;let O=0;const M=U>E?r:U*8-7,P=M&-8;let H=0,X=0;for(;O<P;O+=8)X=f[l++],S[u++]=X&128?R:N,S[u++]=X&64?R:N,S[u++]=X&32?R:N,S[u++]=X&16?R:N,S[u++]=X&8?R:N,S[u++]=X&4?R:N,S[u++]=X&2?R:N,S[u++]=X&1?R:N;for(;O<M;O++)H===0&&(X=f[l++],H=128),S[u++]=X&H?R:N,H>>=1}for(;u<T;)S[u++]=0;n.putImageData(o,0,m*Ja)}}else if(e.kind===WN.RGBA_32BPP){for(y=0,x=r*Ja*4,m=0;m<s;m++)p.set(f.subarray(l,l+x)),l+=x,n.putImageData(o,0,y),y+=Ja;m<a&&(x=r*i*4,p.set(f.subarray(l,l+x)),n.putImageData(o,0,y))}else if(e.kind===WN.RGB_24BPP)for(b=Ja,x=r*b,m=0;m<a;m++){for(m>=s&&(b=i,x=r*b),u=0,y=x;y--;)p[u++]=f[l++],p[u++]=f[l++],p[u++]=f[l++],p[u++]=255;n.putImageData(o,0,m*Ja)}else throw new Error(`bad image kind: ${e.kind}`)}function wW(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,r=e.width,i=t%Ja,s=(t-i)/Ja,a=i===0?s:s+1,o=n.createImageData(r,Ja);let l=0;const u=e.data,f=o.data;for(let p=0;p<a;p++){const m=p<s?Ja:i;({srcPos:l}=$De({src:u,srcPos:l,dest:f,width:r,height:m,nonBlackColor:0})),n.putImageData(o,0,p*Ja)}}function D_(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of t)n[r]!==void 0&&(e[r]=n[r]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function aN(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Xs){const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function _W(n,e){if(e)return!0;const t=Ut.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Hp.PDF_TO_CSS_UNITS);return t[0]<=r&&t[1]<=r}const HDe=["butt","round","square"],VDe=["miter","round","bevel"],GDe={},SW={};var Fc,I5,$5,B5;const sI=class sI{constructor(e,t,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u){ee(this,Fc);this.ctx=e,this.current=new bW(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new zDe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Hr(this.compositeCtx))}this.ctx.save(),aN(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Hr(this.ctx)}executeOperatorList(e,t,r,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const u=l-o>yW&&typeof r=="function",f=u?Date.now()+BDe:0;let p=0;const m=this.commonObjs,y=this.objs;let b;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,r),o;if(b=a[o],b!==dc.dependency)this[b].apply(this,s[o]);else for(const x of s[o]){const w=x.startsWith("g_")?m:y;if(!w.has(x))return w.get(x,r),o}if(o++,o===l)return o;if(u&&++p>yW){if(Date.now()>f)return r(),o;p=0}}}endDrawing(){ie(this,Fc,I5).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ie(this,Fc,$5).call(this)}_scaleImage(e,t){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=r,l=i,u="prescale1",f,p;for(;s>2&&o>1||a>2&&l>1;){let m=o,y=l;s>2&&o>1&&(m=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/m),a>2&&l>1&&(y=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/y),f=this.cachedCanvases.getCanvas(u,m,y),p=f.context,p.clearRect(0,0,m,y),p.drawImage(e,0,0,o,l,0,0,m,y),e=f.canvas,o=m,l=y,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:r,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=Hr(t);let l,u,f,p;if((e.bitmap||e.data)&&e.count>1){const M=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(M),l||(l=new Map,this._cachedBitmapsMap.set(M,l));const P=l.get(u);if(P&&!a){const H=Math.round(Math.min(o[0],o[2])+o[4]),X=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:P,offsetX:H,offsetY:X}}f=P}f||(p=this.cachedCanvases.getCanvas("maskCanvas",r,i),wW(p.context,e));let m=Ut.transform(o,[1/r,0,0,-1/i,0,0]);m=Ut.transform(m,[1,0,0,1,0,-i]);const[y,b,x,w]=Ut.getAxialAlignedBoundingBox([0,0,r,i],m),S=Math.round(x-y)||1,T=Math.round(w-b)||1,E=this.cachedCanvases.getCanvas("fillCanvas",S,T),R=E.context,N=y,U=b;R.translate(-N,-U),R.transform(...m),f||(f=this._scaleImage(p.canvas,bu(R)),f=f.img,l&&a&&l.set(u,f)),R.imageSmoothingEnabled=_W(Hr(R),e.interpolate),sN(R,f,0,0,f.width,f.height,0,0,r,i),R.globalCompositeOperation="source-in";const O=Ut.transform(bu(R),[1,0,0,1,-N,-U]);return R.fillStyle=a?s.getPattern(t,this,O,Gs.FILL):s,R.fillRect(0,0,r,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,E.canvas)),{canvas:E.canvas,offsetX:Math.round(N),offsetY:Math.round(U)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=HDe[e]}setLineJoin(e){this.ctx.lineJoin=VDe[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(e),r.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,r]of e)switch(t){case"LW":this.setLineWidth(r);break;case"LC":this.setLineCap(r);break;case"LJ":this.setLineJoin(r);break;case"ML":this.setMiterLimit(r);break;case"D":this.setDash(r[0],r[1]);break;case"RI":this.setRenderingIntent(r);break;case"FL":this.setFlatness(r);break;case"Font":this.setFont(r[0],r[1]);break;case"CA":this.current.strokeAlpha=r;break;case"ca":this.current.fillAlpha=r,this.ctx.globalAlpha=r;break;case"BM":this.ctx.globalCompositeOperation=r;break;case"SMask":this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(r,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Hr(this.suspendedCtx)),D_(this.suspendedCtx,s),WDe(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),D_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,r,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,t,r,i,s,a,o,l,u,f,p){let m=e.canvas,y=l-f,b=u-p;if(a){const w=Ut.makeHexColor(...a);if(y<0||b<0||y+r>m.width||b+i>m.height){const S=this.cachedCanvases.getCanvas("maskExtension",r,i),T=S.context;T.drawImage(m,-y,-b),T.globalCompositeOperation="destination-atop",T.fillStyle=w,T.fillRect(0,0,r,i),T.globalCompositeOperation="source-over",m=S.canvas,y=b=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(y,b,r,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=w,e.fillRect(y,b,r,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const x=new Path2D;x.rect(l,u,r,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(m,y,b,r,i,l,u,r,i),t.restore()}save(){this.inSMaskMode?(D_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),D_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,r,i,s,a){this.ctx.transform(e,t,r,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,r){const i=this.ctx,s=this.current;let a=s.x,o=s.y,l,u;const f=Hr(i),p=f[0]===0&&f[3]===0||f[1]===0&&f[2]===0,m=p?r.slice(0):null;for(let y=0,b=0,x=e.length;y<x;y++)switch(e[y]|0){case dc.rectangle:a=t[b++],o=t[b++];const w=t[b++],S=t[b++],T=a+w,E=o+S;i.moveTo(a,o),w===0||S===0?i.lineTo(T,E):(i.lineTo(T,o),i.lineTo(T,E),i.lineTo(a,E)),p||s.updateRectMinMax(f,[a,o,T,E]),i.closePath();break;case dc.moveTo:a=t[b++],o=t[b++],i.moveTo(a,o),p||s.updatePathMinMax(f,a,o);break;case dc.lineTo:a=t[b++],o=t[b++],i.lineTo(a,o),p||s.updatePathMinMax(f,a,o);break;case dc.curveTo:l=a,u=o,a=t[b+4],o=t[b+5],i.bezierCurveTo(t[b],t[b+1],t[b+2],t[b+3],a,o),s.updateCurvePathMinMax(f,l,u,t[b],t[b+1],t[b+2],t[b+3],a,o,m),b+=6;break;case dc.curveTo2:l=a,u=o,i.bezierCurveTo(a,o,t[b],t[b+1],t[b+2],t[b+3]),s.updateCurvePathMinMax(f,l,u,a,o,t[b],t[b+1],t[b+2],t[b+3],m),a=t[b+2],o=t[b+3],b+=4;break;case dc.curveTo3:l=a,u=o,a=t[b+2],o=t[b+3],i.bezierCurveTo(t[b],t[b+1],a,o,a,o),s.updateCurvePathMinMax(f,l,u,t[b],t[b+1],a,o,a,o,m),b+=4;break;case dc.closePath:i.closePath();break}p&&s.updateScalingPathMinMax(f,m),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,r=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof r=="object"&&(r!=null&&r.getPattern)?(t.save(),t.strokeStyle=r.getPattern(t,this,bu(t),Gs.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=r.getPattern(t,this,bu(t),Gs.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=GDe}eoClip(){this.pendingClip=SW}beginText(){this.current.textMatrix=uQ,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const r=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:l,path:u}of e)r.addPath(u,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(l,-l));t.clip(r),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var f;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=r.fontMatrix||h5,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&an("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=((f=r.systemFontInfo)==null?void 0:f.css)||`"${s}", ${r.fallbackName}`;let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let u=t;t<mW?u=mW:t>gW&&(u=gW),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,r,i,s,a){this.current.textMatrix=[e,t,r,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,r,i,s){const a=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,f=o.fontSize/o.fontSizeScale,p=u&Ls.FILL_STROKE_MASK,m=!!(u&Ls.ADD_TO_PATH_FLAG),y=o.patternFill&&!l.missingFile,b=o.patternStroke&&!l.missingFile;let x;if((l.disableFontFace||m||y||b)&&(x=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||y||b){if(a.save(),a.translate(t,r),a.scale(f,-f),p===Ls.FILL||p===Ls.FILL_STROKE)if(i){const w=a.getTransform();a.setTransform(...i),a.fill(ie(this,Fc,B5).call(this,x,w,i))}else a.fill(x);if(p===Ls.STROKE||p===Ls.FILL_STROKE)if(s){const w=a.getTransform();a.setTransform(...s),a.stroke(ie(this,Fc,B5).call(this,x,w,s))}else a.lineWidth/=f,a.stroke(x);a.restore()}else(p===Ls.FILL||p===Ls.FILL_STROKE)&&a.fillText(e,t,r),(p===Ls.STROKE||p===Ls.FILL_STROKE)&&a.strokeText(e,t,r);m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Hr(a),x:t,y:r,fontSize:f,path:x})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return yn(this,"isFontSubpixelAAEnabled",r)}showText(e){const t=this.current,r=t.font;if(r.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,f=t.textHScale*u,p=e.length,m=r.vertical,y=m?1:-1,b=r.defaultVMetrics,x=i*t.fontMatrix[0],w=t.textRenderingMode===Ls.FILL&&!r.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(f,-1):s.scale(f,1);let S,T;if(t.patternFill){s.save();const O=t.fillColor.getPattern(s,this,bu(s),Gs.FILL);S=Hr(s),s.restore(),s.fillStyle=O}if(t.patternStroke){s.save();const O=t.strokeColor.getPattern(s,this,bu(s),Gs.STROKE);T=Hr(s),s.restore(),s.strokeStyle=O}let E=t.lineWidth;const R=t.textMatrixScale;if(R===0||E===0){const O=t.textRenderingMode&Ls.FILL_STROKE_MASK;(O===Ls.STROKE||O===Ls.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=R;if(a!==1&&(s.scale(a,a),E/=a),s.lineWidth=E,r.isInvalidPDFjsFont){const O=[];let M=0;for(const P of e)O.push(P.unicode),M+=P.width;s.fillText(O.join(""),0,0),t.x+=M*x*f,s.restore(),this.compose();return}let N=0,U;for(U=0;U<p;++U){const O=e[U];if(typeof O=="number"){N+=y*O*i/1e3;continue}let M=!1;const P=(O.isSpace?l:0)+o,H=O.fontChar,X=O.accent;let I,q,L=O.width;if(m){const B=O.vmetric||b,W=-(O.vmetric?B[1]:L*.5)*x,se=B[2]*x;L=B?-B[0]:L,I=W/a,q=(N+se)/a}else I=N/a,q=0;if(r.remeasure&&L>0){const B=s.measureText(H).width*1e3/i*a;if(L<B&&this.isFontSubpixelAAEnabled){const W=L/B;M=!0,s.save(),s.scale(W,1),I/=W}else L!==B&&(I+=(L-B)/2e3*i/a)}if(this.contentVisible&&(O.isInFont||r.missingFile)){if(w&&!X)s.fillText(H,I,q);else if(this.paintChar(H,I,q,S,T),X){const B=I+i*X.offset.x/a,W=q-i*X.offset.y/a;this.paintChar(X.fontChar,B,W,S,T)}}const te=m?L*x-P*u:L*x+P*u;N+=te,M&&s.restore()}m?t.y-=N:t.x+=N*f,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,r=this.current,i=r.font,s=r.fontSize,a=r.fontDirection,o=i.vertical?1:-1,l=r.charSpacing,u=r.wordSpacing,f=r.textHScale*a,p=r.fontMatrix||h5,m=e.length,y=r.textRenderingMode===Ls.INVISIBLE;let b,x,w,S;if(!(y||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...r.textMatrix),t.translate(r.x,r.y),t.scale(f,a),b=0;b<m;++b){if(x=e[b],typeof x=="number"){S=o*x*s/1e3,this.ctx.translate(S,0),r.x+=S*f;continue}const T=(x.isSpace?u:0)+l,E=i.charProcOperatorList[x.operatorListId];if(!E){an(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),t.scale(s,s),t.transform(...p),this.executeOperatorList(E),this.restore()),w=Ut.applyTransform([x.width,0],p)[0]*s+T,t.translate(w,0),r.x+=w*f}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,r,i,s,a){this.ctx.rect(r,i,s-r,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const r=e[1],i=this.baseTransform||Hr(this.ctx),s={createCanvasGraphics:a=>new sI(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new L5(e,r,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,r){this.ctx.strokeStyle=this.current.strokeColor=Ut.makeHexColor(e,t,r),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,r){this.ctx.fillStyle=this.current.fillColor=Ut.makeHexColor(e,t,r),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let r;return this.cachedPatterns.has(e)?r=this.cachedPatterns.get(e):(r=IDe(this.getObject(e)),this.cachedPatterns.set(e,r)),t&&(r.matrix=t),r}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const r=this._getPattern(e);t.fillStyle=r.getPattern(t,this,bu(t),Gs.SHADING);const i=bu(t);if(i){const{width:s,height:a}=t.canvas,[o,l,u,f]=Ut.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,l,u-o,f-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){gr("Should not call beginInlineImage")}beginImageData(){gr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Hr(this.ctx),t)){const r=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],r,i),this.current.updateRectMinMax(Hr(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||hk("TODO: Support non-isolated groups."),e.knockout&&an("Knockout groups not supported.");const r=Hr(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Ut.getAxialAlignedBoundingBox(e.bbox,Hr(t));const s=[0,0,t.canvas.width,t.canvas.height];i=Ut.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let f="groupAt"+this.groupLevel;e.smask&&(f+="_smask_"+this.smaskCounter++%2);const p=this.cachedCanvases.getCanvas(f,l,u),m=p.context;m.translate(-a,-o),m.transform(...r),e.smask?this.smaskStack.push({canvas:p.canvas,context:m,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),D_(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Hr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Ut.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,r,i,s){if(ie(this,Fc,I5).call(this),aN(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=t[0],r[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,u]=Ut.singularValueDecompose2dScale(Hr(this.ctx)),{viewportScale:f}=this,p=Math.ceil(a*this.outputScaleX*f),m=Math.ceil(o*this.outputScaleY*f);this.annotationCanvas=this.canvasFactory.create(p,m);const{canvas:y,context:b}=this.annotationCanvas;this.annotationCanvasMap.set(e,y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=b,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),aN(this.ctx)}else aN(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new bW(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...r),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),ie(this,Fc,$5).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const r=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=qDe(e)),i.compiled)){i.compiled(r);return}const s=this._createMaskCanvas(e),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,r=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Hr(o);o.transform(t,r,i,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let f=0,p=a.length;f<p;f+=2){const m=Ut.transform(l,[t,r,i,s,a[f],a[f+1]]),[y,b]=Ut.applyTransform([0,0],m);o.drawImage(u.canvas,y,b)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,r=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:u}=s,f=this.cachedCanvases.getCanvas("maskCanvas",o,l),p=f.context;p.save();const m=this.getObject(a,s);wW(p,m),p.globalCompositeOperation="source-in",p.fillStyle=i?r.getPattern(p,this,bu(t),Gs.FILL):r,p.fillRect(0,0,o,l),p.restore(),t.save(),t.transform(...u),t.scale(1,-1),sN(t,f.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){an("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,r,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){an("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let u=0,f=i.length;u<f;u+=2)l.push({transform:[t,0,0,r,i[u],i[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,r=e.height,i=this.ctx;if(this.save(),!Xs){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/r);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,r).context;xW(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,bu(i));i.imageSmoothingEnabled=_W(Hr(i),e.interpolate),sN(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-r,t,r),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const r=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;xW(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)r.save(),r.transform(...s.transform),r.scale(1,-1),sN(r,i,s.x,s.y,s.w,s.h,0,-1,1,1),r.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const r=this.ctx;this.pendingClip&&(t||(this.pendingClip===SW?r.clip("evenodd"):r.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),r.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Hr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const f=l*e;a=o=f<1?1/f:1}else if(e===0)a=1/l,o=1/u;else{const f=l*e,p=u*e;a=f<1?1/f:1,o=p<1?1/p:1}}else{const l=Math.abs(t*s-r*i),u=Math.hypot(t,r),f=Math.hypot(i,s);if(e===0)a=f/l,o=u/l;else{const p=e*l;a=f>p?f/p:1,o=u>p?u/p:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:r}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=r||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Fc=new WeakSet,I5=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$5=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},B5=function(e,t,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(t)),i};let i0=sI;for(const n in dc)i0.prototype[n]!==void 0&&(i0.prototype[dc[n]]=i0.prototype[n]);var gD,yD;class ph{static get workerPort(){return _(this,gD)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");V(this,gD,e)}static get workerSrc(){return _(this,yD)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");V(this,yD,e)}}gD=new WeakMap,yD=new WeakMap,ee(ph,gD,null),ee(ph,yD,"");var cy,vD;class XDe{constructor({parsedData:e,rawData:t}){ee(this,cy);ee(this,vD);V(this,cy,e),V(this,vD,t)}getRaw(){return _(this,vD)}get(e){return _(this,cy).get(e)??null}getAll(){return FL(_(this,cy))}has(e){return _(this,cy).has(e)}}cy=new WeakMap,vD=new WeakMap;const Lx=Symbol("INTERNAL");var bD,xD,wD,A0;class YDe{constructor(e,{name:t,intent:r,usage:i,rbGroups:s}){ee(this,bD,!1);ee(this,xD,!1);ee(this,wD,!1);ee(this,A0,!0);V(this,bD,!!(e&Po.DISPLAY)),V(this,xD,!!(e&Po.PRINT)),this.name=t,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(_(this,wD))return _(this,A0);if(!_(this,A0))return!1;const{print:e,view:t}=this.usage;return _(this,bD)?(t==null?void 0:t.viewState)!=="OFF":_(this,xD)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,r=!1){e!==Lx&&gr("Internal method `_setVisible` called."),V(this,wD,r),V(this,A0,t)}}bD=new WeakMap,xD=new WeakMap,wD=new WeakMap,A0=new WeakMap;var ap,ar,T0,E0,_D,W5;class KDe{constructor(e,t=Po.DISPLAY){ee(this,_D);ee(this,ap,null);ee(this,ar,new Map);ee(this,T0,null);ee(this,E0,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,V(this,E0,e.order);for(const r of e.groups)_(this,ar).set(r.id,new YDe(t,r));if(e.baseState==="OFF")for(const r of _(this,ar).values())r._setVisible(Lx,!1);for(const r of e.on)_(this,ar).get(r)._setVisible(Lx,!0);for(const r of e.off)_(this,ar).get(r)._setVisible(Lx,!1);V(this,T0,this.getHash())}}isVisible(e){if(_(this,ar).size===0)return!0;if(!e)return hk("Optional content group not defined."),!0;if(e.type==="OCG")return _(this,ar).has(e.id)?_(this,ar).get(e.id).visible:(an(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ie(this,_D,W5).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!_(this,ar).has(t))return an(`Optional content group not found: ${t}`),!0;if(_(this,ar).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!_(this,ar).has(t))return an(`Optional content group not found: ${t}`),!0;if(!_(this,ar).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!_(this,ar).has(t))return an(`Optional content group not found: ${t}`),!0;if(!_(this,ar).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!_(this,ar).has(t))return an(`Optional content group not found: ${t}`),!0;if(_(this,ar).get(t).visible)return!1}return!0}return an(`Unknown optional content policy ${e.policy}.`),!0}return an(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,r=!0){var s;const i=_(this,ar).get(e);if(!i){an(`Optional content group not found: ${e}`);return}if(r&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=_(this,ar).get(o))==null||s._setVisible(Lx,!1,!0));i._setVisible(Lx,!!t,!0),V(this,ap,null)}setOCGState({state:e,preserveRB:t}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=_(this,ar).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}V(this,ap,null)}get hasInitialVisibility(){return _(this,T0)===null||this.getHash()===_(this,T0)}getOrder(){return _(this,ar).size?_(this,E0)?_(this,E0).slice():[..._(this,ar).keys()]:null}getGroups(){return _(this,ar).size>0?FL(_(this,ar)):null}getGroup(e){return _(this,ar).get(e)||null}getHash(){if(_(this,ap)!==null)return _(this,ap);const e=new BQ;for(const[t,r]of _(this,ar))e.update(`${t}:${r.visible}`);return V(this,ap,e.hexdigest())}}ap=new WeakMap,ar=new WeakMap,T0=new WeakMap,E0=new WeakMap,_D=new WeakSet,W5=function(e){const t=e.length;if(t<2)return!0;const r=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=ie(this,_D,W5).call(this,s);else if(_(this,ar).has(s))a=_(this,ar).get(s).visible;else return an(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class ZDe{constructor(e,{disableRange:t=!1,disableStream:r=!1}){Ui(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const r=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});Ui(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,r,i,s;e.total===void 0?(r=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||r.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ui(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new QDe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new JDe(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class QDe{constructor(e,t,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=$L(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class JDe{constructor(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function eAe(n){let e=!0,t=r("filename\\*","i").exec(n);if(t){t=t[1];let f=o(t);return f=unescape(f),f=l(f),f=u(f),s(f)}if(t=a(n),t){const f=u(t);return s(f)}if(t=r("filename","i").exec(n),t){t=t[1];let f=o(t);return f=u(f),s(f)}function r(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const m=new TextDecoder(f,{fatal:!0}),y=fk(p);p=m.decode(y),e=!1}catch{}}return p}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function a(f){const p=[];let m;const y=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=y.exec(f))!==null;){let[,x,w,S]=m;if(x=parseInt(x,10),x in p){if(x===0)break;continue}p[x]=[w,S]}const b=[];for(let x=0;x<p.length&&x in p;++x){let[w,S]=p[x];S=o(S),w&&(S=unescape(S),x===0&&(S=l(S))),b.push(S)}return b.join("")}function o(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let m=0;m<p.length;++m){const y=p[m].indexOf('"');y!==-1&&(p[m]=p[m].slice(0,y),p.length=m+1),p[m]=p[m].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function l(f){const p=f.indexOf("'");if(p===-1)return f;const m=f.slice(0,p),b=f.slice(p+1).replace(/^[^']*'/,"");return i(m,b)}function u(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,m,y,b){if(y==="q"||y==="Q")return b=b.replaceAll("_"," "),b=b.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,w){return String.fromCharCode(parseInt(w,16))}),i(m,b);try{b=atob(b)}catch{}return i(m,b)})}return""}function tJ(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const r in e){const i=e[r];i!==void 0&&t.append(r,i)}return t}function gk(n){try{return new URL(n).origin}catch{}return null}function nJ({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||r||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function rJ(n){const e=n.get("Content-Disposition");if(e){let t=eAe(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if($L(t))return t}return null}function yk(n,e){return n===404||n===0&&e.startsWith("file:")?new FS('Missing PDF "'+e+'".'):new JR(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function iJ(n){return n===200||n===206}function sJ(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function aJ(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(an(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class DW{constructor(e){Wt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=tJ(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ui(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tAe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new nAe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class tAe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const r=new Headers(e.headers),i=t.url;fetch(i,sJ(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=gk(s.url),!iJ(s.status))throw yk(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=nJ({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=rJ(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new qp("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:aJ(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class nAe{constructor(e,t,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${r-1}`);const a=i.url;fetch(a,sJ(s,this._withCredentials,this._abortController)).then(o=>{const l=gk(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!iJ(o.status))throw yk(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:aJ(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const BM=200,WM=206;function rAe(n){const e=n.response;return typeof e!="string"?e:fk(e).buffer}class iAe{constructor({url:e,httpHeaders:t,withCredentials:r}){Wt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=tJ(this.isHttp,t),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=WM):i.expectedStatus=BM,t.responseType="arraybuffer",Ui(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,r),t.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),r}onProgress(e,t){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,t))}onStateChange(e,t){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||BM;if(!(s===BM&&r.expectedStatus===WM)&&s!==r.expectedStatus){r.onError(i.status);return}const o=rAe(i);if(s===WM){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?r.onDone({begin:parseInt(u[1],10),chunk:o}):(an('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class sAe{constructor(e){this._source=e,this._manager=new iAe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ui(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new aAe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const r=new oAe(this._manager,e,t);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class aAe{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=gk(t.responseURL);const r=t.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=nJ({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=rJ(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=yk(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class oAe{constructor(e,t,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=gk((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=yk(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const lAe=/^[a-z][a-z0-9\-+.]+:/i;function cAe(n){if(lAe.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class uAe{constructor(e){this.source=e,this.url=cAe(e.url),Ui(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ui(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new dAe(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const r=new hAe(this,e,t);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class dAe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new FS(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new qp("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class hAe{constructor(e,t,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const fAe=1e5,Ha=30,pAe=.8;var gz,op,Ka,SD,DD,uy,Zd,AD,TD,dy,C0,N0,lp,R0,ED,j0,hy,CD,ND,fy,py,RD,cp,k0,jh,oJ,lJ,z5,Vo,JN,q5,cJ,uJ;const Ii=class Ii{constructor({textContentSource:e,container:t,viewport:r}){ee(this,jh);ee(this,op,Promise.withResolvers());ee(this,Ka,null);ee(this,SD,!1);ee(this,DD,!!((gz=globalThis.FontInspector)!=null&&gz.enabled));ee(this,uy,null);ee(this,Zd,null);ee(this,AD,0);ee(this,TD,0);ee(this,dy,null);ee(this,C0,null);ee(this,N0,0);ee(this,lp,0);ee(this,R0,Object.create(null));ee(this,ED,[]);ee(this,j0,null);ee(this,hy,[]);ee(this,CD,new WeakMap);ee(this,ND,null);var l;if(e instanceof ReadableStream)V(this,j0,e);else if(typeof e=="object")V(this,j0,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');V(this,Ka,V(this,C0,t)),V(this,lp,r.scale*(globalThis.devicePixelRatio||1)),V(this,N0,r.rotation),V(this,Zd,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;V(this,ND,[1,0,0,-1,-a,o+s]),V(this,TD,i),V(this,AD,s),ie(l=Ii,Vo,cJ).call(l),mv(t,r),_(this,op).promise.finally(()=>{_(Ii,k0).delete(this),V(this,Zd,null),V(this,R0,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=wa.platform;return yn(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{_(this,dy).read().then(({value:t,done:r})=>{if(r){_(this,op).resolve();return}_(this,uy)??V(this,uy,t.lang),Object.assign(_(this,R0),t.styles),ie(this,jh,oJ).call(this,t.items),e()},_(this,op).reject)};return V(this,dy,_(this,j0).getReader()),_(Ii,k0).add(this),e(),_(this,op).promise}update({viewport:e,onBefore:t=null}){var s;const r=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==_(this,N0)&&(t==null||t(),V(this,N0,i),mv(_(this,C0),{rotation:i})),r!==_(this,lp)){t==null||t(),V(this,lp,r);const a={div:null,properties:null,ctx:ie(s=Ii,Vo,JN).call(s,_(this,uy))};for(const o of _(this,hy))a.properties=_(this,CD).get(o),a.div=o,ie(this,jh,z5).call(this,a)}}cancel(){var t;const e=new qp("TextLayer task cancelled.");(t=_(this,dy))==null||t.cancel(e).catch(()=>{}),V(this,dy,null),_(this,op).reject(e)}get textDivs(){return _(this,hy)}get textContentItemsStr(){return _(this,ED)}static cleanup(){if(!(_(this,k0).size>0)){_(this,fy).clear();for(const{canvas:e}of _(this,py).values())e.remove();_(this,py).clear()}}};op=new WeakMap,Ka=new WeakMap,SD=new WeakMap,DD=new WeakMap,uy=new WeakMap,Zd=new WeakMap,AD=new WeakMap,TD=new WeakMap,dy=new WeakMap,C0=new WeakMap,N0=new WeakMap,lp=new WeakMap,R0=new WeakMap,ED=new WeakMap,j0=new WeakMap,hy=new WeakMap,CD=new WeakMap,ND=new WeakMap,fy=new WeakMap,py=new WeakMap,RD=new WeakMap,cp=new WeakMap,k0=new WeakMap,jh=new WeakSet,oJ=function(e){var i,s;if(_(this,SD))return;(s=_(this,Zd)).ctx??(s.ctx=ie(i=Ii,Vo,JN).call(i,_(this,uy)));const t=_(this,hy),r=_(this,ED);for(const a of e){if(t.length>fAe){an("Ignoring additional textDivs for performance reasons."),V(this,SD,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=_(this,Ka);V(this,Ka,document.createElement("span")),_(this,Ka).classList.add("markedContent"),a.id!==null&&_(this,Ka).setAttribute("id",`${a.id}`),o.append(_(this,Ka))}else a.type==="endMarkedContent"&&V(this,Ka,_(this,Ka).parentNode);continue}r.push(a.str),ie(this,jh,lJ).call(this,a)}},lJ=function(e){var x;const t=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};_(this,hy).push(t);const i=Ut.transform(_(this,ND),e.transform);let s=Math.atan2(i[1],i[0]);const a=_(this,R0)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=_(this,DD)&&a.fontSubstitution||a.fontFamily;o=Ii.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*ie(x=Ii,Vo,uJ).call(x,o,_(this,uy));let f,p;s===0?(f=i[4],p=i[5]-u):(f=i[4]+u*Math.sin(s),p=i[5]-u*Math.cos(s));const m="calc(var(--scale-factor)*",y=t.style;_(this,Ka)===_(this,C0)?(y.left=`${(100*f/_(this,TD)).toFixed(2)}%`,y.top=`${(100*p/_(this,AD)).toFixed(2)}%`):(y.left=`${m}${f.toFixed(2)}px)`,y.top=`${m}${p.toFixed(2)}px)`),y.fontSize=`${m}${(_(Ii,cp)*l).toFixed(2)}px)`,y.fontFamily=o,r.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,_(this,DD)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let b=!1;if(e.str.length>1)b=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);w!==S&&Math.max(w,S)/Math.min(w,S)>1.5&&(b=!0)}if(b&&(r.canvasWidth=a.vertical?e.height:e.width),_(this,CD).set(t,r),_(this,Zd).div=t,_(this,Zd).properties=r,ie(this,jh,z5).call(this,_(this,Zd)),r.hasText&&_(this,Ka).append(t),r.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),_(this,Ka).append(w)}},z5=function(e){var o;const{div:t,properties:r,ctx:i}=e,{style:s}=t;let a="";if(_(Ii,cp)>1&&(a=`scale(${1/_(Ii,cp)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:f}=r;ie(o=Ii,Vo,q5).call(o,i,f*_(this,lp),l);const{width:p}=i.measureText(t.textContent);p>0&&(a=`scaleX(${u*_(this,lp)/p}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Vo=new WeakSet,JN=function(e=null){let t=_(this,py).get(e||(e=""));if(!t){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),t=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),_(this,py).set(e,t),_(this,RD).set(t,{size:0,family:""})}return t},q5=function(e,t,r){const i=_(this,RD).get(e);t===i.size&&r===i.family||(e.font=`${t}px ${r}`,i.size=t,i.family=r)},cJ=function(){if(_(this,cp)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),V(this,cp,e.getBoundingClientRect().height),e.remove()},uJ=function(e,t){const r=_(this,fy).get(e);if(r)return r;const i=ie(this,Vo,JN).call(this,t);i.canvas.width=i.canvas.height=Ha,ie(this,Vo,q5).call(this,i,Ha,e);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const f=a/(a+o);return _(this,fy).set(e,f),i.canvas.width=i.canvas.height=0,f}i.strokeStyle="red",i.clearRect(0,0,Ha,Ha),i.strokeText("g",0,0);let l=i.getImageData(0,0,Ha,Ha).data;o=0;for(let f=l.length-1-3;f>=0;f-=4)if(l[f]>0){o=Math.ceil(f/4/Ha);break}i.clearRect(0,0,Ha,Ha),i.strokeText("A",0,Ha),l=i.getImageData(0,0,Ha,Ha).data,a=0;for(let f=0,p=l.length;f<p;f+=4)if(l[f]>0){a=Ha-Math.floor(f/4/Ha);break}i.canvas.width=i.canvas.height=0;const u=a?a/(a+o):pAe;return _(this,fy).set(e,u),u},ee(Ii,Vo),ee(Ii,fy,new Map),ee(Ii,py,new Map),ee(Ii,RD,new WeakMap),ee(Ii,cp,null),ee(Ii,k0,new Set);let LS=Ii;class IS{static textContent(e){const t=[],r={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(IS.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const mAe=65536,gAe=100,yAe=5e3,vAe=Xs?kDe:NDe,bAe=Xs?UDe:YQ,xAe=Xs?jDe:RDe,wAe=Xs?ODe:JQ;function _Ae(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new H5,{docId:t}=e,r=n.url?SAe(n.url):null,i=n.data?DAe(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,l=n.range instanceof dJ?n.range:null,u=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:mAe;let f=n.worker instanceof s0?n.worker:null;const p=n.verbosity,m=typeof n.docBaseUrl=="string"&&!mk(n.docBaseUrl)?n.docBaseUrl:null,y=typeof n.cMapUrl=="string"?n.cMapUrl:null,b=n.cMapPacked!==!1,x=n.CMapReaderFactory||bAe,w=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,S=n.StandardFontDataFactory||wAe,T=n.stopAtErrors!==!0,E=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,R=n.isEvalSupported!==!1,N=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Xs,U=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Xs&&(wa.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,M=typeof n.disableFontFace=="boolean"?n.disableFontFace:Xs,P=n.fontExtraProperties===!0,H=n.enableXfa===!0,X=n.ownerDocument||globalThis.document,I=n.disableRange===!0,q=n.disableStream===!0,L=n.disableAutoFetch===!0,te=n.pdfBug===!0,B=n.CanvasFactory||vAe,W=n.FilterFactory||xAe,se=n.enableHWA===!0,K=l?l.length:n.length??NaN,G=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Xs&&!M,Y=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:x===YQ&&S===JQ&&y&&w&&O_(y,document.baseURI)&&O_(w,document.baseURI),ne=null;oDe(p);const le={canvasFactory:new B({ownerDocument:X,enableHWA:se}),filterFactory:new W({docId:t,ownerDocument:X}),cMapReaderFactory:Y?null:new x({baseUrl:y,isCompressed:b}),standardFontDataFactory:Y?null:new S({baseUrl:w})};if(!f){const Re={verbosity:p,port:ph.workerPort};f=Re.port?s0.fromPort(Re):new s0(Re),e._worker=f}const xe={docId:t,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:L,rangeChunkSize:u,length:K,docBaseUrl:m,enableXfa:H,evaluatorOptions:{maxImageSize:E,disableFontFace:M,ignoreErrors:T,isEvalSupported:R,isOffscreenCanvasSupported:N,isImageDecoderSupported:U,canvasMaxAreaInBytes:O,fontExtraProperties:P,useSystemFonts:G,cMapUrl:Y?y:null,standardFontDataUrl:Y?w:null}},we={disableFontFace:M,fontExtraProperties:P,ownerDocument:X,pdfBug:te,styleElement:ne,loadingParams:{disableAutoFetch:L,enableXfa:H}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Re=f.messageHandler.sendWithPromise("GetDocRequest",xe,i?[i.buffer]:null);let Ee;if(l)Ee=new ZDe(l,{disableRange:I,disableStream:q});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");let Me;if(Xs)if(O_(r)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");Me=DW}else Me=uAe;else Me=O_(r)?DW:sAe;Ee=new Me({url:r,length:K,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:I,disableStream:q})}return Re.then(Me=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ye=new L_(t,Me,f.port),Ke=new CAe(Ye,e,Ee,we,le);e._transport=Ke,Ye.send("Ready",null)})}).catch(e._capability.reject),e}function SAe(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Xs&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function DAe(n){if(Xs&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return fk(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function AW(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var wj;const _j=class _j{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ki(_j,wj)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};wj=new WeakMap,ee(_j,wj,0);let H5=_j;class dJ{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){gr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class AAe{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var up,Qd,Al,Ix,eR;class TAe{constructor(e,t,r,i=!1){ee(this,Al);ee(this,up,null);ee(this,Qd,!1);this._pageIndex=e,this._pageInfo=t,this._transport=r,this._stats=i?new dW:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new hJ,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new ZA({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return yn(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=Gf.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:f=null,isEditing:p=!1}){var R,N;(R=this._stats)==null||R.time("Overall");const m=this._transport.getRenderingIntent(r,i,f,p),{renderingIntent:y,cacheKey:b}=m;V(this,Qd,!1),ie(this,Al,eR).call(this),o||(o=this._transport.getOptionalContentConfig(y));let x=this._intentStates.get(b);x||(x=Object.create(null),this._intentStates.set(b,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const w=!!(y&Po.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(N=this._stats)==null||N.time("Page Request"),this._pumpOperatorList(m));const S=U=>{var O;x.renderTasks.delete(T),(this._maybeCleanupAfterRender||w)&&V(this,Qd,!0),ie(this,Al,Ix).call(this,!w),U?(T.capability.reject(U),this._abortOperatorList({intentState:x,reason:U instanceof Error?U:new Error(U)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(O=globalThis.Stats)!=null&&O.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new G5({callback:S,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:u});(x.renderTasks||(x.renderTasks=new Set)).add(T);const E=T.task;return Promise.all([x.displayReadyCapability.promise,o]).then(([U,O])=>{var M;if(this.destroyed){S();return}if((M=this._stats)==null||M.time("Rendering"),!(O.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:U,optionalContentConfig:O}),T.operatorListChanged()}).catch(S),E}getOperatorList({intent:e="display",annotationMode:t=Gf.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>IS.textContent(r));const t=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:u}){if(u){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const r of t.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),V(this,Qd,!1),ie(this,Al,eR).call(this),Promise.all(e)}cleanup(e=!1){V(this,Qd,!0);const t=ie(this,Al,Ix).call(this,!1);return e&&t&&this._stats&&(this._stats=new dW),t}_startRenderPage(e,t){var i,s;const r=this._intentStates.get(t);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const r of t.renderTasks)r.operatorListChanged();e.lastChunk&&ie(this,Al,Ix).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const f=()=>{l.read().then(({value:p,done:m})=>{if(m){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,u),f())},p=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const m of u.renderTasks)m.operatorListChanged();ie(this,Al,Ix).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(p);else if(u.opListReadCapability)u.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(t instanceof IL){let i=gAe;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new qp(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}up=new WeakMap,Qd=new WeakMap,Al=new WeakSet,Ix=function(e=!1){if(ie(this,Al,eR).call(this),!_(this,Qd)||this.destroyed)return!1;if(e)return V(this,up,setTimeout(()=>{V(this,up,null),ie(this,Al,Ix).call(this,!1)},yAe)),!1;for(const{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),V(this,Qd,!1),!0},eR=function(){_(this,up)&&(clearTimeout(_(this,up)),V(this,up,null))};var Jd,Sj;class EAe{constructor(){ee(this,Jd,new Map);ee(this,Sj,Promise.resolve())}postMessage(e,t){const r={data:structuredClone(e,t?{transfer:t}:null)};_(this,Sj).then(()=>{for(const[i]of _(this,Jd))i.call(this,r)})}addEventListener(e,t,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){an("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}_(this,Jd).set(t,i)}removeEventListener(e,t){const r=_(this,Jd).get(t);r==null||r(),_(this,Jd).delete(t)}terminate(){for(const[,e]of _(this,Jd))e==null||e();_(this,Jd).clear()}}Jd=new WeakMap,Sj=new WeakMap;var Dj,my,gy,U0,tR,O0,nR;const qr=class qr{constructor({name:e=null,port:t=null,verbosity:r=lDe()}={}){ee(this,U0);var i;if(this.name=e,this.destroyed=!1,this.verbosity=r,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=_(qr,gy))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(_(qr,gy)||V(qr,gy,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new L_("main","worker",e),this._messageHandler.on("ready",function(){}),ie(this,U0,tR).call(this)}_initialize(){if(_(qr,my)||_(qr,O0,nR)){this._setupFakeWorker();return}let{workerSrc:e}=qr;try{qr._isSameOrigin(window.location.href,e)||(e=qr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),r=new L_("main","worker",t),i=()=>{s.abort(),r.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=r,this._port=t,this._webWorker=t,ie(this,U0,tR).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{hk("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){_(qr,my)||(an("Setting up fake worker."),V(qr,my,!0)),qr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new EAe;this._port=t;const r=`fake${Ki(qr,Dj)._++}`,i=new L_(r+"_worker",r,t);e.setup(i,t),this._messageHandler=new L_(r,r+"_worker",t),ie(this,U0,tR).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,r;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=_(qr,gy))==null||t.delete(this._port),this._port=null,(r=this._messageHandler)==null||r.destroy(),this._messageHandler=null}static fromPort(e){var r;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(r=_(this,gy))==null?void 0:r.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new qr(e)}static get workerSrc(){if(ph.workerSrc)return ph.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return yn(this,"_setupFakeWorkerGlobal",(async()=>_(this,O0,nR)?_(this,O0,nR):(await import(this.workerSrc)).WorkerMessageHandler)())}};Dj=new WeakMap,my=new WeakMap,gy=new WeakMap,U0=new WeakSet,tR=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},O0=new WeakSet,nR=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ee(qr,O0),ee(qr,Dj,0),ee(qr,my,!1),ee(qr,gy),Xs&&(V(qr,my,!0),ph.workerSrc||(ph.workerSrc="./pdf.worker.mjs")),qr._isSameOrigin=(e,t)=>{let r;try{if(r=new URL(e),!r.origin||r.origin==="null")return!1}catch{return!1}const i=new URL(t,r);return r.origin===i.origin},qr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let s0=qr;var eh,Uu,M0,P0,th,yy,z_;class CAe{constructor(e,t,r,i,s){ee(this,yy);ee(this,eh,new Map);ee(this,Uu,new Map);ee(this,M0,new Map);ee(this,P0,new Map);ee(this,th,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new hJ,this.fontLoader=new EDe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return yn(this,"annotationStorage",new zL)}getRenderingIntent(e,t=Gf.ENABLE,r=null,i=!1,s=!1){let a=Po.DISPLAY,o=O5;switch(e){case"any":a=Po.ANY;break;case"display":break;case"print":a=Po.PRINT;break;default:an(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Po.PRINT&&r instanceof zQ?r:this.annotationStorage;switch(t){case Gf.DISABLE:a+=Po.ANNOTATIONS_DISABLE;break;case Gf.ENABLE:break;case Gf.ENABLE_FORMS:a+=Po.ANNOTATIONS_FORMS;break;case Gf.ENABLE_STORAGE:a+=Po.ANNOTATIONS_STORAGE,o=l.serializable;break;default:an(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Po.IS_EDITING),s&&(a+=Po.OPLIST);const{ids:u,hash:f}=l.modifiedIds,p=[a,o.hash,f];return{renderingIntent:a,cacheKey:p.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=_(this,th))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of _(this,Uu).values())e.push(i._destroy());_(this,Uu).clear(),_(this,M0).clear(),_(this,P0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),_(this,eh).clear(),this.filterFactory.destroy(),LS.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new qp("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{Ui(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Ui(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{Ui(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Ui(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new AAe(r,this))}),e.on("DocException",r=>{t._capability.reject(Ga(r))}),e.on("PasswordRequest",r=>{V(this,th,Promise.withResolvers());try{if(!t.onPassword)throw Ga(r);const i=s=>{s instanceof Error?_(this,th).reject(s):_(this,th).resolve({password:s})};t.onPassword(i,r.code)}catch(i){_(this,th).reject(i)}return _(this,th).promise}),e.on("DataLoaded",r=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;_(this,Uu).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const y=s.error;an(`Error during font loading: ${y}`),this.commonObjs.resolve(r,y);break}const f=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(y,b)=>globalThis.FontInspector.fontAdded(y,b):null,p=new CDe(s,{disableFontFace:o,fontExtraProperties:l,inspectFont:f});this.fontLoader.bind(p).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l&&p.data&&(p.data=null),this.commonObjs.resolve(r,p)});break;case"CopyLocalImage":const{imageRef:m}=s;Ui(m,"The imageRef must be defined.");for(const y of _(this,Uu).values())for(const[,b]of y.objs)if((b==null?void 0:b.ref)===m)return b.dataLen?(this.commonObjs.resolve(r,structuredClone(b)),b.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=_(this,Uu).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(r,a),(a==null?void 0:a.dataLen)>rDe&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:r.loaded,total:r.total})}),e.on("FetchBuiltInCMap",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(r)}),e.on("FetchStandardFontData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&an("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,r=_(this,M0).get(t);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&_(this,P0).set(s.refStr,e);const a=new TAe(t,s,this,this._params.pdfBug);return _(this,Uu).set(t,a),a});return _(this,M0).set(t,i),i}getPageIndex(e){return AW(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ie(this,yy,z_).call(this,"GetFieldObjects")}hasJSActions(){return ie(this,yy,z_).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return ie(this,yy,z_).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ie(this,yy,z_).call(this,"GetOptionalContentConfig").then(t=>new KDe(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=_(this,eh).get(e);if(t)return t;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new XDe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return _(this,eh).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of _(this,Uu).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),_(this,eh).clear(),this.filterFactory.destroy(!0),LS.cleanup()}}cachedPageNumber(e){if(!AW(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return _(this,P0).get(t)??null}}eh=new WeakMap,Uu=new WeakMap,M0=new WeakMap,P0=new WeakMap,th=new WeakMap,yy=new WeakSet,z_=function(e,t=null){const r=_(this,eh).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,t);return _(this,eh).set(e,i),i};const A_=Symbol("INITIAL_DATA");var Eo,jD,V5;class hJ{constructor(){ee(this,jD);ee(this,Eo,Object.create(null))}get(e,t=null){if(t){const i=ie(this,jD,V5).call(this,e);return i.promise.then(()=>t(i.data)),null}const r=_(this,Eo)[e];if(!r||r.data===A_)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const t=_(this,Eo)[e];return!!t&&t.data!==A_}delete(e){const t=_(this,Eo)[e];return!t||t.data===A_?!1:(delete _(this,Eo)[e],!0)}resolve(e,t=null){const r=ie(this,jD,V5).call(this,e);r.data=t,r.resolve()}clear(){var e;for(const t in _(this,Eo)){const{data:r}=_(this,Eo)[t];(e=r==null?void 0:r.bitmap)==null||e.close()}V(this,Eo,Object.create(null))}*[Symbol.iterator](){for(const e in _(this,Eo)){const{data:t}=_(this,Eo)[e];t!==A_&&(yield[e,t])}}}Eo=new WeakMap,jD=new WeakSet,V5=function(e){var t;return(t=_(this,Eo))[e]||(t[e]={...Promise.withResolvers(),data:A_})};var dp;class NAe{constructor(e){ee(this,dp,null);V(this,dp,e),this.onContinue=null}get promise(){return _(this,dp).capability.promise}cancel(e=0){_(this,dp).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=_(this,dp).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=_(this,dp);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}dp=new WeakMap;var hp,vy;const Pg=class Pg{constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:m=null}){ee(this,hp,null);this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=p,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new NAe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(_(Pg,vy).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_(Pg,vy).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:i,transform:s,background:a}=this.params;this.gfx=new i0(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var r;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),_(this,hp)&&(window.cancelAnimationFrame(_(this,hp)),V(this,hp,null)),_(Pg,vy).delete(this._canvas),this.callback(e||new IL(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?V(this,hp,window.requestAnimationFrame(()=>{V(this,hp,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_(Pg,vy).delete(this._canvas),this.callback())))}};hp=new WeakMap,vy=new WeakMap,ee(Pg,vy,new WeakSet);let G5=Pg;const RAe="4.10.38",jAe="f9bea397f";function TW(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function T_(n){return Math.max(0,Math.min(255,255*n))}class EW{static CMYK_G([e,t,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=T_(e),[e,e,e]}static G_HTML([e]){const t=TW(e);return`#${t}${t}${t}`}static RGB_G([e,t,r]){return["G",.3*e+.59*t+.11*r]}static RGB_rgb(e){return e.map(T_)}static RGB_HTML(e){return`#${e.map(TW).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,r,i]){return[T_(1-Math.min(1,e+i)),T_(1-Math.min(1,r+i)),T_(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,r]){const i=1-e,s=1-t,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class kAe{create(e,t,r=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){gr("Abstract method `_createSVG` called.")}}class HL extends kAe{_createSVG(e){return document.createElementNS(Od,e)}}class fJ{static setupStorage(e,t,r,i,s){const a=i.getValue(t,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:r=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,t,r)}static render(e){var p,m;const t=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const y=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=y}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const y=document.createTextNode(i.value);a.append(y),o&&IS.shouldBuildText(i.name)&&u.push(y)}return{textDivs:u}}const f=[[i,-1,a]];for(;f.length>0;){const[y,b,x]=f.at(-1);if(b+1===y.children.length){f.pop();continue}const w=y.children[++f.at(-1)[1]];if(w===null)continue;const{name:S}=w;if(S==="#text"){const E=document.createTextNode(w.value);u.push(E),x.append(E);continue}const T=(p=w==null?void 0:w.attributes)!=null&&p.xmlns?document.createElementNS(w.attributes.xmlns,S):document.createElement(S);if(x.append(T),w.attributes&&this.setAttributes({html:T,element:w,storage:t,intent:s,linkService:r}),((m=w.children)==null?void 0:m.length)>0)f.push([w,-1,T]);else if(w.value){const E=document.createTextNode(w.value);o&&IS.shouldBuildText(S)&&u.push(E),T.append(E)}}for(const y of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))y.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const JA=1e3,UAe=9,yv=new WeakSet;function Op(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class OAe{static create(e){switch(e.data.annotationType){case Li.LINK:return new pJ(e);case Li.TEXT:return new MAe(e);case Li.WIDGET:switch(e.data.fieldType){case"Tx":return new PAe(e);case"Btn":return e.data.radioButton?new yJ(e):e.data.checkBox?new LAe(e):new IAe(e);case"Ch":return new $Ae(e);case"Sig":return new FAe(e)}return new Fv(e);case Li.POPUP:return new Y5(e);case Li.FREETEXT:return new _J(e);case Li.LINE:return new WAe(e);case Li.SQUARE:return new zAe(e);case Li.CIRCLE:return new qAe(e);case Li.POLYLINE:return new SJ(e);case Li.CARET:return new VAe(e);case Li.INK:return new VL(e);case Li.POLYGON:return new HAe(e);case Li.HIGHLIGHT:return new DJ(e);case Li.UNDERLINE:return new GAe(e);case Li.SQUIGGLY:return new XAe(e);case Li.STRIKEOUT:return new YAe(e);case Li.STAMP:return new AJ(e);case Li.FILEATTACHMENT:return new KAe(e);default:return new Si(e)}}}var by,F0,L0,kD,X5;const aI=class aI{constructor(e,{isRenderable:t=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){ee(this,kD);ee(this,by,null);ee(this,F0,!1);ee(this,L0,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:r}){return!!(e!=null&&e.str||t!=null&&t.str||r!=null&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return aI._hasPopupData(this.data)}updateEdited(e){var r;if(!this.container)return;_(this,by)||V(this,by,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&ie(this,kD,X5).call(this,t),(r=_(this,L0))==null||r.popup.updateEdited(e)}resetEdited(){var e;_(this,by)&&(ie(this,kD,X5).call(this,_(this,by).rect),(e=_(this,L0))==null||e.popup.resetEdited(),V(this,by,null))}_createContainer(e){const{data:t,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof Fv||(s.tabIndex=JA);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Y5){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,s),s}const{width:o,height:l}=Op(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,w=t.borderStyle.verticalCornerRadius;if(x>0||w>0){const T=`calc(${x}px * var(--scale-factor)) / calc(${w}px * var(--scale-factor))`;a.borderRadius=T}else if(this instanceof yJ){const T=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=T}switch(t.borderStyle.style){case S_.SOLID:a.borderStyle="solid";break;case S_.DASHED:a.borderStyle="dashed";break;case S_.BEVELED:an("Unimplemented border style: beveled");break;case S_.INSET:an("Unimplemented border style: inset");break;case S_.UNDERLINE:a.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(V(this,F0,!0),a.borderColor=Ut.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const u=Ut.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]),{pageWidth:f,pageHeight:p,pageX:m,pageY:y}=i.rawDims;a.left=`${100*(u[0]-m)/f}%`,a.top=`${100*(u[1]-y)/p}%`;const{rotation:b}=t;return t.hasOwnCanvas||b===0?(a.width=`${100*o/f}%`,a.height=`${100*l/p}%`):this.setRotation(b,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Op(this.data.rect);let o,l;e%180===0?(o=100*s/r,l=100*a/i):(o=100*a/r,l=100*s/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,r,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[r]=EW[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:EW[`${a}_rgb`](o)})};return yn(this,"_commonActions",{display:t=>{const{display:r}=t.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:r}=t.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const r=t.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,t){const r=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||r[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const r=this._commonActions;for(const[i,s]of Object.entries(t)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,r,i,s]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,w,S,T]=e.subarray(2,6);if(i===x&&s===w&&t===S&&r===T)return}const{style:a}=this.container;let o;if(_(this,F0)){const{borderColor:x,borderWidth:w}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-r,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0);const m=f.createElement("defs");p.append(m);const y=f.createElement("clipPath"),b=`clippath_${this.data.id}`;y.setAttribute("id",b),y.setAttribute("clipPathUnits","objectBoundingBox"),m.append(y);for(let x=2,w=e.length;x<w;x+=8){const S=e[x],T=e[x+1],E=e[x+2],R=e[x+3],N=f.createElement("rect"),U=(E-t)/l,O=(s-T)/u,M=(S-E)/l,P=(T-R)/u;N.setAttribute("x",U),N.setAttribute("y",O),N.setAttribute("width",M),N.setAttribute("height",P),y.append(N),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${U}" y="${O}" width="${M}" height="${P}"/>`)}_(this,F0)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(p),this.container.style.clipPath=`url(#${b})`}_createPopup(){const{data:e}=this,t=V(this,L0,new Y5({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){gr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!yv.has(u)){an(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:u})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&yv.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};by=new WeakMap,F0=new WeakMap,L0=new WeakMap,kD=new WeakSet,X5=function(e){const{container:{style:t},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e);const{width:u,height:f}=Op(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*f/a}%`):this.setRotation(i)};let Si=aI;var Lo,Rg,mJ,gJ;class pJ extends Si{constructor(t,r=null){super(t,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});ee(this,Lo);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(r.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(ie(this,Lo,mJ).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(ie(this,Lo,gJ).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,r){t.href=this.linkService.getDestinationHash(r),t.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&ie(this,Lo,Rg).call(this)}_bindNamedAction(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(r),!1),ie(this,Lo,Rg).call(this)}_bindJSAction(t,r){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),ie(this,Lo,Rg).call(this)}_bindResetFormAction(t,r){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),ie(this,Lo,Rg).call(this),!this._fieldObjects){an('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var p;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const m=new Set(a);for(const y of s){const b=this._fieldObjects[y]||[];for(const{id:x}of b)m.add(x)}for(const y of Object.values(this._fieldObjects))for(const b of y)m.has(b.id)===o&&l.push(b)}else for(const m of Object.values(this._fieldObjects))l.push(...m);const u=this.annotationStorage,f=[];for(const m of l){const{id:y}=m;switch(f.push(y),m.type){case"text":{const x=m.defaultValue||"";u.setValue(y,{value:x});break}case"checkbox":case"radiobutton":{const x=m.defaultValue===m.exportValues;u.setValue(y,{value:x});break}case"combobox":case"listbox":{const x=m.defaultValue||"";u.setValue(y,{value:x});break}default:continue}const b=document.querySelector(`[data-element-id="${y}"]`);if(b){if(!yv.has(b)){an(`_bindResetFormAction - element not allowed: ${y}`);continue}}else continue;b.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}})),!1}}}Lo=new WeakSet,Rg=function(){this.container.setAttribute("data-internal-link","")},mJ=function(t,r,i=null){t.href=this.linkService.getAnchorUrl(""),r.description&&(t.title=r.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(r.content,r.filename,i),!1},ie(this,Lo,Rg).call(this)},gJ=function(t,r){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(r),!1),ie(this,Lo,Rg).call(this)};class MAe extends Si{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Fv extends Si{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return wa.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(r==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,r,i){var s,a,o;for(const[l,u]of r)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":Ut.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||UAe,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),f=Math.round(u/(PM*i))||1,p=u/f;a=Math.min(i,l(p/PM))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/PM))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Ut.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class PAe extends Fv{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const f={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=u??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type="text",r.setAttribute("value",u??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),yv.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=JA,this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",m=>{e.setValue(t,{value:m.target.value}),this.setPropertyOnSiblings(r,"value",m.target.value,"value"),f.formattedValue=null}),r.addEventListener("resetform",m=>{const y=this.data.defaultFieldValue??"";r.value=f.userValue=y,f.formattedValue=null});let p=m=>{const{formattedValue:y}=f;y!=null&&(m.target.value=y),m.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{var x;if(f.focused)return;const{target:b}=y;f.userValue&&(b.value=f.userValue),f.lastCommittedValue=b.value,f.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(f.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(x){f.userValue=x.detail.value??"",e.setValue(t,{value:f.userValue.toString()}),x.target.value=f.userValue},formattedValue(x){const{formattedValue:w}=x.detail;f.formattedValue=w,w!=null&&x.target!==document.activeElement&&(x.target.value=w),e.setValue(t,{formattedValue:w})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var E;const{charLimit:w}=x.detail,{target:S}=x;if(w===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",w);let T=f.userValue;!T||T.length<=w||(T=T.slice(0,w),S.value=f.userValue=T,e.setValue(t,{value:T}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),r.addEventListener("keydown",y=>{var w;f.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(f.commitKey=3),b===-1)return;const{value:x}=y.target;f.lastCommittedValue!==x&&(f.lastCommittedValue=x,f.userValue=x,(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const m=p;p=null,r.addEventListener("blur",y=>{var x,w;if(!f.focused||!y.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(f.focused=!1);const{value:b}=y.target;f.userValue=b,f.lastCommittedValue!==b&&((w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,willCommit:!0,commitKey:f.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}})),m(y)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",y=>{var N;f.lastCommittedValue=null;const{data:b,target:x}=y,{value:w,selectionStart:S,selectionEnd:T}=x;let E=S,R=T;switch(y.inputType){case"deleteWordBackward":{const U=w.substring(0,S).match(/\w*[^\w]*$/);U&&(E-=U[0].length);break}case"deleteWordForward":{const U=w.substring(S).match(/^[^\w]*\w*/);U&&(R+=U[0].length);break}case"deleteContentBackward":S===T&&(E-=1);break;case"deleteContentForward":S===T&&(R+=1);break}y.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,change:b||"",willCommit:!1,selStart:E,selEnd:R}})}),this._setEventListeners(r,f,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(p&&r.addEventListener("blur",p),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class FAe extends Fv{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class LAe extends Fv{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return yv.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=JA,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r)){const f=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=f),e.setValue(u.id,{value:f})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class yJ extends Fv{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,r=t.id;let i=e.getValue(r,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(yv.add(s),s.setAttribute("data-element-id",r),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=JA,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,r))e.setValue(u.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const f=a===u.detail.value;for(const p of this._getElementsByName(u.target.name)){const m=f&&p.id===r;p.domElement&&(p.domElement.checked=m),e.setValue(p.id,{value:m})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class IAe extends pJ{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class $Ae extends Fv{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,r=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");yv.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=JA;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,r.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),i.append(p)}let a=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),a=()=>{f.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=f=>{const p=f?"value":"textContent",{options:m,multiple:y}=i;return y?Array.prototype.filter.call(m,b=>b.selected).map(b=>b[p]):m.selectedIndex===-1?null:m[m.selectedIndex][p]};let l=o(!1);const u=f=>{const p=f.target.options;return Array.prototype.map.call(p,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const p={value(m){a==null||a();const y=m.detail.value,b=new Set(Array.isArray(y)?y:[y]);for(const x of i.options)x.selected=b.has(x.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(m){i.multiple=!0},remove(m){const y=i.options,b=m.detail.remove;y[b].selected=!1,i.remove(b),y.length>0&&Array.prototype.findIndex.call(y,w=>w.selected)===-1&&(y[0].selected=!0),e.setValue(t,{value:o(!0),items:u(m)}),l=o(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(m){const{index:y,displayValue:b,exportValue:x}=m.detail.insert,w=i.children[y],S=document.createElement("option");S.textContent=b,S.value=x,w?w.before(S):i.append(S),e.setValue(t,{value:o(!0),items:u(m)}),l=o(!1)},items(m){const{items:y}=m.detail;for(;i.length!==0;)i.remove(0);for(const b of y){const{displayValue:x,exportValue:w}=b,S=document.createElement("option");S.textContent=x,S.value=w,i.append(S)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(m)}),l=o(!1)},indices(m){const y=new Set(m.detail.indices);for(const b of m.target.options)b.selected=y.has(b.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(p,f)}),i.addEventListener("input",f=>{var y;const p=o(!0),m=o(!1);e.setValue(t,{value:p}),f.preventDefault(),(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:m,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Y5 extends Si{constructor(e){const{data:t,elements:r}=e;super(e,{isRenderable:Si._hasPopupData(t)}),this.elements=r,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new BAe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const r of this.elements)r.popup=e,r.container.ariaHasPopup="dialog",t.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(r=>`${LL}${r}`).join(",")),this.container}}var I0,Aj,Tj,$0,xy,oi,nh,B0,UD,OD,W0,rh,gc,ih,MD,sh,PD,wy,_y,hr,rR,K5,vJ,bJ,xJ,wJ,iR,sR,Z5;class BAe{constructor({container:e,color:t,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:f,open:p}){ee(this,hr);ee(this,I0,ie(this,hr,xJ).bind(this));ee(this,Aj,ie(this,hr,Z5).bind(this));ee(this,Tj,ie(this,hr,sR).bind(this));ee(this,$0,ie(this,hr,iR).bind(this));ee(this,xy,null);ee(this,oi,null);ee(this,nh,null);ee(this,B0,null);ee(this,UD,null);ee(this,OD,null);ee(this,W0,null);ee(this,rh,!1);ee(this,gc,null);ee(this,ih,null);ee(this,MD,null);ee(this,sh,null);ee(this,PD,null);ee(this,wy,null);ee(this,_y,!1);var m;V(this,oi,e),V(this,PD,i),V(this,nh,a),V(this,sh,o),V(this,OD,l),V(this,xy,t),V(this,MD,u),V(this,W0,f),V(this,UD,r),V(this,B0,BL.toDateObject(s)),this.trigger=r.flatMap(y=>y.getElementsToTriggerPopup());for(const y of this.trigger)y.addEventListener("click",_(this,$0)),y.addEventListener("mouseenter",_(this,Tj)),y.addEventListener("mouseleave",_(this,Aj)),y.classList.add("popupTriggerArea");for(const y of r)(m=y.container)==null||m.addEventListener("keydown",_(this,I0));_(this,oi).hidden=!0,p&&ie(this,hr,iR).call(this)}render(){if(_(this,gc))return;const e=V(this,gc,document.createElement("div"));if(e.className="popup",_(this,xy)){const s=e.style.outlineColor=Ut.makeHexColor(..._(this,xy));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Ut.makeHexColor(..._(this,xy).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const r=document.createElement("h1");if(t.append(r),{dir:r.dir,str:r.textContent}=_(this,PD),e.append(t),_(this,B0)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:_(this,B0).valueOf()})),t.append(s)}const i=_(this,hr,rR);if(i)fJ.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(_(this,nh));e.append(s)}_(this,oi).append(e)}_formatContents({str:e,dir:t}){const r=document.createElement("p");r.classList.add("popupContent"),r.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];r.append(document.createTextNode(o)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited({rect:e,popupContent:t}){var r;_(this,wy)||V(this,wy,{contentsObj:_(this,nh),richText:_(this,sh)}),e&&V(this,ih,null),t&&(V(this,sh,ie(this,hr,bJ).call(this,t)),V(this,nh,null)),(r=_(this,gc))==null||r.remove(),V(this,gc,null)}resetEdited(){var e;_(this,wy)&&({contentsObj:Ki(this,nh)._,richText:Ki(this,sh)._}=_(this,wy),V(this,wy,null),(e=_(this,gc))==null||e.remove(),V(this,gc,null),V(this,ih,null))}forceHide(){V(this,_y,this.isVisible),_(this,_y)&&(_(this,oi).hidden=!0)}maybeShow(){_(this,_y)&&(_(this,gc)||ie(this,hr,sR).call(this),V(this,_y,!1),_(this,oi).hidden=!1)}get isVisible(){return _(this,oi).hidden===!1}}I0=new WeakMap,Aj=new WeakMap,Tj=new WeakMap,$0=new WeakMap,xy=new WeakMap,oi=new WeakMap,nh=new WeakMap,B0=new WeakMap,UD=new WeakMap,OD=new WeakMap,W0=new WeakMap,rh=new WeakMap,gc=new WeakMap,ih=new WeakMap,MD=new WeakMap,sh=new WeakMap,PD=new WeakMap,wy=new WeakMap,_y=new WeakMap,hr=new WeakSet,rR=function(){const e=_(this,sh),t=_(this,nh);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&_(this,sh).html||null},K5=function(){var e,t,r;return((r=(t=(e=_(this,hr,rR))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.fontSize)||0},vJ=function(){var e,t,r;return((r=(t=(e=_(this,hr,rR))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:r.color)||null},bJ=function(e){const t=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:_(this,hr,vJ),fontSize:_(this,hr,K5)?`calc(${_(this,hr,K5)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return r},xJ=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&_(this,rh))&&ie(this,hr,iR).call(this)},wJ=function(){if(_(this,ih)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:r,pageX:i,pageY:s}}}=_(this,OD);let a=!!_(this,W0),o=a?_(this,W0):_(this,MD);for(const b of _(this,UD))if(!o||Ut.intersect(b.data.rect,o)!==null){o=b.data.rect,a=!0;break}const l=Ut.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),f=a?o[2]-o[0]+5:0,p=l[0]+f,m=l[1];V(this,ih,[100*(p-i)/t,100*(m-s)/r]);const{style:y}=_(this,oi);y.left=`${_(this,ih)[0]}%`,y.top=`${_(this,ih)[1]}%`},iR=function(){V(this,rh,!_(this,rh)),_(this,rh)?(ie(this,hr,sR).call(this),_(this,oi).addEventListener("click",_(this,$0)),_(this,oi).addEventListener("keydown",_(this,I0))):(ie(this,hr,Z5).call(this),_(this,oi).removeEventListener("click",_(this,$0)),_(this,oi).removeEventListener("keydown",_(this,I0)))},sR=function(){_(this,gc)||this.render(),this.isVisible?_(this,rh)&&_(this,oi).classList.add("focused"):(ie(this,hr,wJ).call(this),_(this,oi).hidden=!1,_(this,oi).style.zIndex=parseInt(_(this,oi).style.zIndex)+1e3)},Z5=function(){_(this,oi).classList.remove("focused"),!(_(this,rh)||!this.isVisible)&&(_(this,oi).hidden=!0,_(this,oi).style.zIndex=parseInt(_(this,oi).style.zIndex)-1e3)};class _J extends Si{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=sn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const r=document.createElement("span");r.textContent=t,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var FD;class WAe extends Si{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,FD,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:r,height:i}=Op(t.rect),s=this.svgFactory.create(r,i,!0),a=V(this,FD,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,FD)}addHighlightArea(){this.container.classList.add("highlightArea")}}FD=new WeakMap;var LD;class zAe extends Si{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,LD,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:r,height:i}=Op(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=V(this,LD,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,LD)}addHighlightArea(){this.container.classList.add("highlightArea")}}LD=new WeakMap;var ID;class qAe extends Si{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,ID,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:r,height:i}=Op(t.rect),s=this.svgFactory.create(r,i,!0),a=t.borderStyle.width,o=V(this,ID,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,ID)}addHighlightArea(){this.container.classList.add("highlightArea")}}ID=new WeakMap;var $D;class SJ extends Si{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,$D,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:r,borderStyle:i,popupRef:s}}=this;if(!r)return this.container;const{width:a,height:o}=Op(t),l=this.svgFactory.create(a,o,!0);let u=[];for(let p=0,m=r.length;p<m;p+=2){const y=r[p]-t[0],b=t[3]-r[p+1];u.push(`${y},${b}`)}u=u.join(" ");const f=V(this,$D,this.svgFactory.createElement(this.svgElementName));return f.setAttribute("points",u),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),l.append(f),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _(this,$D)}addHighlightArea(){this.container.classList.add("highlightArea")}}$D=new WeakMap;class HAe extends SJ{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class VAe extends Si{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var BD,Sy,WD,Q5;class VL extends Si{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,WD);ee(this,BD,null);ee(this,Sy,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?sn.HIGHLIGHT:sn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=ie(this,WD,Q5).call(this,r,t),f=this.svgFactory.create(l,u,!0),p=V(this,BD,this.svgFactory.createElement("svg:g"));f.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",o);for(let m=0,y=i.length;m<y;m++){const b=this.svgFactory.createElement(this.svgElementName);_(this,Sy).push(b),b.setAttribute("points",i[m].join(",")),p.append(b)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:r,points:i,rect:s}=t,a=_(this,BD);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=_(this,Sy).length;o<l;o++)_(this,Sy)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=ie(this,WD,Q5).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return _(this,Sy)}addHighlightArea(){this.container.classList.add("highlightArea")}}BD=new WeakMap,Sy=new WeakMap,WD=new WeakSet,Q5=function(t,r){switch(t){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class DJ extends Si{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=sn.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class GAe extends Si{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class XAe extends Si{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class YAe extends Si{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class AJ extends Si{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=sn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var zD,qD,J5;class KAe extends Si{constructor(t){var i;super(t,{isRenderable:!0});ee(this,qD);ee(this,zD,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",ie(this,qD,J5).bind(this)),V(this,zD,i);const{isMac:s}=wa.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&ie(this,qD,J5).call(this)}),!r.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return _(this,zD)}addHighlightArea(){this.container.classList.add("highlightArea")}}zD=new WeakMap,qD=new WeakSet,J5=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var HD,Dy,Ay,VD,bv,TJ,eF;class ZAe{constructor({div:e,accessibilityManager:t,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){ee(this,bv);ee(this,HD,null);ee(this,Dy,null);ee(this,Ay,new Map);ee(this,VD,null);this.div=e,V(this,HD,t),V(this,Dy,r),V(this,VD,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return _(this,Ay).size>0}async render(e){var a;const{annotations:t}=e,r=this.div;mv(r,this.viewport);const i=new Map,s={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new HL,annotationStorage:e.annotationStorage||new zL,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===Li.POPUP;if(l){const p=i.get(o.id);if(!p)continue;s.elements=p}else{const{width:p,height:m}=Op(o.rect);if(p<=0||m<=0)continue}s.data=o;const u=OAe.create(s);if(!u.isRenderable)continue;if(!l&&o.popupRef){const p=i.get(o.popupRef);p?p.push(u):i.set(o.popupRef,[u])}const f=u.render();o.hidden&&(f.style.visibility="hidden"),await ie(this,bv,TJ).call(this,f,o.id),u._isEditable&&(_(this,Ay).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}ie(this,bv,eF).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,mv(t,{rotation:e.rotation}),ie(this,bv,eF).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(_(this,Ay).values())}getEditableAnnotation(e){return _(this,Ay).get(e)}}HD=new WeakMap,Dy=new WeakMap,Ay=new WeakMap,VD=new WeakMap,bv=new WeakSet,TJ=async function(e,t){var a,o;const r=e.firstChild||e,i=r.id=`${LL}${t}`,s=await((a=_(this,VD))==null?void 0:a.getAriaAttributes(i));if(s)for(const[l,u]of s)r.setAttribute(l,u);this.div.append(e),(o=_(this,HD))==null||o.moveElementInDOM(this.div,e,r,!1)},eF=function(){if(!_(this,Dy))return;const e=this.div;for(const[t,r]of _(this,Dy)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r)}_(this,Dy).clear()};const oN=/\r\n?|\n/g;var yc,Co,GD,Ty,No,Oi,EJ,CJ,NJ,aR,_h,oR,lR,RJ,nF,jJ;const Ar=class Ar extends ei{constructor(t){super({...t,name:"freeTextEditor"});ee(this,Oi);ee(this,yc);ee(this,Co,"");ee(this,GD,`${this.id}-editor`);ee(this,Ty,null);ee(this,No);V(this,yc,t.color||Ar._defaultColor||ei._defaultLineColor),V(this,No,t.fontSize||Ar._defaultFontSize)}static get _keyboardManager(){const t=Ar.prototype,r=a=>a.isEmpty(),i=gv.TRANSLATE_SMALL,s=gv.TRANSLATE_BIG;return yn(this,"_keyboardManager",new QA([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(t,r){ei.initialize(t,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,r){switch(t){case jn.FREETEXT_SIZE:Ar._defaultFontSize=r;break;case jn.FREETEXT_COLOR:Ar._defaultColor=r;break}}updateParams(t,r){switch(t){case jn.FREETEXT_SIZE:ie(this,Oi,EJ).call(this,r);break;case jn.FREETEXT_COLOR:ie(this,Oi,CJ).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[jn.FREETEXT_SIZE,Ar._defaultFontSize],[jn.FREETEXT_COLOR,Ar._defaultColor||ei._defaultLineColor]]}get propertiesToUpdate(){return[[jn.FREETEXT_SIZE,_(this,No)],[jn.FREETEXT_COLOR,_(this,yc)]]}_translateEmpty(t,r){this._uiManager.translateSelectedEditors(t,r,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ar._internalPadding*t,-(Ar._internalPadding+_(this,No))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(sn.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),V(this,Ty,new AbortController);const t=this._uiManager.combinedSignal(_(this,Ty));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_(this,GD)),this._isDraggable=!0,(t=_(this,Ty))==null||t.abort(),V(this,Ty,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var r;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=_(this,Co),r=V(this,Co,ie(this,Oi,NJ).call(this).trimEnd());if(t===r)return;const i=s=>{if(V(this,Co,s),!s){this.remove();return}ie(this,Oi,lR).call(this),this._uiManager.rebuild(this),ie(this,Oi,aR).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(t)},mustExec:!1}),ie(this,Oi,aR).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ar._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,r;this.width&&(t=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_(this,GD)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${_(this,No)}px * var(--scale-factor))`,i.color=_(this,yc),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ej(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[f,p]=this.pageDimensions,[m,y]=this.pageTranslation;let b,x;switch(this.rotation){case 0:b=t+(o[0]-m)/f,x=r+this.height-(o[1]-y)/p;break;case 90:b=t+(o[0]-m)/f,x=r-(o[1]-y)/p,[l,u]=[u,-l];break;case 180:b=t-this.width+(o[0]-m)/f,x=r-(o[1]-y)/p,[l,u]=[-l,-u];break;case 270:b=t+(o[0]-m-this.height*p)/f,x=r+(o[1]-y-this.width*f)/p,[l,u]=[-u,l];break}this.setAt(b*s,x*a,l,u)}else this.setAt(t*s,r*a,this.width*s,this.height*a);ie(this,Oi,lR).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var b,x,w;const r=t.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=ie(b=Ar,_h,nF).call(b,r.getData("text")||"").replaceAll(oN,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,f=[],p=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(p.push(l.nodeValue.slice(u).replaceAll(oN,"")),S!==this.editorDiv){let T=f;for(const E of this.editorDiv.childNodes){if(E===S){T=p;continue}T.push(ie(x=Ar,_h,oR).call(x,E))}}f.push(l.nodeValue.slice(0,u).replaceAll(oN,""))}else if(l===this.editorDiv){let S=f,T=0;for(const E of this.editorDiv.childNodes)T++===u&&(S=p),S.push(ie(w=Ar,_h,oR).call(w,E))}V(this,Co,`${f.join(`
`)}${s}${p.join(`
`)}`),ie(this,Oi,lR).call(this);const m=new Range;let y=f.reduce((S,T)=>S+T.length,0);for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const T=S.nodeValue.length;if(y<=T){m.setStart(S,y),m.setEnd(S,y);break}y-=T}a.removeAllRanges(),a.addRange(m)}get contentDiv(){return this.editorDiv}static async deserialize(t,r,i){var o;let s=null;if(t instanceof _J){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:f,rotation:p,id:m,popupRef:y},textContent:b,textPosition:x,parent:{page:{pageNumber:w}}}=t;if(!b||b.length===0)return null;s=t={annotationType:sn.FREETEXT,color:Array.from(u),fontSize:l,value:b.join(`
`),position:x,pageIndex:w-1,rect:f.slice(0),rotation:p,id:m,deleted:!1,popupRef:y}}const a=await super.deserialize(t,r,i);return V(a,No,t.fontSize),V(a,yc,Ut.makeHexColor(...t.color)),V(a,Co,ie(o=Ar,_h,nF).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Ar._internalPadding*this.parentScale,i=this.getRect(r,r),s=ei._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_(this,yc)),a={annotationType:sn.FREETEXT,color:s,fontSize:_(this,No),value:ie(this,Oi,RJ).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!ie(this,Oi,jJ).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const r=super.renderAnnotationElement(t);if(this.deleted)return r;const{style:i}=r;i.fontSize=`calc(${_(this,No)}px * var(--scale-factor))`,i.color=_(this,yc),r.replaceChildren();for(const a of _(this,Co).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),r.append(o)}const s=Ar._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:_(this,Co)}),r}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};yc=new WeakMap,Co=new WeakMap,GD=new WeakMap,Ty=new WeakMap,No=new WeakMap,Oi=new WeakSet,EJ=function(t){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-_(this,No))*this.parentScale),V(this,No,s),ie(this,Oi,aR).call(this)},i=_(this,No);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},CJ=function(t){const r=s=>{V(this,yc,this.editorDiv.style.color=s)},i=_(this,yc);this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},NJ=function(){var i;const t=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(ie(i=Ar,_h,oR).call(i,s)),r=s);return t.join(`
`)},aR=function(){const[t,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/r):(this.width=i.height/t,this.height=i.width/r),this.fixAndSetPosition()},_h=new WeakSet,oR=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(oN,"")},lR=function(){if(this.editorDiv.replaceChildren(),!!_(this,Co))for(const t of _(this,Co).split(`
`)){const r=document.createElement("div");r.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(r)}},RJ=function(){return _(this,Co).replaceAll(" "," ")},nF=function(t){return t.replaceAll(" "," ")},jJ=function(t){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==r||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},ee(Ar,_h),Wt(Ar,"_freeTextDefaultContent",""),Wt(Ar,"_internalPadding",0),Wt(Ar,"_defaultColor",null),Wt(Ar,"_defaultFontSize",10),Wt(Ar,"_type","freetext"),Wt(Ar,"_editorType",sn.FREETEXT);let tF=Ar;class St{toSVGPath(){gr("Abstract method `toSVGPath` must be implemented.")}get box(){gr("Abstract getter `box` must be implemented.")}serialize(e,t){gr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,t,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,t,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,r,i,s){switch(s){case 90:return[1-t/r,e/i];case 180:return[1-e/r,1-t/i];case 270:return[t/r,1-e/i];default:return[e/r,t/i]}}static _normalizePagePoint(e,t,r){switch(r){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,r,i,s,a){return[(e+5*r)/6,(t+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}Wt(St,"PRECISION",1e-4);var Ro,vc,z0,q0,Ou,gn,Ey,Cy,XD,YD,H0,V0,fp,KD,Ej,Cj,zi,q_,kJ,UJ,OJ,MJ,PJ,FJ;const $d=class $d{constructor({x:e,y:t},r,i,s,a,o=0){ee(this,zi);ee(this,Ro);ee(this,vc,[]);ee(this,z0);ee(this,q0);ee(this,Ou,[]);ee(this,gn,new Float32Array(18));ee(this,Ey);ee(this,Cy);ee(this,XD);ee(this,YD);ee(this,H0);ee(this,V0);ee(this,fp,[]);V(this,Ro,r),V(this,V0,s*i),V(this,q0,a),_(this,gn).set([NaN,NaN,NaN,NaN,e,t],6),V(this,z0,o),V(this,YD,_($d,KD)*i),V(this,XD,_($d,Cj)*i),V(this,H0,i),_(this,fp).push(e,t)}isEmpty(){return isNaN(_(this,gn)[8])}add({x:e,y:t}){var P;V(this,Ey,e),V(this,Cy,t);const[r,i,s,a]=_(this,Ro);let[o,l,u,f]=_(this,gn).subarray(8,12);const p=e-u,m=t-f,y=Math.hypot(p,m);if(y<_(this,XD))return!1;const b=y-_(this,YD),x=b/y,w=x*p,S=x*m;let T=o,E=l;o=u,l=f,u+=w,f+=S,(P=_(this,fp))==null||P.push(e,t);const R=-S/b,N=w/b,U=R*_(this,V0),O=N*_(this,V0);return _(this,gn).set(_(this,gn).subarray(2,8),0),_(this,gn).set([u+U,f+O],4),_(this,gn).set(_(this,gn).subarray(14,18),12),_(this,gn).set([u-U,f-O],16),isNaN(_(this,gn)[6])?(_(this,Ou).length===0&&(_(this,gn).set([o+U,l+O],2),_(this,Ou).push(NaN,NaN,NaN,NaN,(o+U-r)/s,(l+O-i)/a),_(this,gn).set([o-U,l-O],14),_(this,vc).push(NaN,NaN,NaN,NaN,(o-U-r)/s,(l-O-i)/a)),_(this,gn).set([T,E,o,l,u,f],6),!this.isEmpty()):(_(this,gn).set([T,E,o,l,u,f],6),Math.abs(Math.atan2(E-l,T-o)-Math.atan2(S,w))<Math.PI/2?([o,l,u,f]=_(this,gn).subarray(2,6),_(this,Ou).push(NaN,NaN,NaN,NaN,((o+u)/2-r)/s,((l+f)/2-i)/a),[o,l,T,E]=_(this,gn).subarray(14,18),_(this,vc).push(NaN,NaN,NaN,NaN,((T+o)/2-r)/s,((E+l)/2-i)/a),!0):([T,E,o,l,u,f]=_(this,gn).subarray(0,6),_(this,Ou).push(((T+5*o)/6-r)/s,((E+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+f)/6-i)/a,((o+u)/2-r)/s,((l+f)/2-i)/a),[u,f,o,l,T,E]=_(this,gn).subarray(12,18),_(this,vc).push(((T+5*o)/6-r)/s,((E+5*l)/6-i)/a,((5*o+u)/6-r)/s,((5*l+f)/6-i)/a,((o+u)/2-r)/s,((l+f)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=_(this,Ou),t=_(this,vc);if(isNaN(_(this,gn)[6])&&!this.isEmpty())return ie(this,zi,kJ).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);ie(this,zi,OJ).call(this,r);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?r.push(`L${t[i+4]} ${t[i+5]}`):r.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return ie(this,zi,UJ).call(this,r),r.join(" ")}newFreeDrawOutline(e,t,r,i,s,a){return new LJ(e,t,r,i,s,a)}getOutlines(){var p;const e=_(this,Ou),t=_(this,vc),r=_(this,gn),[i,s,a,o]=_(this,Ro),l=new Float32Array((((p=_(this,fp))==null?void 0:p.length)??0)+2);for(let m=0,y=l.length-2;m<y;m+=2)l[m]=(_(this,fp)[m]-i)/a,l[m+1]=(_(this,fp)[m+1]-s)/o;if(l[l.length-2]=(_(this,Ey)-i)/a,l[l.length-1]=(_(this,Cy)-s)/o,isNaN(r[6])&&!this.isEmpty())return ie(this,zi,MJ).call(this,l);const u=new Float32Array(_(this,Ou).length+24+_(this,vc).length);let f=e.length;for(let m=0;m<f;m+=2){if(isNaN(e[m])){u[m]=u[m+1]=NaN;continue}u[m]=e[m],u[m+1]=e[m+1]}f=ie(this,zi,FJ).call(this,u,f);for(let m=t.length-6;m>=6;m-=6)for(let y=0;y<6;y+=2){if(isNaN(t[m+y])){u[f]=u[f+1]=NaN,f+=2;continue}u[f]=t[m+y],u[f+1]=t[m+y+1],f+=2}return ie(this,zi,PJ).call(this,u,f),this.newFreeDrawOutline(u,l,_(this,Ro),_(this,H0),_(this,z0),_(this,q0))}};Ro=new WeakMap,vc=new WeakMap,z0=new WeakMap,q0=new WeakMap,Ou=new WeakMap,gn=new WeakMap,Ey=new WeakMap,Cy=new WeakMap,XD=new WeakMap,YD=new WeakMap,H0=new WeakMap,V0=new WeakMap,fp=new WeakMap,KD=new WeakMap,Ej=new WeakMap,Cj=new WeakMap,zi=new WeakSet,q_=function(){const e=_(this,gn).subarray(4,6),t=_(this,gn).subarray(16,18),[r,i,s,a]=_(this,Ro);return[(_(this,Ey)+(e[0]-t[0])/2-r)/s,(_(this,Cy)+(e[1]-t[1])/2-i)/a,(_(this,Ey)+(t[0]-e[0])/2-r)/s,(_(this,Cy)+(t[1]-e[1])/2-i)/a]},kJ=function(){const[e,t,r,i]=_(this,Ro),[s,a,o,l]=ie(this,zi,q_).call(this);return`M${(_(this,gn)[2]-e)/r} ${(_(this,gn)[3]-t)/i} L${(_(this,gn)[4]-e)/r} ${(_(this,gn)[5]-t)/i} L${s} ${a} L${o} ${l} L${(_(this,gn)[16]-e)/r} ${(_(this,gn)[17]-t)/i} L${(_(this,gn)[14]-e)/r} ${(_(this,gn)[15]-t)/i} Z`},UJ=function(e){const t=_(this,vc);e.push(`L${t[4]} ${t[5]} Z`)},OJ=function(e){const[t,r,i,s]=_(this,Ro),a=_(this,gn).subarray(4,6),o=_(this,gn).subarray(16,18),[l,u,f,p]=ie(this,zi,q_).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-r)/s} L${l} ${u} L${f} ${p} L${(o[0]-t)/i} ${(o[1]-r)/s}`)},MJ=function(e){const t=_(this,gn),[r,i,s,a]=_(this,Ro),[o,l,u,f]=ie(this,zi,q_).call(this),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-r)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-r)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,(t[16]-r)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-r)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(p,e,_(this,Ro),_(this,H0),_(this,z0),_(this,q0))},PJ=function(e,t){const r=_(this,vc);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],t),t+=6},FJ=function(e,t){const r=_(this,gn).subarray(4,6),i=_(this,gn).subarray(16,18),[s,a,o,l]=_(this,Ro),[u,f,p,m]=ie(this,zi,q_).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,u,f,NaN,NaN,NaN,NaN,p,m,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},ee($d,KD,8),ee($d,Ej,2),ee($d,Cj,_($d,KD)+_($d,Ej));let rj=$d;var G0,Ny,ah,ZD,jo,QD,bi,Nj,IJ;class LJ extends St{constructor(t,r,i,s,a,o){super();ee(this,Nj);ee(this,G0);ee(this,Ny,new Float32Array(4));ee(this,ah);ee(this,ZD);ee(this,jo);ee(this,QD);ee(this,bi);V(this,bi,t),V(this,jo,r),V(this,G0,i),V(this,QD,s),V(this,ah,a),V(this,ZD,o),this.lastPoint=[NaN,NaN],ie(this,Nj,IJ).call(this,o);const[l,u,f,p]=_(this,Ny);for(let m=0,y=t.length;m<y;m+=2)t[m]=(t[m]-l)/f,t[m+1]=(t[m+1]-u)/p;for(let m=0,y=r.length;m<y;m+=2)r[m]=(r[m]-l)/f,r[m+1]=(r[m+1]-u)/p}toSVGPath(){const t=[`M${_(this,bi)[4]} ${_(this,bi)[5]}`];for(let r=6,i=_(this,bi).length;r<i;r+=6){if(isNaN(_(this,bi)[r])){t.push(`L${_(this,bi)[r+4]} ${_(this,bi)[r+5]}`);continue}t.push(`C${_(this,bi)[r]} ${_(this,bi)[r+1]} ${_(this,bi)[r+2]} ${_(this,bi)[r+3]} ${_(this,bi)[r+4]} ${_(this,bi)[r+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,r,i,s],a){const o=i-t,l=s-r;let u,f;switch(a){case 0:u=St._rescale(_(this,bi),t,s,o,-l),f=St._rescale(_(this,jo),t,s,o,-l);break;case 90:u=St._rescaleAndSwap(_(this,bi),t,r,o,l),f=St._rescaleAndSwap(_(this,jo),t,r,o,l);break;case 180:u=St._rescale(_(this,bi),i,r,-o,l),f=St._rescale(_(this,jo),i,r,-o,l);break;case 270:u=St._rescaleAndSwap(_(this,bi),i,s,-o,-l),f=St._rescaleAndSwap(_(this,jo),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(f)]}}get box(){return _(this,Ny)}newOutliner(t,r,i,s,a,o=0){return new rj(t,r,i,s,a,o)}getNewOutline(t,r){const[i,s,a,o]=_(this,Ny),[l,u,f,p]=_(this,G0),m=a*f,y=o*p,b=i*f+l,x=s*p+u,w=this.newOutliner({x:_(this,jo)[0]*m+b,y:_(this,jo)[1]*y+x},_(this,G0),_(this,QD),t,_(this,ZD),r??_(this,ah));for(let S=2;S<_(this,jo).length;S+=2)w.add({x:_(this,jo)[S]*m+b,y:_(this,jo)[S+1]*y+x});return w.getOutlines()}}G0=new WeakMap,Ny=new WeakMap,ah=new WeakMap,ZD=new WeakMap,jo=new WeakMap,QD=new WeakMap,bi=new WeakMap,Nj=new WeakSet,IJ=function(t){const r=_(this,bi);let i=r[4],s=r[5],a=i,o=s,l=i,u=s,f=i,p=s;const m=t?Math.max:Math.min;for(let b=6,x=r.length;b<x;b+=6){if(isNaN(r[b]))a=Math.min(a,r[b+4]),o=Math.min(o,r[b+5]),l=Math.max(l,r[b+4]),u=Math.max(u,r[b+5]),p<r[b+5]?(f=r[b+4],p=r[b+5]):p===r[b+5]&&(f=m(f,r[b+4]));else{const w=Ut.bezierBoundingBox(i,s,...r.slice(b,b+6));a=Math.min(a,w[0]),o=Math.min(o,w[1]),l=Math.max(l,w[2]),u=Math.max(u,w[3]),p<w[3]?(f=w[2],p=w[3]):p===w[3]&&(f=m(f,w[2]))}i=r[b+4],s=r[b+5]}const y=_(this,Ny);y[0]=a-_(this,ah),y[1]=o-_(this,ah),y[2]=l-a+2*_(this,ah),y[3]=u-o+2*_(this,ah),this.lastPoint=[f,p]};var JD,eA,pp,bc,Sa,$J,cR,BJ,WJ,iF;class rF{constructor(e,t=0,r=0,i=!0){ee(this,Sa);ee(this,JD);ee(this,eA);ee(this,pp,[]);ee(this,bc,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const u=10**-4;for(const{x:w,y:S,width:T,height:E}of e){const R=Math.floor((w-t)/u)*u,N=Math.ceil((w+T+t)/u)*u,U=Math.floor((S-t)/u)*u,O=Math.ceil((S+E+t)/u)*u,M=[R,U,O,!0],P=[N,U,O,!1];_(this,pp).push(M,P),s=Math.min(s,R),a=Math.max(a,N),o=Math.min(o,U),l=Math.max(l,O)}const f=a-s+2*r,p=l-o+2*r,m=s-r,y=o-r,b=_(this,pp).at(i?-1:-2),x=[b[0],b[2]];for(const w of _(this,pp)){const[S,T,E]=w;w[0]=(S-m)/f,w[1]=(T-y)/p,w[2]=(E-y)/p}V(this,JD,new Float32Array([m,y,f,p])),V(this,eA,x)}getOutlines(){_(this,pp).sort((t,r)=>t[0]-r[0]||t[1]-r[1]||t[2]-r[2]);const e=[];for(const t of _(this,pp))t[3]?(e.push(...ie(this,Sa,iF).call(this,t)),ie(this,Sa,BJ).call(this,t)):(ie(this,Sa,WJ).call(this,t),e.push(...ie(this,Sa,iF).call(this,t)));return ie(this,Sa,$J).call(this,e)}}JD=new WeakMap,eA=new WeakMap,pp=new WeakMap,bc=new WeakMap,Sa=new WeakSet,$J=function(e){const t=[],r=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),r.add(l),r.add(u)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,u,f,p]=a;r.delete(a);let m=o,y=l;for(s=[o,u],i.push(s);;){let b;if(r.has(f))b=f;else if(r.has(p))b=p;else break;r.delete(b),[o,l,u,f,p]=b,m!==o&&(s.push(m,y,o,y===l?l:u),m=o),y=y===l?u:l}s.push(m,y)}return new QAe(i,_(this,JD),_(this,eA))},cR=function(e){const t=_(this,bc);let r=0,i=t.length-1;for(;r<=i;){const s=r+i>>1,a=t[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},BJ=function([,e,t]){const r=ie(this,Sa,cR).call(this,e);_(this,bc).splice(r,0,[e,t])},WJ=function([,e,t]){const r=ie(this,Sa,cR).call(this,e);for(let i=r;i<_(this,bc).length;i++){const[s,a]=_(this,bc)[i];if(s!==e)break;if(s===e&&a===t){_(this,bc).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=_(this,bc)[i];if(s!==e)break;if(s===e&&a===t){_(this,bc).splice(i,1);return}}},iF=function(e){const[t,r,i]=e,s=[[t,r,i]],a=ie(this,Sa,cR).call(this,i);for(let o=0;o<a;o++){const[l,u]=_(this,bc)[o];for(let f=0,p=s.length;f<p;f++){const[,m,y]=s[f];if(!(u<=m||y<=l)){if(m>=l){if(y>u)s[f][1]=u;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=l,y>u&&s.push([t,u,y])}}}return s};var tA,X0;class QAe extends St{constructor(t,r,i){super();ee(this,tA);ee(this,X0);V(this,X0,t),V(this,tA,r),this.lastPoint=i}toSVGPath(){const t=[];for(const r of _(this,X0)){let[i,s]=r;t.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,r,i,s],a){const o=[],l=i-t,u=s-r;for(const f of _(this,X0)){const p=new Array(f.length);for(let m=0;m<f.length;m+=2)p[m]=t+f[m]*l,p[m+1]=s-f[m+1]*u;o.push(p)}return o}get box(){return _(this,tA)}get classNamesForOutlining(){return["highlightOutline"]}}tA=new WeakMap,X0=new WeakMap;class sF extends rj{newFreeDrawOutline(e,t,r,i,s,a){return new JAe(e,t,r,i,s,a)}}class JAe extends LJ{newOutliner(e,t,r,i,s,a=0){return new sF(e,t,r,i,s,a)}}var xc,Ry,Y0,Bi,nA,K0,rA,iA,mp,wc,Z0,sA,ur,aF,oF,lF,jg,zJ,Wf;const Xa=class Xa{constructor({editor:e=null,uiManager:t=null}){ee(this,ur);ee(this,xc,null);ee(this,Ry,null);ee(this,Y0);ee(this,Bi,null);ee(this,nA,!1);ee(this,K0,!1);ee(this,rA,null);ee(this,iA);ee(this,mp,null);ee(this,wc,null);ee(this,Z0);var r;e?(V(this,K0,!1),V(this,Z0,jn.HIGHLIGHT_COLOR),V(this,rA,e)):(V(this,K0,!0),V(this,Z0,jn.HIGHLIGHT_DEFAULT_COLOR)),V(this,wc,(e==null?void 0:e._uiManager)||t),V(this,iA,_(this,wc)._eventBus),V(this,Y0,(e==null?void 0:e.color)||((r=_(this,wc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),_(Xa,sA)||V(Xa,sA,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return yn(this,"_keyboardManager",new QA([[["Escape","mac+Escape"],Xa.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Xa.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Xa.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Xa.prototype._moveToPrevious],[["Home","mac+Home"],Xa.prototype._moveToBeginning],[["End","mac+End"],Xa.prototype._moveToEnd]]))}renderButton(){const e=V(this,xc,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=_(this,wc)._signal;e.addEventListener("click",ie(this,ur,jg).bind(this),{signal:t}),e.addEventListener("keydown",ie(this,ur,lF).bind(this),{signal:t});const r=V(this,Ry,document.createElement("span"));return r.className="swatch",r.setAttribute("aria-hidden",!0),r.style.backgroundColor=_(this,Y0),e.append(r),e}renderMainDropdown(){const e=V(this,Bi,ie(this,ur,aF).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===_(this,xc)){ie(this,ur,jg).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ie(this,ur,oF).call(this,t,e)}_moveToNext(e){var t,r;if(!_(this,ur,Wf)){ie(this,ur,jg).call(this,e);return}if(e.target===_(this,xc)){(t=_(this,Bi).firstChild)==null||t.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var t,r;if(e.target===((t=_(this,Bi))==null?void 0:t.firstChild)||e.target===_(this,xc)){_(this,ur,Wf)&&this._hideDropdownFromKeyboard();return}_(this,ur,Wf)||ie(this,ur,jg).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var t;if(!_(this,ur,Wf)){ie(this,ur,jg).call(this,e);return}(t=_(this,Bi).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!_(this,ur,Wf)){ie(this,ur,jg).call(this,e);return}(t=_(this,Bi).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=_(this,Bi))==null||e.classList.add("hidden"),(t=_(this,mp))==null||t.abort(),V(this,mp,null)}_hideDropdownFromKeyboard(){var e;if(!_(this,K0)){if(!_(this,ur,Wf)){(e=_(this,rA))==null||e.unselect();return}this.hideDropdown(),_(this,xc).focus({preventScroll:!0,focusVisible:_(this,nA)})}}updateColor(e){if(_(this,Ry)&&(_(this,Ry).style.backgroundColor=e),!_(this,Bi))return;const t=_(this,wc).highlightColors.values();for(const r of _(this,Bi).children)r.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=_(this,xc))==null||e.remove(),V(this,xc,null),V(this,Ry,null),(t=_(this,Bi))==null||t.remove(),V(this,Bi,null)}};xc=new WeakMap,Ry=new WeakMap,Y0=new WeakMap,Bi=new WeakMap,nA=new WeakMap,K0=new WeakMap,rA=new WeakMap,iA=new WeakMap,mp=new WeakMap,wc=new WeakMap,Z0=new WeakMap,sA=new WeakMap,ur=new WeakSet,aF=function(){const e=document.createElement("div"),t=_(this,wc)._signal;e.addEventListener("contextmenu",Mc,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[r,i]of _(this,wc).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",_(Xa,sA)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===_(this,Y0)),s.addEventListener("click",ie(this,ur,oF).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",ie(this,ur,lF).bind(this),{signal:t}),e},oF=function(e,t){t.stopPropagation(),_(this,iA).dispatch("switchannotationeditorparams",{source:this,type:_(this,Z0),value:e})},lF=function(e){Xa._keyboardManager.exec(this,e)},jg=function(e){if(_(this,ur,Wf)){this.hideDropdown();return}if(V(this,nA,e.detail===0),_(this,mp)||(V(this,mp,new AbortController),window.addEventListener("pointerdown",ie(this,ur,zJ).bind(this),{signal:_(this,wc).combinedSignal(_(this,mp))})),_(this,Bi)){_(this,Bi).classList.remove("hidden");return}const t=V(this,Bi,ie(this,ur,aF).call(this));_(this,xc).append(t)},zJ=function(e){var t;(t=_(this,Bi))!=null&&t.contains(e.target)||this.hideDropdown()},Wf=function(){return _(this,Bi)&&!_(this,Bi).classList.contains("hidden")},ee(Xa,sA,null);let ij=Xa;var Q0,aA,oh,jy,J0,Za,oA,lA,ky,xl,ko,ys,e1,lh,zs,t1,wl,cA,Jt,cF,uR,qJ,HJ,VJ,uF,kg,Tl,$x,GJ,dR,H_,XJ,YJ,KJ,ZJ,QJ;const Xn=class Xn extends ei{constructor(t){super({...t,name:"highlightEditor"});ee(this,Jt);ee(this,Q0,null);ee(this,aA,0);ee(this,oh);ee(this,jy,null);ee(this,J0,null);ee(this,Za,null);ee(this,oA,null);ee(this,lA,0);ee(this,ky,null);ee(this,xl,null);ee(this,ko,null);ee(this,ys,!1);ee(this,e1,null);ee(this,lh);ee(this,zs,null);ee(this,t1,"");ee(this,wl);ee(this,cA,"");this.color=t.color||Xn._defaultColor,V(this,wl,t.thickness||Xn._defaultThickness),V(this,lh,t.opacity||Xn._defaultOpacity),V(this,oh,t.boxes||null),V(this,cA,t.methodOfCreation||""),V(this,t1,t.text||""),this._isDraggable=!1,t.highlightId>-1?(V(this,ys,!0),ie(this,Jt,uR).call(this,t),ie(this,Jt,kg).call(this)):_(this,oh)&&(V(this,Q0,t.anchorNode),V(this,aA,t.anchorOffset),V(this,oA,t.focusNode),V(this,lA,t.focusOffset),ie(this,Jt,cF).call(this),ie(this,Jt,kg).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Xn.prototype;return yn(this,"_keyboardManager",new QA([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:_(this,ys)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:_(this,wl),methodOfCreation:_(this,cA)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,r){var i;ei.initialize(t,r),Xn._defaultColor||(Xn._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,r){switch(t){case jn.HIGHLIGHT_DEFAULT_COLOR:Xn._defaultColor=r;break;case jn.HIGHLIGHT_THICKNESS:Xn._defaultThickness=r;break}}translateInPage(t,r){}get toolbarPosition(){return _(this,e1)}updateParams(t,r){switch(t){case jn.HIGHLIGHT_COLOR:ie(this,Jt,qJ).call(this,r);break;case jn.HIGHLIGHT_THICKNESS:ie(this,Jt,HJ).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[jn.HIGHLIGHT_DEFAULT_COLOR,Xn._defaultColor],[jn.HIGHLIGHT_THICKNESS,Xn._defaultThickness]]}get propertiesToUpdate(){return[[jn.HIGHLIGHT_COLOR,this.color||Xn._defaultColor],[jn.HIGHLIGHT_THICKNESS,_(this,wl)||Xn._defaultThickness],[jn.HIGHLIGHT_FREE,_(this,ys)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(V(this,J0,new ij({editor:this})),t.addColorPicker(_(this,J0))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ie(this,Jt,H_).call(this))}getBaseTranslation(){return[0,0]}getRect(t,r){return super.getRect(t,r,ie(this,Jt,H_).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ie(this,Jt,uF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ie(this,Jt,kg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?ie(this,Jt,uF).call(this):t&&(ie(this,Jt,kg).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),r&&this.select()}rotate(t){var s,a,o;const{drawLayer:r}=this.parent;let i;_(this,ys)?(t=(t-this.rotation+360)%360,i=ie(s=Xn,Tl,$x).call(s,_(this,xl).box,t)):i=ie(a=Xn,Tl,$x).call(a,[this.x,this.y,this.width,this.height],t),r.updateProperties(_(this,ko),{bbox:i,root:{"data-main-rotation":t}}),r.updateProperties(_(this,zs),{bbox:ie(o=Xn,Tl,$x).call(o,_(this,Za).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();_(this,t1)&&(t.setAttribute("aria-label",_(this,t1)),t.setAttribute("role","mark")),_(this,ys)?t.classList.add("free"):this.div.addEventListener("keydown",ie(this,Jt,GJ).bind(this),{signal:this._uiManager._signal});const r=V(this,ky,document.createElement("div"));t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=_(this,jy);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),ej(this,_(this,ky),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(_(this,zs),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(_(this,zs),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ie(this,Jt,dR).call(this,!0);break;case 1:case 3:ie(this,Jt,dR).call(this,!1);break}}select(){var t;super.select(),_(this,zs)&&((t=this.parent)==null||t.drawLayer.updateProperties(_(this,zs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),_(this,zs)&&((t=this.parent)==null||t.drawLayer.updateProperties(_(this,zs),{rootClass:{selected:!1}}),_(this,ys)||ie(this,Jt,dR).call(this,!1))}get _mustFixPosition(){return!_(this,ys)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(_(this,ko),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(_(this,zs),{rootClass:{hidden:!t}}))}static startHighlighting(t,r,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:f}=i.getBoundingClientRect(),p=new AbortController,m=t.combinedSignal(p),y=b=>{p.abort(),ie(this,Tl,ZJ).call(this,t,b)};window.addEventListener("blur",y,{signal:m}),window.addEventListener("pointerup",y,{signal:m}),window.addEventListener("pointerdown",Io,{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Mc,{signal:m}),i.addEventListener("pointermove",ie(this,Tl,KJ).bind(this,t),{signal:m}),this._freeHighlight=new sF({x:s,y:a},[o,l,u,f],t.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,r,i){var x,w,S,T;let s=null;if(t instanceof DJ){const{data:{quadPoints:E,rect:R,rotation:N,id:U,color:O,opacity:M,popupRef:P},parent:{page:{pageNumber:H}}}=t;s=t={annotationType:sn.HIGHLIGHT,color:Array.from(O),opacity:M,quadPoints:E,boxes:null,pageIndex:H-1,rect:R.slice(0),rotation:N,id:U,deleted:!1,popupRef:P}}else if(t instanceof VL){const{data:{inkLists:E,rect:R,rotation:N,id:U,color:O,borderStyle:{rawWidth:M},popupRef:P},parent:{page:{pageNumber:H}}}=t;s=t={annotationType:sn.HIGHLIGHT,color:Array.from(O),thickness:M,inkLists:E,boxes:null,pageIndex:H-1,rect:R.slice(0),rotation:N,id:U,deleted:!1,popupRef:P}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,f=await super.deserialize(t,r,i);f.color=Ut.makeHexColor(...a),V(f,lh,u||1),l&&V(f,wl,t.thickness),f.annotationElementId=t.id||null,f._initialData=s;const[p,m]=f.pageDimensions,[y,b]=f.pageTranslation;if(o){const E=V(f,oh,[]);for(let R=0;R<o.length;R+=8)E.push({x:(o[R]-y)/p,y:1-(o[R+1]-b)/m,width:(o[R+2]-o[R])/p,height:(o[R+1]-o[R+5])/m});ie(x=f,Jt,cF).call(x),ie(w=f,Jt,kg).call(w),f.rotate(f.rotation)}else if(l){V(f,ys,!0);const E=l[0],R={x:E[0]-y,y:m-(E[1]-b)},N=new sF(R,[0,0,p,m],1,_(f,wl)/2,!0,.001);for(let M=0,P=E.length;M<P;M+=2)R.x=E[M]-y,R.y=m-(E[M+1]-b),N.add(R);const{id:U,clipPathId:O}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:N.toSVGPath()}},!0,!0);ie(S=f,Jt,uR).call(S,{highlightOutlines:N.getOutlines(),highlightId:U,clipPathId:O}),ie(T=f,Jt,kg).call(T)}return f}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const r=this.getRect(0,0),i=ei._colorManager.convert(this.color),s={annotationType:sn.HIGHLIGHT,color:i,opacity:_(this,lh),thickness:_(this,wl),quadPoints:ie(this,Jt,XJ).call(this),outlines:ie(this,Jt,YJ).call(this,r),pageIndex:this.pageIndex,rect:r,rotation:ie(this,Jt,H_).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!ie(this,Jt,QJ).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Q0=new WeakMap,aA=new WeakMap,oh=new WeakMap,jy=new WeakMap,J0=new WeakMap,Za=new WeakMap,oA=new WeakMap,lA=new WeakMap,ky=new WeakMap,xl=new WeakMap,ko=new WeakMap,ys=new WeakMap,e1=new WeakMap,lh=new WeakMap,zs=new WeakMap,t1=new WeakMap,wl=new WeakMap,cA=new WeakMap,Jt=new WeakSet,cF=function(){const t=new rF(_(this,oh),.001);V(this,xl,t.getOutlines()),[this.x,this.y,this.width,this.height]=_(this,xl).box;const r=new rF(_(this,oh),.0025,.001,this._uiManager.direction==="ltr");V(this,Za,r.getOutlines());const{lastPoint:i}=_(this,Za);V(this,e1,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},uR=function({highlightOutlines:t,highlightId:r,clipPathId:i}){var p,m;if(V(this,xl,t),V(this,Za,t.getNewOutline(_(this,wl)/2+1.5,.0025)),r>=0)V(this,ko,r),V(this,jy,i),this.parent.drawLayer.finalizeDraw(r,{bbox:t.box,path:{d:t.toSVGPath()}}),V(this,zs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:_(this,Za).box,path:{d:_(this,Za).toSVGPath()}},!0));else if(this.parent){const y=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(_(this,ko),{bbox:ie(p=Xn,Tl,$x).call(p,_(this,xl).box,(y-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(_(this,zs),{bbox:ie(m=Xn,Tl,$x).call(m,_(this,Za).box,y),path:{d:_(this,Za).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[y,b]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*b/y,this.height=u*y/b;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[y,b]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*b/y,this.height=u*y/b;break}}const{lastPoint:f}=_(this,Za);V(this,e1,[(f[0]-a)/l,(f[1]-o)/u])},qJ=function(t){const r=(a,o)=>{var l,u;this.color=a,V(this,lh,o),(l=this.parent)==null||l.drawLayer.updateProperties(_(this,ko),{root:{fill:a,"fill-opacity":o}}),(u=_(this,J0))==null||u.updateColor(a)},i=this.color,s=_(this,lh);this.addCommands({cmd:r.bind(this,t,Xn._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},HJ=function(t){const r=_(this,wl),i=s=>{V(this,wl,s),ie(this,Jt,VJ).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:jn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},VJ=function(t){if(!_(this,ys))return;ie(this,Jt,uR).call(this,{highlightOutlines:_(this,xl).getNewOutline(t/2)}),this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)},uF=function(){_(this,ko)===null||!this.parent||(this.parent.drawLayer.remove(_(this,ko)),V(this,ko,null),this.parent.drawLayer.remove(_(this,zs)),V(this,zs,null))},kg=function(t=this.parent){_(this,ko)===null&&({id:Ki(this,ko)._,clipPathId:Ki(this,jy)._}=t.drawLayer.draw({bbox:_(this,xl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":_(this,lh)},rootClass:{highlight:!0,free:_(this,ys)},path:{d:_(this,xl).toSVGPath()}},!1,!0),V(this,zs,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:_(this,ys)},bbox:_(this,Za).box,path:{d:_(this,Za).toSVGPath()}},_(this,ys))),_(this,ky)&&(_(this,ky).style.clipPath=_(this,jy)))},Tl=new WeakSet,$x=function([t,r,i,s],a){switch(a){case 90:return[1-r-s,t,s,i];case 180:return[1-t-i,1-r-s,i,s];case 270:return[r,1-t-i,s,i]}return[t,r,i,s]},GJ=function(t){Xn._keyboardManager.exec(this,t)},dR=function(t){if(!_(this,Q0))return;const r=window.getSelection();t?r.setPosition(_(this,Q0),_(this,aA)):r.setPosition(_(this,oA),_(this,lA))},H_=function(){return _(this,ys)?this.rotation:0},XJ=function(){if(_(this,ys))return null;const[t,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=_(this,oh),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:f,width:p,height:m}of a){const y=u*t+i,b=(1-f)*r+s;o[l]=o[l+4]=y,o[l+1]=o[l+3]=b,o[l+2]=o[l+6]=y+p*t,o[l+5]=o[l+7]=b-m*r,l+=8}return o},YJ=function(t){return _(this,xl).serialize(t,ie(this,Jt,H_).call(this))},KJ=function(t,r){this._freeHighlight.add(r)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},ZJ=function(t,r){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},QJ=function(t){const{color:r}=this._initialData;return t.color.some((i,s)=>i!==r[s])},ee(Xn,Tl),Wt(Xn,"_defaultColor",null),Wt(Xn,"_defaultOpacity",1),Wt(Xn,"_defaultThickness",12),Wt(Xn,"_type","highlight"),Wt(Xn,"_editorType",sn.HIGHLIGHT),Wt(Xn,"_freeHighlightId",-1),Wt(Xn,"_freeHighlight",null),Wt(Xn,"_freeHighlightClipId","");let sj=Xn;var Uy;class eTe{constructor(){ee(this,Uy,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,r]of Object.entries(e))this.updateProperty(t,r)}updateSVGProperty(e,t){_(this,Uy)[e]=t}toSVGProperties(){const e=_(this,Uy);return V(this,Uy,Object.create(null)),{root:e}}reset(){V(this,Uy,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){gr("Not implemented")}}Uy=new WeakMap;var Uo,n1,ns,Oy,My,gp,yp,vp,Py,Ln,hF,fF,pF,V_,JJ,hR,G_,Bx;const Dt=class Dt extends ei{constructor(t){super(t);ee(this,Ln);ee(this,Uo,null);ee(this,n1);Wt(this,"_drawId",null);V(this,n1,t.mustBeCommitted||!1),t.drawOutlines&&(ie(this,Ln,hF).call(this,t),ie(this,Ln,V_).call(this))}static _mergeSVGProperties(t,r){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){gr("Not implemented")}static get typesMap(){gr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,r){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(_(Dt,ns).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,r){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,r)}static get defaultPropertiesToUpdate(){const t=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,r[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,r[s]]);return t}_updateProperty(t,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var f;s.updateProperty(r,l);const u=_(this,Uo).updateProperty(r,l);u&&ie(this,Ln,G_).call(this,u),(f=this.parent)==null||f.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties(_(this,Uo).getPathResizingSVGProperties(ie(this,Ln,hR).call(this)),{bbox:ie(this,Ln,Bx).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties(_(this,Uo).getPathResizedSVGProperties(ie(this,Ln,hR).call(this)),{bbox:ie(this,Ln,Bx).call(this)}))}_onTranslating(t,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:ie(this,Ln,Bx).call(this,t,r)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties(_(this,Uo).getPathTranslatedSVGProperties(ie(this,Ln,hR).call(this),this.parentDimensions),{bbox:ie(this,Ln,Bx).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,_(this,n1)&&(V(this,n1,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ie(this,Ln,pF).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ie(this,Ln,V_).call(this),ie(this,Ln,G_).call(this,_(this,Uo).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let r=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ie(this,Ln,pF).call(this)):t&&(this._uiManager.addShouldRescale(this),ie(this,Ln,V_).call(this,t),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Dt._mergeSVGProperties({bbox:ie(this,Ln,Bx).call(this)},_(this,Uo).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ie(this,Ln,G_).call(this,_(this,Uo).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const r=document.createElement("div");t.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,r,i,s,a){gr("Not implemented")}static startDrawing(t,r,i,s){var w;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:f}=s;if(_(Dt,yp)&&_(Dt,yp)!==f)return;const{viewport:{rotation:p}}=t,{width:m,height:y}=a.getBoundingClientRect(),b=V(Dt,Oy,new AbortController),x=t.combinedSignal(b);if(_(Dt,gp)||V(Dt,gp,u),_(Dt,yp)??V(Dt,yp,f),window.addEventListener("pointerup",S=>{var T;_(Dt,gp)===S.pointerId?this._endDraw(S):(T=_(Dt,vp))==null||T.delete(S.pointerId)},{signal:x}),window.addEventListener("pointercancel",S=>{var T;_(Dt,gp)===S.pointerId?this._currentParent.endDrawingSession():(T=_(Dt,vp))==null||T.delete(S.pointerId)},{signal:x}),window.addEventListener("pointerdown",S=>{_(Dt,yp)===S.pointerType&&((_(Dt,vp)||V(Dt,vp,new Set)).add(S.pointerId),_(Dt,ns).isCancellable()&&(_(Dt,ns).removeLastElement(),_(Dt,ns).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Mc,{signal:x}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),a.addEventListener("touchmove",S=>{S.timeStamp===_(Dt,Py)&&Io(S)},{signal:x}),t.toggleDrawing(),(w=r._editorUndoBar)==null||w.hide(),_(Dt,ns)){t.drawLayer.updateProperties(this._currentDrawId,_(Dt,ns).startNew(o,l,m,y,p));return}r.updateUIForDefaultProperties(this),V(Dt,ns,this.createDrawerInstance(o,l,m,y,p)),V(Dt,My,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(_(Dt,My).toSVGProperties(),_(Dt,ns).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(V(Dt,Py,-1),!_(Dt,ns))return;const{offsetX:r,offsetY:i,pointerId:s}=t;if(_(Dt,gp)===s){if(((a=_(Dt,vp))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,_(Dt,ns).add(r,i)),V(Dt,Py,t.timeStamp),Io(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,V(Dt,ns,null),V(Dt,My,null),V(Dt,yp,null),V(Dt,Py,NaN)),_(Dt,Oy)&&(_(Dt,Oy).abort(),V(Dt,Oy,null),V(Dt,gp,NaN),V(Dt,vp,null))}static _endDraw(t){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),t&&r.drawLayer.updateProperties(this._currentDrawId,_(Dt,ns).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=_(Dt,ns),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:jn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(jn.DRAW_STEP),!_(Dt,ns).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:_(Dt,ns).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:_(Dt,My),mustBeCommitted:!t});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,r,i,s,a,o){gr("Not implemented")}static async deserialize(t,r,i){var p,m;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),f=await super.deserialize(t,r,i);return f.createDrawingOptions(t),ie(p=f,Ln,hF).call(p,{drawOutlines:u}),ie(m=f,Ln,V_).call(m),f.onScaleChanging(),f.rotate(),f}serializeDraw(t){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return _(this,Uo).serialize([r,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Uo=new WeakMap,n1=new WeakMap,ns=new WeakMap,Oy=new WeakMap,My=new WeakMap,gp=new WeakMap,yp=new WeakMap,vp=new WeakMap,Py=new WeakMap,Ln=new WeakSet,hF=function({drawOutlines:t,drawId:r,drawingOptions:i}){V(this,Uo,t),this._drawingOptions||(this._drawingOptions=i),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,t.defaultProperties)):this._drawId=ie(this,Ln,fF).call(this,t,this.parent),ie(this,Ln,G_).call(this,t.box)},fF=function(t,r){const{id:i}=r.drawLayer.draw(Dt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},pF=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},V_=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ie(this,Ln,fF).call(this,_(this,Uo),t)}},JJ=function([t,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-r,i,s];case 270:return[1-r,t,i*(o/a),s*(a/o)];default:return[t,r,i,s]}},hR=function(){const{x:t,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-r,i,s];case 270:return[r,1-t,i*(a/o),s*(o/a)];default:return[t,r,i,s]}},G_=function(t){if([this.x,this.y,this.width,this.height]=ie(this,Ln,JJ).call(this,t),this.div){this.fixAndSetPosition();const[r,i]=this.parentDimensions;this.setDims(this.width*r,this.height*i)}this._onResized()},Bx=function(){const{x:t,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-r-s,t,s,i];case 2:return[1-t-i,1-r-s,i,s];case 3:return[r,1-t-i,s,i];case 4:return[t,r-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-r,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-r,s*(u/l),i*(l/u)];case 7:return[r-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,r-s,i,s];case 9:return[1-r,t-i,s,i];case 10:return[1-t,1-r,i,s];case 11:return[r-s,1-t,s,i];case 12:return[t-s*(u/l),r,s*(u/l),i*(l/u)];case 13:return[1-r-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-r-i*(l/u),s*(u/l),i*(l/u)];case 15:return[r,1-t,i*(l/u),s*(u/l)];default:return[t,r,i,s]}},Wt(Dt,"_currentDrawId",-1),Wt(Dt,"_currentParent",null),ee(Dt,ns,null),ee(Dt,Oy,null),ee(Dt,My,null),ee(Dt,gp,NaN),ee(Dt,yp,null),ee(Dt,vp,null),ee(Dt,Py,NaN),Wt(Dt,"_INNER_MARGIN",3);let dF=Dt;var Mu,rs,is,Fy,r1,pa,vs,_l,Ly,Iy,$y,i1,fR;class tTe{constructor(e,t,r,i,s,a){ee(this,i1);ee(this,Mu,new Float64Array(6));ee(this,rs);ee(this,is);ee(this,Fy);ee(this,r1);ee(this,pa);ee(this,vs,"");ee(this,_l,0);ee(this,Ly,new aj);ee(this,Iy);ee(this,$y);V(this,Iy,r),V(this,$y,i),V(this,Fy,s),V(this,r1,a),[e,t]=ie(this,i1,fR).call(this,e,t);const o=V(this,rs,[NaN,NaN,NaN,NaN,e,t]);V(this,pa,[e,t]),V(this,is,[{line:o,points:_(this,pa)}]),_(this,Mu).set(o,0)}updateProperty(e,t){e==="stroke-width"&&V(this,r1,t)}isEmpty(){return!_(this,is)||_(this,is).length===0}isCancellable(){return _(this,pa).length<=10}add(e,t){[e,t]=ie(this,i1,fR).call(this,e,t);const[r,i,s,a]=_(this,Mu).subarray(2,6),o=e-s,l=t-a;return Math.hypot(_(this,Iy)*o,_(this,$y)*l)<=2?null:(_(this,pa).push(e,t),isNaN(r)?(_(this,Mu).set([s,a,e,t],2),_(this,rs).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(_(this,Mu)[0])&&_(this,rs).splice(6,6),_(this,Mu).set([r,i,s,a,e,t],0),_(this,rs).push(...St.createBezierPoints(r,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const r=this.add(e,t);return r||(_(this,pa).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,r,i,s){V(this,Iy,r),V(this,$y,i),V(this,Fy,s),[e,t]=ie(this,i1,fR).call(this,e,t);const a=V(this,rs,[NaN,NaN,NaN,NaN,e,t]);V(this,pa,[e,t]);const o=_(this,is).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),_(this,is).push({line:a,points:_(this,pa)}),_(this,Mu).set(a,0),V(this,_l,0),this.toSVGPath(),null}getLastElement(){return _(this,is).at(-1)}setLastElement(e){return _(this,is)?(_(this,is).push(e),V(this,rs,e.line),V(this,pa,e.points),V(this,_l,0),{path:{d:this.toSVGPath()}}):_(this,Ly).setLastElement(e)}removeLastElement(){if(!_(this,is))return _(this,Ly).removeLastElement();_(this,is).pop(),V(this,vs,"");for(let e=0,t=_(this,is).length;e<t;e++){const{line:r,points:i}=_(this,is)[e];V(this,rs,r),V(this,pa,i),V(this,_l,0),this.toSVGPath()}return{path:{d:_(this,vs)}}}toSVGPath(){const e=St.svgRound(_(this,rs)[4]),t=St.svgRound(_(this,rs)[5]);if(_(this,pa).length===2)return V(this,vs,`${_(this,vs)} M ${e} ${t} Z`),_(this,vs);if(_(this,pa).length<=6){const i=_(this,vs).lastIndexOf("M");V(this,vs,`${_(this,vs).slice(0,i)} M ${e} ${t}`),V(this,_l,6)}if(_(this,pa).length===4){const i=St.svgRound(_(this,rs)[10]),s=St.svgRound(_(this,rs)[11]);return V(this,vs,`${_(this,vs)} L ${i} ${s}`),V(this,_l,12),_(this,vs)}const r=[];_(this,_l)===0&&(r.push(`M ${e} ${t}`),V(this,_l,6));for(let i=_(this,_l),s=_(this,rs).length;i<s;i+=6){const[a,o,l,u,f,p]=_(this,rs).slice(i,i+6).map(St.svgRound);r.push(`C${a} ${o} ${l} ${u} ${f} ${p}`)}return V(this,vs,_(this,vs)+r.join(" ")),V(this,_l,_(this,rs).length),_(this,vs)}getOutlines(e,t,r,i){const s=_(this,is).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),_(this,Ly).build(_(this,is),e,t,r,_(this,Fy),_(this,r1),i),V(this,Mu,null),V(this,rs,null),V(this,is,null),V(this,vs,null),_(this,Ly)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Mu=new WeakMap,rs=new WeakMap,is=new WeakMap,Fy=new WeakMap,r1=new WeakMap,pa=new WeakMap,vs=new WeakMap,_l=new WeakMap,Ly=new WeakMap,Iy=new WeakMap,$y=new WeakMap,i1=new WeakSet,fR=function(e,t){return St._normalizePoint(e,t,_(this,Iy),_(this,$y),_(this,Fy))};var ma,uA,dA,Oo,Pu,Fu,s1,a1,o1,_s,Pd,eee,tee,nee;const oI=class oI extends St{constructor(){super(...arguments);ee(this,_s);ee(this,ma);ee(this,uA,0);ee(this,dA);ee(this,Oo);ee(this,Pu);ee(this,Fu);ee(this,s1);ee(this,a1);ee(this,o1)}build(t,r,i,s,a,o,l){V(this,Pu,r),V(this,Fu,i),V(this,s1,s),V(this,a1,a),V(this,o1,o),V(this,dA,l??0),V(this,Oo,t),ie(this,_s,tee).call(this)}setLastElement(t){return _(this,Oo).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return _(this,Oo).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:r}of _(this,Oo)){if(t.push(`M${St.svgRound(r[4])} ${St.svgRound(r[5])}`),r.length===6){t.push("Z");continue}if(r.length===12){t.push(`L${St.svgRound(r[10])} ${St.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,u,f,p]=r.subarray(i,i+6).map(St.svgRound);t.push(`C${a} ${o} ${l} ${u} ${f} ${p}`)}}return t.join("")}serialize([t,r,i,s],a){const o=[],l=[],[u,f,p,m]=ie(this,_s,eee).call(this);let y,b,x,w,S,T,E,R,N;switch(_(this,a1)){case 0:N=St._rescale,y=t,b=r+s,x=i,w=-s,S=t+u*i,T=r+(1-f-m)*s,E=t+(u+p)*i,R=r+(1-f)*s;break;case 90:N=St._rescaleAndSwap,y=t,b=r,x=i,w=s,S=t+f*i,T=r+u*s,E=t+(f+m)*i,R=r+(u+p)*s;break;case 180:N=St._rescale,y=t+i,b=r,x=-i,w=s,S=t+(1-u-p)*i,T=r+f*s,E=t+(1-u)*i,R=r+(f+m)*s;break;case 270:N=St._rescaleAndSwap,y=t+i,b=r+s,x=-i,w=-s,S=t+(1-f-m)*i,T=r+(1-u-p)*s,E=t+(1-f)*i,R=r+(1-u)*s;break}for(const{line:U,points:O}of _(this,Oo))o.push(N(U,y,b,x,w,a?new Array(U.length):null)),l.push(N(O,y,b,x,w,a?new Array(O.length):null));return{lines:o,points:l,rect:[S,T,E,R]}}static deserialize(t,r,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:f}){const p=[];let m,y,b,x,w;switch(u){case 0:w=St._rescale,m=-t/i,y=r/s+1,b=1/i,x=-1/s;break;case 90:w=St._rescaleAndSwap,m=-r/s,y=-t/i,b=1/s,x=1/i;break;case 180:w=St._rescale,m=t/i+1,y=-r/s,b=-1/i,x=1/s;break;case 270:w=St._rescaleAndSwap,m=r/s+1,y=t/i+1,b=-1/s,x=-1/i;break}if(!o){o=[];for(const T of l){const E=T.length;if(E===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1]]));continue}if(E===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,T[0],T[1],NaN,NaN,NaN,NaN,T[2],T[3]]));continue}const R=new Float32Array(3*(E-2));o.push(R);let[N,U,O,M]=T.subarray(0,4);R.set([NaN,NaN,NaN,NaN,N,U],0);for(let P=4;P<E;P+=2){const H=T[P],X=T[P+1];R.set(St.createBezierPoints(N,U,O,M,H,X),(P-2)*3),[N,U,O,M]=[O,M,H,X]}}}for(let T=0,E=o.length;T<E;T++)p.push({line:w(o[T].map(R=>R??NaN),m,y,b,x),points:w(l[T].map(R=>R??NaN),m,y,b,x)});const S=new oI;return S.build(p,i,s,1,u,f,a),S}get box(){return _(this,ma)}updateProperty(t,r){return t==="stroke-width"?ie(this,_s,nee).call(this,r):null}updateParentDimensions([t,r],i){const[s,a]=ie(this,_s,Pd).call(this);V(this,Pu,t),V(this,Fu,r),V(this,s1,i);const[o,l]=ie(this,_s,Pd).call(this),u=o-s,f=l-a,p=_(this,ma);return p[0]-=u,p[1]-=f,p[2]+=2*u,p[3]+=2*f,p}updateRotation(t){return V(this,uA,t),{path:{transform:this.rotationTransform}}}get viewBox(){return _(this,ma).map(St.svgRound).join(" ")}get defaultProperties(){const[t,r]=_(this,ma);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(r)}`}}}get rotationTransform(){const[,,t,r]=_(this,ma);let i=0,s=0,a=0,o=0,l=0,u=0;switch(_(this,uA)){case 90:s=r/t,a=-t/r,l=t;break;case 180:i=-1,o=-1,l=t,u=r;break;case 270:s=-r/t,a=t/r,u=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${St.svgRound(l)} ${St.svgRound(u)})`}getPathResizingSVGProperties([t,r,i,s]){const[a,o]=ie(this,_s,Pd).call(this),[l,u,f,p]=_(this,ma);if(Math.abs(f-a)<=St.PRECISION||Math.abs(p-o)<=St.PRECISION){const w=t+i/2-(l+f/2),S=r+s/2-(u+p/2);return{path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(r)}`,transform:`${this.rotationTransform} translate(${w} ${S})`}}}const m=(i-2*a)/(f-2*a),y=(s-2*o)/(p-2*o),b=f/i,x=p/s;return{path:{"transform-origin":`${St.svgRound(l)} ${St.svgRound(u)}`,transform:`${this.rotationTransform} scale(${b} ${x}) translate(${St.svgRound(a)} ${St.svgRound(o)}) scale(${m} ${y}) translate(${St.svgRound(-a)} ${St.svgRound(-o)})`}}}getPathResizedSVGProperties([t,r,i,s]){const[a,o]=ie(this,_s,Pd).call(this),l=_(this,ma),[u,f,p,m]=l;if(l[0]=t,l[1]=r,l[2]=i,l[3]=s,Math.abs(p-a)<=St.PRECISION||Math.abs(m-o)<=St.PRECISION){const S=t+i/2-(u+p/2),T=r+s/2-(f+m/2);for(const{line:E,points:R}of _(this,Oo))St._translate(E,S,T,E),St._translate(R,S,T,R);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const y=(i-2*a)/(p-2*a),b=(s-2*o)/(m-2*o),x=-y*(u+a)+t+a,w=-b*(f+o)+r+o;if(y!==1||b!==1||x!==0||w!==0)for(const{line:S,points:T}of _(this,Oo))St._rescale(S,x,w,y,b,S),St._rescale(T,x,w,y,b,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${St.svgRound(t)} ${St.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,r],i){const[s,a]=i,o=_(this,ma),l=t-o[0],u=r-o[1];if(_(this,Pu)===s&&_(this,Fu)===a)for(const{line:f,points:p}of _(this,Oo))St._translate(f,l,u,f),St._translate(p,l,u,p);else{const f=_(this,Pu)/s,p=_(this,Fu)/a;V(this,Pu,s),V(this,Fu,a);for(const{line:m,points:y}of _(this,Oo))St._rescale(m,l,u,f,p,m),St._rescale(y,l,u,f,p,y);o[2]*=f,o[3]*=p}return o[0]=t,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(t)} ${St.svgRound(r)}`}}}get defaultSVGProperties(){const t=_(this,ma);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${St.svgRound(t[0])} ${St.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};ma=new WeakMap,uA=new WeakMap,dA=new WeakMap,Oo=new WeakMap,Pu=new WeakMap,Fu=new WeakMap,s1=new WeakMap,a1=new WeakMap,o1=new WeakMap,_s=new WeakSet,Pd=function(t=_(this,o1)){const r=_(this,dA)+t/2*_(this,s1);return _(this,a1)%180===0?[r/_(this,Pu),r/_(this,Fu)]:[r/_(this,Fu),r/_(this,Pu)]},eee=function(){const[t,r,i,s]=_(this,ma),[a,o]=ie(this,_s,Pd).call(this,0);return[t+a,r+o,i-2*a,s-2*o]},tee=function(){const t=V(this,ma,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of _(this,Oo)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6){const[f,p]=s.subarray(l,l+2);t[0]=Math.min(t[0],f),t[1]=Math.min(t[1],p),t[2]=Math.max(t[2],f),t[3]=Math.max(t[3],p)}continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[f,p,m,y,b,x]=s.subarray(l,l+6);Ut.bezierBoundingBox(a,o,f,p,m,y,b,x,t),a=b,o=x}}const[r,i]=ie(this,_s,Pd).call(this);t[0]=Math.min(1,Math.max(0,t[0]-r)),t[1]=Math.min(1,Math.max(0,t[1]-i)),t[2]=Math.min(1,Math.max(0,t[2]+r)),t[3]=Math.min(1,Math.max(0,t[3]+i)),t[2]-=t[0],t[3]-=t[1]},nee=function(t){const[r,i]=ie(this,_s,Pd).call(this);V(this,o1,t);const[s,a]=ie(this,_s,Pd).call(this),[o,l]=[s-r,a-i],u=_(this,ma);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};let aj=oI;var l1;const lI=class lI extends eTe{constructor(t){super();ee(this,l1);V(this,l1,t),super.updateProperties({fill:"none",stroke:ei._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,r){t==="stroke-width"&&(r??(r=this["stroke-width"]),r*=_(this,l1).realScale),super.updateSVGProperty(t,r)}clone(){const t=new lI(_(this,l1));return t.updateAll(this),t}};l1=new WeakMap;let mF=lI;var Rj,ree;const Kx=class Kx extends dF{constructor(t){super({...t,name:"inkEditor"});ee(this,Rj);this._willKeepAspectRatio=!0}static initialize(t,r){ei.initialize(t,r),this._defaultDrawingOptions=new mF(r.viewParameters)}static getDefaultDrawingOptions(t){const r=this._defaultDrawingOptions.clone();return r.updateProperties(t),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return yn(this,"typesMap",new Map([[jn.INK_THICKNESS,"stroke-width"],[jn.INK_COLOR,"stroke"],[jn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,r,i,s,a){return new tTe(t,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,r,i,s,a,o){return aj.deserialize(t,r,i,s,a,o)}static async deserialize(t,r,i){let s=null;if(t instanceof VL){const{data:{inkLists:o,rect:l,rotation:u,id:f,color:p,opacity:m,borderStyle:{rawWidth:y},popupRef:b},parent:{page:{pageNumber:x}}}=t;s=t={annotationType:sn.INK,color:Array.from(p),thickness:y,opacity:m,paths:{points:o},boxes:null,pageIndex:x-1,rect:l.slice(0),rotation:u,id:f,deleted:!1,popupRef:b}}const a=await super.deserialize(t,r,i);return a.annotationElementId=t.id||null,a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:r,opacity:i}){this._drawingOptions=Kx.getDefaultDrawingOptions({stroke:Ut.makeHexColor(...t),"stroke-width":r,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,u={annotationType:sn.INK,color:ei._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:r,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!ie(this,Rj,ree).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:r,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r}),null}};Rj=new WeakSet,ree=function(t){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==r[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},Wt(Kx,"_type","ink"),Wt(Kx,"_editorType",sn.INK),Wt(Kx,"_defaultDrawingOptions",null);let gF=Kx;var Qr,bs,bp,ch,xp,c1,Lu,Iu,Mo,u1,Wn,X_,Y_,pR,vF,mR,bF,gR,iee;const dS=class dS extends ei{constructor(t){super({...t,name:"stampEditor"});ee(this,Wn);ee(this,Qr,null);ee(this,bs,null);ee(this,bp,null);ee(this,ch,null);ee(this,xp,null);ee(this,c1,"");ee(this,Lu,null);ee(this,Iu,null);ee(this,Mo,!1);ee(this,u1,!1);V(this,ch,t.bitmapUrl),V(this,xp,t.bitmapFile)}static initialize(t,r){ei.initialize(t,r)}static get supportedTypes(){return yn(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(r=>`image/${r}`))}static get supportedTypesStr(){return yn(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,r){r.pasteEditor(sn.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const r=t.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(t=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),r&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;_(this,bs)&&(V(this,Qr,null),this._uiManager.imageManager.deleteId(_(this,bs)),(t=_(this,Lu))==null||t.remove(),V(this,Lu,null),_(this,Iu)&&(clearTimeout(_(this,Iu)),V(this,Iu,null))),super.remove()}rebuild(){if(!this.parent){_(this,bs)&&ie(this,Wn,pR).call(this);return}super.rebuild(),this.div!==null&&(_(this,bs)&&_(this,Lu)===null&&ie(this,Wn,pR).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(_(this,bp)||_(this,Qr)||_(this,ch)||_(this,xp)||_(this,bs))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,r;if(this.width&&(t=this.x,r=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),_(this,Qr)?ie(this,Wn,vF).call(this):ie(this,Wn,pR).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,r*s,this.width*i,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;_(this,Iu)!==null&&clearTimeout(_(this,Iu)),V(this,Iu,setTimeout(()=>{V(this,Iu,null),ie(this,Wn,bF).call(this)},200))}copyCanvas(t,r,i=!1){var y;t||(t=224);const{width:s,height:a}=_(this,Qr),o=new m5;let l=_(this,Qr),u=s,f=a,p=null;if(r){if(s>r||a>r){const M=Math.min(r/s,r/a);u=Math.floor(s*M),f=Math.floor(a*M)}p=document.createElement("canvas");const b=p.width=Math.ceil(u*o.sx),x=p.height=Math.ceil(f*o.sy);_(this,Mo)||(l=ie(this,Wn,mR).call(this,b,x));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let S="white",T="#cfcfd8";this._uiManager.hcmFilter!=="none"?T="black":(y=window.matchMedia)!=null&&y.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",T="#42414d");const E=15,R=E*o.sx,N=E*o.sy,U=new OffscreenCanvas(R*2,N*2),O=U.getContext("2d");O.fillStyle=S,O.fillRect(0,0,R*2,N*2),O.fillStyle=T,O.fillRect(0,0,R,N),O.fillRect(R,N,R,N),w.fillStyle=w.createPattern(U,"repeat"),w.fillRect(0,0,b,x),w.drawImage(l,0,0,l.width,l.height,0,0,b,x)}let m=null;if(i){let b,x;if(o.symmetric&&l.width<t&&l.height<t)b=l.width,x=l.height;else if(l=_(this,Qr),s>t||a>t){const T=Math.min(t/s,t/a);b=Math.floor(s*T),x=Math.floor(a*T),_(this,Mo)||(l=ie(this,Wn,mR).call(this,b,x))}const S=new OffscreenCanvas(b,x).getContext("2d",{willReadFrequently:!0});S.drawImage(l,0,0,l.width,l.height,0,0,b,x),m={width:b,height:x,data:S.getImageData(0,0,b,x).data}}return{canvas:p,width:u,height:f,imageData:m}}getImageForAltText(){return _(this,Lu)}static async deserialize(t,r,i){var x;let s=null;if(t instanceof AJ){const{data:{rect:w,rotation:S,id:T,structParent:E,popupRef:R},container:N,parent:{page:{pageNumber:U}}}=t,O=N.querySelector("canvas"),M=i.imageManager.getFromCanvas(N.id,O);O.remove();const P=((x=await r._structTree.getAriaAttributes(`${LL}${T}`))==null?void 0:x.get("aria-label"))||"";s=t={annotationType:sn.STAMP,bitmapId:M.id,bitmap:M.bitmap,pageIndex:U-1,rect:w.slice(0),rotation:S,id:T,deleted:!1,accessibilityData:{decorative:!1,altText:P},isSvg:!1,structParent:E,popupRef:R}}const a=await super.deserialize(t,r,i),{rect:o,bitmap:l,bitmapUrl:u,bitmapId:f,isSvg:p,accessibilityData:m}=t;f&&i.imageManager.isValidId(f)?(V(a,bs,f),l&&V(a,Qr,l)):V(a,ch,u),V(a,Mo,p);const[y,b]=a.pageDimensions;return a.width=(o[2]-o[0])/y,a.height=(o[3]-o[1])/b,a.annotationElementId=t.id||null,m&&(a.altTextData=m),a._initialData=s,V(a,u1,!!s),a}serialize(t=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:sn.STAMP,bitmapId:_(this,bs),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_(this,Mo),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=ie(this,Wn,gR).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=ie(this,Wn,iee).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,r===null)return i;r.stamps||(r.stamps=new Map);const o=_(this,Mo)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(_(this,bs)))r.stamps.set(_(this,bs),{area:o,serialized:i}),i.bitmap=ie(this,Wn,gR).call(this,!1);else if(_(this,Mo)){const l=r.stamps.get(_(this,bs));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=ie(this,Wn,gR).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Qr=new WeakMap,bs=new WeakMap,bp=new WeakMap,ch=new WeakMap,xp=new WeakMap,c1=new WeakMap,Lu=new WeakMap,Iu=new WeakMap,Mo=new WeakMap,u1=new WeakMap,Wn=new WeakSet,X_=function(t,r=!1){if(!t){this.remove();return}V(this,Qr,t.bitmap),r||(V(this,bs,t.id),V(this,Mo,t.isSvg)),t.file&&V(this,c1,t.file.name),ie(this,Wn,vF).call(this)},Y_=function(){if(V(this,bp,null),this._uiManager.enableWaiting(!1),!!_(this,Lu)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&_(this,Qr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&_(this,Qr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},pR=function(){if(_(this,bs)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_(this,bs)).then(i=>ie(this,Wn,X_).call(this,i,!0)).finally(()=>ie(this,Wn,Y_).call(this));return}if(_(this,ch)){const i=_(this,ch);V(this,ch,null),this._uiManager.enableWaiting(!0),V(this,bp,this._uiManager.imageManager.getFromUrl(i).then(s=>ie(this,Wn,X_).call(this,s)).finally(()=>ie(this,Wn,Y_).call(this)));return}if(_(this,xp)){const i=_(this,xp);V(this,xp,null),this._uiManager.enableWaiting(!0),V(this,bp,this._uiManager.imageManager.getFromFile(i).then(s=>ie(this,Wn,X_).call(this,s)).finally(()=>ie(this,Wn,Y_).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=dS.supportedTypesStr;const r=this._uiManager._signal;V(this,bp,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ie(this,Wn,X_).call(this,s)}i()},{signal:r}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>ie(this,Wn,Y_).call(this))),t.click()},vF=function(){var p;const{div:t}=this;let{width:r,height:i}=_(this,Qr);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const m=Math.min(o*s/r,o*a/i);r*=m,i*=m}const[l,u]=this.parentDimensions;this.setDims(r*l/s,i*u/a),this._uiManager.enableWaiting(!1);const f=V(this,Lu,document.createElement("canvas"));f.setAttribute("role","img"),this.addContainer(f),this.width=r/s,this.height=i/a,(p=this._initialOptions)!=null&&p.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ie(this,Wn,bF).call(this),_(this,u1)||(this.parent.addUndoableEditor(this),V(this,u1,!0)),this._reportTelemetry({action:"inserted_image"}),_(this,c1)&&f.setAttribute("aria-label",_(this,c1))},mR=function(t,r){const{width:i,height:s}=_(this,Qr);let a=i,o=s,l=_(this,Qr);for(;a>2*t||o>2*r;){const u=a,f=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const p=new OffscreenCanvas(a,o);p.getContext("2d").drawImage(l,0,0,u,f,0,0,a,o),l=p.transferToImageBitmap()}return l},bF=function(){const[t,r]=this.parentDimensions,{width:i,height:s}=this,a=new m5,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*r*a.sy),u=_(this,Lu);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const f=_(this,Mo)?_(this,Qr):ie(this,Wn,mR).call(this,o,l),p=u.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,o,l)},gR=function(t){if(t){if(_(this,Mo)){const s=this._uiManager.imageManager.getSvgUrl(_(this,bs));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=_(this,Qr),r.getContext("2d").drawImage(_(this,Qr),0,0),r.toDataURL()}if(_(this,Mo)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Hp.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Hp.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(_(this,Qr),0,0,_(this,Qr).width,_(this,Qr).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(_(this,Qr))},iee=function(t){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===r,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},Wt(dS,"_type","stamp"),Wt(dS,"_editorType",sn.STAMP);let yF=dS;var By,d1,$u,wp,uh,Sl,_p,h1,Wy,_c,dh,qs,hh,jt,Sp,Gr,see,_u,wF,_F,yR;const uc=class uc{constructor({uiManager:e,pageIndex:t,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:f}){ee(this,Gr);ee(this,By);ee(this,d1,!1);ee(this,$u,null);ee(this,wp,null);ee(this,uh,null);ee(this,Sl,new Map);ee(this,_p,!1);ee(this,h1,!1);ee(this,Wy,!1);ee(this,_c,null);ee(this,dh,null);ee(this,qs,null);ee(this,hh,null);ee(this,jt);const p=[..._(uc,Sp).values()];if(!uc._initialized){uc._initialized=!0;for(const m of p)m.initialize(f,e)}e.registerEditorTypes(p),V(this,jt,e),this.pageIndex=t,this.div=r,V(this,By,s),V(this,$u,a),this.viewport=u,V(this,qs,l),this.drawLayer=o,this._structTree=i,_(this,jt).addLayer(this)}get isEmpty(){return _(this,Sl).size===0}get isInvisible(){return this.isEmpty&&_(this,jt).getMode()===sn.NONE}updateToolbar(e){_(this,jt).updateToolbar(e)}updateMode(e=_(this,jt).getMode()){switch(ie(this,Gr,yR).call(this),e){case sn.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case sn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case sn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const r of _(uc,Sp).values())t.toggle(`${r._type}Editing`,e===r._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=_(this,qs))==null?void 0:t.div)}setEditingState(e){_(this,jt).setEditingState(e)}addCommands(e){_(this,jt).addCommands(e)}cleanUndoStack(e){_(this,jt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=_(this,$u))==null||t.div.classList.toggle("disabled",!e)}async enable(){V(this,Wy,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const r of _(this,Sl).values())r.enableEditing(),r.show(!0),r.annotationElementId&&(_(this,jt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));if(!_(this,$u)){V(this,Wy,!1);return}const t=_(this,$u).getEditableAnnotations();for(const r of t){if(r.hide(),_(this,jt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}V(this,Wy,!1)}disable(){var i;V(this,h1,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of _(this,Sl).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(_(this,$u)){const s=_(this,$u).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(_(this,jt).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(_(this,jt).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}ie(this,Gr,yR).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of _(uc,Sp).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),V(this,h1,!1)}getEditableAnnotation(e){var t;return((t=_(this,$u))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){_(this,jt).getActive()!==e&&_(this,jt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=_(this,qs))!=null&&e.div&&!_(this,hh)){V(this,hh,new AbortController);const t=_(this,jt).combinedSignal(_(this,hh));_(this,qs).div.addEventListener("pointerdown",ie(this,Gr,see).bind(this),{signal:t}),_(this,qs).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=_(this,qs))!=null&&e.div&&_(this,hh)&&(_(this,hh).abort(),V(this,hh,null),_(this,qs).div.classList.remove("highlighting"))}enableClick(){if(_(this,wp))return;V(this,wp,new AbortController);const e=_(this,jt).combinedSignal(_(this,wp));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=_(this,wp))==null||e.abort(),V(this,wp,null)}attach(e){_(this,Sl).set(e.id,e);const{annotationElementId:t}=e;t&&_(this,jt).isDeletedAnnotationElement(t)&&_(this,jt).removeDeletedAnnotationElement(e)}detach(e){var t;_(this,Sl).delete(e.id),(t=_(this,By))==null||t.removePointerInTextLayer(e.contentDiv),!_(this,h1)&&e.annotationElementId&&_(this,jt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),_(this,jt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(_(this,jt).addDeletedAnnotationElement(e.annotationElementId),ei.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),_(this,jt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!_(this,Wy)),_(this,jt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!_(this,uh)&&(e._focusEventsAllowed=!1,V(this,uh,setTimeout(()=>{V(this,uh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:_(this,jt)._signal}),t.focus())},0))),e._structTreeParentId=(r=_(this,By))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:t,undo:r,mustExec:!1})}getNextId(){return _(this,jt).getId()}combinedSignal(e){return _(this,jt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=_(this,Gr,_u))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){_(this,jt).updateToolbar(e),_(this,jt).updateMode(e);const{offsetX:r,offsetY:i}=ie(this,Gr,_F).call(this),s=this.getNextId(),a=ie(this,Gr,wF).call(this,{parent:this,id:s,x:r,y:i,uiManager:_(this,jt),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=_(uc,Sp).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,_(this,jt)))||null}createAndAddNewEditor(e,t,r={}){const i=this.getNextId(),s=ie(this,Gr,wF).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:_(this,jt),isCentered:t,...r});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(ie(this,Gr,_F).call(this),!0)}setSelected(e){_(this,jt).setSelected(e)}toggleSelected(e){_(this,jt).toggleSelected(e)}unselect(e){_(this,jt).unselect(e)}pointerup(e){var r;const{isMac:t}=wa.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&_(this,_p)&&(V(this,_p,!1),!((r=_(this,Gr,_u))!=null&&r.isDrawer&&_(this,Gr,_u).supportMultipleDrawings))){if(!_(this,d1)){V(this,d1,!0);return}if(_(this,jt).getMode()===sn.STAMP){_(this,jt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var i;if(_(this,jt).getMode()===sn.HIGHLIGHT&&this.enableTextSelection(),_(this,_p)){V(this,_p,!1);return}const{isMac:t}=wa.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(V(this,_p,!0),(i=_(this,Gr,_u))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=_(this,jt).getActive();V(this,d1,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus(),_(this,_c)){_(this,Gr,_u).startDrawing(this,_(this,jt),!1,e);return}_(this,jt).setCurrentDrawingSession(this),V(this,_c,new AbortController);const t=_(this,jt).combinedSignal(_(this,_c));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(V(this,dh,null),this.commitOrRemove())},{signal:t}),_(this,Gr,_u).startDrawing(this,_(this,jt),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&V(this,dh,t);return}_(this,dh)&&setTimeout(()=>{var t;(t=_(this,dh))==null||t.focus(),V(this,dh,null)},0)}endDrawingSession(e=!1){return _(this,_c)?(_(this,jt).setCurrentDrawingSession(null),_(this,_c).abort(),V(this,_c,null),V(this,dh,null),_(this,Gr,_u).endDrawing(e)):null}findNewParent(e,t,r){const i=_(this,jt).findParent(t,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return _(this,_c)?(this.endDrawingSession(),!0):!1}onScaleChanging(){_(this,_c)&&_(this,Gr,_u).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=_(this,jt).getActive())==null?void 0:e.parent)===this&&(_(this,jt).commitOrRemove(),_(this,jt).setActiveEditor(null)),_(this,uh)&&(clearTimeout(_(this,uh)),V(this,uh,null));for(const r of _(this,Sl).values())(t=_(this,By))==null||t.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,_(this,Sl).clear(),_(this,jt).removeLayer(this)}render({viewport:e}){this.viewport=e,mv(this.div,e);for(const t of _(this,jt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){_(this,jt).commitOrRemove(),ie(this,Gr,yR).call(this);const t=this.viewport.rotation,r=e.rotation;if(this.viewport=e,mv(this.div,{rotation:r}),t!==r)for(const i of _(this,Sl).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return _(this,jt).viewParameters.realScale}};By=new WeakMap,d1=new WeakMap,$u=new WeakMap,wp=new WeakMap,uh=new WeakMap,Sl=new WeakMap,_p=new WeakMap,h1=new WeakMap,Wy=new WeakMap,_c=new WeakMap,dh=new WeakMap,qs=new WeakMap,hh=new WeakMap,jt=new WeakMap,Sp=new WeakMap,Gr=new WeakSet,see=function(e){_(this,jt).unselectAll();const{target:t}=e;if(t===_(this,qs).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&_(this,qs).div.contains(t)){const{isMac:r}=wa.platform;if(e.button!==0||e.ctrlKey&&r)return;_(this,jt).showAllEditors("highlight",!0,!0),_(this,qs).div.classList.add("free"),this.toggleDrawing(),sj.startHighlighting(this,_(this,jt).direction==="ltr",{target:_(this,qs).div,x:e.x,y:e.y}),_(this,qs).div.addEventListener("pointerup",()=>{_(this,qs).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:_(this,jt)._signal}),e.preventDefault()}},_u=function(){return _(uc,Sp).get(_(this,jt).getMode())},wF=function(e){const t=_(this,Gr,_u);return t?new t.prototype.constructor(e):null},_F=function(){const{x:e,y:t,width:r,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,f=(a+l)/2-t,[p,m]=this.viewport.rotation%180===0?[u,f]:[f,u];return{offsetX:p,offsetY:m}},yR=function(){for(const e of _(this,Sl).values())e.isEmpty()&&e.remove()},Wt(uc,"_initialized",!1),ee(uc,Sp,new Map([tF,gF,yF,sj].map(e=>[e._editorType,e])));let xF=uc;var Sc,hA,ga,zy,jj,aee,Qu,DF,oee,AF;const $s=class $s{constructor({pageIndex:e}){ee(this,Qu);ee(this,Sc,null);ee(this,hA,0);ee(this,ga,new Map);ee(this,zy,new Map);this.pageIndex=e}setParent(e){if(!_(this,Sc)){V(this,Sc,e);return}if(_(this,Sc)!==e){if(_(this,ga).size>0)for(const t of _(this,ga).values())t.remove(),e.append(t);V(this,Sc,e)}}static get _svgFactory(){return yn(this,"_svgFactory",new HL)}draw(e,t=!1,r=!1){const i=Ki(this,hA)._++,s=ie(this,Qu,DF).call(this),a=$s._svgFactory.createElement("defs");s.append(a);const o=$s._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&_(this,zy).set(i,o);const u=r?ie(this,Qu,oee).call(this,a,l):null,f=$s._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${l}`),this.updateProperties(s,e),_(this,ga).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const r=Ki(this,hA)._++,i=ie(this,Qu,DF).call(this),s=$s._svgFactory.createElement("defs");i.append(s);const a=$s._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const p=$s._svgFactory.createElement("mask");s.append(p),l=`mask_p${this.pageIndex}_${r}`,p.setAttribute("id",l),p.setAttribute("maskUnits","objectBoundingBox");const m=$s._svgFactory.createElement("rect");p.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const y=$s._svgFactory.createElement("use");p.append(y),y.setAttribute("href",`#${o}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const u=$s._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const f=u.cloneNode();return i.append(f),u.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),_(this,ga).set(r,i),r}finalizeDraw(e,t){_(this,zy).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:r,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?_(this,ga).get(e):e;if(o){if(r&&ie(this,Qu,AF).call(this,o,r),i&&ie(l=$s,jj,aee).call(l,o,i),s){const{classList:u}=o;for(const[f,p]of Object.entries(s))u.toggle(f,p)}if(a){const f=o.firstChild.firstChild;ie(this,Qu,AF).call(this,f,a)}}}updateParent(e,t){if(t===this)return;const r=_(this,ga).get(e);r&&(_(t,Sc).append(r),_(this,ga).delete(e),_(t,ga).set(e,r))}remove(e){_(this,zy).delete(e),_(this,Sc)!==null&&(_(this,ga).get(e).remove(),_(this,ga).delete(e))}destroy(){V(this,Sc,null);for(const e of _(this,ga).values())e.remove();_(this,ga).clear(),_(this,zy).clear()}};Sc=new WeakMap,hA=new WeakMap,ga=new WeakMap,zy=new WeakMap,jj=new WeakSet,aee=function(e,[t,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Qu=new WeakSet,DF=function(){const e=$s._svgFactory.create(1,1,!0);return _(this,Sc).append(e),e.setAttribute("aria-hidden",!0),e},oee=function(e,t){const r=$s._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${t}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=$s._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},AF=function(e,t){for(const[r,i]of Object.entries(t))i===null?e.removeAttribute(r):e.setAttribute(r,i)},ee($s,jj);let SF=$s;globalThis.pdfjsTestingUtils={HighlightOutliner:rF};Kt.AbortException;Kt.AnnotationEditorLayer;Kt.AnnotationEditorParamsType;Kt.AnnotationEditorType;Kt.AnnotationEditorUIManager;Kt.AnnotationLayer;Kt.AnnotationMode;Kt.ColorPicker;Kt.DOMSVGFactory;Kt.DrawLayer;Kt.FeatureTest;var nTe=Kt.GlobalWorkerOptions;Kt.ImageKind;Kt.InvalidPDFException;Kt.MissingPDFException;Kt.OPS;Kt.OutputScale;Kt.PDFDataRangeTransport;Kt.PDFDateString;Kt.PDFWorker;Kt.PasswordResponses;Kt.PermissionFlag;Kt.PixelsPerInch;Kt.RenderingCancelledException;Kt.TextLayer;Kt.TouchManager;Kt.UnexpectedResponseException;Kt.Util;Kt.VerbosityLevel;Kt.XfaLayer;Kt.build;Kt.createValidAbsoluteUrl;Kt.fetchData;var rTe=Kt.getDocument;Kt.getFilenameFromUrl;Kt.getPdfFilenameFromUrl;Kt.getXfaPageViewport;Kt.isDataScheme;Kt.isPdfFile;Kt.noContextMenu;Kt.normalizeUnicode;Kt.setLayerDimensions;Kt.shadow;Kt.stopEvent;Kt.version;nTe.workerSrc="/pdf.worker.js";const vk=()=>{const[n,e]=C.useState(!1),t=async a=>{try{const o=await a.arrayBuffer(),l=await rTe({data:o}).promise;let u="";for(let f=1;f<=l.numPages;f++){const y=(await(await l.getPage(f)).getTextContent()).items.map(b=>b.str);u+=y.join(" ")}return u}catch(o){throw console.error("Error reading PDF file:",o),o}},r=async a=>{try{const o=await a.arrayBuffer(),l=Buffer.from(o);return(await nDe.extractRawText({buffer:l})).value}catch(o){throw console.error("Error extracting text:",o),o}},i=async(a,o,l)=>{try{const u=await fetch(`${mr}/summarize`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,description:o,text:l})});if(!u.ok)throw new Error(`Backend API error: ${u.statusText}`);return(await u.json()).summary||""}catch(u){return console.error("Error generating summary:",u),""}};return{readDocFile:r,readPdfFile:t,summarizeFiles:async(a,o,l)=>{var u;e(!0);try{let f="";for(const m of l){const y=(u=m.name.split(".").pop())==null?void 0:u.toLowerCase();let b="";y==="pdf"?b=await t(m):(y==="doc"||y==="docx")&&(b=await r(m)),f+=b+`
`}return await i(a,o,f)}finally{e(!1)}},summarizeText:i,loading:n}},iTe=n=>n.replace(/<script[\s\S]*?>[\s\S]*?<\/script>/gi,""),sTe=async n=>{if(!n)return!0;const{data:e}=await qe.from("user_requests").select("num_generate_story").eq("user_id",n).single();return console.log("data",e),!!(e&&e.num_generate_story>=10)},lee=({formik:n,generatedData:e,setGeneratedData:t,accessToken:r,refreshToken:i,userData:s,readPdfFile:a,readDocFile:o})=>{const l=Fr(),[u,f]=C.useState(!1),p=C.useCallback(async()=>{const w=await n.validateForm();if(w.title||w.shortDescription){n.setTouched({title:!0,shortDescription:!0});return}f(!0);const S={access_token:r,refresh_token:i,user_id:s==null?void 0:s.id,username:s==null?void 0:s.username,story_title:n.values.title,story_description:n.values.shortDescription,story_restriction:n.values.restriction,fandoms:n.values.fandoms,tags:n.values.tags};try{const T=await fetch(`${mr}/generate-story`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!T.ok)throw new Error(`Server returned ${T.status}`);const E=await T.json();t(E)}catch(T){console.error("Error generating story elements:",T),n.setFieldError("storyDescription","Some of your content was flagged by our safety filters. Please adjust your input and try again."),t(null)}finally{f(!1)}},[n,r,i,s,t]),m=C.useCallback(()=>{n.validateForm().then(w=>{if(!w.title&&!w.storyText){f(!0),n.values.shortDescription="";let S=n.values.storyText;(async()=>{var E;try{if(n.values.uploadedFiles.length>0){let O="";for(const M of n.values.uploadedFiles){const P=(E=M.name.split(".").pop())==null?void 0:E.toLowerCase();let H="";P==="pdf"?H=await a(M):(P==="doc"||P==="docx")&&(H=await o(M)),H=iTe(H),O+=H+`
`}S+=O?`
`+O:""}const R={access_token:r,refresh_token:i,user_id:s==null?void 0:s.id,username:s==null?void 0:s.username,story_title:n.values.title,story_text:S,story_restriction:n.values.restriction,fandoms:n.values.fandoms,tags:n.values.tags,story_instructions:n.values.instructions},U=await(await fetch(`${mr}/generate-story`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).json()||{};t(U),f(!1)}catch(R){console.error("Error processing files:",R),f(!1),n.setFieldError("storyText","Some of your content was flagged by our safety filters. Please adjust your input and try again.")}})()}else n.setTouched({title:!0,storyText:!0})})},[n,r,i,s,a,o,t]),y=C.useCallback(async w=>{f(!0);const S=w.shortDescription!==""?w.shortDescription:e==null?void 0:e.storyDescription;try{const T={access_token:r,refresh_token:i,user_id:s==null?void 0:s.id,username:s==null?void 0:s.username,story_title:w.title,story_description:S,story_restriction:w.restriction,story_text:"",selected_characters:w.selectedCharacters.map(U=>e==null?void 0:e.characters.find(O=>O.id===U)),selected_scenes:w.selectedScenes.map(U=>e==null?void 0:e.scenes.find(O=>O.id===U)),fandoms:w.fandoms,tags:w.tags},E=await fetch(`${mr}/publish-story`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(E.status===503||E.status===500){console.error("Service unavailable");return}const N=(await E.json()).story_id;w.uploadedFiles.length>0&&(s!=null&&s.id)&&await qwe(w.uploadedFiles[0],s.id,N),w.cover&&(s!=null&&s.id)&&await oH(w.cover,s.id,N),l(`/story/${N}`)}catch(T){console.error("Error publishing story:",T)}finally{f(!1)}},[r,i,s,e]),b=C.useCallback(w=>{const S=[...n.values.selectedCharacters];S.includes(w)?n.setFieldValue("selectedCharacters",S.filter(T=>T!==w)):n.setFieldValue("selectedCharacters",[...S,w])},[n]),x=C.useCallback(w=>{const S=[...n.values.selectedScenes];S.includes(w)?n.setFieldValue("selectedScenes",S.filter(T=>T!==w)):n.setFieldValue("selectedScenes",[...S,w])},[n]);return{loading:u,handleGenerateStory:p,handleAttachStory:m,handlePublish:y,toggleCharacter:b,toggleScene:x}},cee=({characters:n,selectedCharacters:e,toggleCharacter:t,error:r})=>d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:`text-lg font-medium ${Be}`,children:"Select Personas*"}),d.jsxs("span",{className:`text-sm ${Xe} bg-[hsl(var(--secondary))]/10 px-3 py-1 rounded-full`,children:[e.length," selected"]})]}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:n&&n.map((i,s)=>i.id&&d.jsxs(bt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:s*.1},className:`flex flex-col items-center cursor-pointer p-4 rounded-xl transition-all duration-300
              ${e.includes(i.id)?"bg-[hsl(var(--background-secondary))]/60 ring-2 ring-[hsl(var(--input))] shadow-md":"hover:bg-[hsl(var(--background-secondary))]/50 hover:shadow-sm"}`,onClick:()=>t(i.id),children:[d.jsx("h4",{className:`text-sm font-medium text-center ${Be}`,children:i.name}),d.jsx("p",{className:`text-xs text-center mt-1 ${Xe}`,children:i.shortDescription})]},i.id))}),r&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:r})]}),uee=({scenes:n,addScene:e,selectedScenes:t,toggleScene:r})=>{const[i,s]=C.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h3",{className:`text-lg font-medium ${Be}`,children:"Select Scenes"}),d.jsxs("span",{className:`text-sm ${Xe} bg-[hsl(var(--secondary))]/10 px-3 py-1 rounded-full`,children:[t.length," selected"]})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.map((a,o)=>a.id&&d.jsxs(bt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3+o*.1},className:`p-4 rounded-xl cursor-pointer transition-all duration-300
              ${t.includes(a.id)?"bg-[hsl(var(--background-tertiary))]/60 ring-2 ring-[hsl(var(--text-muted))] shadow-md":"bg-[hsl(var(--background-secondary))]/30 hover:bg-[hsl(var(--background-secondary))]/50 hover:shadow-sm"}`,onClick:()=>r(a.id),children:[d.jsx("h4",{className:`text-base font-medium ${Be}`,children:a.title}),d.jsx("p",{className:`text-sm mt-1 ${Xe}`,children:a.description})]},a.id)),d.jsxs(bt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3+n.length*.1},className:`p-4 rounded-xl flex flex-row items-center justify-center cursor-pointer transition-all duration-300 hover:bg-[hsl(var(--background-tertiary))]/60 ring-1 ring-[hsl(var(--text-muted))]/30 bg-[hsl(var(--background-secondary))]/30 hover:bg-[hsl(var(--background-secondary))]/50 hover:shadow-sm
`,onClick:()=>s(!0),children:[d.jsx(Y1,{className:`h-4 w-4 ${Xe}`})," ",d.jsx("span",{className:`ml-2 ${Xe}`,children:"Add scene"})]})]})]}),d.jsx(aTe,{isOpen:i,onClose:()=>s(!1),addScene:e})]})},aTe=({isOpen:n,onClose:e,addScene:t})=>{const{isMobile:r}=In(),{userData:i}=kt(),[s,a]=C.useState(""),[o,l]=C.useState("");C.useEffect(()=>{n&&(a(""),l(""))},[n]);const u=()=>{if(!s.trim())return;const f={id:crypto.randomUUID(),title:s.trim(),description:o.trim()};t(f),e()};return d.jsx(ao,{open:n,onOpenChange:f=>!f&&e(),children:d.jsxs(Ta,{className:`space-y-4 w-1/2 rounded-lg ${r&&"w-5/6"} ${Pt(i==null?void 0:i.theme)}`,children:[d.jsx(d3,{asChild:!0,children:d.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:"✕"})}),d.jsx(ls,{className:`text-lg font-semibold ${Be}`,children:"Add New Scene"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:`block text-sm font-medium ${Be}`,children:"Scene Title*"}),d.jsx(lr,{value:s,onChange:f=>a(f.target.value),placeholder:"Enter scene title",className:"w-full",maxLength:Zu})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:`block text-sm font-medium ${Be}`,children:"Scene Description"}),d.jsx(io,{value:o,onChange:f=>l(f.target.value),placeholder:"Enter scene description",className:`w-full h-24 ${Xe}`,maxLength:Zu*3})]}),d.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[d.jsx(ct,{variant:"ghost",onClick:e,className:Xe,children:"Cancel"}),d.jsxs(ct,{onClick:u,disabled:!s.trim(),children:[d.jsx(Y1,{className:"mr-1 h-4 w-4"})," Add"]})]})]})})},oTe=({show:n,onClose:e})=>{const{userData:t,accessToken:r,refreshToken:i}=kt(),{readPdfFile:s,readDocFile:a}=vk(),[o,l]=C.useState("prompt"),[u,f]=C.useState(null),p=ne=>{f(le=>({...le,scenes:[...(le==null?void 0:le.scenes)||[],ne],characters:(le==null?void 0:le.characters)||[],storyDescription:(le==null?void 0:le.storyDescription)||""}))},m=Mh({enableReinitialize:!0,initialValues:{cover:null,title:"",shortDescription:"",restriction:Un.TEEN_AND_UP,fandoms:[],tags:[],selectedCharacters:[],selectedScenes:[],uploadedFiles:[],storyText:"",instructions:""},validate:ne=>{const le={};return o==="prompt"&&(ne.title.trim()||(le.title="Title is required"),!ne.shortDescription.trim()&&!u&&(le.shortDescription="Description is required")),o==="characters"&&u&&ne.selectedCharacters.length<1&&(le.selectedCharacters="Please select at least one persoa"),le},validateOnChange:!1,validateOnBlur:!0,onSubmit:ne=>{S(ne)}}),[y,b]=C.useState(null);C.useEffect(()=>{if(m.values.cover){const ne=URL.createObjectURL(m.values.cover);return b(ne),()=>URL.revokeObjectURL(ne)}else b(null)},[m.values.cover]);const{loading:x,handleGenerateStory:w,handlePublish:S,toggleCharacter:T,toggleScene:E}=lee({formik:m,generatedData:u,setGeneratedData:f,accessToken:r,refreshToken:i,userData:t,readPdfFile:s,readDocFile:a}),R=async()=>{try{await w(),l("characters")}catch(ne){console.error("Error generating story:",ne)}},N=()=>{l("prompt"),f(null),m.resetForm(),b(null)},U=()=>{e(),setTimeout(()=>N(),200)},O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07}},exit:{opacity:0,transition:{staggerChildren:.05,staggerDirection:-1}}},M={hidden:{y:20,opacity:0},visible:{y:0,opacity:1},exit:{y:-20,opacity:0}},P=[{key:"prompt",label:"Story",icon:d.jsx(jI,{className:"h-4 w-4"})},{key:"characters",label:"Persoas",icon:d.jsx(fP,{className:"h-4 w-4"})},{key:"scenes",label:"Scenes",icon:d.jsx(UI,{className:"h-4 w-4"})},{key:"details",label:"Publish",icon:d.jsx(OI,{className:"h-4 w-4"})}],H=()=>{o==="characters"?l("prompt"):o==="scenes"?l("characters"):o==="details"&&l("scenes")},X=()=>{m.validateForm().then(ne=>{o==="prompt"&&!ne.shortDescription&&!ne.title?u?l("characters"):R():o==="characters"&&!ne.selectedCharacters?l("scenes"):o==="scenes"&&l("details")})},I=ne=>{ne.preventDefault(),m.handleSubmit()},q=()=>{switch(o){case"prompt":return"Create Your Story";case"characters":return"Select Characters";case"scenes":return"Choose Story Scenes";case"details":return"Story Details & Publish";default:return""}},L=()=>d.jsx(Fg,{mode:"wait",children:d.jsxs(bt.div,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:"py-2",children:[d.jsxs(bt.div,{variants:M,className:`rounded-2xl p-6 mb-6 ${Cr}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(jI,{className:"text-[hsl(var(--button-logo-orange))] h-5 w-5"}),d.jsx("h3",{className:`text-lg font-medium ${it}`,children:"Set the Stage"})]}),d.jsx("p",{className:`text-sm ${Xe}`,children:"Give your story a title and describe your ideas in detail. Who are the characters? What's the plot? What's the setting?"})]}),d.jsxs(bt.div,{variants:M,className:"grid grid-cols-1 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${it}`,children:"Title"}),d.jsx(lr,{id:"title",name:"title",type:"text",placeholder:"The Chronicles of...",onChange:m.handleChange,value:m.values.title,maxLength:$o,className:"w-full border border-input rounded-lg p-2 focus:outline-none bg-[hsl(var(--background))]/50"}),d.jsxs("div",{className:`text-xs text-right mt-1 ${Xe}`,children:[m.values.title.length,"/",$o]}),m.errors.title&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:m.errors.title})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${it}`,children:"Description"}),d.jsx(io,{id:"shortDescription",name:"shortDescription",placeholder:"Once upon a time in a distant galaxy, two unlikely heroes crossed paths...",onChange:m.handleChange,value:m.values.shortDescription,maxLength:1e5,className:`w-full h-48 border border-input rounded-lg p-3 bg-[hsl(var(--background))]/50 focus:outline-none resize-none ${Be}`}),d.jsxs("div",{className:`text-xs text-right mt-1 ${Xe}`,children:[m.values.shortDescription.length,"/",1e5]}),m.errors.shortDescription&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:m.errors.shortDescription})]})]})]},"prompt-step")}),te=()=>{var ne;return d.jsx(Fg,{mode:"wait",children:d.jsxs(bt.div,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:"py-2",children:[d.jsxs(bt.div,{variants:M,className:`rounded-2xl p-6 mb-6 ${Yr}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(fP,{className:"text-[hsl(var(--button-logo-orange))] h-5 w-5"}),d.jsx("h3",{className:`text-lg font-medium ${it}`,children:"Choose Your Characters"})]}),d.jsx("p",{className:`text-sm ${Xe}`,children:"Select at least two characters who will appear in your story. These characters will drive the narrative."})]}),u&&d.jsx(cee,{characters:u.characters,selectedCharacters:m.values.selectedCharacters,toggleCharacter:T,error:(ne=m.errors.selectedCharacters)==null?void 0:ne[0]})]},"characters-step")})},B=()=>d.jsx(Fg,{mode:"wait",children:d.jsxs(bt.div,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:"py-2",children:[d.jsxs(bt.div,{variants:M,className:`rounded-2xl p-6 mb-6 ${Yr}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(UI,{className:"text-[hsl(var(--button-logo-orange))] h-5 w-5"}),d.jsx("h3",{className:`text-lg font-medium ${it}`,children:"Set the Scene"})]}),d.jsx("p",{className:`text-sm ${Xe}`,children:"Select scenes that will serve as backdrops for your story. These scenes will create the atmosphere for your narrative."})]}),u&&d.jsx(uee,{scenes:u.scenes,addScene:p,selectedScenes:m.values.selectedScenes,toggleScene:E})]},"scenes-step")}),W=()=>d.jsx(Fg,{mode:"wait",children:d.jsxs(bt.div,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:"py-2",children:[d.jsxs(bt.div,{variants:M,className:`rounded-2xl p-6 mb-6 ${sae}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(OI,{className:"text-[hsl(var(--button-logo-orange))] h-5 w-5"}),d.jsx("h3",{className:`text-lg font-medium ${it}`,children:"Customize & Publish Your Story"})]}),d.jsx("p",{className:`text-sm ${Xe}`,children:"Add final details like a cover image, content restrictions, and tags before publishing your story."})]}),d.jsxs(bt.div,{variants:M,className:"flex flex-col md:flex-row gap-6 mb-8",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx(H8,{coverURL:y??void 0,onCoverChange:ne=>m.setFieldValue("cover",ne),className:"mx-auto md:mx-0 aspect-square object-cover w-full max-w-[240px] h-auto"})}),d.jsxs("div",{className:"flex-1 min-w-[200px] space-y-5",children:[d.jsxs("div",{children:[d.jsx(Er,{labelText:"Restriction",infoText:"Content intended for Teen and up will remove explicit violence, profanity, and similar elements."}),d.jsxs(Rl,{name:"restriction",value:m.values.restriction,onValueChange:ne=>m.setFieldValue("restriction",ne),children:[d.jsx(kl,{className:`w-full h-10 mt-1 border border-input ${Xe} cursor-pointer bg-transparent`,children:d.jsx(jl,{placeholder:"None"})}),d.jsx(Ho,{className:Pt(t==null?void 0:t.theme),children:d.jsxs(fv,{children:[d.jsx(Mr,{value:"teen",children:"Teen and up"}),!jc(t==null?void 0:t.dateOfBirth)&&d.jsx(Mr,{value:"mature",children:"Mature"})]})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${it}`,children:"Fandom(s)"}),d.jsx(HA,{selectedFandoms:m.values.fandoms,onChange:ne=>m.setFieldValue("fandoms",ne),transparentBackground:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-2 ${it}`,children:"Tags"}),d.jsx(GA,{selectedTags:m.values.tags,onChange:ne=>m.setFieldValue("tags",ne),transparentBackground:!0})]})]})]}),d.jsxs(bt.div,{variants:M,className:"bg-gradient-to-r from-pink-100/20 to-purple-100/20 dark:from-pink-900/20 dark:to-purple-900/20 rounded-2xl p-6 mb-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(Xie,{className:"text-[hsl(var(--button-logo-orange))] h-5 w-5"}),d.jsx("h3",{className:`text-lg font-medium ${it}`,children:"Ready to Publish"})]}),d.jsx("p",{className:`text-sm ${Xe}`,children:"Review your story details before publishing to the world!"})]}),d.jsxs(bt.div,{variants:M,className:"flex flex-col items-center justify-center space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:`text-2xl font-bold mb-2 ${it}`,children:m.values.title}),d.jsxs("p",{className:`mb-4 max-w-lg ${Xe}`,children:[u==null?void 0:u.storyDescription.split(" ").slice(0,30).join(" "),"..."]})]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-2 max-w-md",children:[m.values.fandoms.map(ne=>d.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs ${Xe} bg-[hsl(var(--background-tertiary))]`,children:ne},ne)),m.values.tags.map(ne=>d.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs ${Xe} bg-[hsl(var(--background-tertiary))]`,children:ne},ne))]}),d.jsx("div",{className:"pt-4",children:d.jsx(ct,{onClick:I,disabled:x,className:`px-10 py-3 rounded-full text-base font-medium shadow-md ${ti} ${ni} ${ri} hover:scale-105 transition-all`,children:x?d.jsxs("div",{className:"flex items-center",children:[d.jsx(yr,{className:"animate-spin h-5 w-5 mr-2"}),d.jsx("span",{children:"Publishing..."})]}):"Publish Story"})})]})]},"details-step")}),se=()=>d.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative flex flex-col items-center justify-center h-[350px]",children:[d.jsx("div",{className:"absolute inset-0 opacity-10 bg-gradient-to-b from-[hsl(var(--button-logo-orange))]/10 to-transparent rounded-xl"}),d.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 z-10",children:[d.jsxs("div",{className:"relative",children:[d.jsx(bt.div,{className:"w-20 h-20 rounded-full border-4 border-[hsl(var(--button-logo-orange))]/20",initial:{opacity:0},animate:{opacity:1}}),d.jsx(bt.div,{className:"absolute top-0 left-0 w-20 h-20 rounded-full border-4 border-transparent border-t-[hsl(var(--button-logo-orange))]",animate:{rotate:360},transition:{duration:1.5,ease:"linear",repeat:1/0}})]}),d.jsx(bt.p,{className:`text-lg font-medium ${it}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:o==="prompt"?"Creating your story universe...":"Processing your story..."}),d.jsxs(bt.p,{className:`text-sm max-w-xs text-center ${Xe}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:["Crafting characters and scenes based on",d.jsx("br",{}),'"',m.values.title||"your description",'"']})]})]},"loading-content"),K=()=>{if(x)return se();switch(o){case"prompt":return L();case"characters":return te();case"scenes":return B();case"details":return W();default:return null}},G=()=>{switch(o){case"prompt":return!!m.values.title.trim()&&(!!m.values.shortDescription.trim()||!!u);case"characters":return u&&m.values.selectedCharacters.length>=2;case"scenes":return!0;default:return!1}},Y=P.findIndex(ne=>ne.key===o);return n?d.jsx(ao,{open:n,onOpenChange:U,children:d.jsxs(Ta,{className:`max-w-4xl rounded-xl border-none focus:outline-none ${Pt(t==null?void 0:t.theme)} ${Zt} flex flex-col max-h-[95vh] overflow-hidden`,children:[d.jsx(Kp,{className:"mb-1 flex-shrink-0 px-6 pt-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ls,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Pj,{className:"text-[hsl(var(--button-logo-orange))] h-5 w-5"}),d.jsx("span",{className:it,children:q()})]}),d.jsx("button",{onClick:U,className:"rounded-full p-1.5 hover:bg-[hsl(var(--background-tertiary))] transition-colors","aria-label":"Close dialog",children:d.jsx(Go,{className:`h-5 w-5 ${Be}`})})]})}),d.jsx("div",{className:"flex justify-between px-6 mb-4 flex-shrink-0",children:d.jsx("div",{className:"w-full flex items-center",children:P.map((ne,le)=>d.jsxs("div",{className:"flex items-center flex-1",children:[d.jsxs("div",{className:`flex flex-col items-center justify-center ${le<=Y?"text-[hsl(var(--button-logo-orange))]":Xe}`,children:[d.jsx("div",{className:`
                    w-10 h-10 rounded-full flex items-center justify-center z-10
                    ${le<=Y?"bg-gradient-to-br from-[hsl(var(--button-logo-orange))] to-[hsl(var(--button-logo-orange-dark))] shadow-lg":"bg-[hsl(var(--background-tertiary))]"}
                  `,children:ne.icon}),d.jsx("span",{className:`text-xs mt-1 ${le===Y?it:""}`,children:ne.label})]}),le<P.length-1&&d.jsx("div",{className:`h-[2px] w-full ${le<Y?"bg-[hsl(var(--button-logo-orange))]":"bg-[hsl(var(--input))]"}`})]},ne.key))})}),d.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-4",children:K()}),d.jsxs(q4,{className:"flex flex-row justify-between items-center px-6 py-4 border-t border-[hsl(var(--border))] flex-shrink-0 sticky bottom-0 bg-[hsl(var(--background-secondary))]",children:[d.jsx("div",{children:o!=="prompt"&&d.jsxs(ct,{onClick:H,className:`py-2 px-4 rounded-full bg-transparent border border-[hsl(var(--input))] ${Be} hover:bg-[hsl(var(--background-tertiary))]/50 transition-all`,children:[d.jsx(Gz,{className:"mr-1 h-4 w-4"})," Back"]})}),d.jsx("div",{children:o!=="details"?d.jsx(ct,{onClick:X,disabled:!G(),className:`py-2 px-5 rounded-full ${ti} ${ni} ${ri} shadow-md hover:scale-105 transition-all`,children:o==="prompt"&&!u?"Generate Story":"Continue"}):d.jsx(ct,{onClick:I,disabled:x,className:`py-2 px-5 rounded-full ${ti} ${ni} ${ri} shadow-md hover:scale-105 transition-all`,children:x?d.jsxs("div",{className:"flex items-center",children:[d.jsx(yr,{className:"animate-spin h-5 w-5 mr-2"}),d.jsx("span",{children:"Publishing..."})]}):"Publish Story"})})]})]})}):null},lTe=C.forwardRef(()=>{const[n,e]=C.useState(!1),{user:t,userData:r}=kt(),i=Fr(),s=()=>{if(!t||!r){i("/login");return}e(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs(ct,{onClick:s,className:`px-4 py-2 rounded-full flex items-center gap-2 ${ti} ${ni} ${ri} shadow-md hover:shadow-lg transition-all hover:scale-105 duration-300 relative overflow-hidden group px-4 py-2 ml-3 rounded-full px-3`,children:[d.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/20 to-orange-500/20 group-hover:opacity-60 opacity-0 transition-opacity duration-300"}),d.jsxs("span",{className:"flex items-center gap-1.5 z-10",children:[d.jsx(Pj,{className:"h-3.5 w-3.5"}),d.jsx("span",{className:"font-medium",children:"Create Story"})]})]}),d.jsx(oTe,{show:n,onClose:()=>e(!1)})]})}),cTe=()=>{const{userData:n}=kt(),[e,t]=C.useState(0),[r,i]=C.useState(1),[s,a]=C.useState(!1),o=Pt(n==null?void 0:n.theme);return C.useEffect(()=>{const l=setInterval(()=>{a(!0),i((e+1)%wi.length),setTimeout(()=>{t((e+1)%wi.length),a(!1)},1e3)},5e3);return()=>clearInterval(l)},[e,wi.length]),d.jsxs("section",{className:"relative mb-8 rounded-xl border p-6 md:p-12 overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url(${wi[e]})`,opacity:s?0:1}}),d.jsx("div",{className:"absolute inset-0 bg-center bg-cover ",style:{backgroundImage:`url(${wi[r]})`,opacity:s?1:0}}),d.jsx("div",{className:"absolute inset-0",style:{backgroundColor:o==="light"?"white":"black",opacity:.85}}),d.jsxs("div",{className:"relative z-10 max-w-full font-sans",children:[d.jsx("h1",{className:`mb-2 text-3xl font-bold ${it}`,children:"Peak Fiction Awaits"}),d.jsx("p",{className:`mb-8 ${it}`,children:"Create and share interactive fanfiction that brings your fandom to life."}),d.jsxs("div",{className:"flex",children:[d.jsx(ui,{to:"/character/new",children:d.jsxs(ct,{variant:"default",className:"px-4 py-2 rounded-full px-3",children:[d.jsx(_se,{className:"h-3 w-3"}),"Create a Persoa"]})}),d.jsx(lTe,{})]})]})]})},uTe=()=>{const[n,e]=C.useState(!1),t=Fr(),r=C.useRef(null);return C.useEffect(()=>{const i=s=>{r.current&&!r.current.contains(s.target)&&e(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]),d.jsxs("div",{className:"fixed bottom-4 right-4 z-50",ref:r,children:[d.jsx("button",{onClick:()=>e(!n),className:`h-5 w-5 rounded-full ${_t}`,children:d.jsx(oie,{className:`h-5 w-5 ${it}`})}),n&&d.jsxs("div",{className:`absolute bottom-full mb-2 right-0 w-48 border border-[hsl(var(--background-tertiary))] rounded-md shadow-lg ${Zt}`,children:[d.jsxs("button",{onClick:()=>{t("/tos"),e(!1)},className:`flex items-center w-full px-4 py-2 text-left ${wn}`,children:["Terms of Service",d.jsx(WU,{className:"ml-auto",size:16})]}),d.jsxs("button",{onClick:()=>{t("/privacy"),e(!1)},className:`flex items-center w-full px-4 py-2 text-left ${wn}`,children:["Privacy Policy",d.jsx(WU,{className:"ml-auto",size:16})]}),d.jsxs("button",{onClick:()=>{t("/help"),e(!1)},className:`flex items-center w-full px-4 py-2 text-left ${wn}`,children:["Support",d.jsx(WU,{className:"ml-auto",size:16})]})]})]})},Lv=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:ft("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));Lv.displayName="Card";const cw=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:ft("flex flex-col space-y-1.5 p-6",n),...e}));cw.displayName="CardHeader";const uw=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:ft("text-2xl font-semibold leading-none tracking-tight",n),...e}));uw.displayName="CardTitle";const eT=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:ft("text-sm text-muted-foreground",n),...e}));eT.displayName="CardDescription";const tT=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:ft("p-6 pt-0",n),...e}));tT.displayName="CardContent";const dTe=C.forwardRef(({className:n,...e},t)=>d.jsx("div",{ref:t,className:ft("flex items-center p-6 pt-0",n),...e}));dTe.displayName="CardFooter";const ba=({imageHeight:n="h-32",width:e})=>{const t=n==="h-48";return d.jsx(bt.div,{children:d.jsx(Lv,{className:`shadow-md border-none rounded-xl p-4 ${e} ${Yr} relative`,children:d.jsxs("div",{className:"flex flex-row sm:flex-row items-start",children:[d.jsx("div",{className:`flex-none ${n} w-28 rounded-lg mr-4 animate-pulse ${$t}`}),d.jsxs("div",{className:"flex flex-col justify-between flex-1 w-full",children:[d.jsx(cw,{className:`p-0 ${it}`,children:d.jsxs(uw,{className:"text-left text-md",children:[d.jsx("div",{className:`h-6 ${$t} rounded-md w-3/4 animate-pulse mb-2`}),d.jsx("div",{className:`h-3 ${$t} rounded-md w-1/4 animate-pulse mb-4`}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:`h-3 ${$t} rounded-md w-full animate-pulse`}),d.jsx("div",{className:`h-3 ${$t} rounded-md w-5/6 animate-pulse`}),t&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`h-3 ${$t} rounded-md w-full animate-pulse`}),d.jsx("div",{className:`h-3 ${$t} rounded-md w-4/5 animate-pulse`}),d.jsx("div",{className:`h-3 ${$t} rounded-md w-3/4 animate-pulse`})]})]})]})}),d.jsx(tT,{className:"p-0",children:t?d.jsx("div",{className:"flex justify-end mt-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`h-3 w-10 ${$t} rounded-md animate-pulse`}),d.jsx("div",{className:`h-3 w-10 ${$t} rounded-md animate-pulse`})]})}):d.jsx("div",{className:"flex justify-end mt-6",children:d.jsx("div",{className:`h-3 w-10 ${$t} rounded-md animate-pulse`})})})]})]})})})},dee=C.forwardRef(({className:n,children:e,viewportRef:t,...r},i)=>d.jsxs(D3,{ref:i,className:ft("relative overflow-hidden",n),...r,children:[d.jsx(ZX,{ref:t,className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(w3,{orientation:"horizontal",className:ft("flex touch-none select-none transition-opacity duration-300","opacity-0 pointer-events-none"),children:d.jsx(C8,{className:"relative flex-1 rounded-full bg-border"})}),d.jsx(QX,{})]}));dee.displayName=D3.displayName;const Og=({children:n})=>{const e=C.useRef(null),[t,r]=C.useState(!1),[i,s]=C.useState(!1),[a,o]=C.useState(!1),{isMobile:l}=In(),u=()=>{if(!e.current)return;const{scrollLeft:m,scrollWidth:y,clientWidth:b}=e.current;r(m>0),s(m+b<y-1)};C.useEffect(()=>{u()},[n]),C.useEffect(()=>{const m=e.current;if(m)return m.addEventListener("scroll",u),u(),()=>m.removeEventListener("scroll",u)},[e]);const f=()=>{e.current&&e.current.scrollBy({left:-324,behavior:"smooth"})},p=()=>{e.current&&e.current.scrollBy({left:324,behavior:"smooth"})};return d.jsxs("div",{className:"relative w-full",onMouseOver:()=>o(!0),onMouseOut:()=>o(!1),children:[!l&&t&&d.jsx("div",{className:`pointer-events-none absolute top-0 left-0 z-10 h-full w-8 bg-gradient-to-r from-[hsl(var(--background-light))] 
          to-transparent`}),!l&&i&&d.jsx("div",{className:"pointer-events-none absolute top-0 right-0 z-10 h-full w-8 bg-gradient-to-l from-[hsl(var(--background-light))] to-transparent"}),d.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 left-2 z-20",children:t&&a&&d.jsxs(ct,{className:`flex items-center justify-center h-8 w-8 ${_t} ${LI} rounded-full shadow-md`,onClick:f,"aria-label":"Scroll Left",children:[d.jsx(Oj,{className:Xe,size:20})," "]})}),d.jsx("div",{className:"absolute top-1/2 transform -translate-y-1/2 right-2 z-20",children:i&&a&&d.jsx(ct,{className:`flex items-center justify-center h-8 w-8 rounded-full shadow-md ${_t} ${LI}`,onClick:p,"aria-label":"Scroll Right",children:d.jsx(e4,{className:Xe,size:20})})}),d.jsx(dee,{className:"w-full overflow-x-auto",viewportRef:e,onWheel:m=>m.stopPropagation(),children:d.jsx("div",{className:"flex space-x-2",children:n})})]})},hTe=xA("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"},size:{small:"text-xxs px-2",medium:"text-sm px-3 py-1.5",large:"text-base px-4 py-2"}},defaultVariants:{variant:"default",size:"small"}});function GL({className:n,variant:e,...t}){return d.jsx("div",{className:ft(hTe({variant:e}),n),...t})}const B1=()=>d.jsx(R4,{children:d.jsxs(j4,{delayDuration:200,children:[d.jsx(k4,{children:d.jsx(GL,{variant:"default",className:"text-[8px] w-[13px] px-0.5 py-0 text-white bg-[#7d1045] hover:bg-[#590c31] rounded-sm mb-2",children:"M"})}),d.jsx(yh,{side:"bottom",className:`${Zt} text-xs`,children:"May contain explicit, vulgar, or mature content."})]})}),rv=({name:n,imagePath:e,userName:t,onClick:r,isPublic:i,isMature:s,likeCount:a=0,chatCount:o=0,description:l=""})=>d.jsx(Lv,{onClick:r,className:`shadow-none cursor-pointer order-none w-full rounded-xl p-4 overflow-hidden bg-[hsl(var(--background-secondary))] hover:bg-[hsl(var(--card))] border border-[hsl(var(--input))]
      relative`,children:d.jsxs("div",{className:"flex flex-row sm:flex-row items-start",children:[d.jsx("div",{className:`flex-none h-32 w-28 ${Cr} rounded-lg overflow-hidden mr-4`,children:e&&d.jsx("img",{src:e,alt:n,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"flex flex-col justify-between flex-1 hover:text-zinc-800",children:[d.jsxs(cw,{className:`p-0 ${it}`,children:[d.jsx(uw,{className:"text-md justify-between items-center max-h-5",children:d.jsxs("span",{className:"inline-flex items-center gap-2",children:[n,i!==void 0&&!i&&d.jsx(uP,{className:"h-4 w-4 text-[hsl(var(--text-muted))]"}),d.jsx("span",{children:s&&d.jsx(B1,{})})]})}),d.jsxs("p",{className:`text-[11px] ${Be}`,children:["By @",t]}),d.jsx(eT,{className:`text-left text-[12px] mt-2 mb-2 ${Xe} min-h-[48px] line-clamp-3 overflow-hidden`,children:l||" "})]}),d.jsx(tT,{className:"p-0",children:d.jsxs("div",{className:"flex justify-end items-center mt-2",children:[d.jsx(eq,{className:"h-3.5 w-3.5 text-[hsl(var(--text-muted))]"}),d.jsx("span",{className:"text-[hsl(var(--text-muted))] text-[12px] ml-1",children:Or(o)}),d.jsx(n4,{className:"h-3.5 w-3.5 ml-2 text-[hsl(var(--text-muted))]"}),d.jsx("span",{className:"text-[hsl(var(--text-muted))] text-[12px] ml-1",children:Or(a)})]})})]})]})}),nT=()=>d.jsx(GL,{variant:"default",className:`text-[10px] m-1 px-2 py-0 ${it} ${Cr} ${wn} rounded-full`,children:"persoa.ai"}),fTe=({name:n,imagePath:e,description:t="",userName:r,onClick:i,isMature:s})=>{const a=r==="persoa";return d.jsx(Lv,{onClick:i,className:`shadow-none border-none cursor-pointer w-full h-60 rounded-xl p-4 overflow-hidden ${Zt} ${wn} relative`,children:d.jsxs("div",{className:"flex flex-row items-start",children:[d.jsx("div",{className:`flex-none h-48 w-28 ${$t} rounded-lg overflow-hidden mr-4`,children:e&&d.jsx("img",{src:e,alt:n,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"flex flex-col justify-between flex-1 hover:text-zinc-800",children:[d.jsxs(cw,{className:`p-0 ${it}`,children:[d.jsxs(uw,{className:"text-left text-md justify-center",children:[n,d.jsx("span",{className:"ml-2",children:s&&d.jsx(B1,{})})]}),a?d.jsx("span",{className:"mt-1 text-[10px]",children:d.jsx(nT,{})}):d.jsxs("p",{className:`text-[11px] ${Be}`,children:["By ",r?`@${r}`:"by Anonymous"]}),d.jsx(eT,{className:`text-left text-[11px] mt-2 mb-2 ${it} min-h-[100px] line-clamp-7 overflow-hidden`,children:t||" "})]}),d.jsx(tT,{className:"p-0",children:d.jsx("div",{className:"flex",children:d.jsx("span",{className:`${Xe} text-md mt-4 mr-4 ml-auto`,children:"Chat..."})})})]})]})})},W1=n=>({id:n.id,userId:n.user_id??void 0,characterIds:n.character_ids,createdAt:n.created_at,updatedAt:n.updated_at,name:n.name,personaId:n.persona_id,storyPersonaId:n.story_persona_id,responseLength:n.response_length}),hee=n=>{const e={};return n.userId!==void 0&&(e.user_id=n.userId),n.characterIds!==void 0&&(e.character_ids=n.characterIds),n.storyPersonaId&&(e.story_persona_id=n.storyPersonaId),n.personaId&&(e.persona_id=n.personaId||null),n.responseLength&&(e.response_length=n.responseLength||"short"),e.name=n.name,n.sceneId&&(e.scene_id=n.sceneId),n.sceneUserId&&(e.scene_user_id=n.sceneUserId),e},pTe=n=>({id:n.id,chatId:n.chat_id,memory:n.memory,createdAt:n.created_at,characterId:n.character_id}),XL=async n=>{const e={...hee(n)},{data:t,error:r}=await qe.from("group_chats").insert(e).select();if(await Promise.all(n.characterIds.map(i=>rY(i))),r)throw r;return W1(t[0])},mTe=async n=>{const{data:e,error:t}=await qe.from("group_chats").select("*").eq("id",n).single();return t?null:W1(e)},bk=async(n,e)=>{const t={...hee(e),updated_at:new Date().toISOString()},{data:r,error:i}=await qe.from("group_chats").update(t).eq("id",n).select();if(i)throw i;return r&&r.length>0?W1(r[0]):null},gTe=async n=>{const{data:e,error:t}=await qe.from("group_chats").delete().eq("id",n).select();if(t)throw t;return e},yTe=async n=>{const{data:e,error:t}=await qe.from("group_chats").select("*").eq("user_id",n).order("updated_at",{ascending:!1});if(t)throw t;return e.map(W1)},CW=async(n,e={})=>{const{limit:t=50,before:r}=e;let i=qe.from("group_chat_messages").select("*").eq("chat_id",n).order("created_at",{ascending:!1}).limit(t);r&&(i=i.lt("created_at",r));const{data:s,error:a}=await i;if(a)throw a;return s.sort((l,u)=>new Date(l.created_at).getTime()-new Date(u.created_at).getTime()).map(l=>({id:l.id,chatId:l.chat_id,userId:l.user_id,characterId:l.character_id,content:l.content,createdAt:l.created_at,updatedAt:l.updated_at,isNarrator:l.is_narrator,sceneId:l.scene_id,sceneUserId:l.scene_user_id}))},TF=async n=>{const e={chat_id:n.chatId,user_id:n.userId,character_id:n.characterId||null,content:n.content,is_narrator:n.isNarrator,scene_id:n.sceneId,scene_user_id:n.sceneUserId},{error:t}=await qe.from("group_chat_messages").insert(e);if(t)throw t;await bk(n.chatId,{})},vTe=async(n,e)=>{const{data:t,error:r}=await qe.from("group_chat_messages").delete().eq("id",e).eq("chat_id",n).select();if(r)throw r;return t},fee=async(n,e,t)=>{const r={};t.content!==void 0&&(r.content=t.content);const{data:i,error:s}=await qe.from("group_chat_messages").update(r).eq("id",e).eq("chat_id",n).select();if(s)throw s;return i[0]},bTe=async n=>{const{data:e,error:t}=await qe.from("gc_core_memories").select("*").eq("chat_id",n);return t?[]:e.map(pTe)},xTe=({characters:n})=>{const{user:e,userData:t}=kt(),{isMobile:r}=In(),i=Fr(),s=`${n[0].name} & ${n[1].name}`,a=async()=>{e!=null&&e.id||i("/login");try{const o=n.map(u=>u.id),l=await XL({userId:e==null?void 0:e.id,name:s,characterIds:o,responseLength:(t==null?void 0:t.plan)!=="free"?"moderate":"short"});i(`/groupchat/${l.id}`)}catch(o){throw o}};return d.jsx(Lv,{className:`shadow-none border-none w-full rounded-xl p-4 overflow-hidden ${Zt} relative`,children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"relative w-[264px]",children:[d.jsxs(An,{className:`${r?"w-24 h-24 left-[50px]":"w-36 h-36"} rounded-full border-[1px] border-[hsl(var(--border))]`,children:[d.jsx(Mn,{className:"object-cover",src:n[0].photo,alt:n[0].name}),d.jsx(Bn,{className:`${Yr} text-5xl`,children:n[0].name.charAt(0)})]}),d.jsxs(An,{className:`${r?"w-24 h-24":"w-36 h-36"} absolute top-0 left-[120px] border-[1px] border-[hsl(var(--border))]`,children:[d.jsx(Mn,{className:"object-cover",src:n[1].photo,alt:n[1].name}),d.jsx(Bn,{className:`${Yr} text-5xl`,children:n[1].name.charAt(0)})]})]}),d.jsx("div",{className:"mt-4 min-h-[48px] flex items-center justify-center",children:d.jsx("p",{className:`text-md text-center font-semibold ${it}`,children:s})}),d.jsx("div",{className:"mt-6 w-full flex justify-end",children:d.jsxs(ct,{className:`${Zt} ${wn} ${Be} hover:text-[hsl(var(--text-dark))] border border-[hsl(var(--border))]`,onClick:a,children:[d.jsx(_A,{className:"mr-1"}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{children:"Enter group chat"})})]})})]})})},pee=n=>n.trim().toLowerCase(),YL=async(n,e=30,t=!1)=>{const r=pee(n),i=`%${r}%`;let s=new Set;if(r){const p=await qe.from("character_tags").select("character_id").ilike("tag_name",i);if(p.error)throw p.error;p.data.forEach(y=>s.add(y.character_id));const m=await qe.from("character_fandoms").select("character_id").ilike("fandom_name",i);if(m.error)throw m.error;m.data.forEach(y=>s.add(y.character_id))}let a=qe.from("characters").select("*").eq("is_public",!0);if(t&&(a=a.eq("restriction","teen")),r){const p=[`name.ilike.${i}`,`short_description.ilike.${i}`,`username.ilike.${i}`];s.size>0&&p.push(`id.in.(${[...s].join(",")})`),a=a.or(p.join(","))}a=a.limit(e);const{data:o,error:l}=await a;if(l)throw l;let u=o.map(IA);return u=u.map(p=>{let m=0;const y=p.name.toLowerCase();return r&&(y===r?m=2:y.includes(r)&&(m=1)),{...p,match_score:m}}),u.sort((p,m)=>m.chatCount!==p.chatCount?m.chatCount-p.chatCount:m.likeCount!==p.likeCount?m.likeCount-p.likeCount:0),await Promise.all(u.map(async p=>({...p,photo:p.userId?await Pl(p.userId,p.id)??void 0:void 0})))},wTe=async(n,e=30,t=!1)=>{const r=pee(n),i=`%${r}%`;let s=new Set;if(r){const p=await qe.from("story_tags").select("story_id").ilike("tag_name",i);if(p.error)throw p.error;p.data.forEach(y=>s.add(y.story_id));const m=await qe.from("story_fandoms").select("story_id").ilike("fandom_name",i);if(m.error)throw m.error;m.data.forEach(y=>s.add(y.story_id))}let a=qe.from("stories").select("*");if(t&&(a=a.eq("restriction","teen")),r){const p=[`title.ilike.${i}`,`description.ilike.${i}`];s.size>0&&p.push(`id.in.(${[...s].join(",")})`),a=a.or(p.join(","))}a=a.limit(e);const{data:o,error:l}=await a;if(l)throw l;let u=o.map(Bp);return u=u.map(p=>{let m=0;const y=p.title.toLowerCase();return r&&(y===r?m=2:y.includes(r)&&(m=1)),{...p,match_score:m}}),u.sort((p,m)=>m.match_score!==p.match_score?m.match_score-p.match_score:m.viewCount!==p.viewCount?m.viewCount-p.viewCount:m.likeCount!==p.likeCount?m.likeCount-p.likeCount:0),await Promise.all(u.map(async p=>await IY(p.id)))},rT=()=>d.jsx("footer",{className:`${_t} ${Xe} py-4 pr-8 mt-8`,children:d.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center",children:[d.jsxs("div",{className:"flex flex-col items-center md:items-start mb-4 md:mb-0",children:[d.jsx(A3,{}),d.jsxs("span",{className:"text-sm mt-2",children:["© ",new Date().getFullYear()," persoa.ai. All rights reserved."]}),d.jsx("span",{className:"text-sm mt-2",children:"team@persoa.ai"})]}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx(ui,{to:"/help",className:"text-sm hover:underline",children:"Support"}),d.jsx(ui,{to:"/tos",className:"text-sm hover:underline",children:"Terms of Service"}),d.jsx(ui,{to:"/privacy",className:"text-sm hover:underline",children:"Privacy Policy"}),d.jsx(ui,{to:"https://www.reddit.com/r/persoaAI/",className:"text-sm hover:underline",children:"Reddit"}),d.jsx(ui,{to:"https://discord.gg/7QYHdvtVaU",className:"text-sm hover:underline",children:"Discord"}),d.jsx(ui,{to:"https://x.com/persoaai",className:"text-sm hover:underline",children:"X"})]})]})}),a0=({name:n,imagePath:e,description:t="",userName:r,onClick:i,numCharacters:s,likeCount:a=0,viewCount:o=0,isMature:l})=>d.jsx(bt.div,{whileHover:{scale:1.02,transition:{duration:.2}},children:d.jsx(Lv,{onClick:i,className:`cursor-pointer w-full rounded-xl p-5 overflow-hidden h-60 ${Zt} ${wn} border border-[hsl(var(--input))] transition-all duration-300`,children:d.jsxs("div",{className:"flex flex-row items-start gap-4",children:[d.jsx(bt.div,{whileHover:{scale:1.05,transition:{duration:.2}},className:`flex-none h-[198px] w-28 ${Cr} rounded-tl-none rounded-bl-none rounded-tr-lg rounded-br-lg overflow-hidden`,children:e?d.jsx("img",{src:e,alt:n,className:"h-full w-full object-cover transition-transform duration-500"}):d.jsx("div",{className:"h-full w-full flex items-center justify-center text-[hsl(var(--background-tertiary))]",children:d.jsx("span",{className:"text-4xl",children:"✦"})})}),d.jsxs("div",{className:"flex flex-col justify-between flex-1",children:[d.jsxs(cw,{className:"p-0 h-[175px]",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsx(uw,{className:`text-left flex text-md font-semibold max-h-8 max-w-[200px] ${it} ${n.length>25?"mb-2":""}`,children:d.jsxs("span",{className:"inline-flex items-center gap-2",children:[n,l&&d.jsx(B1,{})]})})}),d.jsxs("div",{className:"flex items-center mt-1",children:[d.jsxs("p",{className:`text-xs mr-3 ${Xe}/90`,children:[s," Persoas"]}),r&&d.jsxs("p",{className:`text-xs ${Xe}/90`,children:["By"," ",d.jsxs("span",{className:`${Xe}/90`,children:["@",r]})]})]}),d.jsx(bt.div,{initial:{opacity:.8},whileHover:{opacity:1},className:"mt-3 mb-2",children:d.jsx(eT,{className:`text-left text-sm ${Be} max-w-[192px] line-clamp-5 min-h-[100px] leading-relaxed overflow-hidden text-ellipsis`,children:t||" "})})]}),d.jsx(tT,{className:"p-0",children:d.jsxs("div",{className:"flex justify-end items-center mt-2",children:[d.jsx(t4,{className:"h-3.5 w-3.5 text-[hsl(var(--text-muted))]"}),d.jsx("span",{className:"text-[hsl(var(--text-muted))] text-[12px] ml-1",children:Or(o)}),d.jsx(n4,{className:"h-3 w-3.5 ml-2 text-[hsl(var(--text-muted))]"}),d.jsx("span",{className:"text-[hsl(var(--text-muted))] text-[12px] ml-1",children:Or(a)})]})})]})]})})});var iT=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vv=typeof window>"u"||"Deno"in globalThis;function eo(){}function _Te(n,e){return typeof n=="function"?n(e):n}function EF(n){return typeof n=="number"&&n>=0&&n!==1/0}function mee(n,e){return Math.max(n+(e||0)-Date.now(),0)}function o0(n,e){return typeof n=="function"?n(e):n}function Ec(n,e){return typeof n=="function"?n(e):n}function NW(n,e){const{type:t="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=n;if(a){if(r){if(e.queryHash!==KL(a,e.options))return!1}else if(!BS(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function RW(n,e){const{exact:t,status:r,predicate:i,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if($S(e.options.mutationKey)!==$S(s))return!1}else if(!BS(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function KL(n,e){return((e==null?void 0:e.queryKeyHashFn)||$S)(n)}function $S(n){return JSON.stringify(n,(e,t)=>NF(t)?Object.keys(t).sort().reduce((r,i)=>(r[i]=t[i],r),{}):t)}function BS(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>BS(n[t],e[t])):!1}function gee(n,e){if(n===e)return n;const t=jW(n)&&jW(e);if(t||NF(n)&&NF(e)){const r=t?n:Object.keys(n),i=r.length,s=t?e:Object.keys(e),a=s.length,o=t?[]:{};let l=0;for(let u=0;u<a;u++){const f=t?u:s[u];(!t&&r.includes(f)||t)&&n[f]===void 0&&e[f]===void 0?(o[f]=void 0,l++):(o[f]=gee(n[f],e[f]),o[f]===n[f]&&n[f]!==void 0&&l++)}return i===a&&l===i?n:o}return e}function CF(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function jW(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function NF(n){if(!kW(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!kW(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function kW(n){return Object.prototype.toString.call(n)==="[object Object]"}function STe(n){return new Promise(e=>{setTimeout(e,n)})}function RF(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?gee(n,e):e}function DTe(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function ATe(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var ZL=Symbol();function yee(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===ZL?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function TTe(n,e){return typeof n=="function"?n(...e):!!n}var qy,Dp,f1,yz,ETe=(yz=class extends iT{constructor(){super();ee(this,qy);ee(this,Dp);ee(this,f1);V(this,f1,e=>{if(!vv&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){_(this,Dp)||this.setEventListener(_(this,f1))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Dp))==null||e.call(this),V(this,Dp,void 0))}setEventListener(e){var t;V(this,f1,e),(t=_(this,Dp))==null||t.call(this),V(this,Dp,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){_(this,qy)!==e&&(V(this,qy,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof _(this,qy)=="boolean"?_(this,qy):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},qy=new WeakMap,Dp=new WeakMap,f1=new WeakMap,yz),QL=new ETe,p1,Ap,m1,vz,CTe=(vz=class extends iT{constructor(){super();ee(this,p1,!0);ee(this,Ap);ee(this,m1);V(this,m1,e=>{if(!vv&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){_(this,Ap)||this.setEventListener(_(this,m1))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Ap))==null||e.call(this),V(this,Ap,void 0))}setEventListener(e){var t;V(this,m1,e),(t=_(this,Ap))==null||t.call(this),V(this,Ap,e(this.setOnline.bind(this)))}setOnline(e){_(this,p1)!==e&&(V(this,p1,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return _(this,p1)}},p1=new WeakMap,Ap=new WeakMap,m1=new WeakMap,vz),oj=new CTe;function jF(){let n,e;const t=new Promise((i,s)=>{n=i,e=s});t.status="pending",t.catch(()=>{});function r(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{r({status:"fulfilled",value:i}),n(i)},t.reject=i=>{r({status:"rejected",reason:i}),e(i)},t}function NTe(n){return Math.min(1e3*2**n,3e4)}function vee(n){return(n??"online")==="online"?oj.isOnline():!0}var bee=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function zM(n){return n instanceof bee}function xee(n){let e=!1,t=0,r=!1,i;const s=jF(),a=x=>{var w;r||(m(new bee(x)),(w=n.abort)==null||w.call(n))},o=()=>{e=!0},l=()=>{e=!1},u=()=>QL.isFocused()&&(n.networkMode==="always"||oj.isOnline())&&n.canRun(),f=()=>vee(n.networkMode)&&n.canRun(),p=x=>{var w;r||(r=!0,(w=n.onSuccess)==null||w.call(n,x),i==null||i(),s.resolve(x))},m=x=>{var w;r||(r=!0,(w=n.onError)==null||w.call(n,x),i==null||i(),s.reject(x))},y=()=>new Promise(x=>{var w;i=S=>{(r||u())&&x(S)},(w=n.onPause)==null||w.call(n)}).then(()=>{var x;i=void 0,r||(x=n.onContinue)==null||x.call(n)}),b=()=>{if(r)return;let x;const w=t===0?n.initialPromise:void 0;try{x=w??n.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(p).catch(S=>{var U;if(r)return;const T=n.retry??(vv?0:3),E=n.retryDelay??NTe,R=typeof E=="function"?E(t,S):E,N=T===!0||typeof T=="number"&&t<T||typeof T=="function"&&T(t,S);if(e||!N){m(S);return}t++,(U=n.onFail)==null||U.call(n,t,S),STe(R).then(()=>u()?void 0:y()).then(()=>{e?m(S):b()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:f,start:()=>(f()?b():y().then(b),s)}}var RTe=n=>setTimeout(n,0);function jTe(){let n=[],e=0,t=o=>{o()},r=o=>{o()},i=RTe;const s=o=>{e?n.push(o):i(()=>{t(o)})},a=()=>{const o=n;n=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Ss=jTe(),Hy,bz,wee=(bz=class{constructor(){ee(this,Hy)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),EF(this.gcTime)&&V(this,Hy,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(vv?1/0:5*60*1e3))}clearGcTimeout(){_(this,Hy)&&(clearTimeout(_(this,Hy)),V(this,Hy,void 0))}},Hy=new WeakMap,bz),g1,y1,Dl,Vy,Hs,fA,Gy,Dc,Fd,xz,kTe=(xz=class extends wee{constructor(e){super();ee(this,Dc);ee(this,g1);ee(this,y1);ee(this,Dl);ee(this,Vy);ee(this,Hs);ee(this,fA);ee(this,Gy);V(this,Gy,!1),V(this,fA,e.defaultOptions),this.setOptions(e.options),this.observers=[],V(this,Vy,e.client),V(this,Dl,_(this,Vy).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,V(this,g1,UTe(this.options)),this.state=e.state??_(this,g1),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,Hs))==null?void 0:e.promise}setOptions(e){this.options={..._(this,fA),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Dl).remove(this)}setData(e,t){const r=RF(this.state.data,e,this.options);return ie(this,Dc,Fd).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){ie(this,Dc,Fd).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var r,i;const t=(r=_(this,Hs))==null?void 0:r.promise;return(i=_(this,Hs))==null||i.cancel(e),t?t.then(eo).catch(eo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,g1))}isActive(){return this.observers.some(e=>Ec(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ZL||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!mee(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=_(this,Hs))==null||t.continue()}onOnline(){var t;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=_(this,Hs))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,Dl).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(_(this,Hs)&&(_(this,Gy)?_(this,Hs).cancel({revert:!0}):_(this,Hs).cancelRetry()),this.scheduleGc()),_(this,Dl).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ie(this,Dc,Fd).call(this,{type:"invalidate"})}fetch(e,t){var l,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(_(this,Hs))return _(this,Hs).continueRetry(),_(this,Hs).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(V(this,Gy,!0),r.signal)})},s=()=>{const p=yee(this.options,t),m={client:_(this,Vy),queryKey:this.queryKey,meta:this.meta};return i(m),V(this,Gy,!1),this.options.persister?this.options.persister(p,m,this):p(m)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:_(this,Vy),state:this.state,fetchFn:s};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),V(this,y1,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&ie(this,Dc,Fd).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const o=p=>{var m,y,b,x;zM(p)&&p.silent||ie(this,Dc,Fd).call(this,{type:"error",error:p}),zM(p)||((y=(m=_(this,Dl).config).onError)==null||y.call(m,p,this),(x=(b=_(this,Dl).config).onSettled)==null||x.call(b,this.state.data,p,this)),this.scheduleGc()};return V(this,Hs,xee({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,y,b,x;if(p===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(w){o(w);return}(y=(m=_(this,Dl).config).onSuccess)==null||y.call(m,p,this),(x=(b=_(this,Dl).config).onSettled)==null||x.call(b,p,this.state.error,this),this.scheduleGc()},onError:o,onFail:(p,m)=>{ie(this,Dc,Fd).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ie(this,Dc,Fd).call(this,{type:"pause"})},onContinue:()=>{ie(this,Dc,Fd).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),_(this,Hs).start()}},g1=new WeakMap,y1=new WeakMap,Dl=new WeakMap,Vy=new WeakMap,Hs=new WeakMap,fA=new WeakMap,Gy=new WeakMap,Dc=new WeakSet,Fd=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._ee(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return zM(i)&&i.revert&&_(this,y1)?{..._(this,y1),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Ss.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),_(this,Dl).notify({query:this,type:"updated",action:e})})},xz);function _ee(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vee(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function UTe(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Bu,wz,OTe=(wz=class extends iT{constructor(e={}){super();ee(this,Bu);this.config=e,V(this,Bu,new Map)}build(e,t,r){const i=t.queryKey,s=t.queryHash??KL(i,t);let a=this.get(s);return a||(a=new kTe({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){_(this,Bu).has(e.queryHash)||(_(this,Bu).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=_(this,Bu).get(e.queryHash);t&&(e.destroy(),t===e&&_(this,Bu).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ss.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,Bu).get(e)}getAll(){return[..._(this,Bu).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>NW(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>NW(e,r)):t}notify(e){Ss.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ss.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ss.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bu=new WeakMap,wz),Wu,ya,Xy,zu,zf,_z,MTe=(_z=class extends wee{constructor(e){super();ee(this,zu);ee(this,Wu);ee(this,ya);ee(this,Xy);this.mutationId=e.mutationId,V(this,ya,e.mutationCache),V(this,Wu,[]),this.state=e.state||PTe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,Wu).includes(e)||(_(this,Wu).push(e),this.clearGcTimeout(),_(this,ya).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){V(this,Wu,_(this,Wu).filter(t=>t!==e)),this.scheduleGc(),_(this,ya).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,Wu).length||(this.state.status==="pending"?this.scheduleGc():_(this,ya).remove(this))}continue(){var e;return((e=_(this,Xy))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,u,f,p,m,y,b,x,w,S,T,E,R,N,U,O,M;const t=()=>{ie(this,zu,zf).call(this,{type:"continue"})};V(this,Xy,xee({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,H)=>{ie(this,zu,zf).call(this,{type:"failed",failureCount:P,error:H})},onPause:()=>{ie(this,zu,zf).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,ya).canRun(this)}));const r=this.state.status==="pending",i=!_(this,Xy).canStart();try{if(r)t();else{ie(this,zu,zf).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=_(this,ya).config).onMutate)==null?void 0:a.call(s,e,this));const H=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));H!==this.state.context&&ie(this,zu,zf).call(this,{type:"pending",context:H,variables:e,isPaused:i})}const P=await _(this,Xy).start();return await((f=(u=_(this,ya).config).onSuccess)==null?void 0:f.call(u,P,e,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,P,e,this.state.context)),await((b=(y=_(this,ya).config).onSettled)==null?void 0:b.call(y,P,null,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,P,null,e,this.state.context)),ie(this,zu,zf).call(this,{type:"success",data:P}),P}catch(P){try{throw await((T=(S=_(this,ya).config).onError)==null?void 0:T.call(S,P,e,this.state.context,this)),await((R=(E=this.options).onError)==null?void 0:R.call(E,P,e,this.state.context)),await((U=(N=_(this,ya).config).onSettled)==null?void 0:U.call(N,void 0,P,this.state.variables,this.state.context,this)),await((M=(O=this.options).onSettled)==null?void 0:M.call(O,void 0,P,e,this.state.context)),P}finally{ie(this,zu,zf).call(this,{type:"error",error:P})}}finally{_(this,ya).runNext(this)}}},Wu=new WeakMap,ya=new WeakMap,Xy=new WeakMap,zu=new WeakSet,zf=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Ss.batch(()=>{_(this,Wu).forEach(r=>{r.onMutationUpdate(e)}),_(this,ya).notify({mutation:this,type:"updated",action:e})})},_z);function PTe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fh,Ac,pA,Sz,FTe=(Sz=class extends iT{constructor(e={}){super();ee(this,fh);ee(this,Ac);ee(this,pA);this.config=e,V(this,fh,new Set),V(this,Ac,new Map),V(this,pA,0)}build(e,t,r){const i=new MTe({mutationCache:this,mutationId:++Ki(this,pA)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){_(this,fh).add(e);const t=lN(e);if(typeof t=="string"){const r=_(this,Ac).get(t);r?r.push(e):_(this,Ac).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,fh).delete(e)){const t=lN(e);if(typeof t=="string"){const r=_(this,Ac).get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&_(this,Ac).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=lN(e);if(typeof t=="string"){const r=_(this,Ac).get(t),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const t=lN(e);if(typeof t=="string"){const i=(r=_(this,Ac).get(t))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ss.batch(()=>{_(this,fh).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,fh).clear(),_(this,Ac).clear()})}getAll(){return Array.from(_(this,fh))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>RW(t,r))}findAll(e={}){return this.getAll().filter(t=>RW(e,t))}notify(e){Ss.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Ss.batch(()=>Promise.all(e.map(t=>t.continue().catch(eo))))}},fh=new WeakMap,Ac=new WeakMap,pA=new WeakMap,Sz);function lN(n){var e;return(e=n.options.scope)==null?void 0:e.id}function UW(n){return{onFetch:(e,t)=>{var f,p,m,y,b;const r=e.options,i=(m=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],a=((b=e.state.data)==null?void 0:b.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let x=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},S=yee(e.options,e.fetchOptions),T=async(E,R,N)=>{if(x)return Promise.reject();if(R==null&&E.pages.length)return Promise.resolve(E);const U={client:e.client,queryKey:e.queryKey,pageParam:R,direction:N?"backward":"forward",meta:e.options.meta};w(U);const O=await S(U),{maxPages:M}=e.options,P=N?ATe:DTe;return{pages:P(E.pages,O,M),pageParams:P(E.pageParams,R,M)}};if(i&&s.length){const E=i==="backward",R=E?LTe:OW,N={pages:s,pageParams:a},U=R(r,N);o=await T(N,U,E)}else{const E=n??s.length;do{const R=l===0?a[0]??r.initialPageParam:OW(r,o);if(l>0&&R==null)break;o=await T(o,R),l++}while(l<E)}return o};e.options.persister?e.fetchFn=()=>{var x,w;return(w=(x=e.options).persister)==null?void 0:w.call(x,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=u}}}function OW(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function LTe(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var li,Tp,Ep,v1,b1,Cp,x1,w1,Dz,ITe=(Dz=class{constructor(n={}){ee(this,li);ee(this,Tp);ee(this,Ep);ee(this,v1);ee(this,b1);ee(this,Cp);ee(this,x1);ee(this,w1);V(this,li,n.queryCache||new OTe),V(this,Tp,n.mutationCache||new FTe),V(this,Ep,n.defaultOptions||{}),V(this,v1,new Map),V(this,b1,new Map),V(this,Cp,0)}mount(){Ki(this,Cp)._++,_(this,Cp)===1&&(V(this,x1,QL.subscribe(async n=>{n&&(await this.resumePausedMutations(),_(this,li).onFocus())})),V(this,w1,oj.subscribe(async n=>{n&&(await this.resumePausedMutations(),_(this,li).onOnline())})))}unmount(){var n,e;Ki(this,Cp)._--,_(this,Cp)===0&&((n=_(this,x1))==null||n.call(this),V(this,x1,void 0),(e=_(this,w1))==null||e.call(this),V(this,w1,void 0))}isFetching(n){return _(this,li).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return _(this,Tp).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=_(this,li).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=_(this,li).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(o0(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return _(this,li).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),i=_(this,li).get(r.queryHash),s=i==null?void 0:i.state.data,a=_Te(e,s);if(a!==void 0)return _(this,li).build(this,r).setData(a,{...t,manual:!0})}setQueriesData(n,e,t){return Ss.batch(()=>_(this,li).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=_(this,li).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=_(this,li);Ss.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=_(this,li);return Ss.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Ss.batch(()=>_(this,li).findAll(n).map(i=>i.cancel(t)));return Promise.all(r).then(eo).catch(eo)}invalidateQueries(n,e={}){return Ss.batch(()=>(_(this,li).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Ss.batch(()=>_(this,li).findAll(n).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,t);return t.throwOnError||(s=s.catch(eo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(eo)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=_(this,li).build(this,e);return t.isStaleByTime(o0(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(eo).catch(eo)}fetchInfiniteQuery(n){return n.behavior=UW(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(eo).catch(eo)}ensureInfiniteQueryData(n){return n.behavior=UW(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return oj.isOnline()?_(this,Tp).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,li)}getMutationCache(){return _(this,Tp)}getDefaultOptions(){return _(this,Ep)}setDefaultOptions(n){V(this,Ep,n)}setQueryDefaults(n,e){_(this,v1).set($S(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[..._(this,v1).values()],t={};return e.forEach(r=>{BS(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){_(this,b1).set($S(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[..._(this,b1).values()],t={};return e.forEach(r=>{BS(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={..._(this,Ep).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=KL(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ZL&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{..._(this,Ep).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){_(this,li).clear(),_(this,Tp).clear()}},li=new WeakMap,Tp=new WeakMap,Ep=new WeakMap,v1=new WeakMap,b1=new WeakMap,Cp=new WeakMap,x1=new WeakMap,w1=new WeakMap,Dz),Qa,Rn,mA,va,Yy,_1,Np,Rp,gA,S1,D1,Ky,Zy,jp,A1,tr,K_,kF,UF,OF,MF,PF,FF,LF,See,Az,$Te=(Az=class extends iT{constructor(e,t){super();ee(this,tr);ee(this,Qa);ee(this,Rn);ee(this,mA);ee(this,va);ee(this,Yy);ee(this,_1);ee(this,Np);ee(this,Rp);ee(this,gA);ee(this,S1);ee(this,D1);ee(this,Ky);ee(this,Zy);ee(this,jp);ee(this,A1,new Set);this.options=t,V(this,Qa,e),V(this,Rp,null),V(this,Np,jF()),this.options.experimental_prefetchInRender||_(this,Np).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,Rn).addObserver(this),MW(_(this,Rn),this.options)?ie(this,tr,K_).call(this):this.updateResult(),ie(this,tr,MF).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return IF(_(this,Rn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return IF(_(this,Rn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ie(this,tr,PF).call(this),ie(this,tr,FF).call(this),_(this,Rn).removeObserver(this)}setOptions(e){const t=this.options,r=_(this,Rn);if(this.options=_(this,Qa).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ec(this.options.enabled,_(this,Rn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ie(this,tr,LF).call(this),_(this,Rn).setOptions(this.options),t._defaulted&&!CF(this.options,t)&&_(this,Qa).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,Rn),observer:this});const i=this.hasListeners();i&&PW(_(this,Rn),r,this.options,t)&&ie(this,tr,K_).call(this),this.updateResult(),i&&(_(this,Rn)!==r||Ec(this.options.enabled,_(this,Rn))!==Ec(t.enabled,_(this,Rn))||o0(this.options.staleTime,_(this,Rn))!==o0(t.staleTime,_(this,Rn)))&&ie(this,tr,kF).call(this);const s=ie(this,tr,UF).call(this);i&&(_(this,Rn)!==r||Ec(this.options.enabled,_(this,Rn))!==Ec(t.enabled,_(this,Rn))||s!==_(this,jp))&&ie(this,tr,OF).call(this,s)}getOptimisticResult(e){const t=_(this,Qa).getQueryCache().build(_(this,Qa),e),r=this.createResult(t,e);return WTe(this,r)&&(V(this,va,r),V(this,_1,this.options),V(this,Yy,_(this,Rn).state)),r}getCurrentResult(){return _(this,va)}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t==null||t(i),Reflect.get(r,i))})}trackProp(e){_(this,A1).add(e)}getCurrentQuery(){return _(this,Rn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=_(this,Qa).defaultQueryOptions(e),r=_(this,Qa).getQueryCache().build(_(this,Qa),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return ie(this,tr,K_).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,va)))}createResult(e,t){var P;const r=_(this,Rn),i=this.options,s=_(this,va),a=_(this,Yy),o=_(this,_1),u=e!==r?e.state:_(this,mA),{state:f}=e;let p={...f},m=!1,y;if(t._optimisticResults){const H=this.hasListeners(),X=!H&&MW(e,t),I=H&&PW(e,r,t,i);(X||I)&&(p={...p,..._ee(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:x,status:w}=p;y=p.data;let S=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let H;s!=null&&s.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData)?(H=s.data,S=!0):H=typeof t.placeholderData=="function"?t.placeholderData((P=_(this,D1))==null?void 0:P.state.data,_(this,D1)):t.placeholderData,H!==void 0&&(w="success",y=RF(s==null?void 0:s.data,H,t),m=!0)}if(t.select&&y!==void 0&&!S)if(s&&y===(a==null?void 0:a.data)&&t.select===_(this,gA))y=_(this,S1);else try{V(this,gA,t.select),y=t.select(y),y=RF(s==null?void 0:s.data,y,t),V(this,S1,y),V(this,Rp,null)}catch(H){V(this,Rp,H)}_(this,Rp)&&(b=_(this,Rp),y=_(this,S1),x=Date.now(),w="error");const T=p.fetchStatus==="fetching",E=w==="pending",R=w==="error",N=E&&T,U=y!==void 0,M={status:w,fetchStatus:p.fetchStatus,isPending:E,isSuccess:w==="success",isError:R,isInitialLoading:N,isLoading:N,data:y,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:T,isRefetching:T&&!E,isLoadingError:R&&!U,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:R&&U,isStale:JL(e,t),refetch:this.refetch,promise:_(this,Np)};if(this.options.experimental_prefetchInRender){const H=q=>{M.status==="error"?q.reject(M.error):M.data!==void 0&&q.resolve(M.data)},X=()=>{const q=V(this,Np,M.promise=jF());H(q)},I=_(this,Np);switch(I.status){case"pending":e.queryHash===r.queryHash&&H(I);break;case"fulfilled":(M.status==="error"||M.data!==I.value)&&X();break;case"rejected":(M.status!=="error"||M.error!==I.reason)&&X();break}}return M}updateResult(){const e=_(this,va),t=this.createResult(_(this,Rn),this.options);if(V(this,Yy,_(this,Rn).state),V(this,_1,this.options),_(this,Yy).data!==void 0&&V(this,D1,_(this,Rn)),CF(t,e))return;V(this,va,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!_(this,A1).size)return!0;const a=new Set(s??_(this,A1));return this.options.throwOnError&&a.add("error"),Object.keys(_(this,va)).some(o=>{const l=o;return _(this,va)[l]!==e[l]&&a.has(l)})};ie(this,tr,See).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ie(this,tr,MF).call(this)}},Qa=new WeakMap,Rn=new WeakMap,mA=new WeakMap,va=new WeakMap,Yy=new WeakMap,_1=new WeakMap,Np=new WeakMap,Rp=new WeakMap,gA=new WeakMap,S1=new WeakMap,D1=new WeakMap,Ky=new WeakMap,Zy=new WeakMap,jp=new WeakMap,A1=new WeakMap,tr=new WeakSet,K_=function(e){ie(this,tr,LF).call(this);let t=_(this,Rn).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(eo)),t},kF=function(){ie(this,tr,PF).call(this);const e=o0(this.options.staleTime,_(this,Rn));if(vv||_(this,va).isStale||!EF(e))return;const r=mee(_(this,va).dataUpdatedAt,e)+1;V(this,Ky,setTimeout(()=>{_(this,va).isStale||this.updateResult()},r))},UF=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,Rn)):this.options.refetchInterval)??!1},OF=function(e){ie(this,tr,FF).call(this),V(this,jp,e),!(vv||Ec(this.options.enabled,_(this,Rn))===!1||!EF(_(this,jp))||_(this,jp)===0)&&V(this,Zy,setInterval(()=>{(this.options.refetchIntervalInBackground||QL.isFocused())&&ie(this,tr,K_).call(this)},_(this,jp)))},MF=function(){ie(this,tr,kF).call(this),ie(this,tr,OF).call(this,ie(this,tr,UF).call(this))},PF=function(){_(this,Ky)&&(clearTimeout(_(this,Ky)),V(this,Ky,void 0))},FF=function(){_(this,Zy)&&(clearInterval(_(this,Zy)),V(this,Zy,void 0))},LF=function(){const e=_(this,Qa).getQueryCache().build(_(this,Qa),this.options);if(e===_(this,Rn))return;const t=_(this,Rn);V(this,Rn,e),V(this,mA,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},See=function(e){Ss.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(_(this,va))}),_(this,Qa).getQueryCache().notify({query:_(this,Rn),type:"observerResultsUpdated"})})},Az);function BTe(n,e){return Ec(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function MW(n,e){return BTe(n,e)||n.state.data!==void 0&&IF(n,e,e.refetchOnMount)}function IF(n,e,t){if(Ec(e.enabled,n)!==!1){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&JL(n,e)}return!1}function PW(n,e,t,r){return(n!==e||Ec(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&JL(n,t)}function JL(n,e){return Ec(e.enabled,n)!==!1&&n.isStaleByTime(o0(e.staleTime,n))}function WTe(n,e){return!CF(n.getCurrentResult(),e)}var Dee=C.createContext(void 0),zTe=n=>{const e=C.useContext(Dee);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},qTe=({client:n,children:e})=>(C.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),d.jsx(Dee.Provider,{value:n,children:e})),Aee=C.createContext(!1),HTe=()=>C.useContext(Aee);Aee.Provider;function VTe(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var GTe=C.createContext(VTe()),XTe=()=>C.useContext(GTe),YTe=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},KTe=n=>{C.useEffect(()=>{n.clearReset()},[n])},ZTe=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(i&&n.data===void 0||TTe(t,[n.error,r])),QTe=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},JTe=(n,e)=>n.isLoading&&n.isFetching&&!e,eEe=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,FW=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function tEe(n,e,t){var p,m,y,b,x;const r=zTe(),i=HTe(),s=XTe(),a=r.defaultQueryOptions(n);(m=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,a),a._optimisticResults=i?"isRestoring":"optimistic",QTe(a),YTe(a,s),KTe(s);const o=!r.getQueryCache().get(a.queryHash),[l]=C.useState(()=>new e(r,a)),u=l.getOptimisticResult(a),f=!i&&n.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(w=>{const S=f?l.subscribe(Ss.batchCalls(w)):eo;return l.updateResult(),S},[l,f]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),C.useEffect(()=>{l.setOptions(a)},[a,l]),eEe(a,u))throw FW(a,l,s);if(ZTe({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((b=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,a,u),a.experimental_prefetchInRender&&!vv&&JTe(u,i)){const w=o?FW(a,l,s):(x=r.getQueryCache().get(a.queryHash))==null?void 0:x.promise;w==null||w.catch(eo).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?u:l.trackResult(u)}function Z_(n,e){return tEe(n,$Te)}const nEe=({setShowSettings:n,setShowPlans:e})=>{const{userData:t}=kt(),{isMobile:r}=In(),[i,s]=C.useState(""),a=Fr(),o=jc(t==null?void 0:t.dateOfBirth),l=`text-lg mb-4 ${it}`;function u(M,P=40){return Z_({queryKey:["recentStories",M,P],queryFn:async()=>(await Zwe(P,M)).filter(H=>H.cover),staleTime:5*60*1e3})}const f=u(o),{data:p=[],isLoading:m}=Z_({queryKey:["persoaCharacters"],queryFn:async()=>(await $R("6263c65d-8b66-4bc9-8b9f-8b8165c297dd")).filter(P=>P.isPublic),staleTime:5*60*1e3}),{data:y=[],isLoading:b}=Z_({queryKey:["userCharacters",t==null?void 0:t.id],queryFn:async()=>t?await $R(t.id):[],enabled:!!(t!=null&&t.id),staleTime:5*60*1e3}),{data:x}=Z_({queryKey:["characterSearch",i],queryFn:async()=>{if(i.trim())return await YL(i,30,jc(t==null?void 0:t.dateOfBirth))},enabled:!!i.trim(),staleTime:1*60*1e3}),w=cN("Harry potter",o),S=cN("My Hero Academia",o),T=cN("Jujutsu Kaisen",o),E=cN("Kpop",o),R=C.useMemo(()=>[...p].sort((M,P)=>P.chatCount-M.chatCount),[p]),N=async M=>{if(!t)return a("/login");const P=await $A({userId:t.id,characterId:M.id});a(`/chat/${P.id}`)},U=(M,{data:P=[],isLoading:H})=>d.jsxs("div",{className:"mb-6",children:[d.jsx("h2",{className:l,children:M}),H?d.jsx("div",{className:"flex space-x-4",children:[...Array(O)].map((X,I)=>d.jsx(ba,{imageHeight:"h-48",width:r?"w-[350px]":"w-[370px]"},I))}):d.jsx(Og,{children:P.map(X=>d.jsx("div",{className:`flex-none ${r?"w-[350px]":"w-[370px]"} pb-1`,children:d.jsx(a0,{name:X.title,imagePath:X.cover,description:X.description,userName:X.username,onClick:()=>a(`/story/${X.id}`),numCharacters:X.characterCount,likeCount:X.likeCount,viewCount:X.viewCount,isMature:X.restriction===Un.MATURE})},X.id))})]},M),O=r?1:3;return d.jsxs("div",{className:`flex flex-col min-h-screen ${_t} ${Be}`,children:[d.jsx(qo,{allowSearch:!0,setShowSettings:n,searchQuery:i,onSearch:s,filteredCharacters:x,setShowPlans:e}),d.jsxs("div",{className:"container mx-auto flex-1 p-4",children:[d.jsx(cTe,{}),d.jsxs("div",{className:"mb-6 mt-6",children:[d.jsx("h2",{className:l,children:"New Releases"}),f.isLoading?d.jsx("div",{className:"flex space-x-4",children:[...Array(O)].map((M,P)=>d.jsx(ba,{imageHeight:"h-48",width:r?"w-[350px]":"w-[370px]"},P))}):f.data&&f.data.length>0&&d.jsx(Og,{children:f.data.map(M=>d.jsx("div",{className:`flex-none ${r?"w-[350px]":"w-[370px]"} pb-1`,children:d.jsx(a0,{name:kn(M.title||"",r?23:40),imagePath:M.cover,description:M.description,userName:M.username,onClick:()=>a(`/story/${M.id}`),numCharacters:M.characterCount||0,likeCount:M.likeCount,viewCount:M.viewCount,isMature:M.restriction===Un.MATURE})},M.id))})]}),U("Harry Potter",w),U("Kpop",E),U("My Hero Academia",S),U("Jujutsu Kaisen",T),d.jsxs("div",{className:"mb-6 mt-6",children:[d.jsx("h2",{className:l,children:"Featured Persoas"}),m?d.jsx("div",{className:"flex space-x-4",children:[...Array(O)].map((M,P)=>d.jsx(ba,{imageHeight:"h-48",width:r?"w-[300px]":"w-[330px]"},P))}):R.length>0&&d.jsx(Og,{children:R.map(M=>M.photo&&d.jsx("div",{className:`flex-none ${r?"w-[300px]":"w-[330px]"} pb-1`,children:d.jsx(fTe,{name:M.name,imagePath:M.photo,description:M.shortDescription,userName:M.userName,onClick:()=>N(M),isMature:M.restriction===Un.MATURE})},M.id))})]}),d.jsxs("div",{className:"mb-6 mt-6",children:[d.jsx("h2",{className:l,children:"Featured Ships"}),m?d.jsx("div",{className:"flex space-x-4",children:[...Array(O)].map((M,P)=>d.jsx(ba,{imageHeight:"h-48",width:r?"w-[300px]":"w-[330px]"},P))}):p.length>0&&d.jsx(Og,{children:Wfe.map(M=>{const P=p.filter(X=>X.id===M[0])[0],H=p.filter(X=>X.id===M[1])[0];return d.jsx("div",{className:`flex-none ${r?"w-[300px]":"w-[330px]"} pb-1`,children:d.jsx(xTe,{characters:[P,H]})},M[0])})})]}),b?d.jsxs("div",{className:"mb-6 mt-6",children:[d.jsx("h2",{className:l,children:"Your Persoas"}),d.jsx("div",{className:"flex space-x-4",children:[...Array(O)].map((M,P)=>d.jsx(ba,{width:r?"w-[300px]":"w-[330px]"},P))})]}):t&&y.length>0&&d.jsxs("div",{className:"mb-6 mt-6",children:[d.jsx("h2",{className:l,children:"Your Persoas"}),d.jsx(Og,{children:y.map(M=>d.jsx("div",{className:`flex-none ${r?"w-[300px]":"w-[330px]"} pb-1`,children:d.jsx(rv,{name:r?M.restriction===Un.MATURE?kn(M.name,13):kn(M.name,15):kn(M.name,17),imagePath:M.photo,description:M.shortDescription,userName:t.username,onClick:()=>N(M),chatCount:M.chatCount,likeCount:M.likeCount,isMature:M.restriction===Un.MATURE})},M.id))})]})]}),d.jsx(rT,{}),d.jsx(uTe,{})]})};function cN(n,e,t=20){return Z_({queryKey:["fandomStories",n,e,t],queryFn:async()=>await n2e(n.toLowerCase(),t,e),staleTime:10*60*1e3})}const Tee=()=>d.jsxs(GL,{className:`text-[10px] m-1 px-2 py-0 ${it} ${Yr} ${wn} border border-sm rounded-full`,children:["persoa",d.jsx("span",{className:`ml-[1px] mt-[1px] ${T1}`,children:"+"})]}),rEe=({onClick:n})=>d.jsxs(ct,{className:"light text-sm m-1 py-0 gap-0 text-[hsl(var(--text-dark))] bg-gradient-to-b from-[hsl(var(--background-light))] to-[#ffece8] border border-[hsl(var(--button-logo-orange))]/30 rounded-full",onClick:n,children:["Upgrade to",d.jsxs("span",{className:"ml-1 font-semibold",children:["Persoa",d.jsx("span",{className:`${T1} font-bold`,children:"+"})]})]}),Eee=C.memo(({name:n,image:e,setShowAccountSettings:t,setShowCharacterSettings:r,setShowPlans:i,username:s,loading:a=!1})=>{const{userData:o}=kt(),{toggleSidebar:l,isMobile:u,state:f}=In();return d.jsx("header",{className:`sticky top-0 z-50 w-full ${_t} border-b border:zinc-500 backdrop-blur-sm`,children:d.jsxs("div",{className:"w-full flex items-center justify-between py-3 px-4 relative",children:[d.jsxs("div",{className:"flex items-center",children:[(f==="collapsed"||u)&&d.jsx("button",{onClick:l,className:`mr-2 p-2 ${Dn} rounded-full`,children:d.jsx(Jz,{className:`w-5 h-5 ${it}`})}),d.jsx("div",{className:"cursor-pointer",onClick:()=>{r&&r(!0)},children:!a&&d.jsxs(An,{className:"h-12 w-12 mr-4",children:[d.jsx(Mn,{src:e,alt:`${n} image`}),d.jsx(Bn,{className:`${Yr} ${it} text-xl`,children:dr(n)})]})}),d.jsxs("div",{className:"flex flex-col",children:[a?d.jsxs("div",{className:"flex items-center gap-4 animate-pulse",children:[d.jsx("div",{className:`h-12 w-12 rounded-full ${$t}`}),d.jsxs("div",{className:"flex-col",children:[d.jsx("div",{className:`h-4 ${$t} rounded w-24 mb-2`}),d.jsx("div",{className:`h-4 ${$t} rounded w-24`})]})]}):d.jsx("div",{onClick:()=>{r&&r(!0)},className:`${it} font-sans font-semibold text-lg cursor-pointer line-clamp-1`,children:n}),s&&s!="persoa"&&d.jsxs("span",{className:`${it} font-sans text-sm`,children:["By"," ",d.jsxs(ui,{to:`/profile/${s}`,className:`${Be} hover:text-[hsl(var(--text-main))]`,children:["@",s]})]}),s=="persoa"&&d.jsxs("span",{className:`mt-1 text-sm ${Xe}`,children:["By ",d.jsx(nT,{})]})]})]}),d.jsxs("div",{className:"gap-6 flex items-center",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[!u&&(o==null?void 0:o.plan)==="free"&&d.jsx(rEe,{onClick:()=>i(!0)}),!u&&d.jsx(z4,{onClick:()=>i(!0)}),r&&d.jsx(ct,{variant:"outline",className:`ml-2 rounded-full w-10 h-10 border border-lg ${_t} ${it} ${Dn}`,onClick:()=>{r&&r(!0)},children:d.jsx(Mj,{size:16})})]}),d.jsx(IX,{setShowSettings:t})]})]})})});var Xt=(n=>(n.ERROR="error",n.MODEL="model",n.NARRATOR="narrator",n.USER="user",n))(Xt||{});const LW=async(n,e)=>{const t={chat_id:n,role:e.role,content:e.content,created_at:new Date().toISOString(),scene_id:e.sceneId,scene_user_id:e.sceneUserId,has_image:e.hasImage},{data:r,error:i}=await qe.from("chat_messages").insert(t).select();if(i)throw i;return r[0]},IW=async(n,e,t)=>{const r={};t.role!==void 0&&(r.role=t.role),t.content!==void 0&&(r.content=t.content),t.hasImage!==void 0&&(r.has_image=t.hasImage);const{data:i,error:s}=await qe.from("chat_messages").update(r).eq("id",e).eq("chat_id",n).select();if(s)throw s;return i[0]},iEe=async(n,e)=>{const{data:t,error:r}=await qe.from("chat_messages").delete().eq("id",e).eq("chat_id",n).select();if(r)throw r;return t},sEe=async(n,e)=>{const t=`${n.toLowerCase()}/photos`;console.log("folder",t);const{data:r,error:i}=await qe.storage.from("chats").list(t,{limit:100});if(i||!r)return console.error("Error listing chat‐message files:",i),[];console.log("files",r);const s=r.filter(o=>o.name.startsWith(`${e}`));return s.length===0?[]:s.map(o=>{const l=`${t}/${o.name}`,{data:{publicUrl:u}}=qe.storage.from("chats").getPublicUrl(l);return u})},aEe=({handleCopy:n,onModify:e,handleDelete:t,userTheme:r,triggerClassName:i,isButtonHovered:s,setIsButtonHovered:a,isMenuOpen:o,setIsMenuOpen:l})=>d.jsxs(Av,{open:o,onOpenChange:l,children:[d.jsx(Tv,{asChild:!0,children:d.jsx("button",{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),className:`${i} rounded-full ${s&&Dn}`,children:d.jsx(Mj,{size:16})})}),d.jsxs(Yp,{className:r,children:[d.jsxs(_i,{onSelect:n,children:[d.jsx(Kz,{className:"mr-2"})," Copy text"]}),d.jsxs(_i,{onSelect:e,children:[d.jsx(tq,{className:"mr-2"})," Modify"]}),d.jsxs(_i,{onSelect:t,children:[d.jsx(Xz,{className:"mr-2"})," Remove"]})]})]});var qM,$W;function oEe(){if($W)return qM;$W=1,qM=function(i,s,a){var o=document.head||document.getElementsByTagName("head")[0],l=document.createElement("script");typeof s=="function"&&(a=s,s={}),s=s||{},a=a||function(){},l.type=s.type||"text/javascript",l.charset=s.charset||"utf8",l.async="async"in s?!!s.async:!0,l.src=i,s.attrs&&n(l,s.attrs),s.text&&(l.text=""+s.text);var u="onload"in l?e:t;u(l,a),l.onload||e(l,a),o.appendChild(l)};function n(r,i){for(var s in i)r.setAttribute(s,i[s])}function e(r,i){r.onload=function(){this.onerror=this.onload=null,i(null,r)},r.onerror=function(){this.onerror=this.onload=null,i(new Error("Failed to load "+this.src),r)}}function t(r,i){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,i(null,r))}}return qM}var HM,BW;function Cee(){if(BW)return HM;BW=1;var n=function(T){return e(T)&&!t(T)};function e(S){return!!S&&typeof S=="object"}function t(S){var T=Object.prototype.toString.call(S);return T==="[object RegExp]"||T==="[object Date]"||s(S)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(S){return S.$$typeof===i}function a(S){return Array.isArray(S)?[]:{}}function o(S,T){return T.clone!==!1&&T.isMergeableObject(S)?x(a(S),S,T):S}function l(S,T,E){return S.concat(T).map(function(R){return o(R,E)})}function u(S,T){if(!T.customMerge)return x;var E=T.customMerge(S);return typeof E=="function"?E:x}function f(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(T){return Object.propertyIsEnumerable.call(S,T)}):[]}function p(S){return Object.keys(S).concat(f(S))}function m(S,T){try{return T in S}catch{return!1}}function y(S,T){return m(S,T)&&!(Object.hasOwnProperty.call(S,T)&&Object.propertyIsEnumerable.call(S,T))}function b(S,T,E){var R={};return E.isMergeableObject(S)&&p(S).forEach(function(N){R[N]=o(S[N],E)}),p(T).forEach(function(N){y(S,N)||(m(S,N)&&E.isMergeableObject(T[N])?R[N]=u(N,E)(S[N],T[N],E):R[N]=o(T[N],E))}),R}function x(S,T,E){E=E||{},E.arrayMerge=E.arrayMerge||l,E.isMergeableObject=E.isMergeableObject||n,E.cloneUnlessOtherwiseSpecified=o;var R=Array.isArray(T),N=Array.isArray(S),U=R===N;return U?R?E.arrayMerge(S,T,E):b(S,T,E):o(T,E)}x.all=function(T,E){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(R,N){return x(R,N,E)},{})};var w=x;return HM=w,HM}var VM,WW;function xk(){if(WW)return VM;WW=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,a=(K,G)=>{for(var Y in G)e(K,Y,{get:G[Y],enumerable:!0})},o=(K,G,Y,ne)=>{if(G&&typeof G=="object"||typeof G=="function")for(let le of r(G))!s.call(K,le)&&le!==Y&&e(K,le,{get:()=>G[le],enumerable:!(ne=t(G,le))||ne.enumerable});return K},l=(K,G,Y)=>(Y=K!=null?n(i(K)):{},o(!K||!K.__esModule?e(Y,"default",{value:K,enumerable:!0}):Y,K)),u=K=>o(e({},"__esModule",{value:!0}),K),f={};a(f,{callPlayer:()=>L,getConfig:()=>I,getSDK:()=>X,isBlobUrl:()=>B,isMediaStream:()=>te,lazy:()=>b,omit:()=>q,parseEndTime:()=>U,parseStartTime:()=>N,queryString:()=>M,randomString:()=>O,supportsWebKitPresentationMode:()=>W}),VM=u(f);var p=l(xv()),m=l(oEe()),y=l(Cee());const b=K=>p.default.lazy(async()=>{const G=await K();return typeof G.default=="function"?G:G.default}),x=/[?&#](?:start|t)=([0-9hms]+)/,w=/[?&#]end=([0-9hms]+)/,S=/(\d+)(h|m|s)/g,T=/^\d+$/;function E(K,G){if(K instanceof Array)return;const Y=K.match(G);if(Y){const ne=Y[1];if(ne.match(S))return R(ne);if(T.test(ne))return parseInt(ne)}}function R(K){let G=0,Y=S.exec(K);for(;Y!==null;){const[,ne,le]=Y;le==="h"&&(G+=parseInt(ne,10)*60*60),le==="m"&&(G+=parseInt(ne,10)*60),le==="s"&&(G+=parseInt(ne,10)),Y=S.exec(K)}return G}function N(K){return E(K,x)}function U(K){return E(K,w)}function O(){return Math.random().toString(36).substr(2,5)}function M(K){return Object.keys(K).map(G=>`${G}=${K[G]}`).join("&")}function P(K){return window[K]?window[K]:window.exports&&window.exports[K]?window.exports[K]:window.module&&window.module.exports&&window.module.exports[K]?window.module.exports[K]:null}const H={},X=function(G,Y,ne=null,le=()=>!0,xe=m.default){const we=P(Y);return we&&le(we)?Promise.resolve(we):new Promise((Re,Ee)=>{if(H[G]){H[G].push({resolve:Re,reject:Ee});return}H[G]=[{resolve:Re,reject:Ee}];const Me=Ye=>{H[G].forEach(Ke=>Ke.resolve(Ye))};if(ne){const Ye=window[ne];window[ne]=function(){Ye&&Ye(),Me(P(Y))}}xe(G,Ye=>{Ye?(H[G].forEach(Ke=>Ke.reject(Ye)),H[G]=null):ne||Me(P(Y))})})};function I(K,G){return(0,y.default)(G.config,K.config)}function q(K,...G){const Y=[].concat(...G),ne={},le=Object.keys(K);for(const xe of le)Y.indexOf(xe)===-1&&(ne[xe]=K[xe]);return ne}function L(K,...G){if(!this.player||!this.player[K]){let Y=`ReactPlayer: ${this.constructor.displayName} player could not call %c${K}%c – `;return this.player?this.player[K]||(Y+="The method was not available"):Y+="The player was not available",console.warn(Y,"font-weight: bold",""),null}return this.player[K](...G)}function te(K){return typeof window<"u"&&typeof window.MediaStream<"u"&&K instanceof window.MediaStream}function B(K){return/^blob:/.test(K)}function W(K=document.createElement("video")){const G=/iPhone|iPod/.test(navigator.userAgent)===!1;return K.webkitSupportsPresentationMode&&typeof K.webkitSetPresentationMode=="function"&&G}function se(K){return K}return VM}var GM,zW;function lEe(){if(zW)return GM;zW=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(L,te)=>{for(var B in te)n(L,B,{get:te[B],enumerable:!0})},s=(L,te,B,W)=>{if(te&&typeof te=="object"||typeof te=="function")for(let se of t(te))!r.call(L,se)&&se!==B&&n(L,se,{get:()=>te[se],enumerable:!(W=e(te,se))||W.enumerable});return L},a=L=>s(n({},"__esModule",{value:!0}),L),o={};i(o,{AUDIO_EXTENSIONS:()=>O,DASH_EXTENSIONS:()=>H,FLV_EXTENSIONS:()=>X,HLS_EXTENSIONS:()=>P,MATCH_URL_DAILYMOTION:()=>E,MATCH_URL_FACEBOOK:()=>y,MATCH_URL_FACEBOOK_WATCH:()=>b,MATCH_URL_KALTURA:()=>U,MATCH_URL_MIXCLOUD:()=>R,MATCH_URL_MUX:()=>m,MATCH_URL_SOUNDCLOUD:()=>f,MATCH_URL_STREAMABLE:()=>x,MATCH_URL_TWITCH_CHANNEL:()=>T,MATCH_URL_TWITCH_VIDEO:()=>S,MATCH_URL_VIDYARD:()=>N,MATCH_URL_VIMEO:()=>p,MATCH_URL_WISTIA:()=>w,MATCH_URL_YOUTUBE:()=>u,VIDEO_EXTENSIONS:()=>M,canPlay:()=>q}),GM=a(o);var l=xk();const u=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,f=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,p=/vimeo\.com\/(?!progressive_redirect).+/,m=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,y=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,b=/^https?:\/\/fb\.watch\/.+$/,x=/streamable\.com\/([a-z0-9]+)$/,w=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,S=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,T=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,E=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,R=/mixcloud\.com\/([^/]+\/[^/]+)/,N=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,U=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,O=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,M=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,P=/\.(m3u8)($|\?)/i,H=/\.(mpd)($|\?)/i,X=/\.(flv)($|\?)/i,I=L=>{if(L instanceof Array){for(const te of L)if(typeof te=="string"&&I(te)||I(te.src))return!0;return!1}return(0,l.isMediaStream)(L)||(0,l.isBlobUrl)(L)?!0:O.test(L)||M.test(L)||P.test(L)||H.test(L)||X.test(L)},q={youtube:L=>L instanceof Array?L.every(te=>u.test(te)):u.test(L),soundcloud:L=>f.test(L)&&!O.test(L),vimeo:L=>p.test(L)&&!M.test(L)&&!P.test(L),mux:L=>m.test(L),facebook:L=>y.test(L)||b.test(L),streamable:L=>x.test(L),wistia:L=>w.test(L),twitch:L=>S.test(L)||T.test(L),dailymotion:L=>E.test(L),mixcloud:L=>R.test(L),vidyard:L=>N.test(L),kaltura:L=>U.test(L),file:I};return GM}var XM,qW;function cEe(){if(qW)return XM;qW=1;var n=Object.defineProperty,e=Object.getOwnPropertyDescriptor,t=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(p,m)=>{for(var y in m)n(p,y,{get:m[y],enumerable:!0})},s=(p,m,y,b)=>{if(m&&typeof m=="object"||typeof m=="function")for(let x of t(m))!r.call(p,x)&&x!==y&&n(p,x,{get:()=>m[x],enumerable:!(b=e(m,x))||b.enumerable});return p},a=p=>s(n({},"__esModule",{value:!0}),p),o={};i(o,{default:()=>f}),XM=a(o);var l=xk(),u=lEe(),f=[{key:"youtube",name:"YouTube",canPlay:u.canPlay.youtube,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./YouTube-05QzqCq3.js").then(p=>p.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:u.canPlay.soundcloud,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./SoundCloud-BlMLp8TM.js").then(p=>p.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:u.canPlay.vimeo,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Vimeo-BD9i7JWj.js").then(p=>p.V),[]))},{key:"mux",name:"Mux",canPlay:u.canPlay.mux,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Mux-Bh1U3pen.js").then(p=>p.M),[]))},{key:"facebook",name:"Facebook",canPlay:u.canPlay.facebook,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Facebook-DnalV-3F.js").then(p=>p.F),[]))},{key:"streamable",name:"Streamable",canPlay:u.canPlay.streamable,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Streamable-mkdy91Bj.js").then(p=>p.S),[]))},{key:"wistia",name:"Wistia",canPlay:u.canPlay.wistia,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Wistia-9HHpF8TF.js").then(p=>p.W),[]))},{key:"twitch",name:"Twitch",canPlay:u.canPlay.twitch,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Twitch-DG_h9D8h.js").then(p=>p.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:u.canPlay.dailymotion,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./DailyMotion-pn21SG9r.js").then(p=>p.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:u.canPlay.mixcloud,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Mixcloud-3wiD2Ao2.js").then(p=>p.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:u.canPlay.vidyard,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Vidyard-Bh9atfOQ.js").then(p=>p.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:u.canPlay.kaltura,lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./Kaltura-wnlsV3KC.js").then(p=>p.K),[]))},{key:"file",name:"FilePlayer",canPlay:u.canPlay.file,canEnablePIP:p=>u.canPlay.file(p)&&(document.pictureInPictureEnabled||(0,l.supportsWebKitPresentationMode)())&&!u.AUDIO_EXTENSIONS.test(p),lazyPlayer:(0,l.lazy)(()=>ki(()=>import("./FilePlayer-CphBOd-b.js").then(p=>p.F),[]))}];return XM}var HW=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function uEe(n,e){return!!(n===e||HW(n)&&HW(e))}function dEe(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!uEe(n[t],e[t]))return!1;return!0}function hEe(n,e){e===void 0&&(e=dEe);var t,r=[],i,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&t===this&&e(o,r)||(i=n.apply(this,o),s=!0,t=this,r=o),i}return a}const fEe=Object.freeze(Object.defineProperty({__proto__:null,default:hEe},Symbol.toStringTag,{value:"Module"})),pEe=zF(fEe);var YM,VW;function Nee(){if(VW)return YM;VW=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(s,a){if(s===a)return!0;if(s&&a&&typeof s=="object"&&typeof a=="object"){if(s.constructor!==a.constructor)return!1;var o,l,u;if(Array.isArray(s)){if(o=s.length,o!=a.length)return!1;for(l=o;l--!==0;)if(!i(s[l],a[l]))return!1;return!0}var f;if(e&&s instanceof Map&&a instanceof Map){if(s.size!==a.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!a.has(l.value[0]))return!1;for(f=s.entries();!(l=f.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(t&&s instanceof Set&&a instanceof Set){if(s.size!==a.size)return!1;for(f=s.entries();!(l=f.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(a)){if(o=s.length,o!=a.length)return!1;for(l=o;l--!==0;)if(s[l]!==a[l])return!1;return!0}if(s.constructor===RegExp)return s.source===a.source&&s.flags===a.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof a.valueOf=="function")return s.valueOf()===a.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof a.toString=="function")return s.toString()===a.toString();if(u=Object.keys(s),o=u.length,o!==Object.keys(a).length)return!1;for(l=o;l--!==0;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(n&&s instanceof Element)return!1;for(l=o;l--!==0;)if(!((u[l]==="_owner"||u[l]==="__v"||u[l]==="__o")&&s.$$typeof)&&!i(s[u[l]],a[u[l]]))return!1;return!0}return s!==s&&a!==a}return YM=function(a,o){try{return i(a,o)}catch(l){if((l.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw l}},YM}var KM={exports:{}},ZM,GW;function mEe(){if(GW)return ZM;GW=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ZM=n,ZM}var QM,XW;function gEe(){if(XW)return QM;XW=1;var n=mEe();function e(){}function t(){}return t.resetWarningCache=e,QM=function(){function r(a,o,l,u,f,p){if(p!==n){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},QM}var YW;function yEe(){return YW||(YW=1,KM.exports=gEe()()),KM.exports}var JM,KW;function Ree(){if(KW)return JM;KW=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,a=(M,P)=>{for(var H in P)e(M,H,{get:P[H],enumerable:!0})},o=(M,P,H,X)=>{if(P&&typeof P=="object"||typeof P=="function")for(let I of r(P))!s.call(M,I)&&I!==H&&e(M,I,{get:()=>P[I],enumerable:!(X=t(P,I))||X.enumerable});return M},l=(M,P,H)=>(H=M!=null?n(i(M)):{},o(!M||!M.__esModule?e(H,"default",{value:M,enumerable:!0}):H,M)),u=M=>o(e({},"__esModule",{value:!0}),M),f={};a(f,{defaultProps:()=>O,propTypes:()=>N}),JM=u(f);var p=l(yEe());const{string:m,bool:y,number:b,array:x,oneOfType:w,shape:S,object:T,func:E,node:R}=p.default,N={url:w([m,x,T]),playing:y,loop:y,controls:y,volume:b,muted:y,playbackRate:b,width:w([m,b]),height:w([m,b]),style:T,progressInterval:b,playsinline:y,pip:y,stopOnUnmount:y,light:w([y,m,T]),playIcon:R,previewTabIndex:b,previewAriaLabel:m,fallback:R,oEmbedUrl:m,wrapper:w([m,E,S({render:E.isRequired})]),config:S({soundcloud:S({options:T}),youtube:S({playerVars:T,embedOptions:T,onUnstarted:E}),facebook:S({appId:m,version:m,playerId:m,attributes:T}),dailymotion:S({params:T}),vimeo:S({playerOptions:T,title:m}),mux:S({attributes:T,version:m}),file:S({attributes:T,tracks:x,forceVideo:y,forceAudio:y,forceHLS:y,forceSafariHLS:y,forceDisableHls:y,forceDASH:y,forceFLV:y,hlsOptions:T,hlsVersion:m,dashVersion:m,flvVersion:m}),wistia:S({options:T,playerId:m,customControls:x}),mixcloud:S({options:T}),twitch:S({options:T,playerId:m}),vidyard:S({options:T})}),onReady:E,onStart:E,onPlay:E,onPause:E,onBuffer:E,onBufferEnd:E,onEnded:E,onError:E,onDuration:E,onSeek:E,onPlaybackRateChange:E,onPlaybackQualityChange:E,onProgress:E,onClickPreview:E,onEnablePIP:E,onDisablePIP:E},U=()=>{},O={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:U},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:U,onStart:U,onPlay:U,onPause:U,onBuffer:U,onBufferEnd:U,onEnded:U,onError:U,onDuration:U,onSeek:U,onPlaybackRateChange:U,onPlaybackQualityChange:U,onProgress:U,onClickPreview:U,onEnablePIP:U,onDisablePIP:U};return JM}var eP,ZW;function vEe(){if(ZW)return eP;ZW=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,a=(E,R,N)=>R in E?e(E,R,{enumerable:!0,configurable:!0,writable:!0,value:N}):E[R]=N,o=(E,R)=>{for(var N in R)e(E,N,{get:R[N],enumerable:!0})},l=(E,R,N,U)=>{if(R&&typeof R=="object"||typeof R=="function")for(let O of r(R))!s.call(E,O)&&O!==N&&e(E,O,{get:()=>R[O],enumerable:!(U=t(R,O))||U.enumerable});return E},u=(E,R,N)=>(N=E!=null?n(i(E)):{},l(!E||!E.__esModule?e(N,"default",{value:E,enumerable:!0}):N,E)),f=E=>l(e({},"__esModule",{value:!0}),E),p=(E,R,N)=>(a(E,typeof R!="symbol"?R+"":R,N),N),m={};o(m,{default:()=>T}),eP=f(m);var y=u(xv()),b=u(Nee()),x=Ree(),w=xk();const S=5e3;class T extends y.Component{constructor(){super(...arguments),p(this,"mounted",!1),p(this,"isReady",!1),p(this,"isPlaying",!1),p(this,"isLoading",!0),p(this,"loadOnReady",null),p(this,"startOnPlay",!0),p(this,"seekOnPlay",null),p(this,"onDurationCalled",!1),p(this,"handlePlayerMount",R=>{if(this.player){this.progress();return}this.player=R,this.player.load(this.props.url),this.progress()}),p(this,"getInternalPlayer",R=>this.player?this.player[R]:null),p(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const R=this.getCurrentTime()||0,N=this.getSecondsLoaded(),U=this.getDuration();if(U){const O={playedSeconds:R,played:R/U};N!==null&&(O.loadedSeconds=N,O.loaded=N/U),(O.playedSeconds!==this.prevPlayed||O.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(O),this.prevPlayed=O.playedSeconds,this.prevLoaded=O.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),p(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:R,playing:N,volume:U,muted:O}=this.props;R(),!O&&U!==null&&this.player.setVolume(U),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):N&&this.player.play(),this.handleDurationCheck()}),p(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:R,onPlay:N,playbackRate:U}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&U!==1&&this.player.setPlaybackRate(U),R(),this.startOnPlay=!1),N(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),p(this,"handlePause",R=>{this.isPlaying=!1,this.isLoading||this.props.onPause(R)}),p(this,"handleEnded",()=>{const{activePlayer:R,loop:N,onEnded:U}=this.props;R.loopOnEnded&&N&&this.seekTo(0),N||(this.isPlaying=!1,U())}),p(this,"handleError",(...R)=>{this.isLoading=!1,this.props.onError(...R)}),p(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const R=this.getDuration();R?this.onDurationCalled||(this.props.onDuration(R),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),p(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(R){if(!this.player)return;const{url:N,playing:U,volume:O,muted:M,playbackRate:P,pip:H,loop:X,activePlayer:I,disableDeferredLoading:q}=this.props;if(!(0,b.default)(R.url,N)){if(this.isLoading&&!I.forceLoad&&!q&&!(0,w.isMediaStream)(N)){console.warn(`ReactPlayer: the attempt to load ${N} is being deferred until the player has loaded`),this.loadOnReady=N;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(N,this.isReady)}!R.playing&&U&&!this.isPlaying&&this.player.play(),R.playing&&!U&&this.isPlaying&&this.player.pause(),!R.pip&&H&&this.player.enablePIP&&this.player.enablePIP(),R.pip&&!H&&this.player.disablePIP&&this.player.disablePIP(),R.volume!==O&&O!==null&&this.player.setVolume(O),R.muted!==M&&(M?this.player.mute():(this.player.unmute(),O!==null&&setTimeout(()=>this.player.setVolume(O)))),R.playbackRate!==P&&this.player.setPlaybackRate&&this.player.setPlaybackRate(P),R.loop!==X&&this.player.setLoop&&this.player.setLoop(X)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(R,N,U){if(!this.isReady){R!==0&&(this.seekOnPlay=R,setTimeout(()=>{this.seekOnPlay=null},S));return}if(N?N==="fraction":R>0&&R<1){const M=this.player.getDuration();if(!M){console.warn("ReactPlayer: could not seek using fraction – duration not yet available");return}this.player.seekTo(M*R,U);return}this.player.seekTo(R,U)}render(){const R=this.props.activePlayer;return R?y.default.createElement(R,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return p(T,"displayName","Player"),p(T,"propTypes",x.propTypes),p(T,"defaultProps",x.defaultProps),eP}var tP,QW;function bEe(){if(QW)return tP;QW=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,a=(X,I,q)=>I in X?e(X,I,{enumerable:!0,configurable:!0,writable:!0,value:q}):X[I]=q,o=(X,I)=>{for(var q in I)e(X,q,{get:I[q],enumerable:!0})},l=(X,I,q,L)=>{if(I&&typeof I=="object"||typeof I=="function")for(let te of r(I))!s.call(X,te)&&te!==q&&e(X,te,{get:()=>I[te],enumerable:!(L=t(I,te))||L.enumerable});return X},u=(X,I,q)=>(q=X!=null?n(i(X)):{},l(!X||!X.__esModule?e(q,"default",{value:X,enumerable:!0}):q,X)),f=X=>l(e({},"__esModule",{value:!0}),X),p=(X,I,q)=>(a(X,typeof I!="symbol"?I+"":I,q),q),m={};o(m,{createReactPlayer:()=>H}),tP=f(m);var y=u(xv()),b=u(Cee()),x=u(pEe),w=u(Nee()),S=Ree(),T=xk(),E=u(vEe());const R=(0,T.lazy)(()=>ki(()=>import("./Preview-DAbidJnP.js").then(X=>X.P),[])),N=typeof window<"u"&&window.document&&typeof document<"u",U=typeof xa<"u"&&xa.window&&xa.window.document,O=Object.keys(S.propTypes),M=N||U?y.Suspense:()=>null,P=[],H=(X,I)=>{var q;return q=class extends y.Component{constructor(){super(...arguments),p(this,"state",{showPreview:!!this.props.light}),p(this,"references",{wrapper:L=>{this.wrapper=L},player:L=>{this.player=L}}),p(this,"handleClickPreview",L=>{this.setState({showPreview:!1}),this.props.onClickPreview(L)}),p(this,"showPreview",()=>{this.setState({showPreview:!0})}),p(this,"getDuration",()=>this.player?this.player.getDuration():null),p(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),p(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),p(this,"getInternalPlayer",(L="player")=>this.player?this.player.getInternalPlayer(L):null),p(this,"seekTo",(L,te,B)=>{if(!this.player)return null;this.player.seekTo(L,te,B)}),p(this,"handleReady",()=>{this.props.onReady(this)}),p(this,"getActivePlayer",(0,x.default)(L=>{for(const te of[...P,...X])if(te.canPlay(L))return te;return I||null})),p(this,"getConfig",(0,x.default)((L,te)=>{const{config:B}=this.props;return b.default.all([S.defaultProps.config,S.defaultProps.config[te]||{},B,B[te]||{}])})),p(this,"getAttributes",(0,x.default)(L=>(0,T.omit)(this.props,O))),p(this,"renderActivePlayer",L=>{if(!L)return null;const te=this.getActivePlayer(L);if(!te)return null;const B=this.getConfig(L,te.key);return y.default.createElement(E.default,{...this.props,key:te.key,ref:this.references.player,config:B,activePlayer:te.lazyPlayer||te,onReady:this.handleReady})})}shouldComponentUpdate(L,te){return!(0,w.default)(this.props,L)||!(0,w.default)(this.state,te)}componentDidUpdate(L){const{light:te}=this.props;!L.light&&te&&this.setState({showPreview:!0}),L.light&&!te&&this.setState({showPreview:!1})}renderPreview(L){if(!L)return null;const{light:te,playIcon:B,previewTabIndex:W,oEmbedUrl:se,previewAriaLabel:K}=this.props;return y.default.createElement(R,{url:L,light:te,playIcon:B,previewTabIndex:W,previewAriaLabel:K,oEmbedUrl:se,onClick:this.handleClickPreview})}render(){const{url:L,style:te,width:B,height:W,fallback:se,wrapper:K}=this.props,{showPreview:G}=this.state,Y=this.getAttributes(L),ne=typeof K=="string"?this.references.wrapper:void 0;return y.default.createElement(K,{ref:ne,style:{...te,width:B,height:W},...Y},y.default.createElement(M,{fallback:se},G?this.renderPreview(L):this.renderActivePlayer(L)))}},p(q,"displayName","ReactPlayer"),p(q,"propTypes",S.propTypes),p(q,"defaultProps",S.defaultProps),p(q,"addCustomPlayer",L=>{P.push(L)}),p(q,"removeCustomPlayers",()=>{P.length=0}),p(q,"canPlay",L=>{for(const te of[...P,...X])if(te.canPlay(L))return!0;return!1}),p(q,"canEnablePIP",L=>{for(const te of[...P,...X])if(te.canEnablePIP&&te.canEnablePIP(L))return!0;return!1}),q};return tP}var nP,JW;function xEe(){if(JW)return nP;JW=1;var n=Object.create,e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,a=(x,w)=>{for(var S in w)e(x,S,{get:w[S],enumerable:!0})},o=(x,w,S,T)=>{if(w&&typeof w=="object"||typeof w=="function")for(let E of r(w))!s.call(x,E)&&E!==S&&e(x,E,{get:()=>w[E],enumerable:!(T=t(w,E))||T.enumerable});return x},l=(x,w,S)=>(S=x!=null?n(i(x)):{},o(!x||!x.__esModule?e(S,"default",{value:x,enumerable:!0}):S,x)),u=x=>o(e({},"__esModule",{value:!0}),x),f={};a(f,{default:()=>b}),nP=u(f);var p=l(cEe()),m=bEe();const y=p.default[p.default.length-1];var b=(0,m.createReactPlayer)(p.default,y);return nP}var wEe=xEe();const _Ee=kh(wEe),$F=({url:n="/videos/test-video.mp4",autoPlay:e=!0,loop:t=!0,className:r=""})=>d.jsx("div",{className:`w-full overflow-hidden rounded-xl ${r}`,children:d.jsx(_Ee,{url:n,controls:!0,width:"100%",height:"100%",playing:e,loop:t})}),SEe=({message:n,handleDeleteChatMessage:e,updateChatMessage:t,isGeneratingMessage:r,isGroupChat:i})=>{const[s,a]=C.useState(!1),[o,l]=C.useState(!1),[u,f]=C.useState(!1),[p,m]=C.useState(void 0),[y,b]=C.useState(!1),[x,w]=C.useState(n.content),[S,T]=C.useState({width:0,height:0}),[E,R]=C.useState(null),N=C.useRef(null),U=s||o;C.useEffect(()=>{!u&&!p&&w(n.content)},[n.content,u,p]),C.useEffect(()=>{(async()=>{if(n.sceneId&&n.sceneUserId)try{const H=await j3(n.sceneUserId,n.sceneId);R(H)}catch(H){console.error("Error fetching video URL:",H)}})()},[n.sceneId,n.sceneUserId]),C.useLayoutEffect(()=>{if(N.current&&!u){const{clientWidth:P,clientHeight:H}=N.current;T({width:P,height:H})}},[n.content,u]);const O=async()=>{try{await navigator.clipboard.writeText(x||"")}catch(P){console.error("Failed to copy message:",P)}},M=async()=>{if(!(!p||p.trim()===""))try{b(!0),i?await fee(n.chatId,n.id,{content:p.trim()}):await t(n.chatId,n.id,{content:p.trim()}),w(p),f(!1)}catch(P){throw P}finally{b(!1)}};return d.jsx("div",{className:"flex justify-end mb-4 cursor-pointer",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:d.jsxs("div",{className:"flex flex-col relative w-full",children:[E&&d.jsx("div",{className:"w-full md:w-1/2 mx-auto mb-3",children:d.jsx($F,{url:E})}),d.jsx("div",{className:`relative px-3 py-1 ${it} text-center`,ref:u?void 0:N,style:u?{width:S.width,minHeight:S.height+16}:{},children:u?d.jsxs("div",{className:"flex flex-col w-full h-full",children:[d.jsx(io,{value:p||x,onChange:P=>m(P.target.value),className:"w-full outline-none bg-transparent border border-input",style:{fontSize:"1.04rem",whiteSpace:"pre-wrap",wordBreak:"break-word",maxHeight:"4.5rem"}}),d.jsxs("div",{className:"w-full flex flex-row mt-1 gap-1 justify-end",children:[d.jsx(ct,{variant:"secondary",onClick:()=>{f(!1),m(x)},disabled:y,className:"text-xs px-2 h-8 rounded-lg hover:bg-tertiary-bg-hover",children:"Cancel"}),d.jsx(ct,{onClick:M,disabled:y,className:"text-xs px-2 h-8 rounded-lg shadow hover:bg-button-primary-bg-hover",children:y?d.jsx(yr,{className:"animate-spin h-6 w-6"}):"Save"})]})]}):d.jsx("div",{className:`px-3 py-1 rounded-lg text-center ${Xe}`,children:x})}),U&&!r&&!u&&d.jsx(aEe,{handleCopy:O,onModify:()=>f(!0),handleDelete:()=>e(n.id),triggerClassName:`absolute top-0 right-0 p-1 mt-5 rounded-full ${Be} ${Dn}`,isButtonHovered:s,setIsButtonHovered:P=>a(P),isMenuOpen:o,setIsMenuOpen:l})]})})},lj=({message:n,role:e,character:t,userProfile:r,handleDeleteChatMessage:i,imageUrl:s,onRegenerate:a,allowRegenerate:o,allowVote:l,isGroupChat:u=!1,handleUpvoteMessage:f,handleDownvoteMessage:p,handleGenerateSceneImage:m})=>{var ve;const{userData:y}=kt(),{isMobile:b}=In(),[x,w]=C.useState(!1),[S,T]=C.useState(!1),[E,R]=C.useState(!1),[N,U]=C.useState(!1),[O,M]=C.useState(void 0),[P,H]=C.useState(!1),[X,I]=C.useState(n.content),[q,L]=C.useState({width:0,height:0}),[te,B]=C.useState(!1),[W,se]=C.useState(!1),[K,G]=C.useState(!1),[Y,ne]=C.useState(null),[le,xe]=C.useState(!1),we=C.useRef(null);C.useEffect(()=>{!N&&!O&&I(n.content)},[n.content,N]),C.useLayoutEffect(()=>{if(we.current&&!N){const{clientWidth:ae,clientHeight:ce}=we.current;L({width:ae,height:ce})}},[n.content,N]);const Re=x||S||E,Ee=e===Xt.MODEL&&n.content===""&&o,Me=async()=>{try{await navigator.clipboard.writeText(X)}catch(ae){console.error("Failed to copy message:",ae)}},Ye=async()=>{if(!(!O||O.trim()===""))try{H(!0),u?await fee(n.chatId,n.id,{content:O.trim()}):await IW(n.chatId,n.id,{content:O.trim()}),I(O),U(!1)}catch(ae){throw ae}finally{H(!1)}},Ke=async()=>{try{const ae=n.id;await i(n.id),a&&await a(ae)}catch(ae){console.error("Failed to regenerate message:",ae)}},Le=()=>{f&&(f(n),se(!0))},lt=ae=>{p&&(p(n,ae),se(!0)),B(!1)},st=["Repetitive","Irrelevant","Incorrect","Inappropriate","Other"],$=ae=>ae.split(/(\*.*?\*)/).map((ye,ke)=>{if(ye.startsWith("*")&&ye.endsWith("*")){const be=ye.slice(1,-1);return d.jsx("i",{className:Xe,children:be},ke)}else return d.jsx("span",{className:"my-2",children:ye},ke)}),ge=async()=>{if(((y==null?void 0:y.credits)||0)<5){xe(!0);return}try{G(!0),m&&await m(n)}catch(ae){console.error("Error generating photo:",ae)}finally{G(!1)}};return e===Xt.NARRATOR?d.jsx("div",{className:"flex justify-center mb-4 w-full",children:d.jsx(SEe,{message:n,handleDeleteChatMessage:i,updateChatMessage:IW,isGeneratingMessage:Ee,isGroupChat:u})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`flex mb-4 ${e===Xt.USER?"justify-end":"justify-start"}`,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[e===Xt.MODEL&&d.jsxs(An,{className:"mr-2",children:[d.jsx(Mn,{src:s,alt:t==null?void 0:t.name}),d.jsx(Bn,{className:`${Yr} border ${Be}`,children:(t==null?void 0:t.name)&&dr(t.name)})]}),d.jsxs("div",{className:"flex flex-col relative",children:[Re&&!Ee&&!N&&d.jsxs(d.Fragment,{children:[d.jsxs(Av,{open:E,onOpenChange:R,children:[d.jsx(Tv,{asChild:!0,children:d.jsx("button",{onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),className:`absolute top-0 p-1 mt-5 rounded-full ${Be} ${Dn} ${e===Xt.MODEL?"right-0 translate-x-full":"left-0 -translate-x-full"}`,children:d.jsx(Mj,{size:16})})}),d.jsxs(Yp,{className:Pt(y==null?void 0:y.theme),children:[d.jsxs(_i,{onSelect:Me,children:[d.jsx(Kz,{className:"mr-2"})," Copy text"]}),d.jsxs(_i,{onSelect:()=>U(!0),children:[d.jsx(tq,{className:"mr-2"})," Modify"]}),e===Xt.MODEL&&a&&o&&("imageUrls"in n?n.imageUrls.length===0:!0)&&d.jsxs(_i,{onSelect:Ke,children:[d.jsx(r4,{className:"mr-2"})," Regenerate"]}),e===Xt.MODEL&&d.jsxs(_i,{onSelect:()=>i(n.id),children:[d.jsx(Xz,{className:"mr-2"})," Remove"]})]})]}),e===Xt.MODEL&&n.content.trim().length>0&&d.jsx("div",{className:`absolute top-0 mt-12 ${e===Xt.MODEL?"right-0 translate-x-full":"left-0 -translate-x-full"} flex flex-col gap-2`,children:l&&!W&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:Le,className:`p-1 rounded-full ${Be} ${Dn}`,title:"Like",children:d.jsx(dse,{size:16})}),d.jsxs(Nc,{open:te,onOpenChange:B,children:[d.jsx(Rc,{asChild:!0,children:d.jsx("button",{className:`p-1 rounded-full ${Be} ${Dn}`,title:"Dislike",children:d.jsx(cse,{size:16})})}),d.jsxs(Nl,{className:`${Pt(y==null?void 0:y.theme)} p-2 w-40`,side:"right",children:[d.jsx("div",{className:"text-xs font-medium mb-2",children:"Select a reason:"}),d.jsx("div",{className:"flex flex-col gap-1",children:st.map(ae=>d.jsx("button",{onClick:()=>lt(ae),className:`text-xs text-left px-2 py-1 rounded bg-transparent ${Dn} transition-colors`,children:ae},ae))})]})]})]})})]}),d.jsx("div",{className:"relative p-2 -m-2",children:d.jsxs("div",{className:"flex items-center mb-1",children:[e===Xt.MODEL&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:`${Be} text-sm ml-2 mr-2 font-sans`,children:t==null?void 0:t.name}),d.jsx(nT,{})]}),e===Xt.USER&&d.jsx("span",{className:`${Be} text-sm ml-auto`,children:(r==null?void 0:r.displayName)||"Guest"})]})}),d.jsx("div",{className:`relative px-3 py-1 rounded-lg ${Zt} ${it} ${e==="user"?"ml-auto text-right":""} ${Ee?"w-[100px]":"max-w-[550px]"}`,ref:N?void 0:we,style:N?{width:q.width,minHeight:q.height+16}:{},children:N?d.jsxs("div",{className:"flex flex-col w-full h-full",children:[d.jsx(io,{value:O||X,onChange:ae=>M(ae.target.value),className:"w-full h-full outline-none border-none pb-8 bg-transparent",style:{fontSize:"1.04rem",whiteSpace:"pre-wrap",wordBreak:"break-word"}}),d.jsxs("div",{className:"w-full flex flex-row gap-2 justify-end",children:[d.jsx(ct,{onClick:()=>{U(!1),M(X)},disabled:P,className:`text-xs px-2 h-8 rounded-lg ${Zt} ${wn} ${Be}`,children:b?d.jsx(Go,{}):"Cancel"}),d.jsx(ct,{onClick:Ye,disabled:P,className:`text-xs px-2 h-8 rounded-lg shadow ${ti} ${ri} ${ni}`,children:P?d.jsx(yr,{size:16,className:"animate-spin"}):b?d.jsx(no,{}):"Save"})]})]}):Ee?d.jsx("div",{className:`typing-indicator ${Be}`,children:d.jsxs("div",{className:"dot-typing",children:[d.jsx("span",{}),d.jsx("span",{}),d.jsx("span",{})]})}):d.jsxs(d.Fragment,{children:[$(X),"imageUrls"in n&&n.imageUrls&&n.imageUrls.length>0&&d.jsx("div",{className:"mt-3 mb-1",children:n.imageUrls.map((ae,ce)=>d.jsx("img",{src:ae,alt:`Scene ${ce+1}`,className:"w-full h-auto rounded-md object-cover mb-2 cursor-pointer",style:{maxHeight:"400px"},onClick:()=>ne(ae)},ce))}),o&&e===Xt.MODEL&&!("userId"in n)&&n.content.trim().length>0&&d.jsx("div",{className:"w-full flex justify-end mt-2",children:d.jsxs(ct,{onClick:ge,disabled:K,className:`flex items-center gap-1 text-xs px-3 py-0.5 h-7 rounded-full bg-transparent ${Be} ${wn} border border-[hsl(var(--text-muted))]/50`,children:[K?d.jsx(yr,{className:"animate-spin",size:14}):d.jsx(Zz,{size:14}),d.jsx("span",{children:K?"Generating...":"Generate photo"}),d.jsx(nS,{className:"ml-1.5 w-4 h-4"}),d.jsx("span",{children:"5"})]})})]})})]}),e===Xt.USER&&d.jsxs(An,{className:"ml-2",children:[d.jsx(Mn,{src:s}),d.jsx(Bn,{className:`${Yr} border ${Be}`,children:((ve=r==null?void 0:r.displayName)==null?void 0:ve.charAt(0).toUpperCase())||"G"})]}),Y&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:()=>ne(null),children:d.jsxs("div",{className:"relative max-w-[95vw] max-h-[95vh] w-auto h-auto",children:[d.jsx("button",{className:"absolute right-2 top-2 p-1 rounded-full bg-black/50 hover:bg-black/70 text-white z-10",onClick:ae=>{ae.stopPropagation(),ne(null)},children:d.jsx(Go,{size:24})}),d.jsx("img",{src:Y,alt:"Fullscreen view",className:"w-auto h-auto max-w-[70vw] max-h-[70vh] rounded-md object-contain",onClick:ae=>ae.stopPropagation()})]})})]}),d.jsx(x3,{isOpen:le,onClose:()=>xe(!1)})]})},jee=({name:n,engineReady:e,requestInProgress:t,handleSubmit:r,handleGenerate:i=()=>{},handleGenerateSceneChange:s,inputValue:a,setInputValue:o,isGroupChat:l=!1,characters:u=[],speedMode:f,setSpeedMode:p})=>{const m=C.useRef(null),{userData:y}=kt(),{isMobile:b}=In(),x=()=>{if(u.length===0)return;const T=Math.floor(Math.random()*u.length),E=u[T];i(E)},w=C.useMemo(()=>[...u].sort((T,E)=>T.name.localeCompare(E.name)),[u]),S=b?"flex items-center flex-wrap justify-left":"flex items-center mb-2 relative left-1/2 transform -translate-x-1/4";return d.jsx("div",{className:`fixed bottom-0 w-full ${b&&"pr-8"} ${_t}`,children:d.jsxs("div",{className:b?"w-full flex flex-col items-center mt-1":"transform -translate-x-1/4 max-w-[800px] mt-1",children:[l&&d.jsxs("div",{className:S,children:[d.jsx("button",{className:`mr-2 ${Be}`,onClick:x,disabled:t,children:d.jsx(gie,{className:"w-5 h-5"})}),w.map(T=>d.jsx(t0,{children:d.jsxs(Qy,{delayDuration:200,children:[d.jsx(Jy,{className:"mr-2",onClick:()=>i(T),disabled:t,children:d.jsx(An,{className:"h-8 w-8",children:T.photo?d.jsx(Mn,{src:T.photo,alt:T.name}):d.jsx(Bn,{className:`${Yr} ${Be} text-lg`,children:T.name.charAt(0)})})}),d.jsx(yh,{className:Zt,children:d.jsx("p",{children:T.name})})]})},T.id))]}),d.jsx("div",{className:`flex items-center ${b&&"w-full mr-6"}`,children:d.jsxs("div",{className:`flex-1 ${_t} border border-[hsl(var(--input))] rounded-full flex items-center px-4 py-2 ${b?"w-full":"relative left-1/2 transform -translate-x-1/4"}`,children:[d.jsx(io,{disabled:!n,ref:m,style:{outline:"none",border:"none",boxShadow:"none",minHeight:"2rem"},className:`flex-1 bg-transparent resize-none overflow-y-auto max-h-64 rounded-full ${Be}`,placeholder:e?b?"Reply...":"Enter your message...":"",maxLength:(y==null?void 0:y.plan)==="free"?2e4:5e4,value:a,onChange:T=>o(T.target.value),onKeyDown:T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),e&&!t&&r())},rows:1}),d.jsx(t0,{children:d.jsxs(Qy,{delayDuration:200,children:[d.jsx(Jy,{asChild:!0,children:d.jsx(ct,{className:`ml-2 ${Be} ${Bo} ${Dn} rounded-full ${!e||t||!a.trim()?"opacity-50 cursor-not-allowed":""}`,onClick:()=>r(),disabled:!e||t||!a.trim(),children:d.jsx(Zie,{className:`w-5 h-5 ${it}`})})}),d.jsx(yh,{className:Zt,children:"Send message"})]})}),d.jsx(t0,{children:d.jsxs(Qy,{delayDuration:200,children:[d.jsx(Jy,{asChild:!0,children:d.jsx(ct,{className:`ml-2 ${Be} ${Bo} ${Dn} rounded-full ${!e||t?"opacity-50 cursor-not-allowed":""}`,onClick:()=>s(),disabled:!e||t,children:d.jsx(Hie,{className:`w-5 h-5 ${it}`})})}),d.jsx(yh,{className:Zt,children:"Insert narrator"})]})}),d.jsxs(Nc,{children:[d.jsx(Rc,{asChild:!0,children:d.jsxs(ct,{className:`ml-2 ${Be} ${Bo} ${Dn} rounded-full ${!e||t?"opacity-50 cursor-not-allowed":""}`,disabled:!e||t,children:[f==="speedy"?b?d.jsx(MI,{}):"Speedy":b?d.jsx(kI,{}):"Smarty",!b&&d.jsx(wA,{className:"w-4 h-4 ml-1"})]})}),d.jsx(Nl,{className:`${Pt(y==null?void 0:y.theme)} ${Zt} rounded-lg p-2 w-[180px]`,children:d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsxs(ct,{variant:"ghost",className:`justify-start w-42 rounded-lg ${f==="speedy"&&$t} ${wn}`,onClick:()=>p("speedy"),children:["Speedy ",d.jsx(MI,{})]}),d.jsx(ct,{variant:"ghost",className:`justify-start w-45 rounded-lg ${f==="smart"&&$t} ${wn}`,onClick:()=>p("smart"),disabled:(y==null?void 0:y.plan)==="free",children:d.jsxs("span",{className:"flex items-center gap-2",children:["Smarty ",d.jsx(kI,{}),d.jsx(Tee,{})]})})]})})]})]})}),d.jsx("div",{className:`${b?"flex items-center flex-wrap justify-left pr-4":"relative left-1/2 transform -translate-x-1/4"} text-center pt-2 ${_t}`,children:d.jsxs("label",{className:"text-[hsl(var(--text-muted))] text-xs",children:[l?"These are AI and not real people.":"This is an AI and not a real person."," ",!b&&"All responses are fictional and should not be considered as factual advice."]})})]})})},ez=n=>n.role===Xt.NARRATOR?{role:Xt.MODEL,parts:[{text:n.content}]}:{role:n.role,parts:[{text:n.content}]},wk=n=>({id:n.id,userId:n.user_id,name:n.name,createdAt:n.created_at,updatedAt:n.updated_at,background:n.background}),DEe=n=>{const e={};return n.userId!==void 0&&(e.user_id=n.userId),n.name!==void 0&&(e.name=n.name),n.background!==void 0&&(e.background=n.background),e},kee=async n=>{const{data:e,error:t}=await qe.from("personas").select("*").eq("id",n).single();if(t)throw t;return wk(e)},cj=async n=>{const{data:e,error:t}=await qe.from("personas").select("*").eq("user_id",n);if(t)throw t;const r=e.map(wk);return await Promise.all(r.map(async s=>{const a=s.userId?await sT(s.userId,s.id):void 0;return{...s,photo:a}}))},AEe=async n=>{const{data:e,error:t}=await qe.from("personas").insert({user_id:n.userId,name:n.name,background:n.background}).select();if(t)throw t;return wk(e[0])},TEe=async(n,e)=>{const t={...DEe(e),updated_at:new Date().toISOString()},{data:r,error:i}=await qe.from("personas").update(t).eq("id",n).select();if(i)throw i;return r&&r.length>0?wk(r[0]):null},EEe=async n=>{const{error:e}=await qe.from("personas").delete().eq("id",n);if(e)throw e},Uee=async(n,e,t,r)=>{var l;const i=(l=Uh(n))==null?void 0:l.toLowerCase().replace(/^\./,"");if(!i)return;const s=r?`${e.toLowerCase()}/photos/${r}`:`${e.toLowerCase()}/photos/${t.toLowerCase()}_${Date.now()}.${i}`,{error:a}=await qe.storage.from("personas").upload(s,n,{upsert:!0});if(a)throw console.error("Upload error:",a),a;return await sT(e,t)},sT=async(n,e)=>{const t=`${n.toLowerCase()}/photos`,{data:r,error:i}=await qe.storage.from("personas").list(t,{limit:100});if(i){console.error("Error listing files:",i);return}const s=r.find(l=>l.name.startsWith(`${e}`));if(!s)return;const a=`${t}/${s.name}`,{data:o}=qe.storage.from("personas").getPublicUrl(a);return o.publicUrl},CEe=async(n,e,t)=>{var r;try{const i=(r=Uh(n))==null?void 0:r.toLowerCase().replace(/^\./,"");if(!i)throw new Error("Invalid file extension");const s=`${t.toLowerCase()}_${Date.now()}.${i}`,a=`${e.toLowerCase()}/photos`;await Uee(n,e,t,s);const{data:o,error:l}=await qe.storage.from("personas").list(a,{limit:100});if(l)throw console.error("Error listing files:",l),l;const u=o.filter(p=>p.name!==s&&p.name.startsWith(t)).map(p=>`${a}/${p.name}`);if(u.length>0){const{error:p}=await qe.storage.from("personas").remove(u);if(p)throw console.error("Error deleting old persona photos:",p),p}return await sT(e,t)}catch(i){throw console.error("Error updating persona photo:",i),i}},NEe=n=>{const{user:e,userData:t,accessToken:r,refreshToken:i,setUserData:s}=kt(),[a,o]=C.useState(null),[l,u]=C.useState([]),[f,p]=C.useState([]),[m,y]=C.useState(void 0),[b,x]=C.useState(""),[w,S]=C.useState(""),[T,E]=C.useState([]),[R,N]=C.useState(!1);C.useState(!1);const[U,O]=C.useState(!1),[M,P]=C.useState(!1),[H,X]=C.useState(!0),[I,q]=C.useState(null),[L,te]=C.useState(null),[B,W]=C.useState(void 0),[se,K]=C.useState("speedy"),[G,Y]=C.useState(!0),[ne,le]=C.useState(!1),[xe,we]=C.useState(null),[Re,Ee]=C.useState(!1),Me=(()=>{switch(a==null?void 0:a.preferences.responseLength){case"short":return"in 2 sentences";case"moderate":return"in 5 sentences";case"long":return"in 8 sentences";default:return"in 2 sentences"}})(),Ye=B&&(B==null?void 0:B.background.length)>0?"This is "+B.name+`'s background:
`+B.background+`
`:L?"This is "+L.name+`'s background:
`+L.shortDescription+`
`+L.context:"",Ke=I&&(I==null?void 0:I.personality.length)>0?"The character's personality: "+I.personality+`.
`:"",Le=I&&I.restriction===Un.TEEN_AND_UP?"Your response should never include explicit violence, profanity, nor sexual elements.":"You may include explicit violence, profanity, and sexual elements if it fits the character or storyline.",lt=C.useMemo(()=>f.sort((Q,ue)=>new Date(Q.createdAt).getTime()-new Date(ue.createdAt).getTime()),[f]),st=C.useRef(n),$=C.useRef(!1);C.useEffect(()=>{st.current=n},[n]);const ge=async(Q,ue)=>{if(!ue)return[];console.log("fetchImageUrl",ue,Q);try{return await sEe(ue,Q)}catch(me){return console.error("Error fetching image URL:",me),[]}};C.useEffect(()=>{(async()=>{try{X(!0),N(!1),we("new");const ue=await Qve(n);if(!ue){o(null);return}o(ue);const me=await Promise.all([e$(n),tbe(n),ue.characterId?Cv(ue.characterId):Promise.resolve(null),ue.personaId?kee(ue.personaId):Promise.resolve(void 0),ue.storyPersonaId?TS(ue.storyPersonaId):Promise.resolve(null)]),[Ae,Fe,Ge,at,ut]=me;console.log("messages",Ae);const Te=await Promise.all(Ae.map(async He=>He.hasImage&&e?{...He,imageUrls:await ge(He.id,e==null?void 0:e.id)}:{...He,imageUrls:[]}));console.log("messagesWithImages",Te),u(Te),p(Fe),q(Ge),W(at),te(ut),Y(Ae.length>=50)}catch(ue){throw o(null),ue}finally{X(!1)}})()},[n,e==null?void 0:e.id]),C.useEffect(()=>{if(l.length>0&&l[l.length-1].role===Xt.MODEL){P(!0);return}I&&!H&&(async()=>{var Ge;P(!1),N(!0),we("new");const ue=B?B.name:L?L.name:t==null?void 0:t.displayName,me=(t==null?void 0:t.plan)=="premium"?"6":"3",Fe=[{role:"user",parts:[{text:"I would like to do a fictional roleplay between me and you. You will assume the role of "+I.name+", and I will assume the role of "+ue+"."+Ye+`Here is more information about the character that you will play as:

The character name is `+I.name+`.
The character in a summary: `+I.shortDescription+`
`+Ke+"Do not simply chat; Narrate scenes with vivid detail, capturing the atmosphere, emotions, and movement around you. Include dialogue, first POV, as if you are part of a novel. Stay deeply in character, using a style that matches your personality and world. Your responses should be immersive, drawing "+ue+" into the experience. Incorporate your words into the story naturally rather than responding like a chatbot. "+Le+" *Only wrap descriptions in asterisks*"}]},{role:"user",parts:[{text:"Describe the setting before introducing yourself with dialogue. The scene should match your personality, world, and current mood. Then naturally acknowledge "+ue+" as if you just entered the moment. The greeting should feel like the start of a living story. Always refer to yourself in first POV. Keep the entire response in "+me+" sentences. "}]}];try{const at=await fetch(`${mr}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:r,refreshToken:i,chatId:n,messages:Fe,role:Xt.MODEL,modelName:se})});if(!at.ok){const ht=await at.text();throw console.error("Error generating greeting:",ht),new Error("Failed to generate greeting")}if(at.headers.get("X-Chat-Id")!==st.current){console.warn("Response does not belong to the current chat, ignoring update.");return}const Te=(Ge=at.body)==null?void 0:Ge.getReader(),He=new TextDecoder;let et=!1;for(;!et;){const{value:ht,done:Tt}=await Te.read();et=Tt;const gt=He.decode(ht);if(gt.startsWith("[DONE]")){const Et=gt.substring(6);if(Et==="{}")break;try{const vn=JSON.parse(Et);u(vr=>[...vr,vn])}catch(vn){console.error("Error parsing final message:",vn)}break}}}catch(at){E(ut=>[...ut,{role:Xt.ERROR,content:"Failed to load greeting: "+at.toString(),chatId:n,createdAt:new Date().toISOString(),hasImage:!1}])}finally{N(!1),P(!0)}})()},[I==null?void 0:I.id,n,H]);const ve=async()=>{if(!(!n||!(e!=null&&e.id)||ne||l.length===0))try{le(!0),we("earlier");const Q=[...l].sort((Ae,Fe)=>new Date(Ae.createdAt).getTime()-new Date(Fe.createdAt).getTime())[0],ue=await e$(n,{limit:50,before:Q.createdAt}),me=await Promise.all(ue.map(async Ae=>Ae.hasImage?{...Ae,imageUrls:await ge(Ae.id,Ae.sceneUserId)}:{...Ae,imageUrls:[]}));me.length>0&&u(Ae=>[...me,...Ae]),Y(ue.length>=50)}catch(Q){throw Q}finally{le(!1)}};return C.useEffect(()=>{(async()=>{if(!$.current&&!H&&Math.floor(l.length/15)>f.length){$.current=!0;const ue=l.slice(-15).map(Fe=>`${Fe.role===Xt.USER?name:I==null?void 0:I.name}: ${Fe.content}`).join(`
`),me=(t==null?void 0:t.plan)==="free"?"You must fit it into 1 concise sentence.":"You must fit it into 2-3 concise sentences.",Ae={accessToken:r,refreshToken:i,chatId:n,messages:[{role:"user",parts:[{text:ue}]},{role:"user",parts:[{text:"Given the following conversation, extract a vital fact that is essential for recalling the conversation in the form of a memory recalled in first POV (use I, I'm) where 'I' refers to"+(I==null?void 0:I.name)+"'s perspective. "+me}]}]};try{const Fe=await fetch(`${mr}/generate-memory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)});if(!Fe.ok){const ut=await Fe.text();console.error("Error generating memory:",ut);return}const at=(await Fe.json()).memory;at.content&&at.content.trim()!==""&&(p(ut=>[...ut,at]),y(at))}catch(Fe){console.error("Error calling /generate-memory endpoint:",Fe)}finally{$.current=!1}}})()},[l.length,H]),{chatMessages:l,setChatMessages:u,errorMessages:T,engineReady:M,requestInProgress:R,requestSceneChangeInProgress:U,handleGenerate:async Q=>{var Tt;if(R)return;let ue="";if(!I){E(gt=>[...gt,{role:Xt.ERROR,content:"Character not loaded.",chatId:n,createdAt:new Date().toISOString(),hasImage:!1}]);return}let me=b.trim();const Ae={id:"",role:Xt.USER,content:me,chatId:n,createdAt:new Date().toISOString(),hasImage:!1,imageUrls:[]};Q||u(gt=>[...gt,Ae]),x(""),N(!0),we("new"),S("");try{if(!Q){const gt=await ebe(Ae);u(Et=>Et.map(vn=>vn.createdAt===Ae.createdAt&&vn.role===Xt.USER?{...vn,id:gt.id}:vn))}}catch{E(Et=>[...Et,{role:Xt.ERROR,content:"Failed to save chat.",chatId:n,createdAt:new Date().toISOString(),hasImage:!1}])}const Fe=lt.map(gt=>gt.content).join(`
`),Ge=`${I.name}'s roleplay memories: ${Fe}`,at=B?B.name:L?L.name:t==null?void 0:t.displayName,ut=Q?`
 Avoid saying anything similar to this: `+Q:"",Te={role:"user",parts:[{text:"We are doing a fictional roleplay between "+at+" (me) and "+I.name+" (you). You will respond as the role of "+I.name+", and I will assume the role of "+at+"."+Ye+`Here is more information about the character that you will play as:

You are `+I.name+`.
`+I.name+" in a summary: "+I.shortDescription+`
`+Ke+Ge+`

 In this roleplay, do not simply chat; Narrate scenes with vivid detail, capturing the atmosphere, emotions, and movement around you. Include dialogue, first POV, as if you are part of a novel. Stay deeply in character, using a style that matches your personality and world. Your responses should be immersive, drawing `+at+" into the experience.Incorporate your words into the story naturally rather than responding like a chatbot. However, Keep the entire response "+Me+Le+ut}]},ht=[...[...(t==null?void 0:t.plan)!=="free"?l.slice(-20):l.slice(-10),Ae].map(gt=>ez({...gt,content:gt.content})),Te];try{const gt=await fetch(`${mr}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:r,refreshToken:i,chatId:n,messages:ht,role:Xt.MODEL})});if(!gt.ok){const fe=await gt.text();throw console.error("Error generating chat response:",fe),new Error("Failed to generate chat response")}if(gt.headers.get("X-Chat-Id")!==st.current){console.warn("Response does not belong to the current chat, ignoring update.");return}const vn=(Tt=gt.body)==null?void 0:Tt.getReader(),vr=new TextDecoder;let Ea=!1;const oe="temp-"+new Date().toISOString();for(u(fe=>[...fe,{id:oe,chatId:n,role:Xt.MODEL,createdAt:new Date().toISOString(),content:"",hasImage:!1,imageUrls:[]}]),N(!1);!Ea;){const{value:fe,done:De}=await vn.read();Ea=De;const ze=vr.decode(fe);if(ze.startsWith("[DONE]")){const dt=ze.substring(6);if(dt==="{}")break;try{const Ct=JSON.parse(dt);u(On=>On.map(ii=>ii.id===oe?Ct:ii))}catch(Ct){console.error("Error parsing final message:",Ct)}break}ue+=ze,u(dt=>dt.map(Ct=>Ct.id===oe?{...Ct,content:ue}:Ct))}}catch(gt){E(Et=>[...Et,{role:Xt.ERROR,content:gt.toString(),chatId:n,createdAt:new Date().toISOString(),hasImage:!1}])}finally{N(!1)}},handleGenerateSceneChange:async()=>{var Fe;if(R)return;const Q=l.slice(-10),ue={role:"user",parts:[{text:"Based on the previous conversation, please respond with 1 sentence that narrates a scene change in third person, ensuring it makes sense given the prior context."}]},Ae=[...Q.map(Ge=>ez({...Ge,content:Ge.content})),ue];try{O(!0),we("new");const Ge=await fetch(`${mr}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:r,refreshToken:i,chatId:n,messages:Ae,role:Xt.NARRATOR})});if(!Ge.ok){const Tt=await Ge.text();throw console.error("Error generating scene change:",Tt),new Error("Failed to generate scene change")}if(Ge.headers.get("X-Chat-Id")!==st.current){O(!1);return}const ut=(Fe=Ge.body)==null?void 0:Fe.getReader(),Te=new TextDecoder;let He=!1,et="";const ht="temp-"+new Date().toISOString();for(u(Tt=>[...Tt,{id:ht,chatId:n,role:Xt.NARRATOR,createdAt:new Date().toISOString(),content:"",hasImage:!1,imageUrls:[]}]);!He;){const{value:Tt,done:gt}=await ut.read();He=gt;const Et=Te.decode(Tt);if(Et.startsWith("[DONE]")){const vn=Et.substring(6);if(vn==="{}")break;try{const vr=JSON.parse(vn);vr.role=Xt.NARRATOR,u(Ea=>Ea.map(oe=>oe.id===ht?vr:oe))}catch(vr){console.error("Error parsing final message:",vr)}break}et+=Et,u(vn=>vn.map(vr=>vr.id===ht?{...vr,content:et,isNarrator:!0}:vr))}}catch(Ge){E(at=>[...at,{role:Xt.ERROR,content:Ge.toString(),chatId:n,createdAt:new Date().toISOString(),hasImage:!1}])}finally{O(!1)}},handleGenerateSceneImage:async Q=>{if(!(!e||!I)){Ee(!0);try{let ue=`Character Name: ${I.name}
Character Description: ${I.shortDescription}
Character Personality: ${I.personality||""}
`;ue+=`Recent conversation:
`,l.slice(-5).forEach(Ge=>{const at=Ge.role==="user"?t==null?void 0:t.displayName:I.name;ue+=`${at}: ${Ge.content}
`});const me=await fetch(`${mr}/chats/${Q.chatId}/messages/${Q.id}/generate-scene`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e.id,chat_id:Q.chatId,message_id:Q.id,context:ue,credit_cost:5})});if(!me.ok){const Ge=await me.json();throw new Error(Ge.detail||me.statusText)}const{image_url:Ae,new_credits:Fe}=await me.json();return t&&s({...t,credits:Fe}),u(Ge=>Ge.map(at=>at.id===Q.id?{...at,hasImage:!0,imageUrls:[...at.imageUrls||[],Ae]}:at)),Ae}catch(ue){console.error("Generate-scene failed:",ue),E(me=>[...me,{role:Xt.ERROR,content:`Failed to generate scene image: ${ue.message}`,chatId:(a==null?void 0:a.id)||"",createdAt:new Date().toISOString(),hasImage:!1}])}finally{Ee(!1)}}},inputValue:b,setInputValue:x,infoLabel:w,character:I,chat:a,setChat:o,handleDeleteMessage:async Q=>{try{await iEe(n,Q),u(ue=>ue.filter(me=>me.id!==Q))}catch{E(me=>[...me,{id:"error-delete",role:Xt.ERROR,content:"Failed to delete message.",chatId:n,createdAt:new Date().toISOString(),hasImage:!1}])}},persona:B,storyPersona:L,setPersona:W,chatMemories:f,loadingChatData:H,handleUpvoteMessage:async Q=>{try{if(!(await fetch(`${mr}/upvote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({accessToken:r,refreshToken:i,messageId:Q.id,chatId:Q.chatId,userId:t==null?void 0:t.id})})).ok)throw new Error("Failed to upvote message")}catch(ue){console.error("Error upvoting message:",ue)}},handleDownvoteMessage:async(Q,ue)=>{try{if(!(await fetch(`${mr}/downvote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({accessToken:r,refreshToken:i,messageId:Q.id,chatId:Q.chatId,userId:t==null?void 0:t.id,reason:ue})})).ok)throw new Error("Failed to downvote message")}catch(me){console.error("Error downvoting message:",me)}},speedMode:se,setSpeedMode:K,recentMemoryGenerated:m,hasMoreMessages:G,loadingEarlierMessages:ne,loadEarlierMessages:ve,messageChangeSource:xe,generatingSceneImage:Re}},Oee=({errorMessages:n})=>d.jsx(d.Fragment,{children:n.map((e,t)=>d.jsx("div",{className:"flex mb-4 justify-start",children:d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center mb-1",children:d.jsx("span",{className:"text-red-500 text-sm mr-2",children:"Error"})}),d.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-700",children:e.content})]})},t))});var _k="Tabs",[REe,$Ne]=Yo(_k,[o3]),Mee=o3(),[jEe,eI]=REe(_k),Pee=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=n,f=RA(o),[p,m]=Dh({prop:r,onChange:i,defaultProp:s??"",caller:_k});return d.jsx(jEe,{scope:t,baseId:El(),value:p,onValueChange:m,orientation:a,dir:f,activationMode:l,children:d.jsx(Ft.div,{dir:f,"data-orientation":a,...u,ref:e})})});Pee.displayName=_k;var Fee="TabsList",Lee=C.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...i}=n,s=eI(Fee,t),a=Mee(t);return d.jsx(rV,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:d.jsx(Ft.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Lee.displayName=Fee;var Iee="TabsTrigger",$ee=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:i=!1,...s}=n,a=eI(Iee,t),o=Mee(t),l=zee(a.baseId,r),u=qee(a.baseId,r),f=r===a.value;return d.jsx(iV,{asChild:!0,...o,focusable:!i,active:f,children:d.jsx(Ft.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:pt(n.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:pt(n.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:pt(n.onFocus,()=>{const p=a.activationMode!=="manual";!f&&!i&&p&&a.onValueChange(r)})})})});$ee.displayName=Iee;var Bee="TabsContent",Wee=C.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:i,children:s,...a}=n,o=eI(Bee,t),l=zee(o.baseId,r),u=qee(o.baseId,r),f=r===o.value,p=C.useRef(f);return C.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),d.jsx(Zs,{present:i||f,children:({present:m})=>d.jsx(Ft.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...n.style,animationDuration:p.current?"0s":void 0},children:m&&s})})});Wee.displayName=Bee;function zee(n,e){return`${n}-trigger-${e}`}function qee(n,e){return`${n}-content-${e}`}var kEe=Pee,Hee=Lee,Vee=$ee,Gee=Wee;const dw=kEe,Iv=C.forwardRef(({className:n,...e},t)=>d.jsx(Hee,{ref:t,className:ft(`inline-flex h-9 items-center justify-center rounded-full ${_t} p-1 text-muted-foreground`,n),...e}));Iv.displayName=Hee.displayName;const ro=C.forwardRef(({className:n,...e},t)=>d.jsx(Vee,{ref:t,className:ft(`inline-flex items-center justify-center whitespace-nowrap rounded-full px-3 py-1 text-sm ${Xe} font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-[hsl(var(--background-light))] data-[state=active]:text-[hsl(var(--text-dark))] data-[state=active]:outline data-[state=active]:outline-1 data-[state=active]:outline-[hsl(var(--border))]`,n),...e}));ro.displayName=Vee.displayName;const Hu=C.forwardRef(({className:n,...e},t)=>d.jsx(Gee,{ref:t,className:ft("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Hu.displayName=Gee.displayName;const Xee=({label:n,isRestricted:e,restrictedMessage:t,unrestrictedMessage:r})=>{const{userData:i}=kt(),s=Pt((i==null?void 0:i.theme)||Fl("theme"));return d.jsxs("label",{className:`block text-sm font-medium ${Be} flex items-center`,children:[n,d.jsx("span",{className:"ml-1",children:d.jsx(Tee,{})}),d.jsxs(Nc,{children:[d.jsx(Rc,{asChild:!0,children:d.jsx(bt.button,{whileHover:{scale:1.1},type:"button",className:"ml-1 inline-flex items-center rounded-full p-1",children:e?d.jsx(Qz,{className:`w-3 h-3 ${Xe} hover:text-[#6e695d]`}):d.jsx(fS,{className:`w-4 h-4 ${Xe} hover:text-[#6e695d]`})})}),d.jsx(Nl,{side:"bottom",sideOffset:8,className:`w-48 p-2 text-sm shadow-xl rounded-xl ${s}`,children:e?t:r})]})]})},Yee=[{value:"short",label:"Short",description:"Default"},{value:"moderate",label:"Moderate",description:""},{value:"long",label:"Long",description:""}],UEe=({onClose:n,chat:e,setChat:t,character:r,persona:i,storyPersona:s,setShowPersonaPopover:a,setShowCoreMemoriesPopover:o})=>{var E;const{userData:l}=kt(),u=Fr(),[f,p]=C.useState((l==null?void 0:l.plan)!=="free"?((E=e.preferences)==null?void 0:E.responseLength)||"moderate":"short"),[m,y]=C.useState(!1),[b,x]=C.useState(!1);C.useEffect(()=>{(async()=>{if(l!=null&&l.id)try{const N=await Gve(l==null?void 0:l.id,r.id);y(N),x(await Xve(l==null?void 0:l.id,r.id))}catch(N){console.error("Error fetching user interactions:",N)}})()},[l==null?void 0:l.id,e==null?void 0:e.id]);const w=async R=>{const N={responseLength:R};p(R),t({...e,preferences:N}),await j8(e.id,{preferences:N})},S=async()=>{if(l!=null&&l.id)try{if(m){const{error:R}=await qe.from("character_likes").delete().eq("user_id",l.id).eq("character_id",r.id);if(R)throw R;await J9(r.id,!1),y(!1)}else{const{error:R}=await qe.from("character_likes").insert({user_id:l.id,character_id:r.id,liked_at:new Date().toISOString()});if(R)throw R;await J9(r.id,!0),y(!0)}}catch(R){console.error("Error toggling like:",R)}},T=async()=>{if(l!=null&&l.id)try{if(b){const{error:R}=await qe.from("bookmarks").delete().match({user_id:l.id,character_id:r.id});if(R)throw R;x(!1)}else{const{error:R}=await qe.from("bookmarks").insert([{user_id:l.id,character_id:r.id,bookmarked_at:new Date().toISOString()}]);if(R)throw R;x(!0)}}catch(R){console.error("Error toggling bookmark:",R)}};return d.jsx(Yj,{open:!0,onOpenChange:n,children:d.jsxs(EA,{className:`w-[400px] rounded-lg min-h-screen p-8 ${_t} ${Pt(l==null?void 0:l.theme)} overflow-visible`,children:[d.jsxs(Kj,{className:"gap-2",children:[d.jsxs("div",{className:"flex items-start",children:[d.jsxs(An,{className:"h-20 w-20",children:[d.jsx(Mn,{src:r.photo,alt:`${r.name} image`}),d.jsx(Bn,{className:`text-3xl border border-[#e8e5df] ${Yr} ${Be}`,children:dr(r.name)})]}),d.jsxs("div",{className:"ml-4 flex flex-col",children:[d.jsx(Zj,{className:`font-semibold text-xl ${it}`,children:r.name}),d.jsxs("span",{className:`text-sm ${Be}`,children:["By"," ",r.userName!=="persoa"?d.jsxs(ui,{to:`/profile/${r.userName}`,className:"hover:text-[#f7f1e4]",children:["@",r.userName]}):d.jsx(nT,{})]}),d.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Lie,{className:`w-4 h-4 ${Xe}`}),d.jsx("span",{className:`text-xs ${Xe}`,children:Or(r.chatCount??0)})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(F$,{className:`w-4 h-4 ${Xe}`}),d.jsx("span",{className:`text-xs ${Xe}`,children:Or(r.likeCount??0)})]})]})]})]}),d.jsx(fH,{className:`text-left text-sm ${it}`,children:r.shortDescription})]}),d.jsx("hr",{className:"my-4 mb-2"}),d.jsxs("div",{className:"flex justify-center items-center space-x-2 my-4",children:[d.jsx(ct,{variant:"outline",className:`rounded-full ${_t} ${Dn}`,onClick:S,children:m?d.jsx(Uwe,{className:`w-5 h-5 ${it}`}):d.jsx(F$,{className:it})}),d.jsx(ct,{variant:"outline",className:`rounded-full ${_t} ${Dn}`,onClick:T,children:b?d.jsx(kwe,{className:it}):d.jsx(jwe,{className:it})}),d.jsxs(ct,{variant:"outline",className:`rounded-full ${_t} ${Dn} ${Xe} flex items-center`,onClick:()=>{tv(u,r),n()},children:[d.jsx(Pie,{className:"w-5 h-5"}),d.jsx("span",{children:"New chat"})]}),d.jsxs(ct,{variant:"outline",disabled:!r.allowCloning,onClick:()=>u(`/clone/${r.id}`),className:`rounded-full ${_t} ${Dn} ${Xe} flex items-center`,children:[d.jsx(ose,{className:"w-5 h-5"}),d.jsx("span",{children:"Clone"})]})]}),d.jsxs("div",{className:"my-8",children:[d.jsx(Xee,{label:"Response Length",isRestricted:(l==null?void 0:l.plan)!=="premium",restrictedMessage:"Upgrade your plan to access longer response lengths.",unrestrictedMessage:`Manage the length of ${r.name}'s responses for this chat.`}),d.jsx("div",{className:(l==null?void 0:l.plan)!=="premium"?"pointer-events-none opacity-50 mt-2":"mt-2",children:d.jsx(dw,{value:f,defaultValue:"short",onValueChange:async R=>await w(R),children:d.jsx(Iv,{className:"grid grid-cols-3",children:Yee.map(R=>d.jsx(ro,{value:R.value,children:R.label},R.value))})})})]}),d.jsx("div",{className:"mt-6",children:d.jsxs("div",{className:"mb-4",children:[d.jsx(Er,{labelText:"Core Memories",infoText:`This is ${r.name}'s long term memory, gained from long chat histories.`}),d.jsx("div",{className:"flex flex-row justify-between mt-4",children:d.jsxs(ct,{onClick:()=>o(!0),className:`rounded-full text-sm flex items-center
                ${Zt} ${wn} ${Be} 
                transition duration-300 hover:shadow-md`,children:[d.jsx(t4,{className:"w-6 h-6"}),d.jsx("span",{children:"View"})]})})]})}),d.jsxs("div",{className:"mt-6",children:[d.jsx("div",{className:"mb-4",children:d.jsx(Er,{labelText:"Persona",infoText:`${r.name} will see you as your persona.`})}),d.jsxs("div",{className:"flex flex-row justify-between",children:[i?d.jsxs("span",{className:`flex flex-row text-md items-center gap-3 ${Be}`,children:[d.jsxs(An,{className:"h-8 w-8",children:[d.jsx(Mn,{src:i.photo}),d.jsx(Bn,{className:`text-sm ${Cr} border`,children:dr(i.name)})]}),kn(i.name,24)]}):s&&d.jsxs("span",{className:`flex flex-row text-md items-center gap-3 ${Be}`,children:[d.jsxs(An,{className:"h-8 w-8",children:[d.jsx(Mn,{src:s.photo}),d.jsx(Bn,{className:`text-sm ${Yr} border`,children:dr(s.name)})]}),kn(s.name,24)]}),!s&&d.jsxs(ct,{onClick:()=>a(!0),className:`rounded-full text-sm flex items-center
                ${Zt} ${wn} ${Be} 
                transition duration-300 hover:shadow-md`,children:[d.jsx(s4,{className:"w-6 h-6"}),d.jsx("span",{children:i?"Switch":"Add"})]})]})]})]})})},Kee=C.createContext(void 0),OEe=({children:n})=>{const{user:e}=kt(),[t,r]=C.useState([]),[i,s]=C.useState(!1);C.useEffect(()=>{(async()=>{if(!e){r([]);return}s(!0);const l=new Date;l.setDate(l.getDate()-30);const{data:u,error:f}=await qe.from("chats").select("*").eq("user_id",e.id).gte("updated_at",l.toISOString()).order("updated_at",{ascending:!1});f&&console.error("Error fetching chats:",f);const p=u?u.map(b=>({...b,updatedAt:b.updated_at,userId:b.user_id,characterId:b.character_id})):[];let m=[];try{m=await yTe(e.id)}catch(b){console.error("Error fetching group chats:",b)}const y=[...p,...m].sort((b,x)=>new Date(x.updatedAt).getTime()-new Date(b.updatedAt).getTime());r(y),s(!1)})()},[e==null?void 0:e.id]),C.useEffect(()=>{if(!e)return;const o=qe.channel("public:chats");return o.on("postgres_changes",{event:"INSERT",schema:"public",table:"chats",filter:`user_id=eq.${e.id}`},l=>{const u=ES(l.new);r(f=>f.some(m=>m.id===u.id)?f:[u,...f].sort((m,y)=>new Date(y.updatedAt).getTime()-new Date(m.updatedAt).getTime()))}),o.on("postgres_changes",{event:"UPDATE",schema:"public",table:"chats",filter:`user_id=eq.${e.id}`},l=>{const u=ES(l.new);r(f=>f.map(m=>m.id===u.id?u:m).sort((m,y)=>new Date(y.updatedAt).getTime()-new Date(m.updatedAt).getTime()))}),o.on("postgres_changes",{event:"DELETE",schema:"public",table:"chats",filter:`user_id=eq.${e.id}`},l=>{r(u=>u.filter(f=>f.id!==l.old.id))}),o.subscribe(),()=>{o.unsubscribe()}},[e]),C.useEffect(()=>{if(!e)return;const o=qe.channel("public:group_chats");return o.on("postgres_changes",{event:"INSERT",schema:"public",table:"group_chats",filter:`user_id=cs.{${e.id}}`},l=>{const u=W1(l.new);r(f=>f.some(m=>m.id===u.id)?f:[u,...f].sort((m,y)=>new Date(y.updatedAt).getTime()-new Date(m.updatedAt).getTime()))}),o.on("postgres_changes",{event:"UPDATE",schema:"public",table:"group_chats",filter:`user_id=cs.{${e.id}}`},l=>{const u=W1(l.new);r(f=>f.map(m=>m.id===u.id?u:m).sort((m,y)=>new Date(y.updatedAt).getTime()-new Date(m.updatedAt).getTime()))}),o.on("postgres_changes",{event:"DELETE",schema:"public",table:"group_chats",filter:`user_id=cs.{${e.id}}`},l=>{r(u=>u.filter(f=>f.id!==l.old.id))}),o.subscribe(),()=>{o.unsubscribe()}},[e]);const a={chats:t,setChats:r,loading:i};return d.jsx(Kee.Provider,{value:a,children:n})},Sk=()=>{const n=C.useContext(Kee);if(n===void 0)throw new Error("useChats must be used within a ChatProvider");return n},Zee=({open:n,onOpenChange:e,userId:t,onSelectPersona:r,persona:i})=>{const{userData:s}=kt(),[a,o]=C.useState([]),[l,u]=C.useState(!1),[f,p]=C.useState("");C.useEffect(()=>{if(!n||!t)return;(async()=>{try{u(!0);const b=await cj(t);o(b)}catch(b){console.error(b)}finally{u(!1)}})()},[n,t]);const m=a.filter(y=>y.name.toLowerCase().includes(f.toLowerCase()));return d.jsx(ao,{open:n,onOpenChange:e,children:d.jsxs(Ta,{allowLeave:!0,className:`rounded-xl w-[400px] h-[500px] p-4 flex flex-col items-center ${_t} ${Xe} ${Pt(s==null?void 0:s.theme)}`,children:[d.jsx(ls,{className:"text-lg font-semibold text-center",children:"Select a Persona"}),d.jsx("div",{className:"w-full flex justify-center",children:d.jsx(P1,{className:"max-w-[300px] w-full",showPopover:!1,value:f,onValueChange:y=>p(y),handleKeyDown:()=>{},height:"h-8",placeholder:"Search personas"})}),d.jsx("div",{className:"w-3/4 flex-1 min-h-0 overflow-y-auto space-y-2",children:l?d.jsx("div",{className:"flex items-center justify-center h-full text-sm text-gray-500",children:d.jsx(yr,{className:"animate-spin h-6 w-6"})}):m.length>0?m.map(y=>d.jsx(MEe,{name:y.name,photoUrl:y.photo,handleClick:()=>{(i==null?void 0:i.id)===y.id?r(void 0):r(y),e(!1)},isCurrentPersona:(i==null?void 0:i.id)===y.id},y.id)):d.jsx("div",{className:"text-sm text-gray-500 text-center",children:"No personas found."})})]})})},MEe=({handleClick:n,name:e,photoUrl:t,isCurrentPersona:r})=>d.jsx("div",{onClick:n,className:"cursor-pointer",children:d.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded-xl ${r&&Zt} ${r?wn:Fj} hover:rounded-xl`,children:[d.jsxs(An,{className:"h-12 w-12",children:[d.jsx(Mn,{src:t,alt:e}),d.jsx(Bn,{className:`text-md ${Cr} border border-[hsl(var(--input))]/50`,children:dr(e)})]}),d.jsx("span",{className:"text-sm font-semibold",children:e})]})}),Qee=({open:n,onOpenChange:e,title:t,memories:r,loading:i})=>{const{userData:s}=kt(),{isMobile:a}=In(),o=r.length>0&&"memory"in r[0],l=u=>o?u.memory:u.content;return d.jsx(ao,{open:n,onOpenChange:e,children:d.jsxs(Ta,{allowLeave:!0,className:`rounded-xl ${a?"w-full h-4/5":"w-1/2 h-3/4"} p-4 flex flex-col ${Pt(s==null?void 0:s.theme)} ${Zt}`,children:[d.jsx(ls,{className:"text-lg font-semibold text-center",children:t}),d.jsx("div",{className:"w-full h-full border border-[#d9d6d0] rounded-lg flex-1 min-h-0 space-y-2",children:d.jsx("div",{className:"w-full h-full p-4 overflow-y-auto rounded-lg",children:i?d.jsx("div",{className:"flex items-center justify-center h-full text-sm text-gray-500",children:d.jsx(yr,{className:"animate-spin h-6 w-6"})}):r.length>0?r.map(u=>d.jsxs("div",{className:"mb-4",children:[d.jsx("div",{className:"flex flex-row items-center mb-2 text-md",children:d.jsx("p",{className:Be,children:l(u)})}),d.jsx("div",{className:`flex justify-end text-xs ${Xe}`,children:mP(u.createdAt)})]},u.id)):d.jsx("div",{className:`text-sm ${Xe} text-center mt-8`,children:"No important memories yet!"})})}),d.jsxs("span",{className:`w-full text-right ${Xe}`,children:[Or(r.length)," ",r.length===1?"memory":"memories"]})]})})},PEe=({showMemoryNotification:n,setShowMemoryNotification:e,setShowCoreMemoriesPopover:t,recentMemoryGeneratedContent:r,characterPhotoUrl:i,characterName:s})=>d.jsxs(Nc,{open:n,onOpenChange:a=>e(a),children:[d.jsx(Rc,{asChild:!0,children:d.jsx("div",{className:"fixed top-4 right-4 z-50"})}),d.jsxs(Nl,{className:`${Zt} p-4 max-w-sm shadow-lg rounded-lg relative`,align:"end",sideOffset:4,children:[d.jsx("button",{onClick:()=>e(!1),className:`absolute top-2 right-2 ${Be}`,"aria-label":"Close",children:d.jsx(Go,{size:18})}),d.jsxs("div",{className:"flex items-center mb-2 mt-2",children:[d.jsxs(An,{className:"h-8 w-8 mr-2",children:[d.jsx(Mn,{src:i,alt:`${s} image`}),d.jsx(Bn,{className:`${Yr} ${Be} rounded-full text-xs`,children:dr(s)})]}),d.jsx("span",{className:`${it} font-semibold`,children:s})]}),d.jsx("div",{className:`${Be} text-sm mb-3`,children:r}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:()=>{e(!1),t(!0)},className:`text-xs rounded-full font-medium px-2 py-2 transition-colors ${ti} ${ni} ${ri}`,children:"View new memory"})})]})]}),FEe=({setShowSettings:n,setShowPlans:e})=>{const{userData:t,loading:r}=kt(),{isMobile:i}=In(),{chats:s,setChats:a}=Sk(),{id:o}=V1(),[l,u]=C.useState(!1),[f,p]=C.useState(!1),[m,y]=C.useState(!1),[b,x]=C.useState(void 0),[w,S]=C.useState(void 0),[T,E]=C.useState(void 0),[R,N]=C.useState(!1),U=C.useRef(null),O=C.useRef(null),{chatMessages:M,errorMessages:P,engineReady:H,requestInProgress:X,requestSceneChangeInProgress:I,handleGenerate:q,handleGenerateSceneChange:L,inputValue:te,setInputValue:B,character:W,chat:se,setChat:K,handleDeleteMessage:G,persona:Y,storyPersona:ne,setPersona:le,chatMemories:xe,loadingChatData:we,handleUpvoteMessage:Re,handleDownvoteMessage:Ee,speedMode:Me,setSpeedMode:Ye,recentMemoryGenerated:Ke,hasMoreMessages:Le,loadingEarlierMessages:lt,loadEarlierMessages:st,messageChangeSource:$,handleGenerateSceneImage:ge}=NEe(o),ve=C.useMemo(()=>({username:W==null?void 0:W.userName,name:(W==null?void 0:W.name)||"",image:b,setShowAccountSettings:n,setShowCharacterSettings:u,loading:r,setShowPlans:()=>e(!0)}),[W==null?void 0:W.name,b,se]);C.useEffect(()=>{document.title="persoa.ai | Chat with "+(W==null?void 0:W.name)},[W==null?void 0:W.name]);const ae=C.useMemo(()=>Y?{...t,displayName:Y.name}:ne?{...t,displayName:ne.name}:t,[Y,ne,t==null?void 0:t.id]);C.useEffect(()=>{var ye;$==="new"&&((ye=U.current)==null||ye.scrollIntoView({behavior:"smooth"}))},[M]),C.useEffect(()=>{(async()=>{if(W!=null&&W.userId&&(W!=null&&W.id)){const ke=await Pl(W.userId,W.id);x(ke??void 0)}})()},[W]),C.useEffect(()=>{(async()=>{if(t!=null&&t.id)if(Y){const ke=await sT(t.id,Y.id);S(ke??void 0),E(ke??void 0)}else if(ne&&ne.userId){const ke=await Pl(ne==null?void 0:ne.userId,ne.id);S(ke??void 0),E(ke??void 0)}else{const ke=await _v(t.id);S(ke??void 0)}})()},[t,Y,ne]),C.useEffect(()=>{if(!t||!o||!W)return;if(!s.some(ke=>ke.id===o)){const ke={id:o,userId:t.id,characterId:W.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),preferences:{responseLength:"short"}};a(be=>[...be,ke])}},[t,o,W]),C.useEffect(()=>{(async()=>{if(t&&W&&!W.userId)try{await nY(W.id,{userId:t.id,userName:t.username})}catch(ke){console.error("Error updating character:",ke)}})()},[t,o,W]),C.useEffect(()=>{if(Ke!=null&&Ke.content){N(!0);const ye=setTimeout(()=>{N(!1)},5e3);return()=>clearTimeout(ye)}},[Ke==null?void 0:Ke.content]);const ce=async ye=>{if(se)try{await j8(se.id,{personaId:ye==null?void 0:ye.id}),K({...se,personaId:ye==null?void 0:ye.id}),le(ye)}catch(ke){console.error("Error updating chat with persona:",ke)}};return d.jsxs("div",{className:`w-full h-screen ${_t} overflow-auto relative`,ref:O,children:[d.jsx(Eee,{...ve}),d.jsxs("div",{className:"pt-10 w-full mx-auto text-center",children:[d.jsxs(An,{className:"h-24 w-24 mx-auto",children:[d.jsx(Mn,{src:b,alt:`${W==null?void 0:W.name} image`}),d.jsx(Bn,{className:`${Yr} ${Be} rounded-full text-5xl`,children:dr((W==null?void 0:W.name)||"")})]}),d.jsxs("div",{className:"mt-4",children:[d.jsxs("span",{className:"justify-center flex flex-row",children:[we?d.jsx("div",{className:`animate-pulse ${Zt} w-36 h-6 rounded-lg`,"aria-label":"Loading chat data"}):d.jsx("span",{className:`block ${it} font-semibold text-xl`,role:"heading",children:(W==null?void 0:W.name)||"Chat not found"}),(W==null?void 0:W.restriction)===Un.MATURE&&d.jsx("span",{className:"ml-2 font-semibold",children:d.jsx(B1,{})})]}),d.jsx("span",{className:`block ${it} font-sans text-md mt-1 max-w-lg mx-auto text-center mb-1`,children:W==null?void 0:W.shortDescription}),d.jsxs("span",{className:`block ${it} font-sans text-sm`,children:[(W==null?void 0:W.userName)&&(W==null?void 0:W.userName)!==""&&W.userName!=="persoa"&&d.jsxs("span",{children:["By"," ",d.jsxs(ui,{to:`/profile/${W==null?void 0:W.userName}`,className:"hover:text-zinc-900",children:["@",W==null?void 0:W.userName]})]}),(W==null?void 0:W.userName)==="persoa"&&d.jsxs("span",{className:"mt-1 text-sm",children:["By ",d.jsx(nT,{})]})]})]})]}),d.jsxs("div",{className:`pt-10 w-full max-w-3xl mx-auto pb-24 ${i?"px-8":""}`,children:[!r&&!we&&Le&&d.jsx("div",{className:"w-full flex justify-center mb-4",children:d.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium ${Xe} transition-all ${lt?"opacity-50 cursor-not-allowed":""} ${Bo} ${Dn}`,onClick:st,disabled:lt,children:lt?d.jsx("span",{className:"flex items-center",children:d.jsx(yr,{className:"animate-spin h-6 w-6"})}):d.jsxs("span",{className:"flex flex-row items-center",children:["Load earlier messages ",d.jsx(wA,{className:"ml-2",size:16})]})})}),d.jsx(Oee,{errorMessages:P}),H&&M.map((ye,ke)=>{const be=ye.role===Xt.MODEL?async J=>{B(M[M.length-1].content),await q(J)}:void 0;return d.jsx(lj,{message:ye,role:ye.role,character:W||void 0,userProfile:ae,handleDeleteChatMessage:G,imageUrl:ye.role==="user"?w:b,onRegenerate:be,allowRegenerate:ke===M.length-1,allowVote:ke===M.length-1,handleUpvoteMessage:Re,handleDownvoteMessage:Ee,handleGenerateSceneImage:ge},ye.id)}),W&&(!H||X)&&d.jsx(lj,{message:{id:"",chatId:"",role:Xt.MODEL,content:"",createdAt:new Date().toISOString(),hasImage:!1,imageUrls:[]},role:Xt.MODEL,character:W||void 0,userProfile:t,handleDeleteChatMessage:G,imageUrl:b,allowRegenerate:!1,allowVote:!1,handleUpvoteMessage:Re,handleDownvoteMessage:Ee}),d.jsx("div",{ref:U}),d.jsx(jee,{name:W==null?void 0:W.name,engineReady:H,requestInProgress:X||I,handleSubmit:q,inputValue:te,setInputValue:B,handleGenerateSceneChange:L,speedMode:Me,setSpeedMode:ye=>Ye(ye||"smart")})]}),l&&se&&W&&d.jsx(UEe,{onClose:()=>u(!1),chat:se,setChat:K,character:{...W,photo:b},persona:Y?{...Y,photo:T}:void 0,storyPersona:ne,setShowPersonaPopover:p,setShowCoreMemoriesPopover:y}),d.jsx(Zee,{open:f,onOpenChange:p,userId:t==null?void 0:t.id,onSelectPersona:ce,persona:Y}),d.jsx(Qee,{open:m,onOpenChange:y,title:`${(W==null?void 0:W.name)&&`${W==null?void 0:W.name}'s`} Memories`,memories:xe,loading:we}),Ke&&d.jsx(PEe,{showMemoryNotification:R,setShowMemoryNotification:N,setShowCoreMemoriesPopover:y,recentMemoryGeneratedContent:Ke.content,characterPhotoUrl:b,characterName:(W==null?void 0:W.name)||""})]})};var rP,tz;function LEe(){if(tz)return rP;tz=1;function n(S){this._maxSize=S,this.clear()}n.prototype.clear=function(){this._size=0,this._values=Object.create(null)},n.prototype.get=function(S){return this._values[S]},n.prototype.set=function(S,T){return this._size>=this._maxSize&&this.clear(),S in this._values||this._size++,this._values[S]=T};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,t=/^\d+$/,r=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,o=new n(a),l=new n(a),u=new n(a);rP={Cache:n,split:p,normalizePath:f,setter:function(S){var T=f(S);return l.get(S)||l.set(S,function(R,N){for(var U=0,O=T.length,M=R;U<O-1;){var P=T[U];if(P==="__proto__"||P==="constructor"||P==="prototype")return R;M=M[T[U++]]}M[T[U]]=N})},getter:function(S,T){var E=f(S);return u.get(S)||u.set(S,function(N){for(var U=0,O=E.length;U<O;)if(N!=null||!T)N=N[E[U++]];else return;return N})},join:function(S){return S.reduce(function(T,E){return T+(y(E)||t.test(E)?"["+E+"]":(T?".":"")+E)},"")},forEach:function(S,T,E){m(Array.isArray(S)?S:p(S),T,E)}};function f(S){return o.get(S)||o.set(S,p(S).map(function(T){return T.replace(s,"$2")}))}function p(S){return S.match(e)||[""]}function m(S,T,E){var R=S.length,N,U,O,M;for(U=0;U<R;U++)N=S[U],N&&(w(N)&&(N='"'+N+'"'),M=y(N),O=!M&&/^\d+$/.test(N),T.call(E,N,M,O,U,S))}function y(S){return typeof S=="string"&&S&&["'",'"'].indexOf(S.charAt(0))!==-1}function b(S){return S.match(r)&&!S.match(t)}function x(S){return i.test(S)}function w(S){return!y(S)&&(b(S)||x(S))}return rP}var iv=LEe(),iP,nz;function IEe(){if(nz)return iP;nz=1;const n=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=f=>f.match(n)||[],t=f=>f[0].toUpperCase()+f.slice(1),r=(f,p)=>e(f).join(p).toLowerCase(),i=f=>e(f).reduce((p,m)=>`${p}${p?m[0].toUpperCase()+m.slice(1).toLowerCase():m.toLowerCase()}`,"");return iP={words:e,upperFirst:t,camelCase:i,pascalCase:f=>t(i(f)),snakeCase:f=>r(f,"_"),kebabCase:f=>r(f,"-"),sentenceCase:f=>t(r(f," ")),titleCase:f=>e(f).map(t).join(" ")},iP}var sP=IEe(),uN={exports:{}},rz;function $Ee(){if(rz)return uN.exports;rz=1,uN.exports=function(i){return n(e(i),i)},uN.exports.array=n;function n(i,s){var a=i.length,o=new Array(a),l={},u=a,f=t(s),p=r(i);for(s.forEach(function(y){if(!p.has(y[0])||!p.has(y[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});u--;)l[u]||m(i[u],u,new Set);return o;function m(y,b,x){if(x.has(y)){var w;try{w=", node was:"+JSON.stringify(y)}catch{w=""}throw new Error("Cyclic dependency"+w)}if(!p.has(y))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(y));if(!l[b]){l[b]=!0;var S=f.get(y)||new Set;if(S=Array.from(S),b=S.length){x.add(y);do{var T=S[--b];m(T,p.get(T),x)}while(b);x.delete(y)}o[--a]=y}}}function e(i){for(var s=new Set,a=0,o=i.length;a<o;a++){var l=i[a];s.add(l[0]),s.add(l[1])}return Array.from(s)}function t(i){for(var s=new Map,a=0,o=i.length;a<o;a++){var l=i[a];s.has(l[0])||s.set(l[0],new Set),s.has(l[1])||s.set(l[1],new Set),s.get(l[0]).add(l[1])}return s}function r(i){for(var s=new Map,a=0,o=i.length;a<o;a++)s.set(i[a],a);return s}return uN.exports}var BEe=$Ee();const WEe=kh(BEe),zEe=Object.prototype.toString,qEe=Error.prototype.toString,HEe=RegExp.prototype.toString,VEe=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",GEe=/^Symbol\((.*)\)(.*)$/;function XEe(n){return n!=+n?"NaN":n===0&&1/n<0?"-0":""+n}function iz(n,e=!1){if(n==null||n===!0||n===!1)return""+n;const t=typeof n;if(t==="number")return XEe(n);if(t==="string")return e?`"${n}"`:n;if(t==="function")return"[Function "+(n.name||"anonymous")+"]";if(t==="symbol")return VEe.call(n).replace(GEe,"Symbol($1)");const r=zEe.call(n).slice(8,-1);return r==="Date"?isNaN(n.getTime())?""+n:n.toISOString(n):r==="Error"||n instanceof Error?"["+qEe.call(n)+"]":r==="RegExp"?HEe.call(n):null}function xh(n,e){let t=iz(n,e);return t!==null?t:JSON.stringify(n,function(r,i){let s=iz(this[r],e);return s!==null?s:i},2)}function Jee(n){return n==null?[]:[].concat(n)}let ete,tte,nte,YEe=/\$\{\s*(\w+)\s*\}/g;ete=Symbol.toStringTag;class sz{constructor(e,t,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[ete]="Error",this.name="ValidationError",this.value=t,this.path=r,this.type=i,this.errors=[],this.inner=[],Jee(e).forEach(s=>{if(to.isError(s)){this.errors.push(...s.errors);const a=s.inner.length?s.inner:[s];this.inner.push(...a)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}tte=Symbol.hasInstance;nte=Symbol.toStringTag;class to extends Error{static formatError(e,t){const r=t.label||t.path||"this";return t=Object.assign({},t,{path:r,originalPath:t.path}),typeof e=="string"?e.replace(YEe,(i,s)=>xh(t[s])):typeof e=="function"?e(t):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,t,r,i,s){const a=new sz(e,t,r,i);if(s)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[nte]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,to)}static[tte](e){return sz[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Su={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:n,type:e,value:t,originalValue:r})=>{const i=r!=null&&r!==t?` (cast from the value \`${xh(r,!0)}\`).`:".";return e!=="mixed"?`${n} must be a \`${e}\` type, but the final value was: \`${xh(t,!0)}\``+i:`${n} must match the configured type. The validated value was: \`${xh(t,!0)}\``+i}},Va={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},KEe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},BF={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},ZEe={isValue:"${path} field must be ${value}"},vR={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},bR={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},QEe={notType:n=>{const{path:e,value:t,spec:r}=n,i=r.types.length;if(Array.isArray(t)){if(t.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${t.length} for value: \`${xh(t,!0)}\``;if(t.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${t.length} for value: \`${xh(t,!0)}\``}return to.formatError(Su.notType,n)}};Object.assign(Object.create(null),{mixed:Su,string:Va,number:KEe,date:BF,object:vR,array:bR,boolean:ZEe,tuple:QEe});const Dk=n=>n&&n.__isYupSchema__;class uj{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=t,a=typeof r=="function"?r:(...o)=>o.every(l=>l===r);return new uj(e,(o,l)=>{var u;let f=a(...o)?i:s;return(u=f==null?void 0:f(l))!=null?u:l})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let r=this.refs.map(s=>s.getValue(t==null?void 0:t.value,t==null?void 0:t.parent,t==null?void 0:t.context)),i=this.fn(r,e,t);if(i===void 0||i===e)return e;if(!Dk(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)}}const dN={context:"$",value:"."};class $v{constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===dN.context,this.isValue=this.key[0]===dN.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?dN.context:this.isValue?dN.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&iv.getter(this.path,!0),this.map=t.map}getValue(e,t,r){let i=this.isContext?r:this.isValue?e:t;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,t){return this.getValue(e,t==null?void 0:t.parent,t==null?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}$v.prototype.__isYupRef=!0;const Ig=n=>n==null;function kx(n){function e({value:t,path:r="",options:i,originalValue:s,schema:a},o,l){const{name:u,test:f,params:p,message:m,skipAbsent:y}=n;let{parent:b,context:x,abortEarly:w=a.spec.abortEarly,disableStackTrace:S=a.spec.disableStackTrace}=i;function T(X){return $v.isRef(X)?X.getValue(t,b,x):X}function E(X={}){const I=Object.assign({value:t,originalValue:s,label:a.spec.label,path:X.path||r,spec:a.spec,disableStackTrace:X.disableStackTrace||S},p,X.params);for(const L of Object.keys(I))I[L]=T(I[L]);const q=new to(to.formatError(X.message||m,I),t,I.path,X.type||u,I.disableStackTrace);return q.params=I,q}const R=w?o:l;let N={path:r,parent:b,type:u,from:i.from,createError:E,resolve:T,options:i,originalValue:s,schema:a};const U=X=>{to.isError(X)?R(X):X?l(null):R(E())},O=X=>{to.isError(X)?R(X):o(X)};if(y&&Ig(t))return U(!0);let P;try{var H;if(P=f.call(N,t,N),typeof((H=P)==null?void 0:H.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${N.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(P).then(U,O)}}catch(X){O(X);return}U(P)}return e.OPTIONS=n,e}function JEe(n,e,t,r=t){let i,s,a;return e?(iv.forEach(e,(o,l,u)=>{let f=l?o.slice(1,o.length-1):o;n=n.resolve({context:r,parent:i,value:t});let p=n.type==="tuple",m=u?parseInt(f,10):0;if(n.innerType||p){if(p&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(t&&m>=t.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);i=t,t=t&&t[m],n=p?n.spec.types[m]:n.innerType}if(!u){if(!n.fields||!n.fields[f])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${n.type}")`);i=t,t=t&&t[f],n=n.fields[f]}s=f,a=l?"["+o+"]":"."+o}),{schema:n,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:n}}class dj extends Set{describe(){const e=[];for(const t of this.values())e.push($v.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const r of this.values())t.push(e(r));return t}clone(){return new dj(this.values())}merge(e,t){const r=this.clone();return e.forEach(i=>r.add(i)),t.forEach(i=>r.delete(i)),r}}function Xx(n,e=new Map){if(Dk(n)||!n||typeof n!="object")return n;if(e.has(n))return e.get(n);let t;if(n instanceof Date)t=new Date(n.getTime()),e.set(n,t);else if(n instanceof RegExp)t=new RegExp(n),e.set(n,t);else if(Array.isArray(n)){t=new Array(n.length),e.set(n,t);for(let r=0;r<n.length;r++)t[r]=Xx(n[r],e)}else if(n instanceof Map){t=new Map,e.set(n,t);for(const[r,i]of n.entries())t.set(r,Xx(i,e))}else if(n instanceof Set){t=new Set,e.set(n,t);for(const r of n)t.add(Xx(r,e))}else if(n instanceof Object){t={},e.set(n,t);for(const[r,i]of Object.entries(n))t[r]=Xx(i,e)}else throw Error(`Unable to clone ${n}`);return t}class Pc{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new dj,this._blacklist=new dj,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Su.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(t=>{t.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Xx(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(e.length===0)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=t,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,r=e.clone();const i=Object.assign({},t.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},t.internalTests,r.internalTests),r._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),r.tests=t.tests,r.exclusiveTests=t.exclusiveTests,r.withMutation(s=>{e.tests.forEach(a=>{s.test(a.OPTIONS)})}),r.transforms=[...t.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let r=t.conditions;t=t.clone(),t.conditions=[],t=r.reduce((i,s)=>s.resolve(i,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(t=e.strict)!=null?t:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,t={}){let r=this.resolve(Object.assign({value:e},t)),i=t.assert==="ignore-optionality",s=r._cast(e,t);if(t.assert!==!1&&!r.isType(s)){if(i&&Ig(s))return s;let a=xh(e),o=xh(s);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return s}_cast(e,t){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(t)),r}_validate(e,t={},r,i){let{path:s,originalValue:a=e,strict:o=this.spec.strict}=t,l=e;o||(l=this._cast(l,Object.assign({assert:!1},t)));let u=[];for(let f of Object.values(this.internalTests))f&&u.push(f);this.runTests({path:s,value:l,originalValue:a,options:t,tests:u},r,f=>{if(f.length)return i(f,l);this.runTests({path:s,value:l,originalValue:a,options:t,tests:this.tests},r,i)})}runTests(e,t,r){let i=!1,{tests:s,value:a,originalValue:o,path:l,options:u}=e,f=x=>{i||(i=!0,t(x,a))},p=x=>{i||(i=!0,r(x,a))},m=s.length,y=[];if(!m)return p([]);let b={value:a,originalValue:o,path:l,options:u,schema:this};for(let x=0;x<s.length;x++){const w=s[x];w(b,f,function(T){T&&(Array.isArray(T)?y.push(...T):y.push(T)),--m<=0&&p(y)})}}asNestedTest({key:e,index:t,parent:r,parentPath:i,originalParent:s,options:a}){const o=e??t;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let u=r[o];const f=Object.assign({},a,{strict:!0,parent:r,value:u,originalValue:s[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${i||""}[${l?o:`"${o}"`}]`:(i?`${i}.`:"")+e});return(p,m,y)=>this.resolve(f)._validate(u,f,m,y)}validate(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),s=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((a,o)=>i._validate(e,t,(l,u)=>{to.isError(l)&&(l.value=u),o(l)},(l,u)=>{l.length?o(new to(l,u,void 0,void 0,s)):a(u)}))}validateSync(e,t){var r;let i=this.resolve(Object.assign({},t,{value:e})),s,a=(r=t==null?void 0:t.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},t,{sync:!0}),(o,l)=>{throw to.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new to(o,e,void 0,void 0,a);s=l}),s}isValid(e,t){return this.validate(e,t).then(()=>!0,r=>{if(to.isError(r))return!1;throw r})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(r){if(to.isError(r))return!1;throw r}}_getDefault(e){let t=this.spec.default;return t==null?t:typeof t=="function"?t.call(this,e):Xx(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,t){const r=this.clone({nullable:e});return r.internalTests.nullable=kx({message:t,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,t){const r=this.clone({optional:e});return r.internalTests.optionality=kx({message:t,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Su.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Su.notNull){return this.nullability(!1,e)}required(e=Su.required){return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(e.length===1?typeof e[0]=="function"?t={test:e[0]}:t=e[0]:e.length===2?t={name:e[0],test:e[1]}:t={name:e[0],message:e[1],test:e[2]},t.message===void 0&&(t.message=Su.default),typeof t.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=kx(t),s=t.exclusive||t.name&&r.exclusiveTests[t.name]===!0;if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(r.exclusiveTests[t.name]=!!t.exclusive),r.tests=r.tests.filter(a=>!(a.OPTIONS.name===t.name&&(s||a.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,t){!Array.isArray(e)&&typeof e!="string"&&(t=e,e=".");let r=this.clone(),i=Jee(e).map(s=>new $v(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof t=="function"?new uj(i,t):uj.fromOptions(i,t)),r}typeError(e){let t=this.clone();return t.internalTests.typeError=kx({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),t}oneOf(e,t=Su.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=kx({message:t,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,a=s.resolveAll(this.resolve);return a.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:a}})}}),r}notOneOf(e,t=Su.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=kx({message:t,name:"notOneOf",test(i){let s=this.schema._blacklist,a=s.resolveAll(this.resolve);return a.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:a}}):!0}}),r}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:a}=t.spec;return{meta:i,label:r,optional:s,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,f)=>f.findIndex(p=>p.name===l.name)===u)}}}Pc.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Pc.prototype[`${n}At`]=function(e,t,r={}){const{parent:i,parentPath:s,schema:a}=JEe(this,e,t,r.context);return a[n](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const n of["equals","is"])Pc.prototype[n]=Pc.prototype.oneOf;for(const n of["not","nope"])Pc.prototype[n]=Pc.prototype.notOneOf;const eCe=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function tCe(n){const e=WF(n);if(!e)return Date.parse?Date.parse(n):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let t=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(t=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(t=0-t)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+t,e.second,e.millisecond)}function WF(n){var e,t;const r=eCe.exec(n);return r?{year:Ud(r[1]),month:Ud(r[2],1)-1,day:Ud(r[3],1),hour:Ud(r[4]),minute:Ud(r[5]),second:Ud(r[6]),millisecond:r[7]?Ud(r[7].substring(0,3)):0,precision:(e=(t=r[7])==null?void 0:t.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ud(r[10]),minuteOffset:Ud(r[11])}:null}function Ud(n,e=0){return Number(n)||e}let nCe=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rCe=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,iCe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,sCe="^\\d{4}-\\d{2}-\\d{2}",aCe="\\d{2}:\\d{2}:\\d{2}",oCe="(([+-]\\d{2}(:?\\d{2})?)|Z)",lCe=new RegExp(`${sCe}T${aCe}(\\.\\d+)?${oCe}$`),cCe=n=>Ig(n)||n===n.trim(),uCe={}.toString();function os(){return new rte}class rte extends Pc{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,t,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===uCe?e:i})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||Su.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(t=>t.OPTIONS.name!=="required"),e))}length(e,t=Va.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t=Va.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t=Va.max){return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,t){let r=!1,i,s;return t&&(typeof t=="object"?{excludeEmptyString:r=!1,message:i,name:s}=t:i=t),this.test({name:s||"matches",message:i||Va.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&r||a.search(e)!==-1})}email(e=Va.email){return this.matches(nCe,{name:"email",message:e,excludeEmptyString:!0})}url(e=Va.url){return this.matches(rCe,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Va.uuid){return this.matches(iCe,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t="",r,i;return e&&(typeof e=="object"?{message:t="",allowOffset:r=!1,precision:i=void 0}=e:t=e),this.matches(lCe,{name:"datetime",message:t||Va.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:t||Va.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const a=WF(s);return a?!!a.z:!1}}).test({name:"datetime_precision",message:t||Va.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const a=WF(s);return a?a.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Va.trim){return this.transform(t=>t!=null?t.trim():t).test({message:e,name:"trim",test:cCe})}lowercase(e=Va.lowercase){return this.transform(t=>Ig(t)?t:t.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ig(t)||t===t.toLowerCase()})}uppercase(e=Va.uppercase){return this.transform(t=>Ig(t)?t:t.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:t=>Ig(t)||t===t.toUpperCase()})}}os.prototype=rte.prototype;let ite=new Date(""),dCe=n=>Object.prototype.toString.call(n)==="[object Date]";function tI(){return new aT}class aT extends Pc{constructor(){super({type:"date",check(e){return dCe(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,t,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=tCe(e),isNaN(e)?aT.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let r;if($v.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,t=BF.min){let r=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,t=BF.max){let r=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}aT.INVALID_DATE=ite;tI.prototype=aT.prototype;tI.INVALID_DATE=ite;function hCe(n,e=[]){let t=[],r=new Set,i=new Set(e.map(([a,o])=>`${a}-${o}`));function s(a,o){let l=iv.split(a)[0];r.add(l),i.has(`${o}-${l}`)||t.push([o,l])}for(const a of Object.keys(n)){let o=n[a];r.add(a),$v.isRef(o)&&o.isSibling?s(o.path,a):Dk(o)&&"deps"in o&&o.deps.forEach(l=>s(l,a))}return WEe.array(Array.from(r),t).reverse()}function az(n,e){let t=1/0;return n.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return t=i,!0}),t}function ste(n){return(e,t)=>az(n,e)-az(n,t)}const ate=(n,e,t)=>{if(typeof n!="string")return n;let r=n;try{r=JSON.parse(n)}catch{}return t.isType(r)?r:n};function xR(n){if("fields"in n){const e={};for(const[t,r]of Object.entries(n.fields))e[t]=xR(r);return n.setFields(e)}if(n.type==="array"){const e=n.optional();return e.innerType&&(e.innerType=xR(e.innerType)),e}return n.type==="tuple"?n.optional().clone({types:n.spec.types.map(xR)}):"optional"in n?n.optional():n}const fCe=(n,e)=>{const t=[...iv.normalizePath(e)];if(t.length===1)return t[0]in n;let r=t.pop(),i=iv.getter(iv.join(t),!0)(n);return!!(i&&r in i)};let oz=n=>Object.prototype.toString.call(n)==="[object Object]";function lz(n,e){let t=Object.keys(n.fields);return Object.keys(e).filter(r=>t.indexOf(r)===-1)}const pCe=ste([]);function lm(n){return new ote(n)}class ote extends Pc{constructor(e){super({type:"object",check(t){return oz(t)||typeof t=="function"}}),this.fields=Object.create(null),this._sortErrors=pCe,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,t={}){var r;let i=super._cast(e,t);if(i===void 0)return this.getDefault(t);if(!this._typeCheck(i))return i;let s=this.fields,a=(r=t.stripUnknown)!=null?r:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),l={},u=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),f=!1;for(const p of o){let m=s[p],y=p in i;if(m){let b,x=i[p];u.path=(t.path?`${t.path}.`:"")+p,m=m.resolve({value:x,context:t.context,parent:l});let w=m instanceof Pc?m.spec:void 0,S=w==null?void 0:w.strict;if(w!=null&&w.strip){f=f||p in i;continue}b=!t.__validating||!S?m.cast(i[p],u):i[p],b!==void 0&&(l[p]=b)}else y&&!a&&(l[p]=i[p]);(y!==p in l||l[p]!==i[p])&&(f=!0)}return f?l:i}_validate(e,t={},r,i){let{from:s=[],originalValue:a=e,recursive:o=this.spec.recursive}=t;t.from=[{schema:this,value:a},...s],t.__validating=!0,t.originalValue=a,super._validate(e,t,r,(l,u)=>{if(!o||!oz(u)){i(l,u);return}a=a||u;let f=[];for(let p of this._nodes){let m=this.fields[p];!m||$v.isRef(m)||f.push(m.asNestedTest({options:t,key:p,parent:u,parentPath:t.path,originalParent:a}))}this.runTests({tests:f,value:u,originalValue:a,options:t},r,p=>{i(p.sort(this._sortErrors).concat(l),u)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),r=t.fields;for(let[i,s]of Object.entries(this.fields)){const a=r[i];r[i]=a===void 0?s:a}return t.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[r]})),t[r]=s&&"getDefault"in s?s.getDefault(a):void 0}),t}setFields(e,t){let r=this.clone();return r.fields=e,r._nodes=hCe(e,t),r._sortErrors=ste(Object.keys(e)),t&&(r._excludedEdges=t),r}shape(e,t=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),i=[...r._excludedEdges,...t]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[t,r]of Object.entries(this.fields))e[t]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return xR(this)}pick(e){const t={};for(const r of e)this.fields[r]&&(t[r]=this.fields[r]);return this.setFields(t,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const t=[];for(const r of Object.keys(this.fields))e.includes(r)||t.push(r);return this.pick(t)}from(e,t,r){let i=iv.getter(e,!0);return this.transform(s=>{if(!s)return s;let a=s;return fCe(s,e)&&(a=Object.assign({},s),r||delete a[e],a[t]=i(s)),a})}json(){return this.transform(ate)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||vR.exact,test(t){if(t==null)return!0;const r=lz(this.schema,t);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,t=vR.noUnknown){typeof e!="boolean"&&(t=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:t,test(i){if(i==null)return!0;const s=lz(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,t=vR.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const r={};for(const i of Object.keys(t))r[e(i)]=t[i];return r})}camelCase(){return this.transformKeys(sP.camelCase)}snakeCase(){return this.transformKeys(sP.snakeCase)}constantCase(){return this.transformKeys(e=>sP.snakeCase(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,a]of Object.entries(t.fields)){var i;let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),r.fields[s]=a.describe(o)}return r}}lm.prototype=ote.prototype;function hj(n){return new lte(n)}class lte extends Pc{constructor(e){super({type:"array",spec:{types:e},check(t){return Array.isArray(t)}}),this.innerType=void 0,this.innerType=e}_cast(e,t){const r=super._cast(e,t);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((a,o)=>{const l=this.innerType.cast(a,Object.assign({},t,{path:`${t.path||""}[${o}]`}));return l!==a&&(i=!0),l});return i?s:r}_validate(e,t={},r,i){var s;let a=this.innerType,o=(s=t.recursive)!=null?s:this.spec.recursive;t.originalValue!=null&&t.originalValue,super._validate(e,t,r,(l,u)=>{var f;if(!o||!a||!this._typeCheck(u)){i(l,u);return}let p=new Array(u.length);for(let y=0;y<u.length;y++){var m;p[y]=a.asNestedTest({options:t,index:y,parent:u,parentPath:t.path,originalParent:(m=t.originalValue)!=null?m:e})}this.runTests({value:u,tests:p,originalValue:(f=t.originalValue)!=null?f:e,options:t},r,y=>i(y.concat(l),u))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(ate)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Dk(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+xh(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e,t=bR.length){return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,t){return t=t||bR.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,t){return t=t||bR.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:t==null?[]:[].concat(t))}compact(e){let t=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(t):r)}describe(e){const t=(e?this.resolve(e):this).clone(),r=super.describe(e);if(t.innerType){var i;let s=e;(i=s)!=null&&i.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=t.innerType.describe(s)}return r}}hj.prototype=lte.prototype;const cte=lm().shape({characterName:os().required("Persoa name is required"),shortDescription:os().required("A description is required"),storyText:os().nullable(),uploadedFiles:hj().nullable()}).test("storyOrAttachment","Either story text or at least one attachment is required",function(n){const{storyText:e,uploadedFiles:t}=n;return!((!e||!e.trim())&&(!t||t.length===0))}),cz=1e3,Ak=({photoURL:n,name:e,onPhotoChange:t,allowEdit:r,className:i})=>{const{userData:s}=kt(),{isMobile:a}=In(),o=C.useRef(null),[l,u]=C.useState(!1),[f,p]=C.useState(""),[m,y]=C.useState(!1),[b,x]=C.useState([]),[w,S]=C.useState(null),[T,E]=C.useState([]),R=()=>{var O;(O=o.current)==null||O.click()},N=async()=>{if(f.trim()){y(!0),x([]),S(null);try{const O=Array.from({length:5}).map(()=>fetch(`${mr}/generate-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:f+", animated fan art style"})})),P=(await Promise.all(O)).map(q=>{if(!q.ok)throw new Error("Failed to generate image");return q.blob()}),X=(await Promise.all(P)).map((q,L)=>new File([q],`generated-${L}.png`,{type:q.type}));x(X);const I=X.map(q=>URL.createObjectURL(q));E(I)}catch(O){console.error("Error generating images:",O)}finally{y(!1)}}},U=()=>{w!==null&&(t(b[w]),u(!1),x([]),E([]),p(""),S(null))};return d.jsxs(d.Fragment,{children:[d.jsxs(bt.div,{whileHover:r&&{scale:1.02}||void 0,className:"relative flex items-center justify-center",children:[d.jsxs(An,{className:`relative w-40 h-40 ${i} overflow-visible transition-all duration-300 ${r?"hover:shadow-lg":""}`,children:[d.jsx(Mn,{src:n,alt:"Profile",className:"object-cover rounded-full"}),d.jsx(Bn,{className:`${Cr} ${Be} rounded-full text-5xl`,children:dr(e)}),r&&d.jsx("div",{className:"absolute bottom-1 right-1 z-10",children:d.jsxs(Av,{children:[d.jsx(Tv,{asChild:!0,children:d.jsx(bt.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:`w-10 h-10 ${$t} ${Be} ${Dn} rounded-full p-2 shadow-md transition-all duration-300`,type:"button",children:d.jsx(X1,{className:"h-4 w-4 ml-1"})})}),d.jsxs(Yp,{className:`w-40 ml-[120px] ${Pt(s==null?void 0:s.theme)}`,children:[d.jsxs(_i,{className:`${_t} ${Dn}`,onSelect:()=>u(!0),children:[d.jsx(hP,{})," Generate Image"]}),d.jsxs(_i,{className:_t,onSelect:R,children:[d.jsx(Zz,{})," Upload Image"]})]})]})})]}),d.jsx("input",{ref:o,id:"photo",name:"photo",type:"file",accept:"image/*",className:"hidden",onChange:O=>{var M;(M=O.currentTarget.files)!=null&&M.length&&t(O.currentTarget.files[0])}})]}),d.jsx(ao,{open:l,onOpenChange:u,children:d.jsxs(Ta,{className:`rounded-xl ${a?"w-5/6":"w-2/5"} ${Pt(s==null?void 0:s.theme)}`,children:[d.jsx(d3,{asChild:!0,children:d.jsx(ct,{className:`absolute top-4 right-4 p-1 bg-transparent hover:bg-transparent ${Xe} focus:outline-none`,children:d.jsx(Go,{className:"h-5 w-5"})})}),d.jsxs(Kp,{children:[d.jsx(ls,{children:"Generate Image"}),d.jsx(h3,{children:"Enter a prompt to generate your image"})]}),d.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[d.jsx(lr,{placeholder:"Features, composition, style, emotion, color scheme etc.",value:f,onChange:O=>p(O.target.value),className:`w-full px-2 py-1 ${Xe} focus:outline-none`,maxLength:cz}),d.jsxs("div",{className:`text-xs mt-1 text-right ${Be}`,children:[f.length,"/",cz]}),T.length>0&&d.jsx("div",{className:"flex flex-row gap-2 mt-2",children:T.map((O,M)=>d.jsx("div",{onClick:()=>S(M),className:`cursor-pointer rounded-full overflow-hidden ${w===M?"border-2 border-[hsl(var(--text-light))]":"border-2 border-[hsl(var(--background-tertiary))]"}`,children:d.jsx(An,{className:"w-42 h-42 object-cover",children:d.jsx(Mn,{src:O,alt:`Option ${M+1}`})})},M))}),d.jsxs("div",{className:"mt-4 flex justify-end gap-1",children:[d.jsx(ct,{onClick:N,className:`flex justify-center rounded-full px-3 py-1 ${T.length>0?`${_t} ${Be} ${Fj}`:`${ti} ${ni} ${ri}`}`,disabled:m,children:m?d.jsx(yr,{className:"animate-spin h-5 w-5"}):d.jsxs(d.Fragment,{children:[T.length>0?d.jsx(r4,{className:"h-5 w-5"}):d.jsx(Pj,{className:"h-5 w-5"}),"Generate"]})}),d.jsx(ct,{onClick:U,className:`flex justify-center rounded-full px-3 py-1 ${ti} ${ni} ${ri}`,disabled:w==null,children:"Select"})]})]})]})})]})},ute=({uploadedFiles:n,handleFiles:e,removeFile:t})=>{const{userData:r}=kt(),i=C.useRef(null),s=o=>{o.preventDefault(),e(o.dataTransfer.files)},a=o=>{o.preventDefault()};return d.jsx(d.Fragment,{children:n&&n.length>0?d.jsx("div",{className:"border border-input rounded-xl p-4 space-y-2",children:n.map((o,l)=>d.jsxs("div",{className:`flex items-center justify-between bg-[hsl(var(--input))] ${wn} p-2 rounded`,children:[d.jsx("button",{type:"button",className:`${it} underline`,onClick:()=>window.open(URL.createObjectURL(o),"_blank"),children:o.name}),d.jsx("button",{type:"button",onClick:()=>t(l),className:"text-red-500",children:d.jsx(Go,{className:"h-4 w-4"})})]},l))}):d.jsxs("div",{onDragOver:a,onDrop:s,onClick:()=>{var o;return(o=i.current)==null?void 0:o.click()},className:`h-[300px] border-2 border-dashed border-input hover:shadow-lg cursor-pointer ${(r==null?void 0:r.theme)!="dark"?"hover:bg-[hsl(var(--background))]":"hover:bg-[hsl(var(--background-tertiary))]"}
          rounded-xl p-6 text-center transition-all duration-300`,children:[d.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[d.jsx(i4,{className:`h-12 w-12 mb-4 ${Xe}`}),d.jsx("p",{className:`text-sm ${Be}`,children:"Drag and drop your story file here"}),d.jsx("p",{className:`text-xs mt-2 ${Be}`,children:"Supports PDF, DOC, DOCX"})]}),d.jsx("input",{ref:i,id:"uploadedFiles",name:"uploadedFiles",type:"file",accept:".pdf,.doc,.docx",multiple:!0,onChange:o=>o.currentTarget.files&&e(o.currentTarget.files),className:"hidden"})]})})},mCe=["pdf","doc","docx"],gCe=1e7,uz=3;function dte(n){const e=C.useCallback(i=>{var a;const s=(a=i.name.split(".").pop())==null?void 0:a.toLowerCase();return!(!s||!mCe.includes(s)||i.size>gCe)},[]),t=C.useCallback(i=>{if(!i||i.length===0)return;const s=n.values.uploadedFiles;if(s.length>=uz)return;Array.from(i).forEach(o=>{if(!(n.values.uploadedFiles.length>=uz)&&e(o)){if(s.some(u=>u.name===o.name))return;n.setFieldValue("uploadedFiles",[...s,o])}})},[n,e]),r=C.useCallback(i=>{const s=[...n.values.uploadedFiles];s.splice(i,1),n.setFieldValue("uploadedFiles",s)},[n]);return{validateFile:e,handleFiles:t,removeFile:r}}const yCe=({onClick:n,children:e})=>d.jsx(bt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",className:"fixed right-4 bottom-4 bg-gradient-to-r from-zinc-700 to-zinc-900 text-white px-5 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",onClick:n,children:e}),hte=({initialValues:n,validationSchema:e,onSubmit:t,submitButtonText:r,loading:i=!1,renderFloatingButton:s=!0})=>{const{user:a,userData:o}=kt(),l=Mh({enableReinitialize:!0,initialValues:n,validationSchema:e,onSubmit:t,validateOnChange:!1,validateOnBlur:!1}),[u,f]=C.useState(null);C.useEffect(()=>{if(l.values.photo){const y=URL.createObjectURL(l.values.photo);return f(y),()=>URL.revokeObjectURL(y)}else f(null)},[l.values.photo]);const{handleFiles:p,removeFile:m}=dte(l);return d.jsxs(d.Fragment,{children:[d.jsxs("form",{onSubmit:l.handleSubmit,className:"space-y-8",children:[d.jsx(Ak,{photoURL:u??void 0,name:l.values.characterName,onPhotoChange:y=>l.setFieldValue("photo",y),allowEdit:!!a}),d.jsxs("div",{className:"flex flex-wrap gap-8",children:[d.jsxs("div",{className:"flex-1 min-w-[200px] mt-1",children:[d.jsx("label",{className:`block text-sm font-medium flex items-cente ${it}`,children:"Persoa Name*"}),d.jsx(lr,{id:"characterName",name:"characterName",type:"text",placeholder:"e.g. Evil Sherlock Holmes",onChange:l.handleChange,value:l.values.characterName,maxLength:$o,className:`mt-1 w-full border border-input rounded-lg shadow-sm p-2 bg-transparent ${Be} transition-all duration-300 hover:shadow-md focus:ring-1 focus:ring-[hsl(var(--border))] focus:outline-none focus:border-[hsl(var(--border))]`}),d.jsxs("div",{className:`text-xs ${Xe} mt-1 text-right`,children:[l.values.characterName.length,"/",$o]}),l.errors.characterName&&l.submitCount>0&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.characterName})]}),d.jsxs("div",{className:"flex-1 min-w-[200px] mt-1",children:[d.jsx(Er,{labelText:"Visibility",infoText:"Private characters are only visible to you."}),d.jsx("div",{className:a?"mt-1":"mt-2",children:d.jsxs(Rl,{name:"visibility",value:l.values.visibility,onValueChange:y=>l.setFieldValue("visibility",y),disabled:!a,children:[d.jsx(kl,{className:`w-full border border-lg border-input cursor-pointer bg-transparent  ${Xe}`,children:d.jsx(jl,{placeholder:"Private"})}),d.jsx(Ho,{className:Pt(o==null?void 0:o.theme),children:d.jsxs(fv,{children:[d.jsx(Mr,{value:"private",children:"Private"}),d.jsx(Mr,{value:"public",children:"Public"})]})})]})})]}),d.jsxs("div",{className:"w-[200px] mt-1",children:[d.jsx(Er,{labelText:"Restriction",infoText:"Content intended for Teen and up will remove explicit violence, profanity, and similar elements from the character."}),d.jsxs(Rl,{name:"restriction",value:l.values.restriction,onValueChange:y=>l.setFieldValue("restriction",y),children:[d.jsx(kl,{className:`w-full mt-1 border border-input ${Xe} cursor-pointer bg-transparent`,children:d.jsx(jl,{placeholder:"None"})}),d.jsx(Ho,{className:Pt(o==null?void 0:o.theme),children:d.jsxs(fv,{children:[d.jsx(Mr,{value:"teen",children:"Teen and up"}),!jc(o==null?void 0:o.dateOfBirth)&&d.jsx(Mr,{value:"mature",children:"Mature"})]})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1",children:[d.jsx(Er,{labelText:"Short Description*",infoText:"For public characters, this is viewable by other users."}),d.jsx(lr,{id:"shortDescription",name:"shortDescription",type:"text",placeholder:"Short description",onChange:l.handleChange,value:l.values.shortDescription,maxLength:Zu,className:`mt-1 w-full border border-input rounded-lg shadow-sm p-2 bg-transparent ${Be} transition-all duration-300 hover:shadow-md focus:ring-1 focus:ring-[hsl(var(--border))] focus:outline-none focus:border-[hsl(var(--border))]`}),d.jsxs("div",{className:`text-xs mt-1 text-right ${Xe}`,children:[l.values.shortDescription.length,"/",Zu]}),l.errors.shortDescription&&l.submitCount>0&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.shortDescription}),d.jsx(Er,{labelText:"Personality & Quirks",infoText:"Provide your character's most important traits and quirks."}),d.jsx(lr,{id:"personality",name:"personality",type:"text",placeholder:"e.g. Snappy attitude, sassy, always wears a black trench coat",onChange:l.handleChange,value:l.values.personality,maxLength:200,className:"mt-1 w-full border border-input rounded-lg shadow-sm p-2 bg-transparent transition-all duration-300 hover:shadow-md focus:ring-1 focus:ring-[hsl(var(--border))] focus:outline-none focus:border-[hsl(var(--border))]"}),d.jsxs("div",{className:`text-xs mt-1 text-right ${Xe}`,children:[l.values.personality.length,"/",KP]}),d.jsx(Er,{labelText:"Fandom(s)",infoText:"The name(s) of the fandom(s) to which your work belongs. Full names, rather than abbreviations, are preferred."}),d.jsx(HA,{selectedFandoms:l.values.fandoms,onChange:y=>l.setFieldValue("fandoms",y),transparentBackground:!0}),d.jsx(Er,{labelText:"Tags",infoText:"Add tags to further describe your story. Select from recommended tags or create your own."}),d.jsx(GA,{selectedTags:l.values.tags,onChange:y=>l.setFieldValue("tags",y),transparentBackground:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[d.jsx(Er,{labelText:"Story",infoText:"Upload your personal story or write a background for an accurate character depiction."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(bt.div,{whileHover:{scale:1.01},className:"relative",children:d.jsx(ute,{uploadedFiles:l.values.uploadedFiles,handleFiles:p,removeFile:m})}),d.jsxs("div",{className:"relative",children:[d.jsx(io,{id:"storyText",name:"storyText",className:`mt-1 w-full h-[300px] ${Be} border border-input rounded-lg shadow-sm p-2 bg-transparent transition-all duration-300 hover:shadow-md focus:ring-1 focus:ring-[hsl(var(--border))] focus:outline-none focus:border-[hsl(var(--border))]`,placeholder:"Share your character's background...",onChange:a?l.handleChange:()=>{},value:l.values.storyText,disabled:!a,maxLength:32e3}),d.jsxs("div",{className:`text-xs ${Xe} mt-1 text-right`,children:[l.values.storyText.length,"/32000"]})]})]})]}),l.errors.storyText&&l.submitCount>0&&!l.values.uploadedFiles.length&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:l.errors.storyText}),d.jsx("button",{type:"submit",className:"hidden",children:"Submit"})]}),s&&d.jsx(yCe,{onClick:()=>l.handleSubmit(),children:i?d.jsx(yr,{className:"animate-spin h-6 w-6"}):r})]})},vCe=({setShowSettings:n,setShowPlans:e})=>{const{user:t,userData:r}=kt(),i=Fr(),{summarizeFiles:s,loading:a}=vk(),[o,l]=C.useState(!1),u={photo:null,characterName:"",uploadedFiles:[],storyText:"",visibility:"private",shortDescription:"",personality:"",restriction:Un.TEEN_AND_UP,fandoms:[],tags:[]},f=async p=>{try{l(!0);let m=t==null?void 0:t.id,y=r==null?void 0:r.username,b=p.storyText||"";p.uploadedFiles&&p.uploadedFiles.length>0&&(b=await s(p.characterName,p.shortDescription,p.uploadedFiles)+`
`+b);const x={name:p.characterName,shortDescription:p.shortDescription,personality:p.personality,context:b,isPublic:p.visibility==="public",userId:m,userName:y||"",chatCount:0,likeCount:0,restriction:p.restriction},w=await tY({...x,allowCloning:x.isPublic});p.photo&&m&&await y4(p.photo,m,w.id);for(const E of p.fandoms)(await O3(E)).some(N=>N.toLowerCase()===E.toLowerCase())||await U3(E),await HR(E,w.id);for(const E of p.tags)(await VA(E)).some(N=>N.toLowerCase()===E.toLowerCase())||await M3(E),await VR(E,w.id);const S={userId:m,characterId:w.id,characterName:x.name},T=await $A(S);i(`/chat/${T.id}`)}catch{}finally{l(!1)}};return C.useEffect(()=>{document.title="persoa.ai | Write it, Live it"},[]),d.jsxs("div",{className:`min-h-screen ${Cr} pt-0.5`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx("div",{className:"flex justify-center overflow-auto px-4",children:d.jsx(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 w-full max-w-[1000px] bg-[hsl(var(--background-paper))] rounded-2xl shadow-xl p-10",children:d.jsx(hte,{initialValues:u,validationSchema:cte,onSubmit:f,submitButtonText:"Create Persoa",loading:o||a})})})]})},bCe=()=>(C.useEffect(()=>{document.title="persoa.ai | Terms of Service and Privacy Policy"},[]),d.jsxs("div",{className:`${_t} p-8 ${Be}`,children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Terms of Service"}),d.jsx("p",{children:d.jsx("strong",{children:"Last Updated: April 13, 2025"})}),d.jsx("p",{children:"Thank you for using Persoa.AI (the “Platform”)! These Terms of Service (“Terms”) are a legal agreement between you and Persoa.AI (“Company,” “we,” “our,” or “us”) and govern your access to and use of the Platform. This includes Persoa.AI (the “Website”), any related websites, mobile applications (if applicable), and all services, content, and functionality provided by us (collectively, the “Services”)."}),d.jsx("p",{children:"By accessing or using our Services, you agree that you have read, understand, and are bound by these Terms. If you do not agree, please do not use the Services."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"1. Eligibility and Acceptance"}),d.jsx("h3",{className:"font-medium",children:"1.1 Eligibility"}),d.jsxs("ul",{className:"list-disc list-inside mb-4",children:[d.jsx("li",{children:"You must be at least 13 years old to use our Services. If you reside in the EU or a jurisdiction that mandates a higher age for valid consent to use online services (e.g., 16 in some regions), you must satisfy that minimum age requirement."}),d.jsx("li",{children:"If you use the Services on behalf of a company or other entity, you represent and warrant that you are authorized to bind that entity to these Terms."})]}),d.jsx("h3",{className:"font-medium",children:"1.2 Acceptance"}),d.jsxs("ul",{className:"list-disc list-inside mb-4",children:[d.jsx("li",{children:"By creating an account, accessing the Platform, or otherwise using the Services, you acknowledge you have read and understand these Terms."}),d.jsx("li",{children:"We may update these Terms from time to time by posting a revised version on the Platform. Changes become effective no earlier than 14 days after they are posted (unless required sooner by law). Your continued use after the effective date constitutes your acceptance of the updated Terms."})]}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"2. Our Services"}),d.jsx("h3",{className:"font-medium",children:"2.1 Overview"}),d.jsx("p",{children:"Persoa.ai offers an AI-driven experience allowing users to interact in real time with AI representations of fictional characters, including characters in the public domain or characters uploaded and trained based on user-generated content. Our initial focus is on public domain characters to ensure compliance with intellectual property laws. Over time, we may license characters from rights holders. Users who have legally created or own original or fanfiction works may also upload them to the Platform to generate AI-based characters and earn potential royalties if they participate in our monetization program."}),d.jsx("h3",{className:"font-medium",children:"2.2 No Guarantee of Accuracy"}),d.jsx("p",{children:"AI-generated dialogue is inherently unpredictable and may produce inaccurate or offensive outputs. We do not guarantee the factual accuracy, completeness, or appropriateness of any generated text or media."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"3. User Accounts"}),d.jsx("h3",{className:"font-medium",children:"3.1 Registration"}),d.jsx("p",{children:"To access certain features, you may be required to create an account. You agree to provide accurate and up-to-date information. You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account."}),d.jsx("h3",{className:"font-medium",children:"3.2 Account Security"}),d.jsx("p",{children:"You agree to notify us immediately if you become aware of any unauthorized use of your account or any other breach of security. We are not liable for any loss or damage arising from your failure to secure your account."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"4. Content and Conduct"}),d.jsx("h3",{className:"font-medium",children:"4.1 User-Generated Content (“UGC”)"}),d.jsx("p",{children:"“UGC” includes text, images, character descriptions, story uploads, and any other materials you submit to the Platform. You retain ownership of any intellectual property rights you hold in your UGC. However, by submitting content, you grant us a worldwide, non-exclusive, royalty-free, sublicensable, transferable license to use, store, reproduce, modify, display, distribute, and create derivative works from your UGC solely for the purpose of operating, developing, and providing the Services. This includes the right to generate AI models or references based on your UGC."}),d.jsx("h3",{className:"font-medium",children:"4.2 Prohibited Content"}),d.jsx("p",{children:"You agree not to submit, post, or transmit content that:"}),d.jsxs("ul",{className:"list-disc list-inside mb-4",children:[d.jsx("li",{children:"Infringes any intellectual property rights or violates any law."}),d.jsx("li",{children:"Is hateful, harassing, threatening, or encourages violence or discrimination."}),d.jsx("li",{children:"Is pornographic or otherwise inappropriate for a general audience."}),d.jsx("li",{children:"Depicts or exploits minors in any way."}),d.jsx("li",{children:"Constitutes spam, phishing, or unauthorized advertising."}),d.jsx("li",{children:"Contains viruses or any other harmful components."}),d.jsx("li",{children:"Violates privacy or publicity rights or impersonates another person or entity."}),d.jsx("li",{children:"Is otherwise objectionable, harmful, or disruptive to the Services, as determined by us in our sole discretion."})]}),d.jsx("h3",{className:"font-medium",children:"4.3 User Conduct"}),d.jsx("p",{children:"You agree not to:"}),d.jsxs("ul",{className:"list-disc list-inside mb-4",children:[d.jsx("li",{children:"Use the Services for illegal or unauthorized purposes."}),d.jsx("li",{children:"Reverse engineer any part of the Platform or Services."}),d.jsx("li",{children:"Harvest or collect personal data about other users."}),d.jsx("li",{children:"Use automated systems (e.g., bots) to improperly access or use the Services."}),d.jsx("li",{children:"Interfere with or disrupt the Services or servers hosting them."})]}),d.jsx("h3",{className:"font-medium",children:"4.4 Content Monitoring and Enforcement"}),d.jsx("p",{children:"We reserve the right (but have no obligation) to review, remove, or modify any UGC at any time for any reason, including for violating these Terms. We may suspend or terminate your account if we believe, in our sole discretion, that you have violated these Terms."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"5. Intellectual Property"}),d.jsx("h3",{className:"font-medium",children:"5.1 Our Proprietary Rights"}),d.jsx("p",{children:"The Services, including but not limited to our logos, trademarks, service marks, slogans, and any technology used to provide the Services, are owned or licensed by Persoa. Except as expressly provided, nothing in these Terms grants you a license to use any of our intellectual property."}),d.jsx("h3",{className:"font-medium",children:"5.2 Copyright Infringement Claims"}),d.jsx("p",{children:"If you believe content on our Platform infringes your copyright, please follow our Takedown Policy (see “Contact Us” section or a dedicated link on your site) for instructions on how to notify us."}),d.jsx("h3",{className:"font-medium",children:"5.3 Public Domain and Licensed Characters"}),d.jsx("p",{children:"Characters from works in the public domain are free to use on the Platform. For works still under copyright protection, you represent and warrant that you have obtained the necessary rights or permissions to upload content or create derivative characters based on such works."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"6. Monetization and Revenue Sharing"}),d.jsx("h3",{className:"font-medium",children:"6.1 Freemium and Subscriptions"}),d.jsx("p",{children:"We may offer different tiers of Services, such as free, freemium, or subscription-based plans with varying features and usage limits."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"7. Disclaimer of Warranties"}),d.jsx("p",{children:"THE SERVICES ARE PROVIDED ON AN “AS IS” AND “AS AVAILABLE” BASIS, WITHOUT WARRANTIES OF ANY KIND, EXPRESS OR IMPLIED. WE DO NOT WARRANT THAT THE SERVICES WILL BE UNINTERRUPTED, ERROR-FREE, OR SECURE. WE DISCLAIM ANY LIABILITY FOR ANY HARM OR DAMAGES RESULTING FROM THE USE OF AI-GENERATED CONTENT, INCLUDING INACCURACIES OR OFFENSIVE MATERIAL."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"8. Limitation of Liability"}),d.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, PERSOA.AI AND ITS OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR EXEMPLARY DAMAGES, INCLUDING BUT NOT LIMITED TO LOST PROFITS, LOSS OF DATA, OR OTHER INTANGIBLE LOSSES RESULTING FROM THE USE OR INABILITY TO USE THE SERVICES. IN NO EVENT WILL OUR TOTAL LIABILITY TO YOU EXCEED THE AMOUNT PAID BY YOU (IF ANY) FOR ACCESSING THE SERVICES IN THE TWELVE (12) MONTHS PRECEDING THE CLAIM."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"9. Indemnification"}),d.jsx("p",{children:"You agree to indemnify, defend, and hold harmless persoa.ai from any claims, liabilities, damages, losses, or expenses (including reasonable attorneys’ fees) arising out of or related to your violation of these Terms or your use of the Services, including but not limited to any UGC you provide or any interaction you have with AI-generated content."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"10. Dispute Resolution and Arbitration"}),d.jsx("h3",{className:"font-medium",children:"10.1 Governing Law"}),d.jsx("p",{children:"These Terms will be governed by and construed in accordance with the laws of the United States, without regard to conflict-of-law principles."}),d.jsx("h3",{className:"font-medium",children:"10.2 Arbitration Agreement"}),d.jsx("p",{children:"Any dispute, claim, or controversy arising out of or relating to these Terms or the use of the Services shall be settled by binding arbitration on an individual basis. You waive any right to participate in a class action or representative lawsuit."}),d.jsx("h3",{className:"font-medium",children:"10.3 Opt-Out"}),d.jsx("p",{children:"You may opt out of this arbitration provision by sending us written notice within 30 days of first accepting these Terms, clearly stating your intent to opt out, along with your name and account information. If you do so, neither party can force the other to arbitrate."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"11. Termination"}),d.jsx("p",{children:'We reserve the right to suspend or terminate your account or access to the Services at any time, with or without notice, for any reason, including your violation of these Terms. You may also terminate your account at any time. Go to our homepage (https://persoa.ai/), click on the profile link, then click on "Settings", choose the "Account" tab, then click "Delete". Upon termination, all licenses granted by you or to you under these Terms will cease immediately, but our right to use any previously uploaded UGC in connection with the operation of the Services survives.'}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"12. Severability and Waiver"}),d.jsx("p",{children:"If any provision of these Terms is held invalid or unenforceable, that provision will be enforced to the maximum extent permissible and the remaining provisions will remain in full force and effect. Our failure to enforce any right or provision of these Terms does not constitute a waiver of future enforcement of that right or provision."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"13. Contact Us"}),d.jsx("p",{children:"If you have questions, concerns, or feedback about these Terms or the Services, please contact us at:"}),d.jsx("ul",{className:"list-disc list-inside mb-4",children:d.jsxs("li",{children:[d.jsx("strong",{children:"Email:"})," team@persoa.ai"]})}),d.jsx("hr",{className:"my-8"})]})),xCe=()=>d.jsxs("div",{className:`${_t} p-8 ${Be}`,children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Privacy Policy"}),d.jsx("p",{children:d.jsx("strong",{children:"Last Updated: April 13, 2025"})}),d.jsx("p",{children:"Persoa AI (“we,” “our,” or “us”) is committed to protecting your privacy. This Privacy Policy describes the types of information we collect from you, how we use and share that information, and the steps we take to protect it."}),d.jsx("p",{children:"By using our website, mobile applications (if any), or other online products and services (collectively, the “Services”), you consent to the practices described in this Privacy Policy. If you do not agree with our practices, please do not use the Services."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"1. Information We Collect"}),d.jsx("h3",{className:"font-medium",children:"1.1 Information You Provide"}),d.jsxs("ul",{className:"list-disc list-inside mb-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Account Registration:"})," When you sign up, we may collect your name, email address, username, password, or similar information."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"User-Generated Content:"})," Any text, images, or other data you upload or submit, such as stories, character data, or other materials."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Payment Information:"})," If you purchase a subscription or other services, we may collect billing details. Payment processing is typically handled by a third-party vendor, and we do not store sensitive payment data (e.g., credit card numbers) on our servers."]})]}),d.jsx("h3",{className:"font-medium",children:"1.2 Information Collected Automatically"}),d.jsxs("ul",{className:"list-disc list-inside mb-4",children:[d.jsxs("li",{children:[d.jsx("strong",{children:"Log Data:"})," We collect information when you use our Services, such as your IP address, browser type, operating system, the pages or features you accessed, and the time and date of your visit."]}),d.jsxs("li",{children:[d.jsx("strong",{children:"Cookies and Similar Technologies:"})," We use cookies, web beacons, and similar tracking technologies to personalize your experience and analyze usage. You can adjust cookie settings in your browser, but certain features may not function properly if cookies are disabled."]})]}),d.jsx("h3",{className:"font-medium",children:"1.3 Information from Third Parties"}),d.jsx("p",{children:"We may receive information about you from third parties, such as social media platforms (if you choose to link or sign in through them) or payment processors."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"2. How We Use Your Information"}),d.jsx("h3",{className:"font-medium",children:"2.1 Provision of Services"}),d.jsx("p",{children:"We use the information we collect to operate, maintain, and improve our Services, including generating AI outputs based on your inputs."}),d.jsx("h3",{className:"font-medium",children:"2.2 Communication"}),d.jsx("p",{children:"We may use your contact information to send administrative messages (e.g., account updates, security alerts) and marketing messages (e.g., newsletters, promotions), in accordance with your communication preferences."}),d.jsx("h3",{className:"font-medium",children:"2.3 Analytics and Personalization"}),d.jsx("p",{children:"We use data analytics tools to understand usage patterns and improve the user experience. We may also personalize content, features, and recommendations based on your activities."}),d.jsx("h3",{className:"font-medium",children:"2.4 Legal Compliance and Safety"}),d.jsx("p",{children:"We may use your information to comply with applicable laws, regulations, or legal processes, or to protect the rights, property, or safety of our users, employees, or others."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"3. Sharing Your Information"}),d.jsx("h3",{className:"font-medium",children:"3.1 With Service Providers"}),d.jsx("p",{children:"We may share your data with trusted third-party vendors or contractors who help us operate the Services (e.g., cloud hosting, payment processing, analytics). They only have access to your data to perform tasks on our behalf and are obligated not to disclose or use it for other purposes."}),d.jsx("h3",{className:"font-medium",children:"3.2 With Other Users"}),d.jsx("p",{children:"Some of your UGC (e.g., characters you create, stories you upload) may be visible to other users if you choose to make it public or if sharing is inherent to the functionality (e.g., public domain characters you create that are accessible by anyone)."}),d.jsx("h3",{className:"font-medium",children:"3.3 Business Transfers"}),d.jsx("p",{children:"If we are involved in a merger, acquisition, financing, or sale of all or a portion of our business, your information may be transferred as part of that transaction subject to confidentiality agreements."}),d.jsx("h3",{className:"font-medium",children:"3.4 Legal Requirements"}),d.jsx("p",{children:"We may disclose your information where required to do so by law or in response to valid requests by public authorities (e.g., court or government agencies)."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"4. Data Retention"}),d.jsx("p",{children:"We retain your information for as long as is necessary to provide you with the Services, comply with legal obligations, resolve disputes, and enforce our agreements. If you choose to delete your account, some personal data may remain in our archives to the extent required by law or for legitimate business needs (e.g., recordkeeping)."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"5. Security Measures"}),d.jsx("p",{children:"We employ reasonable security measures to protect your data from unauthorized access, disclosure, alteration, or destruction. However, no method of data transmission or storage is 100% secure, and we cannot guarantee absolute security of your information."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"6. International Data Transfers"}),d.jsx("p",{children:"If you access or use our Services from outside the country where our servers are located, your information may be transferred across international borders. We take measures to ensure that your data is protected in accordance with this Policy, regardless of where it is processed."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"7. Children’s Privacy"}),d.jsx("p",{children:"Our Services are not directed to children under the age of 13 (or under 16 in the EU or a higher applicable age of consent). If you become aware that a child under this age has provided us with personal information without parental consent, please contact us at team@persoa.ai, and we will take steps to remove such data."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"8. Your Choices and Rights"}),d.jsx("h3",{className:"font-medium",children:"8.1 Access, Correction, Deletion"}),d.jsx("p",{children:"You may update, correct, or delete certain account information at any time by logging into your account or contacting us. We will make good-faith efforts to honor your request, but some information may persist as required by law or for legitimate business purposes."}),d.jsx("h3",{className:"font-medium",children:"8.2 Opt-Out of Communications"}),d.jsx("p",{children:"You may opt out of receiving promotional emails by following the unsubscribe link in those emails or by contacting us directly. Even if you opt out of marketing communications, we may still send you non-promotional messages regarding your account or our ongoing business relations."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"9. California Residents (if applicable)"}),d.jsx("p",{children:"If you are a California resident, you may have certain privacy rights under the California Consumer Privacy Act (CCPA) or similar statutes. For more information about your rights or to exercise them, please contact us at team@persoa.ai."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"10. Third-Party Links and Services"}),d.jsx("p",{children:"Our Services may contain links to third-party websites or services not operated by us. We are not responsible for the privacy practices or content of these third parties. We encourage you to review their privacy policies before providing them with your information."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"11. Changes to this Privacy Policy"}),d.jsx("p",{children:"We may modify this Privacy Policy from time to time. We will post any changes on this page and update the “Last Updated” date. Your continued use of our Services after the effective date of any changes indicates your consent to the updated Policy."}),d.jsx("h2",{className:"text-xl font-semibold mt-8 mb-2",children:"12. Contact Us"}),d.jsx("p",{children:"If you have any questions, concerns, or requests regarding this Privacy Policy or how we handle your information, please contact us at:"}),d.jsx("ul",{className:"list-disc list-inside mb-4",children:d.jsxs("li",{children:[d.jsx("strong",{children:"Email:"})," team@persoa.ai"]})}),d.jsx("hr",{className:"my-8"})]}),wCe=["Payment, Billing, & Subscription","Login & Sign in","Report a Bug","Partnership Inquiry","DMCA","General Inquiry","Other"],_Ce=()=>{const[n,e]=C.useState(!1),[t,r]=C.useState(!0),i={issue:"",email:"",username:"",subject:"",inquiry:""},s=lm({email:os().email("Invalid email address").required("Required"),username:os().required("Required"),subject:os().max(78,"Subject must be 78 characters or less"),inquiry:os().required("Required")}),o=Mh({initialValues:i,validationSchema:s,onSubmit:async l=>{const u=new URLSearchParams;u.append("entry.790539136",l.email),u.append("entry.959396472",l.username),u.append("entry.2104224515",l.issue),u.append("entry.4477326",l.subject),u.append("entry.555369674",l.inquiry);try{e(!0),await fetch("https://docs.google.com/forms/d/e/1FAIpQLSe0_cRyVUIxRU4lYDQfZxeh5NVYAzz05RNVJTCTaaF9dzWljw/formResponse",{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:u.toString()})}catch(f){console.error(f),alert("There was an error sending your ticket.")}finally{r(!1),e(!1)}}});return C.useEffect(()=>{document.title="persoa.ai | Help"},[]),d.jsxs("div",{className:`${Cr} min-h-screen flex flex-col items-center p-4`,children:[d.jsx("header",{className:"w-full p-4",children:d.jsx(A3,{})}),d.jsx("div",{className:`bg-[hsl(var(--background-paper))] shadow-md rounded-lg p-6 w-full max-w-2xl ${Be}`,children:t?d.jsxs(d.Fragment,{children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"File a ticket"}),d.jsxs("form",{onSubmit:o.handleSubmit,className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"issue",className:"block font-medium",children:"Issue"}),d.jsxs(Rl,{name:"issue",value:o.values.issue,children:[d.jsx(V8,{className:`mt-1 w-full border border-input ${Zt} ${Be}`,children:d.jsx(jl,{placeholder:"Choose an issue"})}),d.jsx(Ho,{children:wCe.map(l=>d.jsx(Mr,{value:l,onClick:()=>o.setFieldValue("issue",l),children:l},l))})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block font-medium",children:"Email address*"}),d.jsx(lr,{id:"email",name:"email",type:"email",placeholder:"example@gmail.com",className:"mt-1 block w-full border border-[hsl(var(--input))] rounded p-2 bg-transparent text-main",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.email}),o.touched.email&&o.errors.email&&d.jsx("div",{className:"text-red-500 text-sm",children:o.errors.email})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"username",className:"block font-medium",children:"Username*"}),d.jsx(lr,{id:"username",name:"username",type:"text",placeholder:"@persoa",className:"mt-1 block w-full border border-[hsl(var(--input))] rounded p-2 bg-transparent text-main",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.username}),o.touched.username&&o.errors.username&&d.jsx("div",{className:"text-red-500 text-sm",children:o.errors.username})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"subject",className:"block font-medium",children:"Subject"}),d.jsx(lr,{id:"subject",name:"subject",type:"text",maxLength:300,placeholder:"Enter subject (optional)",className:"mt-1 block w-full border border-[hsl(var(--input))] rounded p-2 bg-transparent text-main",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.subject}),o.touched.subject&&o.errors.subject&&d.jsx("div",{className:"text-red-500 text-sm",children:o.errors.subject})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"inquiry",className:"block font-medium",children:"Inquiry Information*"}),d.jsx(io,{id:"inquiry",name:"inquiry",placeholder:"Detailed information about your inquiry.",maxLength:1e4,className:"mt-1 block w-full border border-[hsl(var(--input))] rounded p-2 bg-transparent text-main",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.inquiry}),o.touched.inquiry&&o.errors.inquiry&&d.jsx("div",{className:"text-red-500 text-sm",children:o.errors.inquiry})]}),d.jsxs(ct,{type:"submit",disabled:n,className:`w-full flex justify-center items-center ${ti} ${ni} ${ri} p-2 rounded`,children:[n&&d.jsx(yr,{className:"animate-spin mr-2"}),"Submit"]})]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"We have received your ticket!"}),d.jsx("p",{children:"Give us 1-2 weeks to get back to you. Responses will be sent via email to the provided email address in the ticket."})]})})]})},fte=({className:n,...e})=>d.jsx("nav",{role:"navigation","aria-label":"pagination",className:ft("mx-auto flex w-full justify-center",n),...e});fte.displayName="Pagination";const pte=C.forwardRef(({className:n,...e},t)=>d.jsx("ul",{ref:t,className:ft("flex flex-row items-center gap-1",n),...e}));pte.displayName="PaginationContent";const mte=C.forwardRef(({className:n,...e},t)=>d.jsx("li",{ref:t,className:ft("",n),...e}));mte.displayName="PaginationItem";const Tk=({className:n,isActive:e,size:t="icon",...r})=>d.jsx("a",{"aria-current":e?"page":void 0,className:ft(cq({variant:e?"outline":"ghost",size:t}),n),...r});Tk.displayName="PaginationLink";const gte=({className:n,...e})=>d.jsxs(Tk,{"aria-label":"Go to previous page",className:ft("gap-1 pl-2.5",n),...e,children:[d.jsx(Oj,{className:"h-4 w-4"}),d.jsx("span",{children:"Previous"})]});gte.displayName="PaginationPrevious";const yte=({className:n,...e})=>d.jsxs(Tk,{"aria-label":"Go to next page",className:ft("gap-1 pr-2.5",n),...e,children:[d.jsx("span",{children:"Next"}),d.jsx(e4,{className:"h-4 w-4"})]});yte.displayName="PaginationNext";const SCe=({setShowSettings:n,setShowPlans:e})=>{const{userData:t}=kt(),{isMobile:r}=In(),[i,s]=ZF(),a=Fr(),o=i.get("q")||"",l=i.get("tab")||"persoas";C.useEffect(()=>{if(!i.get("tab")){const O=new URLSearchParams(i);O.set("tab","persoas"),s(O)}},[i,s]);const u=144,[f,p]=C.useState(1),[m,y]=C.useState(null),[b,x]=C.useState(null),[w,S]=C.useState(!0);C.useEffect(()=>{o!==""?document.title="persoa.ai | Search results for "+o+(l==="stories"?" (stories)":""):document.title="persoa.ai | Search "+(l==="stories"?"stories":"persoas")},[o,l]),C.useEffect(()=>{S(!0),p(1),l==="persoas"?YL(o,1200,jc(t==null?void 0:t.dateOfBirth)).then(O=>{y(O)}).finally(()=>{S(!1)}):l==="stories"&&wTe(o,1200,jc(t==null?void 0:t.dateOfBirth)).then(O=>{x(O)}).catch(O=>{throw O}).finally(()=>{S(!1)})},[o,l]);const T=l==="persoas"?(m==null?void 0:m.length)||0:(b==null?void 0:b.length)||0,E=Math.ceil(T/u),R=l==="persoas"&&m?m.slice((f-1)*u,f*u):[],N=l==="stories"&&b?b.slice((f-1)*u,f*u):[],U=O=>{const M=new URLSearchParams(i);M.set("tab",O),s(M)};return d.jsxs("div",{className:`min-h-screen ${_t}`,children:[d.jsx(qo,{setShowSettings:n,filteredCharacters:m||[],setShowPlans:e}),d.jsx("div",{className:"flex justify-center my-4",children:d.jsx(P1,{className:`w-full max-w-2xl ${r&&"mx-3"}`,showPopover:!1,value:o})}),d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(dw,{value:l,onValueChange:U,children:d.jsxs(Iv,{children:[d.jsx(ro,{value:"persoas",children:"Persoas"}),d.jsx(ro,{value:"stories",children:"Stories"})]})})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 px-4 pb-8",children:w?Array.from({length:u}).map((O,M)=>d.jsx(ba,{},M)):l==="persoas"?R.length>0?R.map(O=>d.jsx(rv,{name:r?O.restriction===Un.MATURE?kn(O.name,24):kn(O.name,26):kn(O.name,28),imagePath:O.photo,description:O.shortDescription,userName:O.userName,onClick:()=>tv(a,O),chatCount:O.chatCount,likeCount:O.likeCount,isMature:O.restriction===Un.MATURE},O.id)):d.jsxs("div",{className:`p-4 text-sm col-span-3 ${Xe}`,children:["No characters found. Make the character"," ",d.jsx(ui,{to:"/character/new",className:`underline ${Be}`,children:"here"}),"."]}):l==="stories"?N.length>0?N.map(O=>d.jsx(a0,{name:O.title||"",imagePath:O.cover,description:O.description,userName:O.username,onClick:()=>{a(`/story/${O.id}`)},isMature:O.restriction===Un.MATURE,numCharacters:O.characterCount||0,likeCount:O.likeCount,viewCount:O.viewCount},O.id)):d.jsx("div",{className:`p-4 text-sm col-span-3 ${Xe}`,children:"No stories found."}):null}),E>1&&!w&&d.jsx("div",{className:"fixed bottom-4 right-4",children:d.jsx(fte,{children:d.jsxs(pte,{className:`${Bo} ${it} rounded-full p-1 border border-[hsl(var(--input))]`,children:[d.jsx(gte,{size:"default",className:`cursor-pointer ${Dn} rounded-full`,onClick:()=>p(O=>Math.max(1,O-1))}),Array.from({length:E},(O,M)=>d.jsx(mte,{children:d.jsx(Tk,{size:"default",isActive:f===M+1,onClick:()=>p(M+1),className:`cursor-pointer rounded-2xl ${Bo} ${Dn}`,children:M+1})},M+1)),d.jsx(yte,{size:"default",className:`cursor-pointer ${Dn} rounded-full`,onClick:()=>p(O=>Math.min(E,O+1))})]})})})]})},DCe=({value:n,onChange:e,placeholder:t="Search chats..."})=>d.jsxs("div",{className:"relative",children:[d.jsx(lr,{type:"text",value:n,onChange:r=>e(r.target.value),placeholder:t,className:`w-full pl-10 pr-8 py-2 rounded-full border-none ${Zt} focus:outline-none focus:ring-0
                   focus:border-none text-sm placeholder:text-[hsl(var(--text-light))]`}),d.jsx(_R,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-[hsl(var(--text-light))] pointer-events-none"}),n&&d.jsx(Go,{onClick:()=>e(""),className:`absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-zinc-400 
                     cursor-pointer hover:text-zinc-600`})]}),ml=({chat:n,setChats:e,name:t,photoUrl:r})=>{const i=Ju(),s=Fr(),{isMobile:a,toggleSidebar:o}=In(),{userData:l}=kt(),[u,f]=C.useState(!1),[p,m]=C.useState(!1),[y,b]=C.useState(!1),[x,w]=C.useState(t),S=i.pathname.match(/\/(?:chat|groupchat)\/([^/]+)/),E=(S?S[1]:null)===n.id.toString(),R="characterIds"in n,N=`/${R?"groupchat":"chat"}/${n.id}`,U=async()=>{try{R?await gTe(n.id):await Jve(n.id)}catch(X){throw X}finally{e(X=>X.filter(I=>I.id!==n.id)),E&&s("/")}},O=()=>{b(!0)},M=async()=>{try{R&&await bk(n.id,{name:x}),b(!1)}catch(X){console.error("Error updating chat name",X)}finally{e(X=>X.map(I=>I.id==n.id?{...I,name:x}:I))}},P=()=>{w(t),b(!1)},H=X=>{y?X.preventDefault():a&&o()};return d.jsx(Av,{open:p,onOpenChange:m,children:d.jsxs("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),className:`flex items-center gap-3 p-3 m-3 rounded-lg ${E?Zt:u?Dn:""}`,children:[y?d.jsx("div",{className:"flex-1 min-w-0",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(An,{className:"h-10 w-10 flex-shrink-0",children:[d.jsx(Mn,{className:"rounded-full h-10 w-10",src:r,alt:t}),d.jsx(Bn,{className:`${Yr} rounded-full h-10 w-10 text-xl`,children:dr(t)})]}),d.jsxs("div",{className:"flex-1 max-w-8",children:[d.jsx("div",{className:"relative",children:d.jsx(lr,{value:x,onChange:X=>w(X.target.value),className:"font-medium focus:outline-none w-[160px]"})}),d.jsxs("div",{className:"flex flex-row",children:[d.jsx("p",{className:`font-sans text-xs ${Be} truncate`,children:n.updatedAt?mP(n.updatedAt):""}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("button",{onClick:M,className:`p-1 rounded-full bg-transparent ${wn} ${Xe}`,children:d.jsx(no,{size:18})}),d.jsx("button",{onClick:P,className:`p-1 rounded-full bg-transparent ${wn} ${Xe}`,children:d.jsx(Go,{size:18})})]})]})]})]})}):d.jsx(ui,{to:N,className:"flex-1 min-w-0",onClick:H,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs(An,{className:"h-10 w-10 flex-shrink-0",children:[d.jsx(Mn,{className:"rounded-full h-10 w-10",src:r,alt:t}),d.jsx(Bn,{className:`${Yr} rounded-full h-10 w-10 text-xl`,children:dr(t)})]}),d.jsxs("div",{className:"flex-1 max-w-8",children:[d.jsx("div",{className:"relative",children:d.jsx("p",{className:"font-sans font-medium whitespace-nowrap transition-all max-w-full",children:u||p?kn(t,15):kn(t,19)})}),d.jsx("div",{className:"flex flex-row",children:d.jsx("p",{className:`font-sans text-xs ${Be} truncate`,children:n.updatedAt?mP(n.updatedAt):""})})]})]})}),!y&&(u||p||a)&&d.jsxs(d.Fragment,{children:[d.jsx(Tv,{asChild:!0,children:d.jsx("button",{className:`flex items-center p-1 rounded-full ${wn} transition-opacity`,children:d.jsx(Mj,{size:15})})}),d.jsxs(Yp,{className:Pt(l==null?void 0:l.theme),children:[R&&d.jsxs(_i,{onSelect:O,children:[d.jsx(X1,{})," Rename chat"]}),d.jsxs(_i,{className:"text-red-700 hover:text-red-800",onSelect:U,children:[d.jsx(nq,{}),"Delete chat"]})]})]})]})})},ACe=({onClick:n})=>{const{userData:e,loading:t}=kt();return t?null:d.jsxs(d.Fragment,{children:[d.jsx(HH,{}),(e==null?void 0:e.plan)==="free"?d.jsx("div",{className:"p-4",children:d.jsx(ct,{onClick:n,variant:"outline",className:`rounded-full w-full relative border ${Dn} bg-clip-border`,children:d.jsxs("span",{className:`relative ${Be}`,children:["Upgrade to Persoa",d.jsx("span",{className:`${T1} font-bold`,children:"+"})]})})}):(e==null?void 0:e.plan)=="premium"?d.jsx("div",{className:"p-4",children:d.jsx(ct,{onClick:()=>{},variant:"outline",className:`rounded-lg h-full pr-8 relative cursor-default ${Yr} hover:bg-gradient-to-b from-[hsl(var(--background))] to-[hsl(var(--background-secondary))] border-[hsl(var(--input))] bg-clip-border text-left`,children:d.jsx("div",{className:"flex items-center",children:d.jsxs("div",{className:"flex flex-col ml-2 text-left",children:[d.jsxs("span",{className:Be,children:["Persoa",d.jsx("span",{className:`${T1} font-bold`,children:"+"})]}),d.jsx("span",{className:`${Xe} text-xs font-none`,children:"Unlimited chats and features"})]})})})}):null]})},Ux=20,TCe=({setShowPersona:n})=>{const e=Fr(),{userData:t}=kt(),r=Pt((t==null?void 0:t.theme)||Fl("theme")),i=s=>{e(s)};return d.jsx(d.Fragment,{children:d.jsxs(Av,{children:[d.jsx(Tv,{asChild:!0,children:d.jsxs(ct,{className:`${Zt} ${wn} ${it} rounded-full justify-center gap-2`,children:[d.jsx(Y1,{className:"h-4 w-4"}),"Create"]})}),d.jsxs(Yp,{align:"end",className:`w-40 ${r}`,children:[d.jsxs(_i,{onSelect:()=>i("/story/new"),children:[d.jsx(Xre,{})," Story"]}),d.jsxs(_i,{onSelect:()=>i("/groupchat/new"),children:[d.jsx(vse,{})," Group Chat"]}),d.jsxs(_i,{onSelect:()=>i("/character/new"),children:[d.jsx(mse,{})," Persoa"]}),d.jsxs(_i,{onSelect:()=>n(!0),children:[d.jsx(s4,{})," Persona"]})]})]})})},ECe=({setShowPlans:n,setShowCreatePersoaPopover:e})=>{const t=Fr(),{user:r,userData:i}=kt(),{chats:s,setChats:a,loading:o}=Sk(),{toggleSidebar:l,isMobile:u}=In(),[f,p]=C.useState({}),[m,y]=C.useState(""),[b,x]=C.useState(!1),w=C.useMemo(()=>s.filter(M=>"characterId"in M),[s]),S=C.useMemo(()=>s.filter(M=>"characterIds"in M),[s]),T=()=>{t("/discover"),u&&l()};C.useEffect(()=>{const M=Array.from(new Set(w.map(H=>H.characterId)));async function P(){const H={};try{x(!0),await Promise.all(M.map(async X=>{if(f[X]===void 0)try{const I=await Cv(X);if(I){const q=(I.userId&&await Pl(I.userId,X))??void 0;H[X]={...I,photo:q}}}catch(I){throw I}}))}catch(X){throw X}finally{x(!1)}p(X=>({...X,...H}))}M.length>0&&P()},[w]);const E=C.useMemo(()=>[...w,...S],[w,S]),R=C.useMemo(()=>{if(!m.trim())return E;const M=m.toLowerCase();return E.filter(P=>{var H,X;return"characterId"in P?(((X=(H=f[P.characterId])==null?void 0:H.name)==null?void 0:X.toLowerCase())||"").includes(M):P.name.toLowerCase().includes(M)})},[m,E,f]),N=C.useMemo(()=>{const M=[],P=[],H=[],X=[],I={},q=new Date,L=new Date(q.getFullYear(),q.getMonth(),q.getDate()),te=new Date(L);te.setDate(te.getDate()-1);const B=new Date(L);B.setDate(B.getDate()-7);const W=new Date(L);W.setDate(W.getDate()-30),R.forEach(K=>{const G=new Date(K.updatedAt);if(G>=L)M.push(K);else if(G>=te)P.push(K);else if(G>=B)H.push(K);else if(G>=W)X.push(K);else{const Y=G.getFullYear().toString();I[Y]||(I[Y]=[]),I[Y].push(K)}});const se=(K,G)=>new Date(G.updatedAt).getTime()-new Date(K.updatedAt).getTime();return M.sort(se),P.sort(se),H.sort(se),X.sort(se),Object.keys(I).sort((K,G)=>parseInt(G)-parseInt(K)).forEach(K=>I[K].sort(se)),{today:M,yesterday:P,last7Days:H,last30Days:X,older:I}},[R]),U=C.useMemo(()=>{let M=0;const P={today:[],yesterday:[],last7Days:[],last30Days:[],older:{}},H=X=>{const I=[];for(const q of X)if(M<Ux)I.push(q),M++;else break;return I};return P.today=H(N.today),M<Ux&&(P.yesterday=H(N.yesterday)),M<Ux&&(P.last7Days=H(N.last7Days)),M<Ux&&(P.last30Days=H(N.last30Days)),M<Ux&&Object.keys(N.older).sort((I,q)=>Number(q)-Number(I)).forEach(I=>{M<Ux&&(P.older[I]=H(N.older[I]))}),P},[N]),O=Pt((i==null?void 0:i.theme)||Fl("theme"));return d.jsxs("div",{className:`flex flex-col h-full ${O}`,children:[d.jsxs("div",{className:"p-5 mt-2 flex items-center justify-between",children:[d.jsx(A3,{}),d.jsx(rie,{className:`cursor-pointer ${Xe}`,onClick:l})]}),d.jsxs("div",{className:"flex items-center gap-2 px-4 pb-4",children:[d.jsxs(ct,{onClick:T,className:`${Zt} ${wn} ${it} rounded-full justify-center gap-2`,children:[d.jsx(Tie,{className:"h-4 w-4"}),"Discover"]}),d.jsx(TCe,{setShowPersona:e})]}),d.jsx("div",{className:"px-4 pb-2",children:d.jsx(DCe,{value:m,onChange:y})}),d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsx(R8,{className:"h-full",children:o||b?d.jsx("div",{className:"p-4 space-y-4 mt-4",children:Array.from({length:10}).map((M,P)=>d.jsxs("div",{className:"flex items-center gap-4 animate-pulse",children:[d.jsx("div",{className:`h-10 w-10 rounded-full ${$t}`}),d.jsx("div",{className:`h-4 ${$t} rounded w-2/3`})]},P))}):r?m.trim()?R.length===0?d.jsx("div",{className:"p-4 text-sm text-[hsl(var(--text-muted))]",children:"No chats found."}):d.jsx("div",{className:"space-y-4",children:R.map(M=>{if("characterId"in M){const P=f[M.characterId];return P===null?null:d.jsx(ml,{chat:M,setChats:a,name:P==null?void 0:P.name,photoUrl:P==null?void 0:P.photo},M.id)}else return d.jsx(ml,{chat:M,setChats:a,name:M.name},M.id)})}):R.length===0?d.jsx("div",{className:"p-8 text-sm text-[hsl(var(--text-muted))]"}):d.jsxs("div",{className:"space-y-4",children:[U.today.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:`px-4 py-2 text-sm ${it}`,children:"Today"}),d.jsx("div",{children:U.today.map(M=>{if("characterId"in M){const P=f[M.characterId];return P===null?null:d.jsx(ml,{chat:M,setChats:a,name:P==null?void 0:P.name,photoUrl:P==null?void 0:P.photo},M.id)}else return d.jsx(ml,{chat:M,setChats:a,name:M.name},M.id)})})]}),U.yesterday.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:`px-4 py-2 text-sm font-sans ${it}`,children:"Yesterday"}),d.jsx("div",{children:U.yesterday.map(M=>{if("characterId"in M){const P=f[M.characterId];return P===null?null:d.jsx(ml,{chat:M,setChats:a,name:P==null?void 0:P.name,photoUrl:P==null?void 0:P.photo},M.id)}else return d.jsx(ml,{chat:M,setChats:a,name:M.name},M.id)})})]}),U.last7Days.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:`px-4 py-2 text-sm font-sans ${it}`,children:"Previous 7 Days"}),d.jsx("div",{children:U.last7Days.map(M=>{if("characterId"in M){const P=f[M.characterId];return P===null?null:d.jsx(ml,{chat:M,setChats:a,name:P==null?void 0:P.name,photoUrl:P==null?void 0:P.photo},M.id)}else return d.jsx(ml,{chat:M,setChats:a,name:M.name},M.id)})})]}),U.last30Days.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:`px-4 py-2 text-sm font-sans ${it}`,children:"Previous 30 Days"}),d.jsx("div",{children:U.last30Days.map(M=>{if("characterId"in M){const P=f[M.characterId];return P===null?null:d.jsx(ml,{chat:M,setChats:a,name:P==null?void 0:P.name,photoUrl:P==null?void 0:P.photo},M.id)}else return d.jsx(ml,{chat:M,setChats:a,name:M.name},M.id)})})]}),Object.keys(U.older).sort((M,P)=>Number(P)-Number(M)).map(M=>d.jsxs("div",{children:[d.jsx("div",{className:`px-4 py-2 text-sm font-sans ${it}}`,children:M}),d.jsx("div",{children:U.older[M].map(P=>{if("characterId"in P){const H=f[P.characterId];return H===null?null:d.jsx(ml,{chat:P,setChats:a,name:H==null?void 0:H.name,photoUrl:H==null?void 0:H.photo},P.id)}else return d.jsx(ml,{chat:P,setChats:a,name:P.name},P.id)})})]},M))]}):d.jsx("div",{className:"p-4 text-sm",children:"Sign up or login to see previous chat history."})})}),d.jsx("div",{className:"p-3 text-center",children:d.jsxs("p",{className:"text-xs cursor-pointer",children:[d.jsx(ui,{to:"https://discord.gg/7QYHdvtVaU",target:"_blank",rel:"noopener noreferrer",className:`${Be} hover:text-[hsl(var(--text-main))] mr-1`,children:"Discord"})," • ",d.jsx(ui,{to:"https://www.reddit.com/r/persoaAI/",target:"_blank",rel:"noopener noreferrer",className:`${Be}  hover:text-[hsl(var(--text-main))] ml-1`,children:"Reddit"})," • ",d.jsx(ui,{to:"https://x.com/persoaAI",target:"_blank",rel:"noopener noreferrer",className:`${Be}  hover:text-[hsl(var(--text-main))] ml-1`,children:"X"})]})}),r&&d.jsx(ACe,{onClick:()=>n(!0)})]})},dz=Symbol.for("constructDateFrom");function vte(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&dz in n?n[dz](e):n instanceof Date?new n.constructor(e):new Date(e)}function CCe(n,e){return vte(n,n)}function NCe(n,e){const t=CCe(n),r=t.getFullYear(),i=t.getMonth(),s=vte(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}const RCe=({name:n})=>{const{userData:e}=kt(),[t,r]=ywe(n),{setFieldValue:i}=R3(),a=new Date().getFullYear(),o=[];for(let T=a;T>=a-105;T--)o.push(T.toString());const l=[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}],u=t.value?new Date(t.value):new Date,[f,p]=C.useState(u?new Date(u).getFullYear().toString():""),[m,y]=C.useState(u?new Date(u).getMonth().toString():""),[b,x]=C.useState(u?new Date(u).getDate().toString():"");C.useEffect(()=>{if(f&&m&&b){const T=new Date(Number(f),Number(m),Number(b));i(n,T.toISOString())}},[f,m,b,n,i]);let w=31;f&&m&&(w=NCe(new Date(Number(f),Number(m))),b&&Number(b)>w&&x(w.toString()));const S=[];for(let T=1;T<=w;T++)S.push(T.toString());return d.jsxs("div",{className:"flex flex-col space-y-1.5",children:[d.jsx(Er,{labelText:"Date of birth",infoText:"Your date of birth is used to calculate your age."}),d.jsxs("div",{className:"flex space-x-2",children:[d.jsxs(Rl,{value:m,onValueChange:y,children:[d.jsx(kl,{className:"w-32",children:d.jsx(jl,{placeholder:"Month"})}),d.jsx(Ho,{className:Pt(e==null?void 0:e.theme),children:l.map(T=>d.jsx(Mr,{value:T.value,children:T.label},T.value))})]}),d.jsxs(Rl,{value:b,onValueChange:x,disabled:!m||!f,children:[d.jsx(kl,{className:"w-24",children:d.jsx(jl,{placeholder:"Day"})}),d.jsx(Ho,{className:Pt(e==null?void 0:e.theme),children:S.map(T=>d.jsx(Mr,{value:T,children:T},T))})]}),d.jsxs(Rl,{value:f,onValueChange:p,children:[d.jsx(kl,{className:"w-32",children:d.jsx(jl,{placeholder:"Year"})}),d.jsx(Ho,{className:Pt(e==null?void 0:e.theme),children:o.map(T=>d.jsx(Mr,{value:T,children:T},T))})]})]}),r.touched&&r.error&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:r.error})]})},jCe=({isOpen:n,onClose:e,setShowOnboarding:t})=>{const{user:r,userData:i,setUserData:s}=kt(),{isMobile:a}=In(),[o,l]=C.useState({username:"",displayName:"",dateOfBirth:new Date});C.useEffect(()=>{n&&r&&r.id&&(async()=>{const b=r.user_metadata.full_name||"",x=f(b||r.email||""),w=await u(x);l({username:w,displayName:b,dateOfBirth:new Date})})()},[r==null?void 0:r.id,n]);const u=async b=>{let x=b,w=0,S=10,T=0;for(;T<S;){T++;try{const E=await fetch(`${mr}/users/exists/${x}`);if(!E.ok){console.error(`Username check failed with status: ${E.status}`),await new Promise(N=>setTimeout(N,500)),w++,x=`${b}${w}`;continue}if(!(await E.json()).exists)return x;w++,x=`${b}${w}`}catch(E){console.error("Error checking username uniqueness:",E),w++,x=`${b}${w}`,await new Promise(R=>setTimeout(R,500))}}return x},f=b=>b.trim().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,""),p=new Date;p.setFullYear(p.getFullYear()-13);const m=lm().shape({username:os().required("Username is required").matches(/^[a-zA-Z0-9_-]{1,30}$/,"Username must be 1-30 characters and can only contain letters, numbers, underscores, and hyphens"),displayName:os().required("Display name is required").max(50,"Display name cannot exceed 50 characters"),dateOfBirth:tI().required("Date of birth is required").max(p,"You must be at least 13 years old to use Persoa")}),y=async(b,{setSubmitting:x,setErrors:w})=>{try{const S=await await fetch(`${mr}/users/exists/${b.username}`);if(!S.ok)throw new Error(`HTTP error! Status: ${S.status}`);if((await S.json()).exists){w({username:"Username already exists"});return}if(r){const E={id:r.id,email:r.email||"",credits:50,username:b.username,displayName:b.displayName,dateOfBirth:b.dateOfBirth,plan:"free",theme:"automatic",bio:""},R=await $ce(E);s(R),t(!1),e()}}catch(S){console.error(S),w({dateOfBirth:"Something went wrong"})}finally{x(!1)}};return d.jsx(ao,{open:n,onOpenChange:()=>{},modal:!0,children:d.jsxs(Ta,{allowLeave:!1,className:`flex flex-col rounded-xl ${a?"w-full":"w-2/5"} ${Pt(i==null?void 0:i.theme)}`,children:[d.jsx(ls,{className:"text-center text-lg font-semibold",children:"Welcome to Persoa! Let's set up your profile."}),d.jsx("div",{className:"flex justify-center",children:d.jsxs(R1,{children:[d.jsx(ov,{src:void 0,alt:"Profile",className:"object-cover rounded-full"}),d.jsx(lv,{className:Yr})]})}),d.jsx(PY,{enableReinitialize:!0,initialValues:o,validationSchema:m,onSubmit:y,children:({isSubmitting:b,isValid:x,values:w})=>d.jsxs(B8,{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Er,{labelText:"Username",infoText:"Username changes aren't supported right now, so choose carefully."}),d.jsx(U$,{type:"text",id:"username",name:"username",placeholder:"Username",className:`w-full border rounded-md px-3 py-2 placeholder:text-[hsl(var(--text-muted))] focus:outline-none ${_t} ${Xe}`}),d.jsxs("div",{className:"text-right text-sm text-[hsl(var(--text-muted))]",children:[w.username.length,"/",30]}),d.jsx(WR,{name:"username",component:"div",className:"text-destructive text-sm mt-1"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"displayName",className:`block text-sm font-medium ${Be}`,children:"Display Name"}),d.jsx(U$,{type:"text",id:"displayName",name:"displayName",placeholder:"Display name",className:`w-full border rounded-md px-3 py-2  placeholder:text-[hsl(var(--text-muted))] focus:outline-none ${_t} ${Xe}`}),d.jsxs("div",{className:"text-right text-sm text-[hsl(var(--text-muted))]",children:[w.displayName.length,"/",50]}),d.jsx(WR,{name:"displayName",component:"div",className:"text-red-500 text-sm mt-1"})]}),d.jsx(RCe,{name:"dateOfBirth"}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ct,{type:"submit",className:"rounded-full mt-6",disabled:b||!x,children:b?d.jsx(yr,{className:"animate-spin h-6 w-6"}):"Finish"})})]})})]})})};var kCe="Label",bte=C.forwardRef((n,e)=>d.jsx(Ft.label,{...n,ref:e,onMouseDown:t=>{var i;t.target.closest("button, input, select, textarea")||((i=n.onMouseDown)==null||i.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));bte.displayName=kCe;var xte=bte;const UCe=xA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Up=C.forwardRef(({className:n,...e},t)=>d.jsx(xte,{ref:t,className:ft(UCe(),n),...e}));Up.displayName=xte.displayName;const OCe=({isOpen:n,onClose:e,setShowPlans:t})=>{const{userData:r}=kt(),{isMobile:i}=In(),[s,a]=C.useState("Profile");return d.jsx(ao,{open:n,onOpenChange:e,modal:!0,children:d.jsxs(Ta,{allowLeave:!0,className:`sm:max-w-2xl ${i&&"text-sm"} rounded-xl ${Pt(r==null?void 0:r.theme)}`,children:[d.jsx(ls,{}),d.jsxs("div",{className:"flex h-full min-h-[400px]",children:[d.jsx("div",{className:"border-r p-4 w-1/3 sm:w-1/4",children:d.jsxs("nav",{className:"space-y-2",children:[d.jsx("button",{type:"button",className:`w-full text-left  p-2 rounded ${it} ${wn} ${s==="Profile"&&`font-semibold ${Zt}`}`,onClick:()=>a("Profile"),children:"Profile"}),d.jsx("button",{type:"button",className:`w-full text-left p-2 rounded ${it} ${wn} ${s==="Account"&&`font-semibold ${Zt}`}`,onClick:()=>a("Account"),children:"Account"}),d.jsx("button",{type:"button",className:`w-full text-left p-2 rounded ${it} ${wn} ${s==="Preferences"&&`font-semibold ${Zt}`}`,onClick:()=>a("Preferences"),children:"Preferences"})]})}),d.jsxs("div",{className:"flex-1 p-4",children:[s==="Profile"&&d.jsx(MCe,{user:r,onClose:e}),s==="Account"&&d.jsx(PCe,{user:r,onClose:e,setShowPlans:t}),s==="Preferences"&&d.jsx(FCe,{theme:(r==null?void 0:r.theme)||"automatic"})]})]})]})})};function MCe({onClose:n,user:e}){const t=lm().shape({displayName:os().required("Display name is required").max(50,"Max 50 characters")}),r={username:(e==null?void 0:e.username)||"",displayName:(e==null?void 0:e.displayName)||"",bio:(e==null?void 0:e.bio)||""},i=async(s,{setSubmitting:a})=>{if(e!=null&&e.id)try{console.log("before updateUser"),await b4(e.id,{displayName:s.displayName,bio:s.bio,updatedAt:new Date().toISOString()}),n()}catch(o){console.error("Error updating user:",o),a(!1)}};return d.jsxs("div",{children:[d.jsx(ls,{className:"text-lg font-bold mb-4",children:"Profile"}),d.jsx(PY,{initialValues:r,onSubmit:i,validationSchema:t,children:({values:s,handleChange:a,isSubmitting:o,isValid:l})=>d.jsxs(B8,{className:`space-y-4 ${Be}`,children:[d.jsxs("div",{children:[d.jsx(Up,{htmlFor:"username",children:d.jsxs("span",{className:"inline-flex items-center gap-2",children:["Username",d.jsx(Qz,{className:"h-3 w-3"})]})}),d.jsx(lr,{value:s.username,id:"username",name:"username",className:"mt-2 block w-full rounded border px-3 py-2",placeholder:"Your username",disabled:!0}),d.jsx(WR,{name:"username",component:"p",className:"text-[hsl(var(--destructive))] text-sm mt-1"})]}),d.jsxs("div",{children:[d.jsx(Up,{htmlFor:"displayName",children:"Display Name"}),d.jsx(lr,{id:"displayName",name:"displayName",className:"mt-2 block w-full rounded border px-3 py-2",placeholder:"Your display name",onChange:a,value:s.displayName,maxLength:Zu}),d.jsx(WR,{name:"displayName",component:"p",className:"text-[hsl(var(--destructive))] text-sm mt-1"})]}),d.jsxs("div",{children:[d.jsx(Up,{htmlFor:"bio",children:"Bio"}),d.jsx(lr,{id:"bio",name:"bio",className:"mt-2 block w-full rounded border px-3 py-2",placeholder:"Your profile description",onChange:a,value:s.bio,maxLength:Zu})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ct,{type:"submit",disabled:o||!l,className:"rounded-full",children:o?d.jsx(yr,{className:"animate-spin h-6 w-6"}):"Save Changes"})})]})})]})}function PCe({user:n,onClose:e,setShowPlans:t}){const[r,i]=C.useState(!1),[s,a]=C.useState(!1),o=async()=>{i(!0);try{await Wce(n.id),e()}catch{i(!1)}},l=async()=>{a(!0);try{await zce(n.id),e()}catch{a(!1)}},u=f=>f[0].toUpperCase()+f.slice(1);return d.jsxs("div",{children:[d.jsx(ls,{className:"text-lg font-bold mb-4",children:"Account"}),d.jsxs("div",{className:"border rounded p-4 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:`font-medium ${it}`,children:"Current Plan"}),d.jsx("p",{className:`text sm ${Xe}`,children:u(n.plan)})]}),d.jsx(ct,{onClick:t,variant:n.plan=="free"?"default":"secondary",className:"rounded-full",children:n.plan=="free"?"Upgrade":"View Plans"})]}),d.jsx("h3",{className:`text-md font-bold mb-1 mt-[140px] ${it}`,children:"Account removal"}),d.jsx("p",{className:`text-sm mb-4 ${Xe}`,children:"Recover your account at any time when you disable."}),d.jsxs("div",{children:[d.jsx(ct,{variant:"destructive",className:"rounded-full mr-2",onClick:l,disabled:s,children:s?d.jsx(yr,{className:"animate-spin h-6 w-6"}):"Disable"}),d.jsx(ct,{variant:"outline",className:`rounded-full border-destructive hover:bg-destructive/80 ${Be}`,onClick:o,disabled:r,children:r?"Deleting...":"Delete"})]})]})}const FCe=({theme:n})=>{const{user:e,userData:t,setUserData:r}=kt(),i=async s=>{e&&(await b4(e==null?void 0:e.id,{theme:s}),r({...t,theme:s}),iae("theme",s,30))};return d.jsxs("div",{children:[d.jsx(ls,{className:"text-lg font-bold mb-4",children:"Preferences"}),d.jsxs("div",{className:`flex items-center justify-between py-2 ${it}`,children:[d.jsx("span",{children:"Theme"}),d.jsx("span",{className:"w-36",children:d.jsxs(Rl,{value:n,onValueChange:s=>i(s),children:[d.jsx(kl,{className:"mt-1 w-full",children:d.jsx(jl,{placeholder:"Automatic"})}),d.jsx(Ho,{className:Pt(t==null?void 0:t.theme),children:d.jsxs(fv,{children:[d.jsx(Mr,{value:"automatic",children:"Automatic"}),d.jsx(Mr,{value:"light",children:"Light"}),d.jsx(Mr,{value:"dark",children:"Dark"})]})})]})})]}),d.jsx(o4,{className:"my-2"})]})},LCe=({open:n,onOpenChange:e,activeTab:t,setFollowPopoverTab:r,followers:i,followings:s})=>{const{userData:a}=kt(),o=Fr(),[l,u]=C.useState([]),[f,p]=C.useState(!1);C.useEffect(()=>{if(!n)return;p(!0);const b=t==="followers"?i:s;Promise.all(b.map(async x=>{const w=await Xj(x);if(!w)return null;const S=await _v(x);return{...w,photo:S}})).then(x=>{const w=x.filter(S=>S!==null);u(w),p(!1)}).catch(x=>{console.error("Error fetching users:",x),u([]),p(!1)})},[n,t,i,s]);const m=()=>d.jsx("div",{className:"flex flex-col space-y-2 w-full",children:Array.from({length:3}).map((b,x)=>d.jsxs("div",{className:"flex items-center space-x-2 p-2 animate-pulse",children:[d.jsx("div",{className:`rounded-full ${$t} h-8 w-8`}),d.jsxs("div",{className:"flex flex-col space-y-1",children:[d.jsx("div",{className:`h-4 w-24 ${$t} rounded`}),d.jsx("div",{className:`h-3 w-16 ${$t} rounded`})]})]},x))}),y=()=>d.jsx("div",{className:"flex flex-col space-y-2 w-full",children:l.map(b=>d.jsxs("div",{onClick:()=>{e(!1),o(`/profile/${b.username}`)},className:`flex items-center space-x-2 p-2 ${Fj} rounded-xl cursor-pointer`,children:[d.jsxs(An,{className:"h-10 w-10",children:[d.jsx(ov,{src:b.photo}),d.jsx(Bn,{className:`${Yr} text-xl`,children:dr(b.displayName)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold",children:b.displayName}),d.jsxs("p",{className:"text-sm text-zinc-500",children:["@",b.username]})]})]},b.id))});return d.jsxs(Nc,{open:n,onOpenChange:e,children:[d.jsx(Rc,{asChild:!0,children:d.jsx("div",{})}),d.jsx(Nl,{className:`fixed left-1/2 transform -translate-x-1/2 translate-y-1/3 
                   rounded-xl w-[400px] min-h-[600px] p-4 ${Pt(a==null?void 0:a.theme)}
                   flex flex-col items-center`,children:d.jsxs(dw,{value:t,onValueChange:b=>r(b),children:[d.jsxs(Iv,{className:"mx-auto grid grid-cols-2 mb-4 gap-2 w-[250px]",children:[d.jsx(ro,{value:"followers",children:"Followers"}),d.jsx(ro,{value:"following",children:"Following"})]}),d.jsx(Hu,{value:"followers",className:"w-full",children:d.jsx("div",{className:"w-full h-[500px] overflow-y-auto",children:f?d.jsx(m,{}):l.length>0?d.jsx(y,{}):null})}),d.jsx(Hu,{value:"following",className:"w-full",children:d.jsx("div",{className:"w-full h-[500px] overflow-y-auto",children:f?d.jsx(m,{}):l.length>0?d.jsx(y,{}):null})})]})})]})},ICe=({profile:n,followers:e,followings:t,totalChatCount:r,isFollowing:i,handleFollow:s,handleUnfollow:a,setShowSettings:o,setFollowPopoverTab:l,setShowFollowPopover:u,loading:f=!1})=>{const{userData:p,userPhoto:m,setUserPhoto:y}=kt(),[b,x]=Wi.useState(void 0),[w,S]=C.useState(!1),T=(p==null?void 0:p.username)===(n==null?void 0:n.username);Wi.useEffect(()=>{S(!1),T?x(m):(async()=>{if(!(n!=null&&n.id))return;const N=await _v(n.id);x(N??void 0)})()},[n,p,m]);const E=async R=>{if(R&&(n!=null&&n.id))try{const N=await Fce(R,n.id);y(N??void 0)}catch(N){console.error("Photo update failed:",N)}};return d.jsx("div",{className:"text-center",children:n?d.jsxs(d.Fragment,{children:[T?d.jsx(Ak,{photoURL:m,name:n.displayName,onPhotoChange:E,allowEdit:!0}):d.jsxs(An,{className:"mx-auto h-40 w-40",children:[d.jsx(Mn,{src:b,alt:n.displayName}),d.jsx(Bn,{className:`${Yr} ${Xe} text-5xl`,children:dr(n.displayName)})]}),d.jsxs("div",{className:"mt-5",children:[d.jsx("h1",{className:`text-2xl font-bold  ${it}`,children:n.displayName}),n.username&&d.jsxs("p",{className:Be,children:["@",n.username]}),d.jsxs("p",{className:`${Be} text-sm mt-3 gap-2`,children:[d.jsxs("span",{onClick:()=>{l("followers"),u(!0)},className:"cursor-pointer px-2",children:[Or(e.length)," followers"]})," • ",d.jsxs("span",{onClick:()=>{l("following"),u(!0)},className:"cursor-pointer px-2",children:[Or(t.length)," following"]})," • ",d.jsxs("span",{className:"px-2",children:[Or(r)," chats"]})]}),d.jsx("p",{className:`mt-2 text-sm text-center h-8 ${Xe}`,children:n==null?void 0:n.bio}),p&&p.username!==n.username?i?d.jsx(ct,{variant:"secondary",className:"rounded-full mt-2",onClick:a,children:"Following"}):d.jsx(ct,{className:"rounded-full mt-2",onClick:s,children:"Follow"}):p?d.jsxs(ct,{variant:"secondary",onClick:()=>o(!0),className:`rounded-full ${it} ${Zt} ${wn} mt-2`,children:[d.jsx(X1,{})," Settings"]}):null,d.jsx(ct,{className:`ml-2 rounded-full bg-transparent border border-[hsl(var(--input))] ${Xe} ${Dn}`,onClick:async()=>{await navigator.clipboard.writeText(`https://www.persoa.ai/${cP(window.location.pathname)}`),S(!0)},children:w?d.jsx(no,{}):d.jsx(dP,{})})]})]}):f?d.jsxs("div",{className:"text-center justify-center",children:[d.jsx("div",{className:`h-40 w-40 rounded-full ${$t} animate-pulse`}),d.jsxs("div",{className:"mt-4",children:[d.jsx("div",{className:`h-6 w-48 ${$t} rounded-md animate-pulse mx-auto mb-2`}),d.jsx("div",{className:`h-4 w-32 ${$t} rounded-md animate-pulse mx-auto`})]})]}):d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:`h-40 w-40 rounded-full ${$t}`}),d.jsx("div",{className:"mt-4",children:d.jsx("h2",{className:`${it} text-xl font-bold`,children:"Profile not found"})})]})})},$Ce=({name:n,imagePath:e,description:t="",onClick:r,isDisabled:i=!1,backgroundColor:s,hoverBackgroundColor:a,imageHeight:o})=>{const{open:l}=In();return d.jsx(Lv,{onClick:r,className:`shadow-none border-none order-none w-full rounded-xl p-4 overflow-hidden ${_t} ${s} 
         ${!i&&`cursor-pointer ${Dn} ${a} `}
        relative`,children:d.jsxs("div",{className:"flex flex-row sm:flex-row items-center",children:[d.jsxs(An,{className:`${o} h-24 w-24 rounded-full mr-4`,children:[d.jsx(Mn,{src:e,alt:n,className:"object-cover rounded-full"}),d.jsx(lv,{className:`${Cr} ${o} h-24 w-24 text-3xl flex items-center justify-center rounded-full`,children:dr(n)})]}),d.jsx("div",{className:"flex flex-col justify-center flex-1 hover:text-zinc-800",children:d.jsxs(cw,{className:`p-0 ${it}`,children:[d.jsx(uw,{className:"text-left text-md",children:d.jsx("span",{className:"inline-flex items-center gap-2",children:l?kn(n,31):n})}),d.jsx(eT,{className:`text-left text-[11px] mt-2 mb-2 ${it} min-h-[48px] line-clamp-3 overflow-hidden`,children:t||" "})]})})]})})},BCe=({onDelete:n,isLoading:e})=>{const{userData:t}=kt(),[r,i]=C.useState(!1),{isMobile:s}=In();return d.jsxs(Nc,{open:r,onOpenChange:i,children:[d.jsx(Rc,{asChild:!0,children:d.jsx(ct,{className:`rounded-full bg-transparent ${Xe} hover:bg-destructive/30 text-destructive`,children:"Delete"})}),d.jsxs(Nl,{className:`w-80 p-4 ${s?"mr-8":"mr-56"} ${t==null?void 0:t.theme}`,children:[d.jsx("p",{className:"text-base font-semibold",children:"Are you sure you want to delete this persona?"}),d.jsx("p",{className:`text-sm mb-4 ${Xe}`,children:"This change is irreversible."}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx(ct,{variant:"outline",className:"rounded-full",onClick:()=>i(!1),children:"Cancel"}),d.jsx(ct,{variant:"destructive",className:"rounded-full",onClick:()=>{n(),i(!1)},children:e?d.jsx(yr,{className:"animate-spin h-6 w-6"}):"Delete"})]})]})]})},nI=({isOpen:n,onClose:e,persona:t,setPersonas:r})=>{const{user:i,userData:s}=kt(),{isMobile:a}=In(),[o,l]=Wi.useState(t==null?void 0:t.photo),[u,f]=C.useState(!1),[p,m]=C.useState(!1),y=Mh({initialValues:{name:(t==null?void 0:t.name)??"",background:(t==null?void 0:t.background)??"",photo:null},enableReinitialize:!0,validationSchema:lm({name:os().required("Name is required").max($o,`Name cannot exceed ${$o} characters`),background:os().max(5e3,"Background cannot exceed 5000 characters")}),onSubmit:async x=>{if(i){f(!0);try{if(t){const w=await TEe(t.id,{name:x.name,background:x.background}),S=x.photo?await CEe(x.photo,i==null?void 0:i.id,t.id):t==null?void 0:t.photo;r&&r(T=>T.map(E=>E.id===t.id?{...E,...w,photo:S}:E))}else{const w=await AEe({name:x.name,background:x.background,userId:i==null?void 0:i.id}),S=x.photo?await Uee(x.photo,i==null?void 0:i.id,w.id):void 0;r&&r(T=>[...T,{...w,photo:S}])}y.resetForm(),e()}catch(w){throw w}finally{f(!1)}}}});C.useEffect(()=>{if(y.values.photo){const x=URL.createObjectURL(y.values.photo);return l(x),()=>URL.revokeObjectURL(x)}else l(t==null?void 0:t.photo)},[y.values.photo]),C.useEffect(()=>{n&&(y.resetForm(),l(t==null?void 0:t.photo))},[n]);const b=async()=>{try{m(!0),t&&await EEe(t==null?void 0:t.id)}catch(x){throw x}finally{r&&r(x=>x.filter(w=>(w==null?void 0:w.id)!==(t==null?void 0:t.id))),m(!1),e()}};return d.jsx(ao,{open:n,onOpenChange:x=>!x&&e(),children:d.jsxs(Ta,{className:`space-y-6 rounded-xl ${Zt} ${a?"w-11/12":"w-1/3"} ${Pt(s==null?void 0:s.theme)}`,children:[d.jsx(d3,{asChild:!0,children:d.jsx(ct,{className:`absolute top-4 right-4 p-1 bg-transparent hover:bg-transparent ${Xe} focus:outline-none`,children:d.jsx(Go,{className:"h-5 w-5"})})}),d.jsxs(ls,{className:"flex flex-row justify-between",children:[d.jsx(Er,{labelText:t?"Edit persona":"New persona",infoText:"Create personas to change your identity between chats",textSize:"font-semibold text-lg"}),t&&d.jsx(BCe,{onDelete:b,isLoading:p})]}),d.jsxs("form",{onSubmit:y.handleSubmit,className:"space-y-6",children:[d.jsx(Ak,{photoURL:o??void 0,onPhotoChange:x=>y.setFieldValue("photo",x),name:y.values.name,allowEdit:!0}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:`block text-sm font-medium ${Be}`,children:"Name"}),d.jsx(lr,{id:"name",name:"name",type:"text",placeholder:"Enter persona name",onChange:y.handleChange,value:y.values.name,maxLength:$o,className:"mt-1 w-full rounded-lg bg-transparent shadow-sm p-2 transition-all duration-300 hover:shadow-md focus:ring-0 focus:outline-none"}),d.jsxs("div",{className:`text-xs text-right mt-1 ${Xe}`,children:[y.values.name.length,"/",$o]}),y.errors.name&&y.touched.name&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:y.errors.name})]}),d.jsxs("div",{children:[d.jsx(W4,{className:`block text-sm font-medium ${Be}`,children:"Background"}),d.jsx(io,{id:"background",name:"background",placeholder:"Optional background",onChange:y.handleChange,value:y.values.background,maxLength:5e3,className:`mt-1 w-full h-36 rounded-lg p-2 bg-transparent ${Be} focus:ring-none focus:outline-none focus:border-[hsl(var(--input))]`}),d.jsxs("div",{className:`text-xs text-right mt-1 ${Xe}`,children:[y.values.background.length,"/",5e3]}),y.errors.background&&y.touched.background&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:y.errors.background})]}),d.jsx("div",{className:"flex justify-end gap-2",children:d.jsx(ct,{type:"submit",className:`rounded-full flex flex-row px-4 py-2 ${ti} ${ri} ${ni} transition duration-300 hover:shadow-md`,children:u?d.jsx(yr,{className:"animate-spin h-6 w-6"}):d.jsx(d.Fragment,{children:t?"Save changes":d.jsxs(d.Fragment,{children:[d.jsx(sse,{}),"Create Persona"]})})})})]})]})})},WCe=({currentTab:n,sortOption:e,setSearchParams:t,searchParams:r,sortedCharacters:i,sortedStories:s,sortedBookmarks:a,sortedSavedStories:o,sortedLikes:l,sortedLikedStories:u,sortedPersonas:f,setPersonas:p,profile:m,loading:y=!1})=>{const b=Fr(),{userData:x}=kt(),{isMobile:w}=In(),[S,T]=C.useState(""),[E,R]=C.useState(!1),[N,U]=C.useState(void 0),O=q=>{const L=new URLSearchParams(r);L.set("tab",q),t(L)},M=q=>{const L=new URLSearchParams(r);L.set("sort",q),t(L)},P=(m==null?void 0:m.username)===(x==null?void 0:x.username),H=P?"grid-cols-5 w-[500px]":"grid-cols-3 w-64",X=n==="personas"&&f?f.filter(q=>q.name.toLowerCase().includes(S.toLowerCase())):f,I=()=>{R(!1)};return d.jsxs("div",{className:"w-full mt-8",children:[d.jsxs(dw,{value:n,onValueChange:O,children:[d.jsx("div",{className:`flex justify-center ${w&&"overflow-x-auto"}`,children:d.jsxs(Iv,{className:`${w?"flex gap-2":`grid ${H} gap-2`}`,children:[d.jsx(ro,{className:w?"text-xs whitespace-nowrap":"",value:"stories",children:"Stories"}),d.jsx(ro,{className:w?"text-xs whitespace-nowrap":"",value:"persoas",children:"Persoas"}),d.jsx(ro,{className:w?"text-xs whitespace-nowrap":"",value:"likes",children:"Likes"}),P&&d.jsxs(d.Fragment,{children:[d.jsx(ro,{className:w?"text-xs whitespace-nowrap":"",value:"saved",children:d.jsxs("span",{className:"flex items-center",children:[d.jsx(uP,{className:"mr-1",size:12}),"Saved"]})}),d.jsx(ro,{className:w?"text-xs whitespace-nowrap":"",value:"personas",children:d.jsxs("span",{className:"flex items-center",children:[d.jsx(uP,{className:"mr-1",size:12})," Personas"]})})]})]})}),d.jsxs("div",{className:"flex items-center justify-center ml-4 mt-3 gap-4",children:[d.jsx("div",{className:"w-32",children:d.jsxs(Rl,{value:e,onValueChange:M,children:[d.jsx(kl,{id:"sort-by",className:`border-none rounded-full ${_t} ${it} p-1 text-sm`,children:d.jsx(jl,{placeholder:"Select sort"})}),d.jsxs(Ho,{className:Pt(x==null?void 0:x.theme),children:[d.jsx(Mr,{value:"most recent",children:"Most recent"}),n!=="personas"&&n!=="stories"&&d.jsx(Mr,{value:"most chatted",children:"Most chatted"}),n!=="personas"&&d.jsx(Mr,{value:"most favorited",children:"Most favorited"}),n==="stories"&&d.jsx(Mr,{value:"most viewed",children:"Most viewed"}),d.jsx(Mr,{value:"alphabetical",children:"Alphabetical"})]})]})}),n==="personas"&&d.jsxs(d.Fragment,{children:[d.jsx(P1,{className:"max-w-[300px] w-full",showPopover:!1,value:S,onValueChange:q=>T(q),handleKeyDown:()=>{},height:w?"h-7":"h-8",placeholder:w?"Filter by":"Search personas",hasSearchButton:!1}),P&&d.jsxs(ct,{onClick:()=>{U(void 0),R(!0)},className:`rounded-full flex items-center gap-1 px-3 h-8 text-sm ${$t} ${it} ${wn} transition duration-300 hover:shadow-sm`,children:[d.jsx(Y1,{size:16}),d.jsx("span",{className:w?"hidden":"inline",children:"Add persona"})]})]})]}),d.jsx(Hu,{value:"persoas",children:m&&i?i.length>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 cursor-pointer",children:i.map(q=>(q.isPublic||(x==null?void 0:x.username)===(m==null?void 0:m.username))&&d.jsx(bt.div,{whileHover:{scale:1.02,transition:{duration:.2}},children:d.jsx(rv,{name:w?(q.restriction===Un.MATURE,kn(q.name,10)):kn(q.name,20),imagePath:q.photo,description:q.shortDescription,chatCount:q.chatCount,likeCount:q.likeCount,userName:m.username,onClick:()=>{(x==null?void 0:x.username)===m.username?b(`/character/${q.id}`):tv(b,q)},isPublic:q.isPublic,isMature:q.restriction===Un.MATURE})},q.id))}):y&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 px-4 pb-8",children:Array.from({length:6}).map((q,L)=>d.jsx(ba,{},L))})}),d.jsx(Hu,{value:"stories",children:!y&&m&&s?s.length>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 cursor-pointer",children:s.map(q=>d.jsx(a0,{name:kn(q.title||"",w?23:40),imagePath:q.cover,description:q.description,userName:m.username,onClick:()=>{b(`/story/${q.id}`)},isMature:q.restriction===Un.MATURE,numCharacters:q.characterCount||0,likeCount:q.likeCount,viewCount:q.viewCount},q.id))}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 px-4 pb-8",children:Array.from({length:6}).map((q,L)=>d.jsx(ba,{imageHeight:"h-48"},L))})}),d.jsx(Hu,{value:"likes",children:m&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" ",d.jsx("span",{className:it,children:" Characters "}),d.jsx("span",{className:"text-[hsl(var(--text-light))]/70 ml-2",children:Or((l==null?void 0:l.length)||0)})]}),l&&l.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 cursor-pointer mb-8",children:l.map(q=>(q.isPublic||(x==null?void 0:x.username)===(m==null?void 0:m.username))&&d.jsx(bt.div,{whileHover:{scale:1.02,transition:{duration:.2}},children:d.jsx(rv,{name:w?q.restriction===Un.MATURE?kn(q.name,20):kn(q.name,17):kn(q.name,23),imagePath:q.photo,description:q.shortDescription,chatCount:q.chatCount,likeCount:q.likeCount,userName:q.userName,onClick:()=>{tv(b,q)},isPublic:q.isPublic,isMature:q.restriction===Un.MATURE})},q.id))}):y?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 px-4 pb-8",children:Array.from({length:3}).map((q,L)=>d.jsx(ba,{},L))}):null,d.jsxs("h3",{className:"text-lg font-semibold mb-4 mt-4",children:[" ",d.jsx("span",{className:it,children:" Stories "}),d.jsx("span",{className:"text-[hsl(var(--text-light))]/70 ml-2",children:Or((u==null?void 0:u.length)||0)})]}),u&&u.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 cursor-pointer",children:u.map(q=>d.jsx(a0,{name:q.title||"",imagePath:q.cover,description:q.description,userName:q.username||"",onClick:()=>{b(`/story/${q.id}`)},isMature:q.restriction===Un.MATURE,numCharacters:q.characterCount||0,likeCount:q.likeCount,viewCount:q.viewCount},q.id))}):y?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 px-4 pb-8",children:Array.from({length:3}).map((q,L)=>d.jsx(ba,{imageHeight:"h-48"},L))}):null]})}),d.jsx(Hu,{value:"saved",children:m&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[d.jsx("span",{className:it,children:" Characters "}),d.jsx("span",{className:"text-[hsl(var(--text-light))]/70 ml-2",children:Or((a==null?void 0:a.length)||0)})]}),a&&a.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 cursor-pointer mb-8",children:a.map(q=>(q.isPublic||(x==null?void 0:x.username)===(m==null?void 0:m.username))&&d.jsx(rv,{name:w?q.restriction===Un.MATURE?kn(q.name,20):kn(q.name,17):kn(q.name,23),imagePath:q.photo,description:q.shortDescription,chatCount:q.chatCount,likeCount:q.likeCount,userName:q.userName,onClick:()=>{tv(b,q)},isPublic:q.isPublic,isMature:q.restriction===Un.MATURE},q.id))}):y?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 px-4 pb-8",children:Array.from({length:3}).map((q,L)=>d.jsx(ba,{},L))}):null,d.jsxs("h3",{className:"text-lg font-semibold mb-4 mt-4 ",children:[d.jsx("span",{className:it,children:" Stories "}),d.jsx("span",{className:"text-[hsl(var(--text-light))]/70 ml-2",children:Or((o==null?void 0:o.length)||0)})]}),o&&o.length>0?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 cursor-pointer",children:o.map(q=>d.jsx(a0,{name:q.title||"",imagePath:q.cover,description:q.description,userName:q.username||"",onClick:()=>{b(`/story/${q.id}`)},isMature:q.restriction===Un.MATURE,numCharacters:q.characterCount||0,likeCount:q.likeCount,viewCount:q.viewCount},q.id))}):y?d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 px-4 pb-8",children:Array.from({length:3}).map((q,L)=>d.jsx(ba,{imageHeight:"h-48"},L))}):null]})}),d.jsx(Hu,{value:"personas",children:m&&X?X.length>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 px-4 pb-8",children:X.map(q=>d.jsx($Ce,{name:q.name,description:q.background,imagePath:q.photo,onClick:()=>{U(q),R(!0)}},q.id))}):y&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 px-4 pb-8",children:Array.from({length:6}).map((q,L)=>d.jsx(ba,{},L))})})]}),P&&d.jsx(nI,{isOpen:E,onClose:I,persona:N,setPersonas:p})]})},zCe=({setShowSettings:n,setShowPlans:e})=>{const{username:t}=V1(),{userData:r}=kt(),[i,s]=ZF(),a=i.get("tab"),l=["persoas","saved","likes","personas","stories"].includes(a||"")?a:"stories",u=i.get("sort")||"most recent",[f,p]=C.useState(void 0),[m,y]=C.useState(!0),[b,x]=C.useState(!0),[w,S]=C.useState([]),[T,E]=C.useState([]),[R,N]=C.useState({}),[U,O]=C.useState([]),[M,P]=C.useState({}),[H,X]=C.useState([]),[I,q]=C.useState({}),[L,te]=C.useState([]),[B,W]=C.useState({}),[se,K]=C.useState([]),[G,Y]=C.useState([]),[ne,le]=C.useState([]),[xe,we]=C.useState([]),[Re,Ee]=C.useState(!1),[Me,Ye]=C.useState("followers");C.useEffect(()=>{document.title="persoa.ai | @"+t},[t]);const Ke=C.useMemo(()=>r&&f?w.includes(r.id):!1,[r==null?void 0:r.id,f,w]),Le=C.useMemo(()=>(ne==null?void 0:ne.reduce((be,J)=>be+(J.chatCount||0),0))||0,[ne]),lt=C.useMemo(()=>{if(!ne||m)return null;x(!0);const be=[...ne];switch(u){case"alphabetical":be.sort((J,Q)=>J.name.localeCompare(Q.name));break;case"most chatted":be.sort((J,Q)=>(Q.chatCount||0)-(J.chatCount||0));break;case"most favorited":be.sort((J,Q)=>(Q.likeCount||0)-(J.likeCount||0));break;case"most recent":default:be.sort((J,Q)=>J.createdAt&&Q.createdAt?new Date(Q.createdAt).getTime()-new Date(J.createdAt).getTime():0);break}return x(!1),be},[ne,m,u]),st=C.useMemo(()=>{if(!xe)return null;const be=[...xe];switch(u){case"alphabetical":be.sort((J,Q)=>(J.title||"").localeCompare(Q.title||""));break;case"most viewed":be.sort((J,Q)=>(Q.viewCount||0)-(J.viewCount||0));break;case"most favorited":be.sort((J,Q)=>(Q.likeCount||0)-(J.likeCount||0));break;case"most recent":default:be.sort((J,Q)=>J.createdAt&&Q.createdAt?new Date(Q.createdAt).getTime()-new Date(J.createdAt).getTime():0);break}return be},[xe,m,u]),$=C.useMemo(()=>{if(!se||m)return null;const be=[...se];switch(u){case"alphabetical":be.sort((J,Q)=>J.name.localeCompare(Q.name));break;case"most chatted":be.sort((J,Q)=>(Q.chatCount||0)-(J.chatCount||0));break;case"most favorited":be.sort((J,Q)=>(Q.likeCount||0)-(J.likeCount||0));break;case"most recent":default:be.sort((J,Q)=>{const ue=B[J.id],me=B[Q.id];return ue&&me?new Date(me).getTime()-new Date(ue).getTime():0});break}return be},[se,m,u]),ge=C.useMemo(()=>{if(!U||m)return null;const be=[...U];switch(u){case"alphabetical":be.sort((J,Q)=>J.name.localeCompare(Q.name));break;case"most chatted":be.sort((J,Q)=>(Q.chatCount||0)-(J.chatCount||0));break;case"most favorited":be.sort((J,Q)=>(Q.likeCount||0)-(J.likeCount||0));break;case"most recent":default:be.sort((J,Q)=>{const ue=R[J.id],me=R[Q.id];return ue&&me?new Date(me).getTime()-new Date(ue).getTime():0});break}return be},[U,m,u,R]),ve=C.useMemo(()=>{if(!G)return;const be=[...G];switch(u){case"alphabetical":be.sort((J,Q)=>J.name.localeCompare(Q.name));break;case"most recent":default:be.sort((J,Q)=>J.updatedAt&&Q.updatedAt?new Date(Q.createdAt).getTime()-new Date(J.createdAt).getTime():0);break}return be},[G,u]),ae=C.useMemo(()=>{if(!H||m)return null;const be=[...H];switch(u){case"alphabetical":be.sort((J,Q)=>(J.title||"").localeCompare(Q.title||""));break;case"most viewed":be.sort((J,Q)=>(Q.viewCount||0)-(J.viewCount||0));break;case"most favorited":be.sort((J,Q)=>(Q.likeCount||0)-(J.likeCount||0));break;case"most recent":default:be.sort((J,Q)=>{const ue=M[J.id||""],me=M[Q.id||""];return ue&&me?new Date(me).getTime()-new Date(ue).getTime():0});break}return be},[H,m,u,M]),ce=C.useMemo(()=>{if(!L||m)return null;const be=[...L];switch(u){case"alphabetical":be.sort((J,Q)=>(J.title||"").localeCompare(Q.title||""));break;case"most viewed":be.sort((J,Q)=>(Q.viewCount||0)-(J.viewCount||0));break;case"most favorited":be.sort((J,Q)=>(Q.likeCount||0)-(J.likeCount||0));break;case"most recent":default:be.sort((J,Q)=>{const ue=I[J.id||""],me=I[Q.id||""];return ue&&me?new Date(me).getTime()-new Date(ue).getTime():0});break}return be},[L,m,u,I]);C.useEffect(()=>{if(!t)return;(async()=>{y(!0);let J=null;r&&t===r.username?J=r:J=await Bce(t);const Q=J&&!J.isDisabled?J:void 0;p(Q);const ue=jc(r==null?void 0:r.dateOfBirth);if(Q)try{const[me,Ae,Fe,Ge,at,ut]=await Promise.all([$R(Q.id,ue),lH(Q.id),Vce(Q.id),qce(Q.id),$Y(Q.id,ue),Vwe(Q.id)]);le(me),S(Ae),E(Fe),we(at);const Te=Ge.reduce((Et,vn)=>(Et[vn.characterId]=vn.likedAt,Et),{});N(Te);const et=(await Promise.all(Ge.map(Et=>TS(Et.characterId,ue)))).filter(Et=>Et!==null);O(et);const ht=ut.reduce((Et,vn)=>(Et[vn.storyId]=vn.likedAt,Et),{});P(ht);const Tt=ut.map(Et=>Et.storyId),gt=await L$(Tt);X(gt)}catch(me){console.error("Error fetching profile details:",me),le([])}finally{y(!1)}else le([]),y(!1)})()},[t,r==null?void 0:r.id]),C.useEffect(()=>{!f||f.isDisabled||(l==="saved"&&t===(r==null?void 0:r.username)&&(se.length===0||L.length===0)?(Hce(f.id).then(async be=>{const J=be.reduce((me,Ae)=>(me[Ae.characterId]=Ae.bookmarkedAt,me),{});W(J);const ue=(await Promise.all(be.map(me=>TS(me.characterId)))).filter(me=>me!==null);K(ue)}).catch(be=>{console.error("Error fetching bookmarks:",be),K([])}),Kwe(f.id).then(async be=>{const J=be.reduce((me,Ae)=>(me[Ae.storyId]=Ae.savedAt,me),{});q(J);const Q=be.map(me=>me.storyId),ue=await L$(Q);te(ue)}).catch(be=>{console.error("Error fetching saved stories:",be),te([])})):l==="personas"&&r&&t===(r==null?void 0:r.username)&&G.length===0&&cj(r==null?void 0:r.id).then(be=>Y(be)))},[f,l,se,L,G,r,t,H]);const ye=C.useCallback(async()=>{if(!(!r||!f))try{await cH(r.id,f.id),S(be=>[...be,r.id])}catch(be){console.error("Error following user:",be)}},[r,f]),ke=C.useCallback(async()=>{if(!(!r||!f))try{await uH(r.id,f.id),S(be=>be.filter(J=>J!==r.id))}catch(be){console.error("Error unfollowing user:",be)}},[r==null?void 0:r.id,f]);return d.jsxs(d.Fragment,{children:[d.jsx(LCe,{open:Re,onOpenChange:Ee,activeTab:Me,setFollowPopoverTab:Ye,followers:w,followings:T}),d.jsxs("div",{className:`flex flex-col min-h-screen ${_t}`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsxs("div",{className:"container mx-auto py-8 flex flex-col items-center",children:[d.jsx(ICe,{profile:f,loading:m,followers:w,followings:T,totalChatCount:Le,isFollowing:Ke,handleFollow:ye,handleUnfollow:ke,setShowSettings:n,setFollowPopoverTab:Ye,setShowFollowPopover:Ee}),d.jsx(WCe,{loading:m||b,currentTab:l,sortOption:u,setSearchParams:s,searchParams:i,sortedCharacters:lt,sortedStories:st,sortedBookmarks:$,sortedSavedStories:ce,sortedLikes:ge,sortedLikedStories:ae,sortedPersonas:ve,setPersonas:Y,profile:f})]})]})]})};var Ek="Switch",[qCe,BNe]=Yo(Ek),[HCe,VCe]=qCe(Ek),wte=C.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:u,form:f,...p}=n,[m,y]=C.useState(null),b=dn(e,E=>y(E)),x=C.useRef(!1),w=m?f||!!m.closest("form"):!0,[S,T]=Dh({prop:i,defaultProp:s??!1,onChange:u,caller:Ek});return d.jsxs(HCe,{scope:t,checked:S,disabled:o,children:[d.jsx(Ft.button,{type:"button",role:"switch","aria-checked":S,"aria-required":a,"data-state":Ate(S),"data-disabled":o?"":void 0,disabled:o,value:l,...p,ref:b,onClick:pt(n.onClick,E=>{T(R=>!R),w&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})}),w&&d.jsx(Dte,{control:m,bubbles:!x.current,name:r,value:l,checked:S,required:a,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});wte.displayName=Ek;var _te="SwitchThumb",Ste=C.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,i=VCe(_te,t);return d.jsx(Ft.span,{"data-state":Ate(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Ste.displayName=_te;var GCe="SwitchBubbleInput",Dte=C.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...i},s)=>{const a=C.useRef(null),o=dn(a,s),l=BY(t),u=AH(e);return C.useEffect(()=>{const f=a.current;if(!f)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==t&&y){const b=new Event("click",{bubbles:r});y.call(f,t),f.dispatchEvent(b)}},[l,t,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Dte.displayName=GCe;function Ate(n){return n?"checked":"unchecked"}var Tte=wte,XCe=Ste;const Ete=C.forwardRef(({className:n,...e},t)=>d.jsx(Tte,{className:ft("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[hsl(var(--background-tertiary))] data-[state=unchecked]:bg-[hsl(var(--background-light))]",n),...e,ref:t,children:d.jsx(XCe,{className:ft("pointer-events-none block h-5 w-5 rounded-full bg-[hsl(var(--background-secondary))] shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ete.displayName=Tte.displayName;var Q_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var YCe=Q_.exports,hz;function KCe(){return hz||(hz=1,function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",p=1,m=2,y=4,b=1,x=2,w=1,S=2,T=4,E=8,R=16,N=32,U=64,O=128,M=256,P=512,H=30,X="...",I=800,q=16,L=1,te=2,B=3,W=1/0,se=9007199254740991,K=17976931348623157e292,G=NaN,Y=4294967295,ne=Y-1,le=Y>>>1,xe=[["ary",O],["bind",w],["bindKey",S],["curry",E],["curryRight",R],["flip",P],["partial",N],["partialRight",U],["rearg",M]],we="[object Arguments]",Re="[object Array]",Ee="[object AsyncFunction]",Me="[object Boolean]",Ye="[object Date]",Ke="[object DOMException]",Le="[object Error]",lt="[object Function]",st="[object GeneratorFunction]",$="[object Map]",ge="[object Number]",ve="[object Null]",ae="[object Object]",ce="[object Promise]",ye="[object Proxy]",ke="[object RegExp]",be="[object Set]",J="[object String]",Q="[object Symbol]",ue="[object Undefined]",me="[object WeakMap]",Ae="[object WeakSet]",Fe="[object ArrayBuffer]",Ge="[object DataView]",at="[object Float32Array]",ut="[object Float64Array]",Te="[object Int8Array]",He="[object Int16Array]",et="[object Int32Array]",ht="[object Uint8Array]",Tt="[object Uint8ClampedArray]",gt="[object Uint16Array]",Et="[object Uint32Array]",vn=/\b__p \+= '';/g,vr=/\b(__p \+=) '' \+/g,Ea=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oe=/&(?:amp|lt|gt|quot|#39);/g,fe=/[&<>"']/g,De=RegExp(oe.source),ze=RegExp(fe.source),dt=/<%-([\s\S]+?)%>/g,Ct=/<%([\s\S]+?)%>/g,On=/<%=([\s\S]+?)%>/g,ii=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,co=/^\w*$/,Pi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yn=/[\\^$.*+?()[\]{}|]/g,Lr=RegExp(Yn.source),Hi=/^\s+/,uo=/\s/,Ca=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Il=/\{\n\/\* \[wrapped with (.+)\] \*/,Bc=/,? & /,Ir=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ph=/[()=,{}\[\]\/\s]/,Js=/\\(\\)?/g,$l=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fh=/\w*$/,Lh=/^[-+]0x[0-9a-f]+$/i,Ai=/^0b[01]+$/i,oT=/^\[object .+?Constructor\]$/,lT=/^0o[0-7]+$/i,rd=/^(?:0|[1-9]\d*)$/,Ih=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Bv=/($^)/,cT=/['\n\r\u2028\u2029\\]/g,cm="\\ud800-\\udfff",Ck="\\u0300-\\u036f",Wv="\\ufe20-\\ufe2f",zv="\\u20d0-\\u20ff",Zo=Ck+Wv+zv,qv="\\u2700-\\u27bf",hw="a-z\\xdf-\\xf6\\xf8-\\xff",$h="\\xac\\xb1\\xd7\\xf7",fw="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pw="\\u2000-\\u206f",Nk=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mw="A-Z\\xc0-\\xd6\\xd8-\\xde",ea="\\ufe0e\\ufe0f",gw=$h+fw+pw+Nk,yw="['’]",Hv="["+cm+"]",vw="["+gw+"]",id="["+Zo+"]",uT="\\d+",Na="["+qv+"]",Vv="["+hw+"]",bw="[^"+cm+gw+uT+qv+hw+mw+"]",um="\\ud83c[\\udffb-\\udfff]",Bh="(?:"+id+"|"+um+")",xw="[^"+cm+"]",Gv="(?:\\ud83c[\\udde6-\\uddff]){2}",Wc="[\\ud800-\\udbff][\\udc00-\\udfff]",Wh="["+mw+"]",ww="\\u200d",_w="(?:"+Vv+"|"+bw+")",Sw="(?:"+Wh+"|"+bw+")",dT="(?:"+yw+"(?:d|ll|m|re|s|t|ve))?",hT="(?:"+yw+"(?:D|LL|M|RE|S|T|VE))?",dm=Bh+"?",Xv="["+ea+"]?",Dw="(?:"+ww+"(?:"+[xw,Gv,Wc].join("|")+")"+Xv+dm+")*",zh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Aw=Xv+dm+Dw,Tw="(?:"+[Na,Gv,Wc].join("|")+")"+Aw,fT="(?:"+[xw+id+"?",id,Gv,Wc,Hv].join("|")+")",hm=RegExp(yw,"g"),Bl=RegExp(id,"g"),fm=RegExp(um+"(?="+um+")|"+fT+Aw,"g"),pm=RegExp([Wh+"?"+Vv+"+"+dT+"(?="+[vw,Wh,"$"].join("|")+")",Sw+"+"+hT+"(?="+[vw,Wh+_w,"$"].join("|")+")",Wh+"?"+_w+"+"+dT,Wh+"+"+hT,qh,zh,uT,Tw].join("|"),"g"),zc=RegExp("["+ww+cm+Zo+ea+"]"),Ew=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yv=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pT=-1,Kn={};Kn[at]=Kn[ut]=Kn[Te]=Kn[He]=Kn[et]=Kn[ht]=Kn[Tt]=Kn[gt]=Kn[Et]=!0,Kn[we]=Kn[Re]=Kn[Fe]=Kn[Me]=Kn[Ge]=Kn[Ye]=Kn[Le]=Kn[lt]=Kn[$]=Kn[ge]=Kn[ae]=Kn[ke]=Kn[be]=Kn[J]=Kn[me]=!1;var zn={};zn[we]=zn[Re]=zn[Fe]=zn[Ge]=zn[Me]=zn[Ye]=zn[at]=zn[ut]=zn[Te]=zn[He]=zn[et]=zn[$]=zn[ge]=zn[ae]=zn[ke]=zn[be]=zn[J]=zn[Q]=zn[ht]=zn[Tt]=zn[gt]=zn[Et]=!0,zn[Le]=zn[lt]=zn[me]=!1;var mT={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ds={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mm=parseFloat,Rk=parseInt,Zv=typeof xa=="object"&&xa&&xa.Object===Object&&xa,Cw=typeof self=="object"&&self&&self.Object===Object&&self,Kr=Zv||Cw||Function("return this")(),Hh=e&&!e.nodeType&&e,qc=Hh&&!0&&n&&!n.nodeType&&n,gT=qc&&qc.exports===Hh,Nw=gT&&Zv.process,Ra=function(){try{var je=qc&&qc.require&&qc.require("util").types;return je||Nw&&Nw.binding&&Nw.binding("util")}catch{}}(),Qv=Ra&&Ra.isArrayBuffer,yT=Ra&&Ra.isDate,vT=Ra&&Ra.isMap,bT=Ra&&Ra.isRegExp,xT=Ra&&Ra.isSet,wT=Ra&&Ra.isTypedArray;function As(je,Ze,Ve){switch(Ve.length){case 0:return je.call(Ze);case 1:return je.call(Ze,Ve[0]);case 2:return je.call(Ze,Ve[0],Ve[1]);case 3:return je.call(Ze,Ve[0],Ve[1],Ve[2])}return je.apply(Ze,Ve)}function jk(je,Ze,Ve,yt){for(var Bt=-1,Tn=je==null?0:je.length;++Bt<Tn;){var si=je[Bt];Ze(yt,si,Ve(si),je)}return yt}function ja(je,Ze){for(var Ve=-1,yt=je==null?0:je.length;++Ve<yt&&Ze(je[Ve],Ve,je)!==!1;);return je}function kk(je,Ze){for(var Ve=je==null?0:je.length;Ve--&&Ze(je[Ve],Ve,je)!==!1;);return je}function _T(je,Ze){for(var Ve=-1,yt=je==null?0:je.length;++Ve<yt;)if(!Ze(je[Ve],Ve,je))return!1;return!0}function Qo(je,Ze){for(var Ve=-1,yt=je==null?0:je.length,Bt=0,Tn=[];++Ve<yt;){var si=je[Ve];Ze(si,Ve,je)&&(Tn[Bt++]=si)}return Tn}function Jv(je,Ze){var Ve=je==null?0:je.length;return!!Ve&&Vh(je,Ze,0)>-1}function Rw(je,Ze,Ve){for(var yt=-1,Bt=je==null?0:je.length;++yt<Bt;)if(Ve(Ze,je[yt]))return!0;return!1}function br(je,Ze){for(var Ve=-1,yt=je==null?0:je.length,Bt=Array(yt);++Ve<yt;)Bt[Ve]=Ze(je[Ve],Ve,je);return Bt}function Wl(je,Ze){for(var Ve=-1,yt=Ze.length,Bt=je.length;++Ve<yt;)je[Bt+Ve]=Ze[Ve];return je}function jw(je,Ze,Ve,yt){var Bt=-1,Tn=je==null?0:je.length;for(yt&&Tn&&(Ve=je[++Bt]);++Bt<Tn;)Ve=Ze(Ve,je[Bt],Bt,je);return Ve}function Uk(je,Ze,Ve,yt){var Bt=je==null?0:je.length;for(yt&&Bt&&(Ve=je[--Bt]);Bt--;)Ve=Ze(Ve,je[Bt],Bt,je);return Ve}function kw(je,Ze){for(var Ve=-1,yt=je==null?0:je.length;++Ve<yt;)if(Ze(je[Ve],Ve,je))return!0;return!1}var Ok=tb("length");function Mk(je){return je.split("")}function Pk(je){return je.match(Ir)||[]}function ST(je,Ze,Ve){var yt;return Ve(je,function(Bt,Tn,si){if(Ze(Bt,Tn,si))return yt=Tn,!1}),yt}function eb(je,Ze,Ve,yt){for(var Bt=je.length,Tn=Ve+(yt?1:-1);yt?Tn--:++Tn<Bt;)if(Ze(je[Tn],Tn,je))return Tn;return-1}function Vh(je,Ze,Ve){return Ze===Ze?$k(je,Ze,Ve):eb(je,Gh,Ve)}function Uw(je,Ze,Ve,yt){for(var Bt=Ve-1,Tn=je.length;++Bt<Tn;)if(yt(je[Bt],Ze))return Bt;return-1}function Gh(je){return je!==je}function DT(je,Ze){var Ve=je==null?0:je.length;return Ve?rb(je,Ze)/Ve:G}function tb(je){return function(Ze){return Ze==null?t:Ze[je]}}function nb(je){return function(Ze){return je==null?t:je[Ze]}}function Ow(je,Ze,Ve,yt,Bt){return Bt(je,function(Tn,si,En){Ve=yt?(yt=!1,Tn):Ze(Ve,Tn,si,En)}),Ve}function AT(je,Ze){var Ve=je.length;for(je.sort(Ze);Ve--;)je[Ve]=je[Ve].value;return je}function rb(je,Ze){for(var Ve,yt=-1,Bt=je.length;++yt<Bt;){var Tn=Ze(je[yt]);Tn!==t&&(Ve=Ve===t?Tn:Ve+Tn)}return Ve}function Hc(je,Ze){for(var Ve=-1,yt=Array(je);++Ve<je;)yt[Ve]=Ze(Ve);return yt}function Fk(je,Ze){return br(Ze,function(Ve){return[Ve,je[Ve]]})}function TT(je){return je&&je.slice(0,Pw(je)+1).replace(Hi,"")}function ta(je){return function(Ze){return je(Ze)}}function ib(je,Ze){return br(Ze,function(Ve){return je[Ve]})}function Xh(je,Ze){return je.has(Ze)}function Yh(je,Ze){for(var Ve=-1,yt=je.length;++Ve<yt&&Vh(Ze,je[Ve],0)>-1;);return Ve}function Kh(je,Ze){for(var Ve=je.length;Ve--&&Vh(Ze,je[Ve],0)>-1;);return Ve}function Lk(je,Ze){for(var Ve=je.length,yt=0;Ve--;)je[Ve]===Ze&&++yt;return yt}var sb=nb(mT),ET=nb(Ds);function CT(je){return"\\"+Kv[je]}function Mw(je,Ze){return je==null?t:je[Ze]}function Vc(je){return zc.test(je)}function NT(je){return Ew.test(je)}function RT(je){for(var Ze,Ve=[];!(Ze=je.next()).done;)Ve.push(Ze.value);return Ve}function ab(je){var Ze=-1,Ve=Array(je.size);return je.forEach(function(yt,Bt){Ve[++Ze]=[Bt,yt]}),Ve}function jT(je,Ze){return function(Ve){return je(Ze(Ve))}}function Gc(je,Ze){for(var Ve=-1,yt=je.length,Bt=0,Tn=[];++Ve<yt;){var si=je[Ve];(si===Ze||si===f)&&(je[Ve]=f,Tn[Bt++]=Ve)}return Tn}function ob(je){var Ze=-1,Ve=Array(je.size);return je.forEach(function(yt){Ve[++Ze]=yt}),Ve}function Ik(je){var Ze=-1,Ve=Array(je.size);return je.forEach(function(yt){Ve[++Ze]=[yt,yt]}),Ve}function $k(je,Ze,Ve){for(var yt=Ve-1,Bt=je.length;++yt<Bt;)if(je[yt]===Ze)return yt;return-1}function na(je,Ze,Ve){for(var yt=Ve+1;yt--;)if(je[yt]===Ze)return yt;return yt}function Jo(je){return Vc(je)?UT(je):Ok(je)}function ka(je){return Vc(je)?Fw(je):Mk(je)}function Pw(je){for(var Ze=je.length;Ze--&&uo.test(je.charAt(Ze)););return Ze}var kT=nb(sd);function UT(je){for(var Ze=fm.lastIndex=0;fm.test(je);)++Ze;return Ze}function Fw(je){return je.match(fm)||[]}function Bk(je){return je.match(pm)||[]}var Zh=function je(Ze){Ze=Ze==null?Kr:Xc.defaults(Kr.Object(),Ze,Xc.pick(Kr,Yv));var Ve=Ze.Array,yt=Ze.Date,Bt=Ze.Error,Tn=Ze.Function,si=Ze.Math,En=Ze.Object,lb=Ze.RegExp,OT=Ze.String,ra=Ze.TypeError,cb=Ve.prototype,Wk=Tn.prototype,Qh=En.prototype,gm=Ze["__core-js_shared__"],ym=Wk.toString,Pn=Qh.hasOwnProperty,ho=0,Lw=function(){var v=/[^.]+$/.exec(gm&&gm.keys&&gm.keys.IE_PROTO||"");return v?"Symbol(src)_1."+v:""}(),cs=Qh.toString,Ua=ym.call(En),Jh=Kr._,Iw=lb("^"+ym.call(Pn).replace(Yn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ad=gT?Ze.Buffer:t,fo=Ze.Symbol,ef=Ze.Uint8Array,od=ad?ad.allocUnsafe:t,vm=jT(En.getPrototypeOf,En),bm=En.create,ld=Qh.propertyIsEnumerable,ub=cb.splice,Ts=fo?fo.isConcatSpreadable:t,cd=fo?fo.iterator:t,us=fo?fo.toStringTag:t,xm=function(){try{var v=ru(En,"defineProperty");return v({},"",{}),v}catch{}}(),db=Ze.clearTimeout!==Kr.clearTimeout&&Ze.clearTimeout,ud=yt&&yt.now!==Kr.Date.now&&yt.now,$w=Ze.setTimeout!==Kr.setTimeout&&Ze.setTimeout,tf=si.ceil,zl=si.floor,Yc=En.getOwnPropertySymbols,hb=ad?ad.isBuffer:t,wm=Ze.isFinite,Oa=cb.join,Ma=jT(En.keys,En),fr=si.max,xr=si.min,ql=yt.now,dd=Ze.parseInt,Bw=si.random,Ww=cb.reverse,_m=ru(Ze,"DataView"),di=ru(Ze,"Map"),wr=ru(Ze,"Promise"),pn=ru(Ze,"Set"),po=ru(Ze,"WeakMap"),Es=ru(En,"create"),nf=po&&new po,Pa={},MT=Jl(_m),PT=Jl(di),Sm=Jl(wr),Dm=Jl(pn),FT=Jl(po),Kc=fo?fo.prototype:t,hd=Kc?Kc.valueOf:t,Zc=Kc?Kc.toString:t;function de(v){if(Rr(v)&&!Gt(v)&&!(v instanceof on)){if(v instanceof Cs)return v;if(Pn.call(v,"__wrapped__"))return fi(v)}return new Cs(v)}var ia=function(){function v(){}return function(D){if(!Sr(D))return{};if(bm)return bm(D);v.prototype=D;var k=new v;return v.prototype=t,k}}();function Fa(){}function Cs(v,D){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!D,this.__index__=0,this.__values__=t}de.templateSettings={escape:dt,evaluate:Ct,interpolate:On,variable:"",imports:{_:de}},de.prototype=Fa.prototype,de.prototype.constructor=de,Cs.prototype=ia(Fa.prototype),Cs.prototype.constructor=Cs;function on(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Y,this.__views__=[]}function Am(){var v=new on(this.__wrapped__);return v.__actions__=hi(this.__actions__),v.__dir__=this.__dir__,v.__filtered__=this.__filtered__,v.__iteratees__=hi(this.__iteratees__),v.__takeCount__=this.__takeCount__,v.__views__=hi(this.__views__),v}function fb(){if(this.__filtered__){var v=new on(this);v.__dir__=-1,v.__filtered__=!0}else v=this.clone(),v.__dir__*=-1;return v}function fd(){var v=this.__wrapped__.value(),D=this.__dir__,k=Gt(v),z=D<0,re=k?v.length:0,pe=gE(0,re,this.__views__),_e=pe.start,Ce=pe.end,Oe=Ce-_e,tt=z?Ce:_e-1,rt=this.__iteratees__,ot=rt.length,vt=0,Nt=xr(Oe,this.__takeCount__);if(!k||!z&&re==Oe&&Nt==Oe)return nE(v,this.__actions__);var qt=[];e:for(;Oe--&&vt<Nt;){tt+=D;for(var cn=-1,Ht=v[tt];++cn<ot;){var xn=rt[cn],Nn=xn.iteratee,wo=xn.type,da=Nn(Ht);if(wo==te)Ht=da;else if(!da){if(wo==L)continue e;break e}}qt[vt++]=Ht}return qt}on.prototype=ia(Fa.prototype),on.prototype.constructor=on;function $r(v){var D=-1,k=v==null?0:v.length;for(this.clear();++D<k;){var z=v[D];this.set(z[0],z[1])}}function pb(){this.__data__=Es?Es(null):{},this.size=0}function LT(v){var D=this.has(v)&&delete this.__data__[v];return this.size-=D?1:0,D}function zk(v){var D=this.__data__;if(Es){var k=D[v];return k===l?t:k}return Pn.call(D,v)?D[v]:t}function qk(v){var D=this.__data__;return Es?D[v]!==t:Pn.call(D,v)}function Hk(v,D){var k=this.__data__;return this.size+=this.has(v)?0:1,k[v]=Es&&D===t?l:D,this}$r.prototype.clear=pb,$r.prototype.delete=LT,$r.prototype.get=zk,$r.prototype.has=qk,$r.prototype.set=Hk;function nr(v){var D=-1,k=v==null?0:v.length;for(this.clear();++D<k;){var z=v[D];this.set(z[0],z[1])}}function zw(){this.__data__=[],this.size=0}function Tm(v){var D=this.__data__,k=af(D,v);if(k<0)return!1;var z=D.length-1;return k==z?D.pop():ub.call(D,k,1),--this.size,!0}function Em(v){var D=this.__data__,k=af(D,v);return k<0?t:D[k][1]}function qw(v){return af(this.__data__,v)>-1}function rf(v,D){var k=this.__data__,z=af(k,v);return z<0?(++this.size,k.push([v,D])):k[z][1]=D,this}nr.prototype.clear=zw,nr.prototype.delete=Tm,nr.prototype.get=Em,nr.prototype.has=qw,nr.prototype.set=rf;function Ns(v){var D=-1,k=v==null?0:v.length;for(this.clear();++D<k;){var z=v[D];this.set(z[0],z[1])}}function Vk(){this.size=0,this.__data__={hash:new $r,map:new(di||nr),string:new $r}}function IT(v){var D=hf(this,v).delete(v);return this.size-=D?1:0,D}function Gk(v){return hf(this,v).get(v)}function $T(v){return hf(this,v).has(v)}function pd(v,D){var k=hf(this,v),z=k.size;return k.set(v,D),this.size+=k.size==z?0:1,this}Ns.prototype.clear=Vk,Ns.prototype.delete=IT,Ns.prototype.get=Gk,Ns.prototype.has=$T,Ns.prototype.set=pd;function Hl(v){var D=-1,k=v==null?0:v.length;for(this.__data__=new Ns;++D<k;)this.add(v[D])}function mb(v){return this.__data__.set(v,l),this}function BT(v){return this.__data__.has(v)}Hl.prototype.add=Hl.prototype.push=mb,Hl.prototype.has=BT;function ds(v){var D=this.__data__=new nr(v);this.size=D.size}function WT(){this.__data__=new nr,this.size=0}function gb(v){var D=this.__data__,k=D.delete(v);return this.size=D.size,k}function Hw(v){return this.__data__.get(v)}function zT(v){return this.__data__.has(v)}function yb(v,D){var k=this.__data__;if(k instanceof nr){var z=k.__data__;if(!di||z.length<i-1)return z.push([v,D]),this.size=++k.size,this;k=this.__data__=new Ns(z)}return k.set(v,D),this.size=k.size,this}ds.prototype.clear=WT,ds.prototype.delete=gb,ds.prototype.get=Hw,ds.prototype.has=zT,ds.prototype.set=yb;function Vw(v,D){var k=Gt(v),z=!k&&rc(v),re=!k&&!z&&fu(v),pe=!k&&!z&&!re&&Tf(v),_e=k||z||re||pe,Ce=_e?Hc(v.length,OT):[],Oe=Ce.length;for(var tt in v)(D||Pn.call(v,tt))&&!(_e&&(tt=="length"||re&&(tt=="offset"||tt=="parent")||pe&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||vo(tt,Oe)))&&Ce.push(tt);return Ce}function sf(v){var D=v.length;return D?v[Eb(0,D-1)]:t}function qT(v,D){return eg(hi(v),go(D,0,v.length))}function HT(v){return eg(hi(v))}function el(v,D,k){(k!==t&&!Ps(v[D],k)||k===t&&!(D in v))&&mo(v,D,k)}function md(v,D,k){var z=v[D];(!(Pn.call(v,D)&&Ps(z,k))||k===t&&!(D in v))&&mo(v,D,k)}function af(v,D){for(var k=v.length;k--;)if(Ps(v[k][0],D))return k;return-1}function Qc(v,D,k,z){return Gl(v,function(re,pe,_e){D(z,re,k(re),_e)}),z}function Vl(v,D){return v&&ks(D,gi(D),v)}function Cm(v,D){return v&&ks(D,Ci(D),v)}function mo(v,D,k){D=="__proto__"&&xm?xm(v,D,{configurable:!0,enumerable:!0,value:k,writable:!0}):v[D]=k}function Nm(v,D){for(var k=-1,z=D.length,re=Ve(z),pe=v==null;++k<z;)re[k]=pe?t:pg(v,D[k]);return re}function go(v,D,k){return v===v&&(k!==t&&(v=v<=k?v:k),D!==t&&(v=v>=D?v:D)),v}function Vi(v,D,k,z,re,pe){var _e,Ce=D&p,Oe=D&m,tt=D&y;if(k&&(_e=re?k(v,z,re,pe):k(v)),_e!==t)return _e;if(!Sr(v))return v;var rt=Gt(v);if(rt){if(_e=v2(v),!Ce)return hi(v,_e)}else{var ot=Ei(v),vt=ot==lt||ot==st;if(fu(v))return u2(v,Ce);if(ot==ae||ot==we||vt&&!re){if(_e=Oe||vt?{}:b2(v),!Ce)return Oe?Wm(v,Cm(_e,v)):Ub(v,Vl(_e,v))}else{if(!zn[ot])return re?v:{};_e=x2(v,ot,Ce)}}pe||(pe=new ds);var Nt=pe.get(v);if(Nt)return Nt;pe.set(v,_e),lC(v)?v.forEach(function(Ht){_e.add(Vi(Ht,D,k,Ht,v,pe))}):ix(v)&&v.forEach(function(Ht,xn){_e.set(xn,Vi(Ht,D,k,xn,v,pe))});var qt=tt?Oe?Fb:Pb:Oe?Ci:gi,cn=rt?t:qt(v);return ja(cn||v,function(Ht,xn){cn&&(xn=Ht,Ht=v[xn]),md(_e,xn,Vi(Ht,D,k,xn,v,pe))}),_e}function VT(v){var D=gi(v);return function(k){return Gw(k,v,D)}}function Gw(v,D,k){var z=k.length;if(v==null)return!z;for(v=En(v);z--;){var re=k[z],pe=D[re],_e=v[re];if(_e===t&&!(re in v)||!pe(_e))return!1}return!0}function gd(v,D,k){if(typeof v!="function")throw new ra(a);return pf(function(){v.apply(t,k)},D)}function Jc(v,D,k,z){var re=-1,pe=Jv,_e=!0,Ce=v.length,Oe=[],tt=D.length;if(!Ce)return Oe;k&&(D=br(D,ta(k))),z?(pe=Rw,_e=!1):D.length>=i&&(pe=Xh,_e=!1,D=new Hl(D));e:for(;++re<Ce;){var rt=v[re],ot=k==null?rt:k(rt);if(rt=z||rt!==0?rt:0,_e&&ot===ot){for(var vt=tt;vt--;)if(D[vt]===ot)continue e;Oe.push(rt)}else pe(D,ot,z)||Oe.push(rt)}return Oe}var Gl=p2(Gi),vb=p2(lf,!0);function Xw(v,D){var k=!0;return Gl(v,function(z,re,pe){return k=!!D(z,re,pe),k}),k}function yo(v,D,k){for(var z=-1,re=v.length;++z<re;){var pe=v[z],_e=D(pe);if(_e!=null&&(Ce===t?_e===_e&&!ps(_e):k(_e,Ce)))var Ce=_e,Oe=pe}return Oe}function en(v,D,k,z){var re=v.length;for(k=Yt(k),k<0&&(k=-k>re?0:re+k),z=z===t||z>re?re:Yt(z),z<0&&(z+=re),z=k>z?0:cl(z);k<z;)v[k++]=D;return v}function qn(v,D){var k=[];return Gl(v,function(z,re,pe){D(z,re,pe)&&k.push(z)}),k}function mn(v,D,k,z,re){var pe=-1,_e=v.length;for(k||(k=Zl),re||(re=[]);++pe<_e;){var Ce=v[pe];D>0&&k(Ce)?D>1?mn(Ce,D-1,k,z,re):Wl(re,Ce):z||(re[re.length]=Ce)}return re}var of=Sd(),yd=Sd(!0);function Gi(v,D){return v&&of(v,D,gi)}function lf(v,D){return v&&yd(v,D,gi)}function eu(v,D){return Qo(D,function(k){return bo(v[k])})}function La(v,D){D=Yl(D,v);for(var k=0,z=D.length;v!=null&&k<z;)v=v[$n(D[k++])];return k&&k==z?v:t}function GT(v,D,k){var z=D(v);return Gt(v)?z:Wl(z,k(v))}function bn(v){return v==null?v===t?ue:ve:us&&us in En(v)?mE(v):wE(v)}function Rm(v,D){return v>D}function Yw(v,D){return v!=null&&Pn.call(v,D)}function XT(v,D){return v!=null&&D in En(v)}function YT(v,D,k){return v>=xr(D,k)&&v<fr(D,k)}function Kw(v,D,k){for(var z=k?Rw:Jv,re=v[0].length,pe=v.length,_e=pe,Ce=Ve(pe),Oe=1/0,tt=[];_e--;){var rt=v[_e];_e&&D&&(rt=br(rt,ta(D))),Oe=xr(rt.length,Oe),Ce[_e]=!k&&(D||re>=120&&rt.length>=120)?new Hl(_e&&rt):t}rt=v[0];var ot=-1,vt=Ce[0];e:for(;++ot<re&&tt.length<Oe;){var Nt=rt[ot],qt=D?D(Nt):Nt;if(Nt=k||Nt!==0?Nt:0,!(vt?Xh(vt,qt):z(tt,qt,k))){for(_e=pe;--_e;){var cn=Ce[_e];if(!(cn?Xh(cn,qt):z(v[_e],qt,k)))continue e}vt&&vt.push(qt),tt.push(Nt)}}return tt}function Zw(v,D,k,z){return Gi(v,function(re,pe,_e){D(z,k(re),pe,_e)}),z}function vd(v,D,k){D=Yl(D,v),v=ff(v,D);var z=v==null?v:v[$n(Xi(D))];return z==null?t:As(z,v,k)}function bb(v){return Rr(v)&&bn(v)==we}function Rs(v){return Rr(v)&&bn(v)==Fe}function ai(v){return Rr(v)&&bn(v)==Ye}function bd(v,D,k,z,re){return v===D?!0:v==null||D==null||!Rr(v)&&!Rr(D)?v!==v&&D!==D:jm(v,D,k,z,bd,re)}function jm(v,D,k,z,re,pe){var _e=Gt(v),Ce=Gt(D),Oe=_e?Re:Ei(v),tt=Ce?Re:Ei(D);Oe=Oe==we?ae:Oe,tt=tt==we?ae:tt;var rt=Oe==ae,ot=tt==ae,vt=Oe==tt;if(vt&&fu(v)){if(!fu(D))return!1;_e=!0,rt=!1}if(vt&&!rt)return pe||(pe=new ds),_e||Tf(v)?fE(v,D,k,z,re,pe):pE(v,D,Oe,k,z,re,pe);if(!(k&b)){var Nt=rt&&Pn.call(v,"__wrapped__"),qt=ot&&Pn.call(D,"__wrapped__");if(Nt||qt){var cn=Nt?v.value():v,Ht=qt?D.value():D;return pe||(pe=new ds),re(cn,Ht,k,z,pe)}}return vt?(pe||(pe=new ds),Ti(v,D,k,z,re,pe)):!1}function xb(v){return Rr(v)&&Ei(v)==$}function km(v,D,k,z){var re=k.length,pe=re,_e=!z;if(v==null)return!pe;for(v=En(v);re--;){var Ce=k[re];if(_e&&Ce[2]?Ce[1]!==v[Ce[0]]:!(Ce[0]in v))return!1}for(;++re<pe;){Ce=k[re];var Oe=Ce[0],tt=v[Oe],rt=Ce[1];if(_e&&Ce[2]){if(tt===t&&!(Oe in v))return!1}else{var ot=new ds;if(z)var vt=z(tt,rt,Oe,v,D,ot);if(!(vt===t?bd(rt,tt,b|x,z,ot):vt))return!1}}return!0}function tl(v){if(!Sr(v)||zb(v))return!1;var D=bo(v)?Iw:oT;return D.test(Jl(v))}function wb(v){return Rr(v)&&bn(v)==ke}function Qw(v){return Rr(v)&&Ei(v)==be}function Jw(v){return Rr(v)&&Cd(v.length)&&!!Kn[bn(v)]}function e2(v){return typeof v=="function"?v:v==null?$e:typeof v=="object"?Gt(v)?Db(v[0],v[1]):n2(v):Cn(v)}function _b(v){if(!rr(v))return Ma(v);var D=[];for(var k in En(v))Pn.call(v,k)&&k!="constructor"&&D.push(k);return D}function KT(v){if(!Sr(v))return iu(v);var D=rr(v),k=[];for(var z in v)z=="constructor"&&(D||!Pn.call(v,z))||k.push(z);return k}function Sb(v,D){return v<D}function t2(v,D){var k=-1,z=pi(v)?Ve(v.length):[];return Gl(v,function(re,pe,_e){z[++k]=D(re,pe,_e)}),z}function n2(v){var D=Ib(v);return D.length==1&&D[0][2]?bE(D[0][0],D[0][1]):function(k){return k===v||km(k,v,D)}}function Db(v,D){return Bb(v)&&vE(D)?bE($n(v),D):function(k){var z=pg(k,v);return z===t&&z===D?Rf(k,v):bd(D,z,b|x)}}function Um(v,D,k,z,re){v!==D&&of(D,function(pe,_e){if(re||(re=new ds),Sr(pe))Xk(v,D,_e,k,Um,z,re);else{var Ce=z?z(qb(v,_e),pe,_e+"",v,D,re):t;Ce===t&&(Ce=pe),el(v,_e,Ce)}},Ci)}function Xk(v,D,k,z,re,pe,_e){var Ce=qb(v,k),Oe=qb(D,k),tt=_e.get(Oe);if(tt){el(v,k,tt);return}var rt=pe?pe(Ce,Oe,k+"",v,D,_e):t,ot=rt===t;if(ot){var vt=Gt(Oe),Nt=!vt&&fu(Oe),qt=!vt&&!Nt&&Tf(Oe);rt=Oe,vt||Nt||qt?Gt(Ce)?rt=Ce:zr(Ce)?rt=hi(Ce):Nt?(ot=!1,rt=u2(Oe,!0)):qt?(ot=!1,rt=h2(Oe,!0)):rt=[]:Wa(Oe)||rc(Oe)?(rt=Ce,rc(Ce)?rt=dC(Ce):(!Sr(Ce)||bo(Ce))&&(rt=b2(Oe))):ot=!1}ot&&(_e.set(Oe,rt),re(rt,Oe,z,pe,_e),_e.delete(Oe)),el(v,k,rt)}function r2(v,D){var k=v.length;if(k)return D+=D<0?k:0,vo(D,k)?v[D]:t}function i2(v,D,k){D.length?D=br(D,function(pe){return Gt(pe)?function(_e){return La(_e,pe.length===1?pe[0]:pe)}:pe}):D=[$e];var z=-1;D=br(D,ta(Ot()));var re=t2(v,function(pe,_e,Ce){var Oe=br(D,function(tt){return tt(pe)});return{criteria:Oe,index:++z,value:pe}});return AT(re,function(pe,_e){return aE(pe,_e,k)})}function ZT(v,D){return Ab(v,D,function(k,z){return Rf(v,z)})}function Ab(v,D,k){for(var z=-1,re=D.length,pe={};++z<re;){var _e=D[z],Ce=La(v,_e);k(Ce,_e)&&uf(pe,Yl(_e,v),Ce)}return pe}function QT(v){return function(D){return La(D,v)}}function Tb(v,D,k,z){var re=z?Uw:Vh,pe=-1,_e=D.length,Ce=v;for(v===D&&(D=hi(D)),k&&(Ce=br(v,ta(k)));++pe<_e;)for(var Oe=0,tt=D[pe],rt=k?k(tt):tt;(Oe=re(Ce,rt,Oe,z))>-1;)Ce!==v&&ub.call(Ce,Oe,1),ub.call(v,Oe,1);return v}function s2(v,D){for(var k=v?D.length:0,z=k-1;k--;){var re=D[k];if(k==z||re!==pe){var pe=re;vo(re)?ub.call(v,re,1):Fm(v,re)}}return v}function Eb(v,D){return v+zl(Bw()*(D-v+1))}function JT(v,D,k,z){for(var re=-1,pe=fr(tf((D-v)/(k||1)),0),_e=Ve(pe);pe--;)_e[z?pe:++re]=v,v+=k;return _e}function a2(v,D){var k="";if(!v||D<1||D>se)return k;do D%2&&(k+=v),D=zl(D/2),D&&(v+=v);while(D);return k}function Qt(v,D){return Qm(w2(v,D,$e),v+"")}function cf(v){return sf(kf(v))}function Cb(v,D){var k=kf(v);return eg(k,go(D,0,k.length))}function uf(v,D,k,z){if(!Sr(v))return v;D=Yl(D,v);for(var re=-1,pe=D.length,_e=pe-1,Ce=v;Ce!=null&&++re<pe;){var Oe=$n(D[re]),tt=k;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return v;if(re!=_e){var rt=Ce[Oe];tt=z?z(rt,Oe,Ce):t,tt===t&&(tt=Sr(rt)?rt:vo(D[re+1])?[]:{})}md(Ce,Oe,tt),Ce=Ce[Oe]}return v}var Om=nf?function(v,D){return nf.set(v,D),v}:$e,Mm=xm?function(v,D){return xm(v,"toString",{configurable:!0,enumerable:!1,value:Ie(D),writable:!0})}:$e;function eE(v){return eg(kf(v))}function sa(v,D,k){var z=-1,re=v.length;D<0&&(D=-D>re?0:re+D),k=k>re?re:k,k<0&&(k+=re),re=D>k?0:k-D>>>0,D>>>=0;for(var pe=Ve(re);++z<re;)pe[z]=v[z+D];return pe}function tE(v,D){var k;return Gl(v,function(z,re,pe){return k=D(z,re,pe),!k}),!!k}function Pm(v,D,k){var z=0,re=v==null?z:v.length;if(typeof D=="number"&&D===D&&re<=le){for(;z<re;){var pe=z+re>>>1,_e=v[pe];_e!==null&&!ps(_e)&&(k?_e<=D:_e<D)?z=pe+1:re=pe}return re}return Nb(v,D,$e,k)}function Nb(v,D,k,z){var re=0,pe=v==null?0:v.length;if(pe===0)return 0;D=k(D);for(var _e=D!==D,Ce=D===null,Oe=ps(D),tt=D===t;re<pe;){var rt=zl((re+pe)/2),ot=k(v[rt]),vt=ot!==t,Nt=ot===null,qt=ot===ot,cn=ps(ot);if(_e)var Ht=z||qt;else tt?Ht=qt&&(z||vt):Ce?Ht=qt&&vt&&(z||!Nt):Oe?Ht=qt&&vt&&!Nt&&(z||!cn):Nt||cn?Ht=!1:Ht=z?ot<=D:ot<D;Ht?re=rt+1:pe=rt}return xr(pe,ne)}function o2(v,D){for(var k=-1,z=v.length,re=0,pe=[];++k<z;){var _e=v[k],Ce=D?D(_e):_e;if(!k||!Ps(Ce,Oe)){var Oe=Ce;pe[re++]=_e===0?0:_e}}return pe}function Rb(v){return typeof v=="number"?v:ps(v)?G:+v}function js(v){if(typeof v=="string")return v;if(Gt(v))return br(v,js)+"";if(ps(v))return Zc?Zc.call(v):"";var D=v+"";return D=="0"&&1/v==-1/0?"-0":D}function Xl(v,D,k){var z=-1,re=Jv,pe=v.length,_e=!0,Ce=[],Oe=Ce;if(k)_e=!1,re=Rw;else if(pe>=i){var tt=D?null:dE(v);if(tt)return ob(tt);_e=!1,re=Xh,Oe=new Hl}else Oe=D?[]:Ce;e:for(;++z<pe;){var rt=v[z],ot=D?D(rt):rt;if(rt=k||rt!==0?rt:0,_e&&ot===ot){for(var vt=Oe.length;vt--;)if(Oe[vt]===ot)continue e;D&&Oe.push(ot),Ce.push(rt)}else re(Oe,ot,k)||(Oe!==Ce&&Oe.push(ot),Ce.push(rt))}return Ce}function Fm(v,D){return D=Yl(D,v),v=ff(v,D),v==null||delete v[$n(Xi(D))]}function l2(v,D,k,z){return uf(v,D,k(La(v,D)),z)}function Lm(v,D,k,z){for(var re=v.length,pe=z?re:-1;(z?pe--:++pe<re)&&D(v[pe],pe,v););return k?sa(v,z?0:pe,z?pe+1:re):sa(v,z?pe+1:0,z?re:pe)}function nE(v,D){var k=v;return k instanceof on&&(k=k.value()),jw(D,function(z,re){return re.func.apply(re.thisArg,Wl([z],re.args))},k)}function Im(v,D,k){var z=v.length;if(z<2)return z?Xl(v[0]):[];for(var re=-1,pe=Ve(z);++re<z;)for(var _e=v[re],Ce=-1;++Ce<z;)Ce!=re&&(pe[re]=Jc(pe[re]||_e,v[Ce],D,k));return Xl(mn(pe,1),D,k)}function c2(v,D,k){for(var z=-1,re=v.length,pe=D.length,_e={};++z<re;){var Ce=z<pe?D[z]:t;k(_e,v[z],Ce)}return _e}function jb(v){return zr(v)?v:[]}function $m(v){return typeof v=="function"?v:$e}function Yl(v,D){return Gt(v)?v:Bb(v,D)?[v]:sl(Fn(v))}var rE=Qt;function tu(v,D,k){var z=v.length;return k=k===t?z:k,!D&&k>=z?v:sa(v,D,k)}var iE=db||function(v){return Kr.clearTimeout(v)};function u2(v,D){if(D)return v.slice();var k=v.length,z=od?od(k):new v.constructor(k);return v.copy(z),z}function xd(v){var D=new v.constructor(v.byteLength);return new ef(D).set(new ef(v)),D}function d2(v,D){var k=D?xd(v.buffer):v.buffer;return new v.constructor(k,v.byteOffset,v.byteLength)}function kb(v){var D=new v.constructor(v.source,Fh.exec(v));return D.lastIndex=v.lastIndex,D}function sE(v){return hd?En(hd.call(v)):{}}function h2(v,D){var k=D?xd(v.buffer):v.buffer;return new v.constructor(k,v.byteOffset,v.length)}function Bm(v,D){if(v!==D){var k=v!==t,z=v===null,re=v===v,pe=ps(v),_e=D!==t,Ce=D===null,Oe=D===D,tt=ps(D);if(!Ce&&!tt&&!pe&&v>D||pe&&_e&&Oe&&!Ce&&!tt||z&&_e&&Oe||!k&&Oe||!re)return 1;if(!z&&!pe&&!tt&&v<D||tt&&k&&re&&!z&&!pe||Ce&&k&&re||!_e&&re||!Oe)return-1}return 0}function aE(v,D,k){for(var z=-1,re=v.criteria,pe=D.criteria,_e=re.length,Ce=k.length;++z<_e;){var Oe=Bm(re[z],pe[z]);if(Oe){if(z>=Ce)return Oe;var tt=k[z];return Oe*(tt=="desc"?-1:1)}}return v.index-D.index}function f2(v,D,k,z){for(var re=-1,pe=v.length,_e=k.length,Ce=-1,Oe=D.length,tt=fr(pe-_e,0),rt=Ve(Oe+tt),ot=!z;++Ce<Oe;)rt[Ce]=D[Ce];for(;++re<_e;)(ot||re<pe)&&(rt[k[re]]=v[re]);for(;tt--;)rt[Ce++]=v[re++];return rt}function oE(v,D,k,z){for(var re=-1,pe=v.length,_e=-1,Ce=k.length,Oe=-1,tt=D.length,rt=fr(pe-Ce,0),ot=Ve(rt+tt),vt=!z;++re<rt;)ot[re]=v[re];for(var Nt=re;++Oe<tt;)ot[Nt+Oe]=D[Oe];for(;++_e<Ce;)(vt||re<pe)&&(ot[Nt+k[_e]]=v[re++]);return ot}function hi(v,D){var k=-1,z=v.length;for(D||(D=Ve(z));++k<z;)D[k]=v[k];return D}function ks(v,D,k,z){var re=!k;k||(k={});for(var pe=-1,_e=D.length;++pe<_e;){var Ce=D[pe],Oe=z?z(k[Ce],v[Ce],Ce,k,v):t;Oe===t&&(Oe=v[Ce]),re?mo(k,Ce,Oe):md(k,Ce,Oe)}return k}function Ub(v,D){return ks(v,Xm(v),D)}function Wm(v,D){return ks(v,$b(v),D)}function wd(v,D){return function(k,z){var re=Gt(k)?jk:Qc,pe=D?D():{};return re(k,v,Ot(z,2),pe)}}function _d(v){return Qt(function(D,k){var z=-1,re=k.length,pe=re>1?k[re-1]:t,_e=re>2?k[2]:t;for(pe=v.length>3&&typeof pe=="function"?(re--,pe):t,_e&&fs(k[0],k[1],_e)&&(pe=re<3?t:pe,re=1),D=En(D);++z<re;){var Ce=k[z];Ce&&v(D,Ce,z,pe)}return D})}function p2(v,D){return function(k,z){if(k==null)return k;if(!pi(k))return v(k,z);for(var re=k.length,pe=D?re:-1,_e=En(k);(D?pe--:++pe<re)&&z(_e[pe],pe,_e)!==!1;);return k}}function Sd(v){return function(D,k,z){for(var re=-1,pe=En(D),_e=z(D),Ce=_e.length;Ce--;){var Oe=_e[v?Ce:++re];if(k(pe[Oe],Oe,pe)===!1)break}return D}}function lE(v,D,k){var z=D&w,re=Ia(v);function pe(){var _e=this&&this!==Kr&&this instanceof pe?re:v;return _e.apply(z?k:this,arguments)}return pe}function aa(v){return function(D){D=Fn(D);var k=Vc(D)?ka(D):t,z=k?k[0]:D.charAt(0),re=k?tu(k,1).join(""):D.slice(1);return z[v]()+re}}function hs(v){return function(D){return jw(j(ic(D).replace(hm,"")),v,"")}}function Ia(v){return function(){var D=arguments;switch(D.length){case 0:return new v;case 1:return new v(D[0]);case 2:return new v(D[0],D[1]);case 3:return new v(D[0],D[1],D[2]);case 4:return new v(D[0],D[1],D[2],D[3]);case 5:return new v(D[0],D[1],D[2],D[3],D[4]);case 6:return new v(D[0],D[1],D[2],D[3],D[4],D[5]);case 7:return new v(D[0],D[1],D[2],D[3],D[4],D[5],D[6])}var k=ia(v.prototype),z=v.apply(k,D);return Sr(z)?z:k}}function cE(v,D,k){var z=Ia(v);function re(){for(var pe=arguments.length,_e=Ve(pe),Ce=pe,Oe=Ad(re);Ce--;)_e[Ce]=arguments[Ce];var tt=pe<3&&_e[0]!==Oe&&_e[pe-1]!==Oe?[]:Gc(_e,Oe);if(pe-=tt.length,pe<k)return m2(v,D,Br,re.placeholder,t,_e,tt,t,t,k-pe);var rt=this&&this!==Kr&&this instanceof re?z:v;return As(rt,this,_e)}return re}function Kl(v){return function(D,k,z){var re=En(D);if(!pi(D)){var pe=Ot(k,3);D=gi(D),k=function(Ce){return pe(re[Ce],Ce,re)}}var _e=v(D,k,z);return _e>-1?re[pe?D[_e]:_e]:t}}function nl(v){return pr(function(D){var k=D.length,z=k,re=Cs.prototype.thru;for(v&&D.reverse();z--;){var pe=D[z];if(typeof pe!="function")throw new ra(a);if(re&&!_e&&Gm(pe)=="wrapper")var _e=new Cs([],!0)}for(z=_e?z:k;++z<k;){pe=D[z];var Ce=Gm(pe),Oe=Ce=="wrapper"?Lb(pe):t;Oe&&Wb(Oe[0])&&Oe[1]==(O|E|N|M)&&!Oe[4].length&&Oe[9]==1?_e=_e[Gm(Oe[0])].apply(_e,Oe[3]):_e=pe.length==1&&Wb(pe)?_e[Ce]():_e.thru(pe)}return function(){var tt=arguments,rt=tt[0];if(_e&&tt.length==1&&Gt(rt))return _e.plant(rt).value();for(var ot=0,vt=k?D[ot].apply(this,tt):rt;++ot<k;)vt=D[ot].call(this,vt);return vt}})}function Br(v,D,k,z,re,pe,_e,Ce,Oe,tt){var rt=D&O,ot=D&w,vt=D&S,Nt=D&(E|R),qt=D&P,cn=vt?t:Ia(v);function Ht(){for(var xn=arguments.length,Nn=Ve(xn),wo=xn;wo--;)Nn[wo]=arguments[wo];if(Nt)var da=Ad(Ht),_o=Lk(Nn,da);if(z&&(Nn=f2(Nn,z,re,Nt)),pe&&(Nn=oE(Nn,pe,_e,Nt)),xn-=_o,Nt&&xn<tt){var yi=Gc(Nn,da);return m2(v,D,Br,Ht.placeholder,k,Nn,yi,Ce,Oe,tt-xn)}var sc=ot?k:this,Nd=vt?sc[v]:v;return xn=Nn.length,Ce?Nn=il(Nn,Ce):qt&&xn>1&&Nn.reverse(),rt&&Oe<xn&&(Nn.length=Oe),this&&this!==Kr&&this instanceof Ht&&(Nd=cn||Ia(Nd)),Nd.apply(sc,Nn)}return Ht}function zm(v,D){return function(k,z){return Zw(k,v,D(z),{})}}function df(v,D){return function(k,z){var re;if(k===t&&z===t)return D;if(k!==t&&(re=k),z!==t){if(re===t)return z;typeof k=="string"||typeof z=="string"?(k=js(k),z=js(z)):(k=Rb(k),z=Rb(z)),re=v(k,z)}return re}}function qm(v){return pr(function(D){return D=br(D,ta(Ot())),Qt(function(k){var z=this;return v(D,function(re){return As(re,z,k)})})})}function Hm(v,D){D=D===t?" ":js(D);var k=D.length;if(k<2)return k?a2(D,v):D;var z=a2(D,tf(v/Jo(D)));return Vc(D)?tu(ka(z),0,v).join(""):z.slice(0,v)}function uE(v,D,k,z){var re=D&w,pe=Ia(v);function _e(){for(var Ce=-1,Oe=arguments.length,tt=-1,rt=z.length,ot=Ve(rt+Oe),vt=this&&this!==Kr&&this instanceof _e?pe:v;++tt<rt;)ot[tt]=z[tt];for(;Oe--;)ot[tt++]=arguments[++Ce];return As(vt,re?k:this,ot)}return _e}function nu(v){return function(D,k,z){return z&&typeof z!="number"&&fs(D,k,z)&&(k=z=t),D=ll(D),k===t?(k=D,D=0):k=ll(k),z=z===t?D<k?1:-1:ll(z),JT(D,k,z,v)}}function Dd(v){return function(D,k){return typeof D=="string"&&typeof k=="string"||(D=za(D),k=za(k)),v(D,k)}}function m2(v,D,k,z,re,pe,_e,Ce,Oe,tt){var rt=D&E,ot=rt?_e:t,vt=rt?t:_e,Nt=rt?pe:t,qt=rt?t:pe;D|=rt?N:U,D&=~(rt?U:N),D&T||(D&=-4);var cn=[v,D,re,Nt,ot,qt,vt,Ce,Oe,tt],Ht=k.apply(t,cn);return Wb(v)&&Hb(Ht,cn),Ht.placeholder=z,Vb(Ht,v,D)}function Ob(v){var D=si[v];return function(k,z){if(k=za(k),z=z==null?0:xr(Yt(z),292),z&&wm(k)){var re=(Fn(k)+"e").split("e"),pe=D(re[0]+"e"+(+re[1]+z));return re=(Fn(pe)+"e").split("e"),+(re[0]+"e"+(+re[1]-z))}return D(k)}}var dE=pn&&1/ob(new pn([,-0]))[1]==W?function(v){return new pn(v)}:xt;function Vm(v){return function(D){var k=Ei(D);return k==$?ab(D):k==be?Ik(D):Fk(D,v(D))}}function rl(v,D,k,z,re,pe,_e,Ce){var Oe=D&S;if(!Oe&&typeof v!="function")throw new ra(a);var tt=z?z.length:0;if(tt||(D&=-97,z=re=t),_e=_e===t?_e:fr(Yt(_e),0),Ce=Ce===t?Ce:Yt(Ce),tt-=re?re.length:0,D&U){var rt=z,ot=re;z=re=t}var vt=Oe?t:Lb(v),Nt=[v,D,k,z,re,rt,ot,pe,_e,Ce];if(vt&&Zm(Nt,vt),v=Nt[0],D=Nt[1],k=Nt[2],z=Nt[3],re=Nt[4],Ce=Nt[9]=Nt[9]===t?Oe?0:v.length:fr(Nt[9]-tt,0),!Ce&&D&(E|R)&&(D&=-25),!D||D==w)var qt=lE(v,D,k);else D==E||D==R?qt=cE(v,D,Ce):(D==N||D==(w|N))&&!re.length?qt=uE(v,D,k,z):qt=Br.apply(t,Nt);var cn=vt?Om:Hb;return Vb(cn(qt,Nt),v,D)}function Mb(v,D,k,z){return v===t||Ps(v,Qh[k])&&!Pn.call(z,k)?D:v}function g2(v,D,k,z,re,pe){return Sr(v)&&Sr(D)&&(pe.set(D,v),Um(v,D,t,g2,pe),pe.delete(D)),v}function hE(v){return Wa(v)?t:v}function fE(v,D,k,z,re,pe){var _e=k&b,Ce=v.length,Oe=D.length;if(Ce!=Oe&&!(_e&&Oe>Ce))return!1;var tt=pe.get(v),rt=pe.get(D);if(tt&&rt)return tt==D&&rt==v;var ot=-1,vt=!0,Nt=k&x?new Hl:t;for(pe.set(v,D),pe.set(D,v);++ot<Ce;){var qt=v[ot],cn=D[ot];if(z)var Ht=_e?z(cn,qt,ot,D,v,pe):z(qt,cn,ot,v,D,pe);if(Ht!==t){if(Ht)continue;vt=!1;break}if(Nt){if(!kw(D,function(xn,Nn){if(!Xh(Nt,Nn)&&(qt===xn||re(qt,xn,k,z,pe)))return Nt.push(Nn)})){vt=!1;break}}else if(!(qt===cn||re(qt,cn,k,z,pe))){vt=!1;break}}return pe.delete(v),pe.delete(D),vt}function pE(v,D,k,z,re,pe,_e){switch(k){case Ge:if(v.byteLength!=D.byteLength||v.byteOffset!=D.byteOffset)return!1;v=v.buffer,D=D.buffer;case Fe:return!(v.byteLength!=D.byteLength||!pe(new ef(v),new ef(D)));case Me:case Ye:case ge:return Ps(+v,+D);case Le:return v.name==D.name&&v.message==D.message;case ke:case J:return v==D+"";case $:var Ce=ab;case be:var Oe=z&b;if(Ce||(Ce=ob),v.size!=D.size&&!Oe)return!1;var tt=_e.get(v);if(tt)return tt==D;z|=x,_e.set(v,D);var rt=fE(Ce(v),Ce(D),z,re,pe,_e);return _e.delete(v),rt;case Q:if(hd)return hd.call(v)==hd.call(D)}return!1}function Ti(v,D,k,z,re,pe){var _e=k&b,Ce=Pb(v),Oe=Ce.length,tt=Pb(D),rt=tt.length;if(Oe!=rt&&!_e)return!1;for(var ot=Oe;ot--;){var vt=Ce[ot];if(!(_e?vt in D:Pn.call(D,vt)))return!1}var Nt=pe.get(v),qt=pe.get(D);if(Nt&&qt)return Nt==D&&qt==v;var cn=!0;pe.set(v,D),pe.set(D,v);for(var Ht=_e;++ot<Oe;){vt=Ce[ot];var xn=v[vt],Nn=D[vt];if(z)var wo=_e?z(Nn,xn,vt,D,v,pe):z(xn,Nn,vt,v,D,pe);if(!(wo===t?xn===Nn||re(xn,Nn,k,z,pe):wo)){cn=!1;break}Ht||(Ht=vt=="constructor")}if(cn&&!Ht){var da=v.constructor,_o=D.constructor;da!=_o&&"constructor"in v&&"constructor"in D&&!(typeof da=="function"&&da instanceof da&&typeof _o=="function"&&_o instanceof _o)&&(cn=!1)}return pe.delete(v),pe.delete(D),cn}function pr(v){return Qm(w2(v,t,Os),v+"")}function Pb(v){return GT(v,gi,Xm)}function Fb(v){return GT(v,Ci,$b)}var Lb=nf?function(v){return nf.get(v)}:xt;function Gm(v){for(var D=v.name+"",k=Pa[D],z=Pn.call(Pa,D)?k.length:0;z--;){var re=k[z],pe=re.func;if(pe==null||pe==v)return re.name}return D}function Ad(v){var D=Pn.call(de,"placeholder")?de:v;return D.placeholder}function Ot(){var v=de.iteratee||Lt;return v=v===Lt?e2:v,arguments.length?v(arguments[0],arguments[1]):v}function hf(v,D){var k=v.__data__;return Ql(D)?k[typeof D=="string"?"string":"hash"]:k.map}function Ib(v){for(var D=gi(v),k=D.length;k--;){var z=D[k],re=v[z];D[k]=[z,re,vE(re)]}return D}function ru(v,D){var k=Mw(v,D);return tl(k)?k:t}function mE(v){var D=Pn.call(v,us),k=v[us];try{v[us]=t;var z=!0}catch{}var re=cs.call(v);return z&&(D?v[us]=k:delete v[us]),re}var Xm=Yc?function(v){return v==null?[]:(v=En(v),Qo(Yc(v),function(D){return ld.call(v,D)}))}:jU,$b=Yc?function(v){for(var D=[];v;)Wl(D,Xm(v)),v=vm(v);return D}:jU,Ei=bn;(_m&&Ei(new _m(new ArrayBuffer(1)))!=Ge||di&&Ei(new di)!=$||wr&&Ei(wr.resolve())!=ce||pn&&Ei(new pn)!=be||po&&Ei(new po)!=me)&&(Ei=function(v){var D=bn(v),k=D==ae?v.constructor:t,z=k?Jl(k):"";if(z)switch(z){case MT:return Ge;case PT:return $;case Sm:return ce;case Dm:return be;case FT:return me}return D});function gE(v,D,k){for(var z=-1,re=k.length;++z<re;){var pe=k[z],_e=pe.size;switch(pe.type){case"drop":v+=_e;break;case"dropRight":D-=_e;break;case"take":D=xr(D,v+_e);break;case"takeRight":v=fr(v,D-_e);break}}return{start:v,end:D}}function y2(v){var D=v.match(Il);return D?D[1].split(Bc):[]}function Ym(v,D,k){D=Yl(D,v);for(var z=-1,re=D.length,pe=!1;++z<re;){var _e=$n(D[z]);if(!(pe=v!=null&&k(v,_e)))break;v=v[_e]}return pe||++z!=re?pe:(re=v==null?0:v.length,!!re&&Cd(re)&&vo(_e,re)&&(Gt(v)||rc(v)))}function v2(v){var D=v.length,k=new v.constructor(D);return D&&typeof v[0]=="string"&&Pn.call(v,"index")&&(k.index=v.index,k.input=v.input),k}function b2(v){return typeof v.constructor=="function"&&!rr(v)?ia(vm(v)):{}}function x2(v,D,k){var z=v.constructor;switch(D){case Fe:return xd(v);case Me:case Ye:return new z(+v);case Ge:return d2(v,k);case at:case ut:case Te:case He:case et:case ht:case Tt:case gt:case Et:return h2(v,k);case $:return new z;case ge:case J:return new z(v);case ke:return kb(v);case be:return new z;case Q:return sE(v)}}function yE(v,D){var k=D.length;if(!k)return v;var z=k-1;return D[z]=(k>1?"& ":"")+D[z],D=D.join(k>2?", ":" "),v.replace(Ca,`{
/* [wrapped with `+D+`] */
`)}function Zl(v){return Gt(v)||rc(v)||!!(Ts&&v&&v[Ts])}function vo(v,D){var k=typeof v;return D=D??se,!!D&&(k=="number"||k!="symbol"&&rd.test(v))&&v>-1&&v%1==0&&v<D}function fs(v,D,k){if(!Sr(k))return!1;var z=typeof D;return(z=="number"?pi(k)&&vo(D,k.length):z=="string"&&D in k)?Ps(k[D],v):!1}function Bb(v,D){if(Gt(v))return!1;var k=typeof v;return k=="number"||k=="symbol"||k=="boolean"||v==null||ps(v)?!0:co.test(v)||!ii.test(v)||D!=null&&v in En(D)}function Ql(v){var D=typeof v;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?v!=="__proto__":v===null}function Wb(v){var D=Gm(v),k=de[D];if(typeof k!="function"||!(D in on.prototype))return!1;if(v===k)return!0;var z=Lb(k);return!!z&&v===z[0]}function zb(v){return!!Lw&&Lw in v}var Km=gm?bo:kU;function rr(v){var D=v&&v.constructor,k=typeof D=="function"&&D.prototype||Qh;return v===k}function vE(v){return v===v&&!Sr(v)}function bE(v,D){return function(k){return k==null?!1:k[v]===D&&(D!==t||v in En(k))}}function xE(v){var D=lg(v,function(z){return k.size===u&&k.clear(),z}),k=D.cache;return D}function Zm(v,D){var k=v[1],z=D[1],re=k|z,pe=re<(w|S|O),_e=z==O&&k==E||z==O&&k==M&&v[7].length<=D[8]||z==(O|M)&&D[7].length<=D[8]&&k==E;if(!(pe||_e))return v;z&w&&(v[2]=D[2],re|=k&w?0:T);var Ce=D[3];if(Ce){var Oe=v[3];v[3]=Oe?f2(Oe,Ce,D[4]):Ce,v[4]=Oe?Gc(v[3],f):D[4]}return Ce=D[5],Ce&&(Oe=v[5],v[5]=Oe?oE(Oe,Ce,D[6]):Ce,v[6]=Oe?Gc(v[5],f):D[6]),Ce=D[7],Ce&&(v[7]=Ce),z&O&&(v[8]=v[8]==null?D[8]:xr(v[8],D[8])),v[9]==null&&(v[9]=D[9]),v[0]=D[0],v[1]=re,v}function iu(v){var D=[];if(v!=null)for(var k in En(v))D.push(k);return D}function wE(v){return cs.call(v)}function w2(v,D,k){return D=fr(D===t?v.length-1:D,0),function(){for(var z=arguments,re=-1,pe=fr(z.length-D,0),_e=Ve(pe);++re<pe;)_e[re]=z[D+re];re=-1;for(var Ce=Ve(D+1);++re<D;)Ce[re]=z[re];return Ce[D]=k(_e),As(v,this,Ce)}}function ff(v,D){return D.length<2?v:La(v,sa(D,0,-1))}function il(v,D){for(var k=v.length,z=xr(D.length,k),re=hi(v);z--;){var pe=D[z];v[z]=vo(pe,k)?re[pe]:t}return v}function qb(v,D){if(!(D==="constructor"&&typeof v[D]=="function")&&D!="__proto__")return v[D]}var Hb=Jm(Om),pf=$w||function(v,D){return Kr.setTimeout(v,D)},Qm=Jm(Mm);function Vb(v,D,k){var z=D+"";return Qm(v,yE(z,_E(y2(z),k)))}function Jm(v){var D=0,k=0;return function(){var z=ql(),re=q-(z-k);if(k=z,re>0){if(++D>=I)return arguments[0]}else D=0;return v.apply(t,arguments)}}function eg(v,D){var k=-1,z=v.length,re=z-1;for(D=D===t?z:D;++k<D;){var pe=Eb(k,re),_e=v[pe];v[pe]=v[k],v[k]=_e}return v.length=D,v}var sl=xE(function(v){var D=[];return v.charCodeAt(0)===46&&D.push(""),v.replace(Pi,function(k,z,re,pe){D.push(re?pe.replace(Js,"$1"):z||k)}),D});function $n(v){if(typeof v=="string"||ps(v))return v;var D=v+"";return D=="0"&&1/v==-1/0?"-0":D}function Jl(v){if(v!=null){try{return ym.call(v)}catch{}try{return v+""}catch{}}return""}function _E(v,D){return ja(xe,function(k){var z="_."+k[0];D&k[1]&&!Jv(v,z)&&v.push(z)}),v.sort()}function fi(v){if(v instanceof on)return v.clone();var D=new Cs(v.__wrapped__,v.__chain__);return D.__actions__=hi(v.__actions__),D.__index__=v.__index__,D.__values__=v.__values__,D}function Yk(v,D,k){(k?fs(v,D,k):D===t)?D=1:D=fr(Yt(D),0);var z=v==null?0:v.length;if(!z||D<1)return[];for(var re=0,pe=0,_e=Ve(tf(z/D));re<z;)_e[pe++]=sa(v,re,re+=D);return _e}function SE(v){for(var D=-1,k=v==null?0:v.length,z=0,re=[];++D<k;){var pe=v[D];pe&&(re[z++]=pe)}return re}function DE(){var v=arguments.length;if(!v)return[];for(var D=Ve(v-1),k=arguments[0],z=v;z--;)D[z-1]=arguments[z];return Wl(Gt(k)?hi(k):[k],mn(D,1))}var _r=Qt(function(v,D){return zr(v)?Jc(v,mn(D,1,zr,!0)):[]}),Us=Qt(function(v,D){var k=Xi(D);return zr(k)&&(k=t),zr(v)?Jc(v,mn(D,1,zr,!0),Ot(k,2)):[]}),ec=Qt(function(v,D){var k=Xi(D);return zr(k)&&(k=t),zr(v)?Jc(v,mn(D,1,zr,!0),t,k):[]});function AE(v,D,k){var z=v==null?0:v.length;return z?(D=k||D===t?1:Yt(D),sa(v,D<0?0:D,z)):[]}function TE(v,D,k){var z=v==null?0:v.length;return z?(D=k||D===t?1:Yt(D),D=z-D,sa(v,0,D<0?0:D)):[]}function Kk(v,D){return v&&v.length?Lm(v,Ot(D,3),!0,!0):[]}function _2(v,D){return v&&v.length?Lm(v,Ot(D,3),!0):[]}function oa(v,D,k,z){var re=v==null?0:v.length;return re?(k&&typeof k!="number"&&fs(v,D,k)&&(k=0,z=re),en(v,D,k,z)):[]}function $a(v,D,k){var z=v==null?0:v.length;if(!z)return-1;var re=k==null?0:Yt(k);return re<0&&(re=fr(z+re,0)),eb(v,Ot(D,3),re)}function S2(v,D,k){var z=v==null?0:v.length;if(!z)return-1;var re=z-1;return k!==t&&(re=Yt(k),re=k<0?fr(z+re,0):xr(re,z-1)),eb(v,Ot(D,3),re,!0)}function Os(v){var D=v==null?0:v.length;return D?mn(v,1):[]}function EE(v){var D=v==null?0:v.length;return D?mn(v,W):[]}function su(v,D){var k=v==null?0:v.length;return k?(D=D===t?1:Yt(D),mn(v,D)):[]}function Td(v){for(var D=-1,k=v==null?0:v.length,z={};++D<k;){var re=v[D];z[re[0]]=re[1]}return z}function tc(v){return v&&v.length?v[0]:t}function D2(v,D,k){var z=v==null?0:v.length;if(!z)return-1;var re=k==null?0:Yt(k);return re<0&&(re=fr(z+re,0)),Vh(v,D,re)}function A2(v){var D=v==null?0:v.length;return D?sa(v,0,-1):[]}var al=Qt(function(v){var D=br(v,jb);return D.length&&D[0]===v[0]?Kw(D):[]}),CE=Qt(function(v){var D=Xi(v),k=br(v,jb);return D===Xi(k)?D=t:k.pop(),k.length&&k[0]===v[0]?Kw(k,Ot(D,2)):[]}),mf=Qt(function(v){var D=Xi(v),k=br(v,jb);return D=typeof D=="function"?D:t,D&&k.pop(),k.length&&k[0]===v[0]?Kw(k,t,D):[]});function tg(v,D){return v==null?"":Oa.call(v,D)}function Xi(v){var D=v==null?0:v.length;return D?v[D-1]:t}function gf(v,D,k){var z=v==null?0:v.length;if(!z)return-1;var re=z;return k!==t&&(re=Yt(k),re=re<0?fr(z+re,0):xr(re,z-1)),D===D?na(v,D,re):eb(v,Gh,re,!0)}function NE(v,D){return v&&v.length?r2(v,Yt(D)):t}var RE=Qt(yf);function yf(v,D){return v&&v.length&&D&&D.length?Tb(v,D):v}function jE(v,D,k){return v&&v.length&&D&&D.length?Tb(v,D,Ot(k,2)):v}function Gb(v,D,k){return v&&v.length&&D&&D.length?Tb(v,D,t,k):v}var kE=pr(function(v,D){var k=v==null?0:v.length,z=Nm(v,D);return s2(v,br(D,function(re){return vo(re,k)?+re:re}).sort(Bm)),z});function Zk(v,D){var k=[];if(!(v&&v.length))return k;var z=-1,re=[],pe=v.length;for(D=Ot(D,3);++z<pe;){var _e=v[z];D(_e,z,v)&&(k.push(_e),re.push(z))}return s2(v,re),k}function T2(v){return v==null?v:Ww.call(v)}function Hn(v,D,k){var z=v==null?0:v.length;return z?(k&&typeof k!="number"&&fs(v,D,k)?(D=0,k=z):(D=D==null?0:Yt(D),k=k===t?z:Yt(k)),sa(v,D,k)):[]}function cr(v,D){return Pm(v,D)}function hn(v,D,k){return Nb(v,D,Ot(k,2))}function _n(v,D){var k=v==null?0:v.length;if(k){var z=Pm(v,D);if(z<k&&Ps(v[z],D))return z}return-1}function Vn(v,D){return Pm(v,D,!0)}function la(v,D,k){return Nb(v,D,Ot(k,2),!0)}function au(v,D){var k=v==null?0:v.length;if(k){var z=Pm(v,D,!0)-1;if(Ps(v[z],D))return z}return-1}function vf(v){return v&&v.length?o2(v):[]}function E2(v,D){return v&&v.length?o2(v,Ot(D,2)):[]}function nc(v){var D=v==null?0:v.length;return D?sa(v,1,D):[]}function Wr(v,D,k){return v&&v.length?(D=k||D===t?1:Yt(D),sa(v,0,D<0?0:D)):[]}function ou(v,D,k){var z=v==null?0:v.length;return z?(D=k||D===t?1:Yt(D),D=z-D,sa(v,D<0?0:D,z)):[]}function Ed(v,D){return v&&v.length?Lm(v,Ot(D,3),!1,!0):[]}function C2(v,D){return v&&v.length?Lm(v,Ot(D,3)):[]}var Ba=Qt(function(v){return Xl(mn(v,1,zr,!0))}),bf=Qt(function(v){var D=Xi(v);return zr(D)&&(D=t),Xl(mn(v,1,zr,!0),Ot(D,2))}),ng=Qt(function(v){var D=Xi(v);return D=typeof D=="function"?D:t,Xl(mn(v,1,zr,!0),t,D)});function Ms(v){return v&&v.length?Xl(v):[]}function N2(v,D){return v&&v.length?Xl(v,Ot(D,2)):[]}function R2(v,D){return D=typeof D=="function"?D:t,v&&v.length?Xl(v,t,D):[]}function xf(v){if(!(v&&v.length))return[];var D=0;return v=Qo(v,function(k){if(zr(k))return D=fr(k.length,D),!0}),Hc(D,function(k){return br(v,tb(k))})}function rg(v,D){if(!(v&&v.length))return[];var k=xf(v);return D==null?k:br(k,function(z){return As(D,t,z)})}var lu=Qt(function(v,D){return zr(v)?Jc(v,D):[]}),Fi=Qt(function(v){return Im(Qo(v,zr))}),cu=Qt(function(v){var D=Xi(v);return zr(D)&&(D=t),Im(Qo(v,zr),Ot(D,2))}),wf=Qt(function(v){var D=Xi(v);return D=typeof D=="function"?D:t,Im(Qo(v,zr),t,D)}),_f=Qt(xf);function j2(v,D){return c2(v||[],D||[],md)}function k2(v,D){return c2(v||[],D||[],uf)}var UE=Qt(function(v){var D=v.length,k=D>1?v[D-1]:t;return k=typeof k=="function"?(v.pop(),k):t,rg(v,k)});function Sf(v){var D=de(v);return D.__chain__=!0,D}function U2(v,D){return D(v),v}function Yi(v,D){return D(v)}var OE=pr(function(v){var D=v.length,k=D?v[0]:0,z=this.__wrapped__,re=function(pe){return Nm(pe,v)};return D>1||this.__actions__.length||!(z instanceof on)||!vo(k)?this.thru(re):(z=z.slice(k,+k+(D?1:0)),z.__actions__.push({func:Yi,args:[re],thisArg:t}),new Cs(z,this.__chain__).thru(function(pe){return D&&!pe.length&&pe.push(t),pe}))});function ca(){return Sf(this)}function ME(){return new Cs(this.value(),this.__chain__)}function PE(){this.__values__===t&&(this.__values__=ua(this.value()));var v=this.__index__>=this.__values__.length,D=v?t:this.__values__[this.__index__++];return{done:v,value:D}}function Qk(){return this}function uu(v){for(var D,k=this;k instanceof Fa;){var z=fi(k);z.__index__=0,z.__values__=t,D?re.__wrapped__=z:D=z;var re=z;k=k.__wrapped__}return re.__wrapped__=v,D}function Xb(){var v=this.__wrapped__;if(v instanceof on){var D=v;return this.__actions__.length&&(D=new on(this)),D=D.reverse(),D.__actions__.push({func:Yi,args:[T2],thisArg:t}),new Cs(D,this.__chain__)}return this.thru(T2)}function O2(){return nE(this.__wrapped__,this.__actions__)}var Df=wd(function(v,D,k){Pn.call(v,k)?++v[k]:mo(v,k,1)});function FE(v,D,k){var z=Gt(v)?_T:Xw;return k&&fs(v,D,k)&&(D=t),z(v,Ot(D,3))}function LE(v,D){var k=Gt(v)?Qo:qn;return k(v,Ot(D,3))}var IE=Kl($a),M2=Kl(S2);function P2(v,D){return mn(ig(v,D),1)}function Jk(v,D){return mn(ig(v,D),W)}function eU(v,D,k){return k=k===t?1:Yt(k),mn(ig(v,D),k)}function $E(v,D){var k=Gt(v)?ja:Gl;return k(v,Ot(D,3))}function F2(v,D){var k=Gt(v)?kk:vb;return k(v,Ot(D,3))}var BE=wd(function(v,D,k){Pn.call(v,k)?v[k].push(D):mo(v,k,[D])});function Af(v,D,k,z){v=pi(v)?v:kf(v),k=k&&!z?Yt(k):0;var re=v.length;return k<0&&(k=fr(re+k,0)),ax(v)?k<=re&&v.indexOf(D,k)>-1:!!re&&Vh(v,D,k)>-1}var Yb=Qt(function(v,D,k){var z=-1,re=typeof D=="function",pe=pi(v)?Ve(v.length):[];return Gl(v,function(_e){pe[++z]=re?As(D,_e,k):vd(_e,D,k)}),pe}),WE=wd(function(v,D,k){mo(v,k,D)});function ig(v,D){var k=Gt(v)?br:t2;return k(v,Ot(D,3))}function zE(v,D,k,z){return v==null?[]:(Gt(D)||(D=D==null?[]:[D]),k=z?t:k,Gt(k)||(k=k==null?[]:[k]),i2(v,D,k))}var qE=wd(function(v,D,k){v[k?0:1].push(D)},function(){return[[],[]]});function HE(v,D,k){var z=Gt(v)?jw:Ow,re=arguments.length<3;return z(v,Ot(D,4),k,re,Gl)}function VE(v,D,k){var z=Gt(v)?Uk:Ow,re=arguments.length<3;return z(v,Ot(D,4),k,re,vb)}function Kb(v,D){var k=Gt(v)?Qo:qn;return k(v,cg(Ot(D,3)))}function GE(v){var D=Gt(v)?sf:cf;return D(v)}function XE(v,D,k){(k?fs(v,D,k):D===t)?D=1:D=Yt(D);var z=Gt(v)?qT:Cb;return z(v,D)}function ir(v){var D=Gt(v)?HT:eE;return D(v)}function L2(v){if(v==null)return 0;if(pi(v))return ax(v)?Jo(v):v.length;var D=Ei(v);return D==$||D==be?v.size:_b(v).length}function tU(v,D,k){var z=Gt(v)?kw:tE;return k&&fs(v,D,k)&&(D=t),z(v,Ot(D,3))}var YE=Qt(function(v,D){if(v==null)return[];var k=D.length;return k>1&&fs(v,D[0],D[1])?D=[]:k>2&&fs(D[0],D[1],D[2])&&(D=[D[0]]),i2(v,mn(D,1),[])}),Zb=ud||function(){return Kr.Date.now()};function nU(v,D){if(typeof D!="function")throw new ra(a);return v=Yt(v),function(){if(--v<1)return D.apply(this,arguments)}}function KE(v,D,k){return D=k?t:D,D=v&&D==null?v.length:D,rl(v,O,t,t,t,t,D)}function sg(v,D){var k;if(typeof D!="function")throw new ra(a);return v=Yt(v),function(){return--v>0&&(k=D.apply(this,arguments)),v<=1&&(D=t),k}}var du=Qt(function(v,D,k){var z=w;if(k.length){var re=Gc(k,Ad(du));z|=N}return rl(v,z,D,k,re)}),Qb=Qt(function(v,D,k){var z=w|S;if(k.length){var re=Gc(k,Ad(Qb));z|=N}return rl(D,z,v,k,re)});function ag(v,D,k){D=k?t:D;var z=rl(v,E,t,t,t,t,t,D);return z.placeholder=ag.placeholder,z}function Jb(v,D,k){D=k?t:D;var z=rl(v,R,t,t,t,t,t,D);return z.placeholder=Jb.placeholder,z}function hu(v,D,k){var z,re,pe,_e,Ce,Oe,tt=0,rt=!1,ot=!1,vt=!0;if(typeof v!="function")throw new ra(a);D=za(D)||0,Sr(k)&&(rt=!!k.leading,ot="maxWait"in k,pe=ot?fr(za(k.maxWait)||0,D):pe,vt="trailing"in k?!!k.trailing:vt);function Nt(yi){var sc=z,Nd=re;return z=re=t,tt=yi,_e=v.apply(Nd,sc),_e}function qt(yi){return tt=yi,Ce=pf(xn,D),rt?Nt(yi):_e}function cn(yi){var sc=yi-Oe,Nd=yi-tt,cI=D-sc;return ot?xr(cI,pe-Nd):cI}function Ht(yi){var sc=yi-Oe,Nd=yi-tt;return Oe===t||sc>=D||sc<0||ot&&Nd>=pe}function xn(){var yi=Zb();if(Ht(yi))return Nn(yi);Ce=pf(xn,cn(yi))}function Nn(yi){return Ce=t,vt&&z?Nt(yi):(z=re=t,_e)}function wo(){Ce!==t&&iE(Ce),tt=0,z=Oe=re=Ce=t}function da(){return Ce===t?_e:Nn(Zb())}function _o(){var yi=Zb(),sc=Ht(yi);if(z=arguments,re=this,Oe=yi,sc){if(Ce===t)return qt(Oe);if(ot)return iE(Ce),Ce=pf(xn,D),Nt(Oe)}return Ce===t&&(Ce=pf(xn,D)),_e}return _o.cancel=wo,_o.flush=da,_o}var ol=Qt(function(v,D){return gd(v,1,D)}),og=Qt(function(v,D,k){return gd(v,za(D)||0,k)});function rU(v){return rl(v,P)}function lg(v,D){if(typeof v!="function"||D!=null&&typeof D!="function")throw new ra(a);var k=function(){var z=arguments,re=D?D.apply(this,z):z[0],pe=k.cache;if(pe.has(re))return pe.get(re);var _e=v.apply(this,z);return k.cache=pe.set(re,_e)||pe,_e};return k.cache=new(lg.Cache||Ns),k}lg.Cache=Ns;function cg(v){if(typeof v!="function")throw new ra(a);return function(){var D=arguments;switch(D.length){case 0:return!v.call(this);case 1:return!v.call(this,D[0]);case 2:return!v.call(this,D[0],D[1]);case 3:return!v.call(this,D[0],D[1],D[2])}return!v.apply(this,D)}}function ZE(v){return sg(2,v)}var QE=rE(function(v,D){D=D.length==1&&Gt(D[0])?br(D[0],ta(Ot())):br(mn(D,1),ta(Ot()));var k=D.length;return Qt(function(z){for(var re=-1,pe=xr(z.length,k);++re<pe;)z[re]=D[re].call(this,z[re]);return As(v,this,z)})}),I2=Qt(function(v,D){var k=Gc(D,Ad(I2));return rl(v,N,t,D,k)}),ex=Qt(function(v,D){var k=Gc(D,Ad(ex));return rl(v,U,t,D,k)}),JE=pr(function(v,D){return rl(v,M,t,t,t,D)});function eC(v,D){if(typeof v!="function")throw new ra(a);return D=D===t?D:Yt(D),Qt(v,D)}function iU(v,D){if(typeof v!="function")throw new ra(a);return D=D==null?0:fr(Yt(D),0),Qt(function(k){var z=k[D],re=tu(k,0,D);return z&&Wl(re,z),As(v,this,re)})}function $2(v,D,k){var z=!0,re=!0;if(typeof v!="function")throw new ra(a);return Sr(k)&&(z="leading"in k?!!k.leading:z,re="trailing"in k?!!k.trailing:re),hu(v,D,{leading:z,maxWait:D,trailing:re})}function B2(v){return KE(v,1)}function sU(v,D){return I2($m(D),v)}function aU(){if(!arguments.length)return[];var v=arguments[0];return Gt(v)?v:[v]}function ug(v){return Vi(v,y)}function oU(v,D){return D=typeof D=="function"?D:t,Vi(v,y,D)}function tC(v){return Vi(v,p|y)}function fn(v,D){return D=typeof D=="function"?D:t,Vi(v,p|y,D)}function W2(v,D){return D==null||Gw(v,D,gi(D))}function Ps(v,D){return v===D||v!==v&&D!==D}var z2=Dd(Rm),nC=Dd(function(v,D){return v>=D}),rc=bb(function(){return arguments}())?bb:function(v){return Rr(v)&&Pn.call(v,"callee")&&!ld.call(v,"callee")},Gt=Ve.isArray,tx=Qv?ta(Qv):Rs;function pi(v){return v!=null&&Cd(v.length)&&!bo(v)}function zr(v){return Rr(v)&&pi(v)}function lU(v){return v===!0||v===!1||Rr(v)&&bn(v)==Me}var fu=hb||kU,rC=yT?ta(yT):ai;function iC(v){return Rr(v)&&v.nodeType===1&&!Wa(v)}function nx(v){if(v==null)return!0;if(pi(v)&&(Gt(v)||typeof v=="string"||typeof v.splice=="function"||fu(v)||Tf(v)||rc(v)))return!v.length;var D=Ei(v);if(D==$||D==be)return!v.size;if(rr(v))return!_b(v).length;for(var k in v)if(Pn.call(v,k))return!1;return!0}function Zn(v,D){return bd(v,D)}function q2(v,D,k){k=typeof k=="function"?k:t;var z=k?k(v,D):t;return z===t?bd(v,D,t,k):!!z}function mi(v){if(!Rr(v))return!1;var D=bn(v);return D==Le||D==Ke||typeof v.message=="string"&&typeof v.name=="string"&&!Wa(v)}function cU(v){return typeof v=="number"&&wm(v)}function bo(v){if(!Sr(v))return!1;var D=bn(v);return D==lt||D==st||D==Ee||D==ye}function rx(v){return typeof v=="number"&&v==Yt(v)}function Cd(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=se}function Sr(v){var D=typeof v;return v!=null&&(D=="object"||D=="function")}function Rr(v){return v!=null&&typeof v=="object"}var ix=vT?ta(vT):xb;function H2(v,D){return v===D||km(v,D,Ib(D))}function uU(v,D,k){return k=typeof k=="function"?k:t,km(v,D,Ib(D),k)}function sC(v){return oC(v)&&v!=+v}function dU(v){if(Km(v))throw new Bt(s);return tl(v)}function aC(v){return v===null}function hU(v){return v==null}function oC(v){return typeof v=="number"||Rr(v)&&bn(v)==ge}function Wa(v){if(!Rr(v)||bn(v)!=ae)return!1;var D=vm(v);if(D===null)return!0;var k=Pn.call(D,"constructor")&&D.constructor;return typeof k=="function"&&k instanceof k&&ym.call(k)==Ua}var sx=bT?ta(bT):wb;function V2(v){return rx(v)&&v>=-9007199254740991&&v<=se}var lC=xT?ta(xT):Qw;function ax(v){return typeof v=="string"||!Gt(v)&&Rr(v)&&bn(v)==J}function ps(v){return typeof v=="symbol"||Rr(v)&&bn(v)==Q}var Tf=wT?ta(wT):Jw;function xo(v){return v===t}function G2(v){return Rr(v)&&Ei(v)==me}function cC(v){return Rr(v)&&bn(v)==Ae}var uC=Dd(Sb),dg=Dd(function(v,D){return v<=D});function ua(v){if(!v)return[];if(pi(v))return ax(v)?ka(v):hi(v);if(cd&&v[cd])return RT(v[cd]());var D=Ei(v),k=D==$?ab:D==be?ob:kf;return k(v)}function ll(v){if(!v)return v===0?v:0;if(v=za(v),v===W||v===-1/0){var D=v<0?-1:1;return D*K}return v===v?v:0}function Yt(v){var D=ll(v),k=D%1;return D===D?k?D-k:D:0}function cl(v){return v?go(Yt(v),0,Y):0}function za(v){if(typeof v=="number")return v;if(ps(v))return G;if(Sr(v)){var D=typeof v.valueOf=="function"?v.valueOf():v;v=Sr(D)?D+"":D}if(typeof v!="string")return v===0?v:+v;v=TT(v);var k=Ai.test(v);return k||lT.test(v)?Rk(v.slice(2),k?2:8):Lh.test(v)?G:+v}function dC(v){return ks(v,Ci(v))}function Ef(v){return v?go(Yt(v),-9007199254740991,se):v===0?v:0}function Fn(v){return v==null?"":js(v)}var fU=_d(function(v,D){if(rr(D)||pi(D)){ks(D,gi(D),v);return}for(var k in D)Pn.call(D,k)&&md(v,k,D[k])}),hC=_d(function(v,D){ks(D,Ci(D),v)}),ox=_d(function(v,D,k,z){ks(D,Ci(D),v,z)}),pU=_d(function(v,D,k,z){ks(D,gi(D),v,z)}),mU=pr(Nm);function gU(v,D){var k=ia(v);return D==null?k:Vl(k,D)}var yU=Qt(function(v,D){v=En(v);var k=-1,z=D.length,re=z>2?D[2]:t;for(re&&fs(D[0],D[1],re)&&(z=1);++k<z;)for(var pe=D[k],_e=Ci(pe),Ce=-1,Oe=_e.length;++Ce<Oe;){var tt=_e[Ce],rt=v[tt];(rt===t||Ps(rt,Qh[tt])&&!Pn.call(v,tt))&&(v[tt]=pe[tt])}return v}),fC=Qt(function(v){return v.push(t,g2),As(mg,t,v)});function Cf(v,D){return ST(v,Ot(D,3),Gi)}function hg(v,D){return ST(v,Ot(D,3),lf)}function pC(v,D){return v==null?v:of(v,Ot(D,3),Ci)}function vU(v,D){return v==null?v:yd(v,Ot(D,3),Ci)}function Nf(v,D){return v&&Gi(v,Ot(D,3))}function fg(v,D){return v&&lf(v,Ot(D,3))}function mC(v){return v==null?[]:eu(v,gi(v))}function lx(v){return v==null?[]:eu(v,Ci(v))}function pg(v,D,k){var z=v==null?t:La(v,D);return z===t?k:z}function X2(v,D){return v!=null&&Ym(v,D,Yw)}function Rf(v,D){return v!=null&&Ym(v,D,XT)}var gC=zm(function(v,D,k){D!=null&&typeof D.toString!="function"&&(D=cs.call(D)),v[D]=k},Ie($e)),yC=zm(function(v,D,k){D!=null&&typeof D.toString!="function"&&(D=cs.call(D)),Pn.call(v,D)?v[D].push(k):v[D]=[k]},Ot),bU=Qt(vd);function gi(v){return pi(v)?Vw(v):_b(v)}function Ci(v){return pi(v)?Vw(v,!0):KT(v)}function xU(v,D){var k={};return D=Ot(D,3),Gi(v,function(z,re,pe){mo(k,D(z,re,pe),z)}),k}function wU(v,D){var k={};return D=Ot(D,3),Gi(v,function(z,re,pe){mo(k,re,D(z,re,pe))}),k}var _U=_d(function(v,D,k){Um(v,D,k)}),mg=_d(function(v,D,k,z){Um(v,D,k,z)}),cx=pr(function(v,D){var k={};if(v==null)return k;var z=!1;D=br(D,function(pe){return pe=Yl(pe,v),z||(z=pe.length>1),pe}),ks(v,Fb(v),k),z&&(k=Vi(k,p|m|y,hE));for(var re=D.length;re--;)Fm(k,D[re]);return k});function Y2(v,D){return jf(v,cg(Ot(D)))}var SU=pr(function(v,D){return v==null?{}:ZT(v,D)});function jf(v,D){if(v==null)return{};var k=br(Fb(v),function(z){return[z]});return D=Ot(D),Ab(v,k,function(z,re){return D(z,re[0])})}function DU(v,D,k){D=Yl(D,v);var z=-1,re=D.length;for(re||(re=1,v=t);++z<re;){var pe=v==null?t:v[$n(D[z])];pe===t&&(z=re,pe=k),v=bo(pe)?pe.call(v):pe}return v}function vC(v,D,k){return v==null?v:uf(v,D,k)}function bC(v,D,k,z){return z=typeof z=="function"?z:t,v==null?v:uf(v,D,k,z)}var K2=Vm(gi),Z2=Vm(Ci);function Q2(v,D,k){var z=Gt(v),re=z||fu(v)||Tf(v);if(D=Ot(D,4),k==null){var pe=v&&v.constructor;re?k=z?new pe:[]:Sr(v)?k=bo(pe)?ia(vm(v)):{}:k={}}return(re?ja:Gi)(v,function(_e,Ce,Oe){return D(k,_e,Ce,Oe)}),k}function xC(v,D){return v==null?!0:Fm(v,D)}function ux(v,D,k){return v==null?v:l2(v,D,$m(k))}function AU(v,D,k,z){return z=typeof z=="function"?z:t,v==null?v:l2(v,D,$m(k),z)}function kf(v){return v==null?[]:ib(v,gi(v))}function J2(v){return v==null?[]:ib(v,Ci(v))}function e_(v,D,k){return k===t&&(k=D,D=t),k!==t&&(k=za(k),k=k===k?k:0),D!==t&&(D=za(D),D=D===D?D:0),go(za(v),D,k)}function dx(v,D,k){return D=ll(D),k===t?(k=D,D=0):k=ll(k),v=za(v),YT(v,D,k)}function t_(v,D,k){if(k&&typeof k!="boolean"&&fs(v,D,k)&&(D=k=t),k===t&&(typeof D=="boolean"?(k=D,D=t):typeof v=="boolean"&&(k=v,v=t)),v===t&&D===t?(v=0,D=1):(v=ll(v),D===t?(D=v,v=0):D=ll(D)),v>D){var z=v;v=D,D=z}if(k||v%1||D%1){var re=Bw();return xr(v+re*(D-v+mm("1e-"+((re+"").length-1))),D)}return Eb(v,D)}var wC=hs(function(v,D,k){return D=D.toLowerCase(),v+(k?hx(D):D)});function hx(v){return A(Fn(v).toLowerCase())}function ic(v){return v=Fn(v),v&&v.replace(Ih,sb).replace(Bl,"")}function pu(v,D,k){v=Fn(v),D=js(D);var z=v.length;k=k===t?z:go(Yt(k),0,z);var re=k;return k-=D.length,k>=0&&v.slice(k,re)==D}function mu(v){return v=Fn(v),v&&ze.test(v)?v.replace(fe,ET):v}function gg(v){return v=Fn(v),v&&Lr.test(v)?v.replace(Yn,"\\$&"):v}var yg=hs(function(v,D,k){return v+(k?"-":"")+D.toLowerCase()}),gu=hs(function(v,D,k){return v+(k?" ":"")+D.toLowerCase()}),TU=aa("toLowerCase");function _C(v,D,k){v=Fn(v),D=Yt(D);var z=D?Jo(v):0;if(!D||z>=D)return v;var re=(D-z)/2;return Hm(zl(re),k)+v+Hm(tf(re),k)}function vg(v,D,k){v=Fn(v),D=Yt(D);var z=D?Jo(v):0;return D&&z<D?v+Hm(D-z,k):v}function EU(v,D,k){v=Fn(v),D=Yt(D);var z=D?Jo(v):0;return D&&z<D?Hm(D-z,k)+v:v}function SC(v,D,k){return k||D==null?D=0:D&&(D=+D),dd(Fn(v).replace(Hi,""),D||0)}function fx(v,D,k){return(k?fs(v,D,k):D===t)?D=1:D=Yt(D),a2(Fn(v),D)}function DC(){var v=arguments,D=Fn(v[0]);return v.length<3?D:D.replace(v[1],v[2])}var CU=hs(function(v,D,k){return v+(k?"_":"")+D.toLowerCase()});function px(v,D,k){return k&&typeof k!="number"&&fs(v,D,k)&&(D=k=t),k=k===t?Y:k>>>0,k?(v=Fn(v),v&&(typeof D=="string"||D!=null&&!sx(D))&&(D=js(D),!D&&Vc(v))?tu(ka(v),0,k):v.split(D,k)):[]}var mx=hs(function(v,D,k){return v+(k?" ":"")+A(D)});function AC(v,D,k){return v=Fn(v),k=k==null?0:go(Yt(k),0,v.length),D=js(D),v.slice(k,k+D.length)==D}function bg(v,D,k){var z=de.templateSettings;k&&fs(v,D,k)&&(D=t),v=Fn(v),D=ox({},D,z,Mb);var re=ox({},D.imports,z.imports,Mb),pe=gi(re),_e=ib(re,pe),Ce,Oe,tt=0,rt=D.interpolate||Bv,ot="__p += '",vt=lb((D.escape||Bv).source+"|"+rt.source+"|"+(rt===On?$l:Bv).source+"|"+(D.evaluate||Bv).source+"|$","g"),Nt="//# sourceURL="+(Pn.call(D,"sourceURL")?(D.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pT+"]")+`
`;v.replace(vt,function(Ht,xn,Nn,wo,da,_o){return Nn||(Nn=wo),ot+=v.slice(tt,_o).replace(cT,CT),xn&&(Ce=!0,ot+=`' +
__e(`+xn+`) +
'`),da&&(Oe=!0,ot+=`';
`+da+`;
__p += '`),Nn&&(ot+=`' +
((__t = (`+Nn+`)) == null ? '' : __t) +
'`),tt=_o+Ht.length,Ht}),ot+=`';
`;var qt=Pn.call(D,"variable")&&D.variable;if(!qt)ot=`with (obj) {
`+ot+`
}
`;else if(Ph.test(qt))throw new Bt(o);ot=(Oe?ot.replace(vn,""):ot).replace(vr,"$1").replace(Ea,"$1;"),ot="function("+(qt||"obj")+`) {
`+(qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ce?", __e = _.escape":"")+(Oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ot+`return __p
}`;var cn=F(function(){return Tn(pe,Nt+"return "+ot).apply(t,_e)});if(cn.source=ot,mi(cn))throw cn;return cn}function n_(v){return Fn(v).toLowerCase()}function gx(v){return Fn(v).toUpperCase()}function TC(v,D,k){if(v=Fn(v),v&&(k||D===t))return TT(v);if(!v||!(D=js(D)))return v;var z=ka(v),re=ka(D),pe=Yh(z,re),_e=Kh(z,re)+1;return tu(z,pe,_e).join("")}function NU(v,D,k){if(v=Fn(v),v&&(k||D===t))return v.slice(0,Pw(v)+1);if(!v||!(D=js(D)))return v;var z=ka(v),re=Kh(z,ka(D))+1;return tu(z,0,re).join("")}function yx(v,D,k){if(v=Fn(v),v&&(k||D===t))return v.replace(Hi,"");if(!v||!(D=js(D)))return v;var z=ka(v),re=Yh(z,ka(D));return tu(z,re).join("")}function c(v,D){var k=H,z=X;if(Sr(D)){var re="separator"in D?D.separator:re;k="length"in D?Yt(D.length):k,z="omission"in D?js(D.omission):z}v=Fn(v);var pe=v.length;if(Vc(v)){var _e=ka(v);pe=_e.length}if(k>=pe)return v;var Ce=k-Jo(z);if(Ce<1)return z;var Oe=_e?tu(_e,0,Ce).join(""):v.slice(0,Ce);if(re===t)return Oe+z;if(_e&&(Ce+=Oe.length-Ce),sx(re)){if(v.slice(Ce).search(re)){var tt,rt=Oe;for(re.global||(re=lb(re.source,Fn(Fh.exec(re))+"g")),re.lastIndex=0;tt=re.exec(rt);)var ot=tt.index;Oe=Oe.slice(0,ot===t?Ce:ot)}}else if(v.indexOf(js(re),Ce)!=Ce){var vt=Oe.lastIndexOf(re);vt>-1&&(Oe=Oe.slice(0,vt))}return Oe+z}function h(v){return v=Fn(v),v&&De.test(v)?v.replace(oe,kT):v}var g=hs(function(v,D,k){return v+(k?" ":"")+D.toUpperCase()}),A=aa("toUpperCase");function j(v,D,k){return v=Fn(v),D=k?t:D,D===t?NT(v)?Bk(v):Pk(v):v.match(D)||[]}var F=Qt(function(v,D){try{return As(v,t,D)}catch(k){return mi(k)?k:new Bt(k)}}),Z=pr(function(v,D){return ja(D,function(k){k=$n(k),mo(v,k,du(v[k],v))}),v});function he(v){var D=v==null?0:v.length,k=Ot();return v=D?br(v,function(z){if(typeof z[1]!="function")throw new ra(a);return[k(z[0]),z[1]]}):[],Qt(function(z){for(var re=-1;++re<D;){var pe=v[re];if(As(pe[0],this,z))return As(pe[1],this,z)}})}function Se(v){return VT(Vi(v,p))}function Ie(v){return function(){return v}}function Qe(v,D){return v==null||v!==v?D:v}var nt=nl(),We=nl(!0);function $e(v){return v}function Lt(v){return e2(typeof v=="function"?v:Vi(v,p))}function Mt(v){return n2(Vi(v,p))}function Qn(v,D){return Db(v,Vi(D,p))}var Ue=Qt(function(v,D){return function(k){return vd(k,v,D)}}),Ne=Qt(function(v,D){return function(k){return vd(v,k,D)}});function Pe(v,D,k){var z=gi(D),re=eu(D,z);k==null&&!(Sr(D)&&(re.length||!z.length))&&(k=D,D=v,v=this,re=eu(D,gi(D)));var pe=!(Sr(k)&&"chain"in k)||!!k.chain,_e=bo(v);return ja(re,function(Ce){var Oe=D[Ce];v[Ce]=Oe,_e&&(v.prototype[Ce]=function(){var tt=this.__chain__;if(pe||tt){var rt=v(this.__wrapped__),ot=rt.__actions__=hi(this.__actions__);return ot.push({func:Oe,args:arguments,thisArg:v}),rt.__chain__=tt,rt}return Oe.apply(v,Wl([this.value()],arguments))})}),v}function Je(){return Kr._===this&&(Kr._=Jh),this}function xt(){}function ln(v){return v=Yt(v),Qt(function(D){return r2(D,v)})}var Rt=qm(br),It=qm(_T),Ni=qm(kw);function Cn(v){return Bb(v)?tb($n(v)):QT(v)}function yu(v){return function(D){return v==null?t:La(v,D)}}var RU=nu(),Nte=nu(!0);function jU(){return[]}function kU(){return!1}function Rte(){return{}}function jte(){return""}function kte(){return!0}function Ute(v,D){if(v=Yt(v),v<1||v>se)return[];var k=Y,z=xr(v,Y);D=Ot(D),v-=Y;for(var re=Hc(z,D);++k<v;)D(k);return re}function Ote(v){return Gt(v)?br(v,$n):ps(v)?[v]:hi(sl(Fn(v)))}function Mte(v){var D=++ho;return Fn(v)+D}var Pte=df(function(v,D){return v+D},0),Fte=Ob("ceil"),Lte=df(function(v,D){return v/D},1),Ite=Ob("floor");function $te(v){return v&&v.length?yo(v,$e,Rm):t}function Bte(v,D){return v&&v.length?yo(v,Ot(D,2),Rm):t}function Wte(v){return DT(v,$e)}function zte(v,D){return DT(v,Ot(D,2))}function qte(v){return v&&v.length?yo(v,$e,Sb):t}function Hte(v,D){return v&&v.length?yo(v,Ot(D,2),Sb):t}var Vte=df(function(v,D){return v*D},1),Gte=Ob("round"),Xte=df(function(v,D){return v-D},0);function Yte(v){return v&&v.length?rb(v,$e):0}function Kte(v,D){return v&&v.length?rb(v,Ot(D,2)):0}return de.after=nU,de.ary=KE,de.assign=fU,de.assignIn=hC,de.assignInWith=ox,de.assignWith=pU,de.at=mU,de.before=sg,de.bind=du,de.bindAll=Z,de.bindKey=Qb,de.castArray=aU,de.chain=Sf,de.chunk=Yk,de.compact=SE,de.concat=DE,de.cond=he,de.conforms=Se,de.constant=Ie,de.countBy=Df,de.create=gU,de.curry=ag,de.curryRight=Jb,de.debounce=hu,de.defaults=yU,de.defaultsDeep=fC,de.defer=ol,de.delay=og,de.difference=_r,de.differenceBy=Us,de.differenceWith=ec,de.drop=AE,de.dropRight=TE,de.dropRightWhile=Kk,de.dropWhile=_2,de.fill=oa,de.filter=LE,de.flatMap=P2,de.flatMapDeep=Jk,de.flatMapDepth=eU,de.flatten=Os,de.flattenDeep=EE,de.flattenDepth=su,de.flip=rU,de.flow=nt,de.flowRight=We,de.fromPairs=Td,de.functions=mC,de.functionsIn=lx,de.groupBy=BE,de.initial=A2,de.intersection=al,de.intersectionBy=CE,de.intersectionWith=mf,de.invert=gC,de.invertBy=yC,de.invokeMap=Yb,de.iteratee=Lt,de.keyBy=WE,de.keys=gi,de.keysIn=Ci,de.map=ig,de.mapKeys=xU,de.mapValues=wU,de.matches=Mt,de.matchesProperty=Qn,de.memoize=lg,de.merge=_U,de.mergeWith=mg,de.method=Ue,de.methodOf=Ne,de.mixin=Pe,de.negate=cg,de.nthArg=ln,de.omit=cx,de.omitBy=Y2,de.once=ZE,de.orderBy=zE,de.over=Rt,de.overArgs=QE,de.overEvery=It,de.overSome=Ni,de.partial=I2,de.partialRight=ex,de.partition=qE,de.pick=SU,de.pickBy=jf,de.property=Cn,de.propertyOf=yu,de.pull=RE,de.pullAll=yf,de.pullAllBy=jE,de.pullAllWith=Gb,de.pullAt=kE,de.range=RU,de.rangeRight=Nte,de.rearg=JE,de.reject=Kb,de.remove=Zk,de.rest=eC,de.reverse=T2,de.sampleSize=XE,de.set=vC,de.setWith=bC,de.shuffle=ir,de.slice=Hn,de.sortBy=YE,de.sortedUniq=vf,de.sortedUniqBy=E2,de.split=px,de.spread=iU,de.tail=nc,de.take=Wr,de.takeRight=ou,de.takeRightWhile=Ed,de.takeWhile=C2,de.tap=U2,de.throttle=$2,de.thru=Yi,de.toArray=ua,de.toPairs=K2,de.toPairsIn=Z2,de.toPath=Ote,de.toPlainObject=dC,de.transform=Q2,de.unary=B2,de.union=Ba,de.unionBy=bf,de.unionWith=ng,de.uniq=Ms,de.uniqBy=N2,de.uniqWith=R2,de.unset=xC,de.unzip=xf,de.unzipWith=rg,de.update=ux,de.updateWith=AU,de.values=kf,de.valuesIn=J2,de.without=lu,de.words=j,de.wrap=sU,de.xor=Fi,de.xorBy=cu,de.xorWith=wf,de.zip=_f,de.zipObject=j2,de.zipObjectDeep=k2,de.zipWith=UE,de.entries=K2,de.entriesIn=Z2,de.extend=hC,de.extendWith=ox,Pe(de,de),de.add=Pte,de.attempt=F,de.camelCase=wC,de.capitalize=hx,de.ceil=Fte,de.clamp=e_,de.clone=ug,de.cloneDeep=tC,de.cloneDeepWith=fn,de.cloneWith=oU,de.conformsTo=W2,de.deburr=ic,de.defaultTo=Qe,de.divide=Lte,de.endsWith=pu,de.eq=Ps,de.escape=mu,de.escapeRegExp=gg,de.every=FE,de.find=IE,de.findIndex=$a,de.findKey=Cf,de.findLast=M2,de.findLastIndex=S2,de.findLastKey=hg,de.floor=Ite,de.forEach=$E,de.forEachRight=F2,de.forIn=pC,de.forInRight=vU,de.forOwn=Nf,de.forOwnRight=fg,de.get=pg,de.gt=z2,de.gte=nC,de.has=X2,de.hasIn=Rf,de.head=tc,de.identity=$e,de.includes=Af,de.indexOf=D2,de.inRange=dx,de.invoke=bU,de.isArguments=rc,de.isArray=Gt,de.isArrayBuffer=tx,de.isArrayLike=pi,de.isArrayLikeObject=zr,de.isBoolean=lU,de.isBuffer=fu,de.isDate=rC,de.isElement=iC,de.isEmpty=nx,de.isEqual=Zn,de.isEqualWith=q2,de.isError=mi,de.isFinite=cU,de.isFunction=bo,de.isInteger=rx,de.isLength=Cd,de.isMap=ix,de.isMatch=H2,de.isMatchWith=uU,de.isNaN=sC,de.isNative=dU,de.isNil=hU,de.isNull=aC,de.isNumber=oC,de.isObject=Sr,de.isObjectLike=Rr,de.isPlainObject=Wa,de.isRegExp=sx,de.isSafeInteger=V2,de.isSet=lC,de.isString=ax,de.isSymbol=ps,de.isTypedArray=Tf,de.isUndefined=xo,de.isWeakMap=G2,de.isWeakSet=cC,de.join=tg,de.kebabCase=yg,de.last=Xi,de.lastIndexOf=gf,de.lowerCase=gu,de.lowerFirst=TU,de.lt=uC,de.lte=dg,de.max=$te,de.maxBy=Bte,de.mean=Wte,de.meanBy=zte,de.min=qte,de.minBy=Hte,de.stubArray=jU,de.stubFalse=kU,de.stubObject=Rte,de.stubString=jte,de.stubTrue=kte,de.multiply=Vte,de.nth=NE,de.noConflict=Je,de.noop=xt,de.now=Zb,de.pad=_C,de.padEnd=vg,de.padStart=EU,de.parseInt=SC,de.random=t_,de.reduce=HE,de.reduceRight=VE,de.repeat=fx,de.replace=DC,de.result=DU,de.round=Gte,de.runInContext=je,de.sample=GE,de.size=L2,de.snakeCase=CU,de.some=tU,de.sortedIndex=cr,de.sortedIndexBy=hn,de.sortedIndexOf=_n,de.sortedLastIndex=Vn,de.sortedLastIndexBy=la,de.sortedLastIndexOf=au,de.startCase=mx,de.startsWith=AC,de.subtract=Xte,de.sum=Yte,de.sumBy=Kte,de.template=bg,de.times=Ute,de.toFinite=ll,de.toInteger=Yt,de.toLength=cl,de.toLower=n_,de.toNumber=za,de.toSafeInteger=Ef,de.toString=Fn,de.toUpper=gx,de.trim=TC,de.trimEnd=NU,de.trimStart=yx,de.truncate=c,de.unescape=h,de.uniqueId=Mte,de.upperCase=g,de.upperFirst=A,de.each=$E,de.eachRight=F2,de.first=tc,Pe(de,function(){var v={};return Gi(de,function(D,k){Pn.call(de.prototype,k)||(v[k]=D)}),v}(),{chain:!1}),de.VERSION=r,ja(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){de[v].placeholder=de}),ja(["drop","take"],function(v,D){on.prototype[v]=function(k){k=k===t?1:fr(Yt(k),0);var z=this.__filtered__&&!D?new on(this):this.clone();return z.__filtered__?z.__takeCount__=xr(k,z.__takeCount__):z.__views__.push({size:xr(k,Y),type:v+(z.__dir__<0?"Right":"")}),z},on.prototype[v+"Right"]=function(k){return this.reverse()[v](k).reverse()}}),ja(["filter","map","takeWhile"],function(v,D){var k=D+1,z=k==L||k==B;on.prototype[v]=function(re){var pe=this.clone();return pe.__iteratees__.push({iteratee:Ot(re,3),type:k}),pe.__filtered__=pe.__filtered__||z,pe}}),ja(["head","last"],function(v,D){var k="take"+(D?"Right":"");on.prototype[v]=function(){return this[k](1).value()[0]}}),ja(["initial","tail"],function(v,D){var k="drop"+(D?"":"Right");on.prototype[v]=function(){return this.__filtered__?new on(this):this[k](1)}}),on.prototype.compact=function(){return this.filter($e)},on.prototype.find=function(v){return this.filter(v).head()},on.prototype.findLast=function(v){return this.reverse().find(v)},on.prototype.invokeMap=Qt(function(v,D){return typeof v=="function"?new on(this):this.map(function(k){return vd(k,v,D)})}),on.prototype.reject=function(v){return this.filter(cg(Ot(v)))},on.prototype.slice=function(v,D){v=Yt(v);var k=this;return k.__filtered__&&(v>0||D<0)?new on(k):(v<0?k=k.takeRight(-v):v&&(k=k.drop(v)),D!==t&&(D=Yt(D),k=D<0?k.dropRight(-D):k.take(D-v)),k)},on.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},on.prototype.toArray=function(){return this.take(Y)},Gi(on.prototype,function(v,D){var k=/^(?:filter|find|map|reject)|While$/.test(D),z=/^(?:head|last)$/.test(D),re=de[z?"take"+(D=="last"?"Right":""):D],pe=z||/^find/.test(D);re&&(de.prototype[D]=function(){var _e=this.__wrapped__,Ce=z?[1]:arguments,Oe=_e instanceof on,tt=Ce[0],rt=Oe||Gt(_e),ot=function(xn){var Nn=re.apply(de,Wl([xn],Ce));return z&&vt?Nn[0]:Nn};rt&&k&&typeof tt=="function"&&tt.length!=1&&(Oe=rt=!1);var vt=this.__chain__,Nt=!!this.__actions__.length,qt=pe&&!vt,cn=Oe&&!Nt;if(!pe&&rt){_e=cn?_e:new on(this);var Ht=v.apply(_e,Ce);return Ht.__actions__.push({func:Yi,args:[ot],thisArg:t}),new Cs(Ht,vt)}return qt&&cn?v.apply(this,Ce):(Ht=this.thru(ot),qt?z?Ht.value()[0]:Ht.value():Ht)})}),ja(["pop","push","shift","sort","splice","unshift"],function(v){var D=cb[v],k=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",z=/^(?:pop|shift)$/.test(v);de.prototype[v]=function(){var re=arguments;if(z&&!this.__chain__){var pe=this.value();return D.apply(Gt(pe)?pe:[],re)}return this[k](function(_e){return D.apply(Gt(_e)?_e:[],re)})}}),Gi(on.prototype,function(v,D){var k=de[D];if(k){var z=k.name+"";Pn.call(Pa,z)||(Pa[z]=[]),Pa[z].push({name:D,func:k})}}),Pa[Br(t,S).name]=[{name:"wrapper",func:t}],on.prototype.clone=Am,on.prototype.reverse=fb,on.prototype.value=fd,de.prototype.at=OE,de.prototype.chain=ca,de.prototype.commit=ME,de.prototype.next=PE,de.prototype.plant=uu,de.prototype.reverse=Xb,de.prototype.toJSON=de.prototype.valueOf=de.prototype.value=O2,de.prototype.first=de.prototype.head,cd&&(de.prototype[cd]=Qk),de},Xc=Zh();qc?((qc.exports=Xc)._=Xc,Hh._=Xc):Kr._=Xc}).call(YCe)}(Q_,Q_.exports)),Q_.exports}var uS=KCe();const ZCe=({setShowSettings:n,setShowPlans:e})=>{const{id:t}=V1(),{user:r,userData:i}=kt(),s=Fr(),[a,o]=C.useState(null),[l,u]=C.useState([]),[f,p]=C.useState([]),[m,y]=C.useState(!0),[b,x]=C.useState(null),[w,S]=C.useState(!1),[T,E]=C.useState(!1),[R,N]=C.useState(!1);C.useEffect(()=>{if(!t||!r){y(!1);return}y(!0),(async()=>{try{const M=await Cv(t);if(!M)return;if((i==null?void 0:i.id)!==M.userId){y(!1);return}o(M),N(await Yve(M==null?void 0:M.id));const P=await Pl(i==null?void 0:i.id,t);x(P);const H=await iY(t);p(H||[]);const X=await sY(t);u(X||[])}catch(M){console.error("Failed to fetch character data:",M)}finally{y(!1)}})()},[t,i==null?void 0:i.id]);const U=Mh({enableReinitialize:!0,initialValues:{photo:null,characterName:(a==null?void 0:a.name)??"",shortDescription:(a==null?void 0:a.shortDescription)??"",personality:(a==null?void 0:a.personality)??"",storyText:(a==null?void 0:a.context)??"",visibility:typeof(a==null?void 0:a.isPublic)=="boolean"&&a.isPublic?"public":"private",fandoms:l,tags:f,restriction:(a==null?void 0:a.restriction)??Un.TEEN_AND_UP,allowCloning:(a==null?void 0:a.allowCloning)??!0},onSubmit:async(O,{setSubmitting:M})=>{if(a)try{const P={name:O.characterName,shortDescription:O.shortDescription,personality:O.personality,context:O.storyText,isPublic:O.visibility==="public",restriction:O.restriction,allowCloning:O.visibility==="public"?O.allowCloning:!0};if(await nY(a.id,P),o(I=>I&&{...I,...P}),O.photo&&r){const I=await Lce(O.photo,r.id,a.id);x(I)}if(!uS.isEqual(O.fandoms,U.initialValues.fandoms)){for(const q of O.fandoms)(await O3(q)).some(te=>te.toLowerCase()===q.toLowerCase())?l.includes(q)||await HR(q,a.id):(await U3(q),await HR(q,a.id));const I=l.filter(q=>!O.fandoms.includes(q));for(const q of I)await e2e(q,a.id)}if(!uS.isEqual(O.tags,U.initialValues.tags)){for(const q of O.tags)(await VA(q)).some(te=>te.toLowerCase()===q.toLowerCase())?f.includes(q)||await VR(q,a.id):(await M3(q),await VR(q,a.id));const I=f.filter(q=>!O.tags.includes(q));for(const q of I)await i2e(q,a.id)}}catch{}finally{M(!1)}}});return C.useEffect(()=>{if(U.values.photo){const O=URL.createObjectURL(U.values.photo);return x(O),()=>URL.revokeObjectURL(O)}else x(null)},[U.values.photo]),m?d.jsxs("div",{className:`flex flex-col min-h-screen ${_t}`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx("div",{className:"container mx-auto py-8 flex justify-center",children:d.jsx("div",{className:`h-24 w-24 rounded-full ${Bo} animate-pulse`})})]}):!a||!r?d.jsxs("div",{className:`flex flex-col min-h-screen ${_t}`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx("div",{className:"container mx-auto py-8 text-center",children:d.jsx("h1",{className:"text-2xl font-bold",children:"No character found"})})]}):d.jsxs("div",{className:`flex flex-col min-h-screen ${_t} relative`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsxs("div",{className:"container mx-auto py-8 pt-0",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("button",{onClick:()=>s(`/profile/${a.userName}`),className:`p-2 ${Dn} rounded-full`,children:d.jsx(Oj,{className:`h-8 w-8 ${Be}`})}),d.jsxs(Nc,{open:w,onOpenChange:O=>S(O),children:[d.jsx(Rc,{asChild:!0,children:d.jsxs(ct,{onClick:()=>S(!0),className:`flex items-center px-4 ${Bo} rounded-full ${Xe} hover:text-red-800 hover:bg-red-200/80`,children:[d.jsx(nq,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:"Delete Persoa"})]})}),d.jsx(Nl,{side:"bottom",align:"center",className:`w-64 p-4 text-center mr-8 ${Pt(i==null?void 0:i.theme)}`,children:T?d.jsxs("div",{className:"flex flex-col items-center justify-center",children:[d.jsx(yr,{className:"animate-spin h-6 w-6"}),d.jsx("p",{className:"mt-2 text-sm",children:"Deleting..."})]}):d.jsxs("div",{className:"flex flex-col space-y-4",children:[d.jsx("p",{className:"text-sm",children:"Are you sure you want to delete this Persoa?"}),d.jsxs("div",{className:"flex justify-end space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>S(!1),className:`px-3 py-1 text-sm text-black rounded-full ${$t} hover:bg-zinc-400`,children:"Cancel"}),d.jsx(ct,{onClick:async()=>{E(!0);try{await Vve(a.id),S(!1),s(`/profile/${a.userName}`)}catch{E(!1)}},className:"px-3 py-1 text-sm text-red-400 bg-red-100 rounded-full hover:bg-red-200 hover:text-red-500",children:"Delete"})]})]})})]})]}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(Ak,{photoURL:b??void 0,name:U.values.characterName,onPhotoChange:O=>U.setFieldValue("photo",O),allowEdit:!0,className:"h-28 w-28"}),d.jsxs("form",{onSubmit:U.handleSubmit,className:"w-full max-w-lg mt-8",children:[d.jsxs("div",{className:"space-y-6 overflow-y-auto max-h-[calc(100vh-310px)] pr-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center",children:d.jsx(Er,{labelText:"Persoa Name",infoText:`Use the precise name of the character from your story or a
                      brief description.`})}),d.jsx(lr,{id:"characterName",name:"characterName",type:"text",onChange:U.handleChange,value:U.values.characterName,maxLength:$o,className:"mt-1 w-full bg-transparent border border-input"}),d.jsxs("div",{className:`text-right text-sm ${Be}`,children:[U.values.characterName.length,"/",$o]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center",children:d.jsx(Er,{labelText:"Visiblity",infoText:R?"Characters attached to stories must be public.":"Choose who can see your persoa."})}),d.jsxs(Rl,{value:U.values.visibility,onValueChange:O=>U.setFieldValue("visibility",O),disabled:R,children:[d.jsx(kl,{className:`mt-1 w-full border border-input ${_t} ${Be}`,children:d.jsx(jl,{placeholder:"Select visibility"})}),d.jsx(Ho,{className:Pt(i==null?void 0:i.theme),children:d.jsxs(fv,{children:[d.jsx(Mr,{value:"public",children:"Public"}),d.jsx(Mr,{value:"private",children:"Private"})]})})]},U.values.visibility)]}),U.values.visibility=="public"&&a.cloneOfId==null&&d.jsxs("div",{className:"flex items-center",children:[d.jsx("label",{htmlFor:"allowCloning",className:`block text-sm font-medium mr-4 ${it}`,children:"Cloning"}),d.jsx(Ete,{id:"allowCloning",checked:U.values.allowCloning,onCheckedChange:O=>U.setFieldValue("allowCloning",O)}),d.jsxs(Nc,{children:[d.jsx(Rc,{asChild:!0,children:d.jsx("button",{type:"button",className:"ml-2",children:d.jsx(fS,{className:"w-4 h-4 text-[hsl(var(--text-light))] hover:text-[hsl(var(--text-light))]"})})}),d.jsx(Nl,{side:"right",sideOffset:8,className:`w-48 p-2 text-sm ${Pt(i==null?void 0:i.theme)} shadow-xl rounded-xl`,children:"Allow users to make a new character variant based on your original character story."})]})]}),d.jsxs("div",{children:[d.jsx(Er,{labelText:"Restriction",infoText:"Content intended for Teen and up will limit explicit violence, profanity, and similar elements."}),d.jsxs(Rl,{name:"restriction",value:U.values.restriction,onValueChange:O=>U.setFieldValue("restriction",O),children:[d.jsx(kl,{className:`w-full mt-1 border border-input ${_t} ${Be} cursor-pointer`,children:d.jsx(jl,{placeholder:"None"})}),d.jsx(Ho,{className:Pt(i==null?void 0:i.theme),children:d.jsxs(fv,{children:[d.jsx(Mr,{value:"teen",children:"Teen and up"}),!jc(i==null?void 0:i.dateOfBirth)&&d.jsx(Mr,{value:"mature",children:"Mature"})]})})]})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex items-center",children:d.jsx(Er,{labelText:"Description",infoText:"Provide a one-liner describing your character."})}),d.jsx(lr,{id:"shortDescription",name:"shortDescription",type:"text",onChange:U.handleChange,value:U.values.shortDescription,maxLength:Zu,className:"mt-1 w-full bg-transparent border border-input"}),d.jsxs("div",{className:`text-right text-sm ${Be}`,children:[U.values.shortDescription.length,"/",Zu]})]}),d.jsxs("div",{children:[d.jsx(Er,{labelText:"Personality & Quirks",infoText:`Provide personality traits and quirks essential to your
                    character`}),d.jsx(lr,{id:"personality",name:"personality",type:"text",onChange:U.handleChange,value:U.values.personality,maxLength:KP,className:`mt-1 w-full bg-transparent border border-input ${Be}`}),d.jsxs("div",{className:`text-right text-sm ${Be}`,children:[U.values.personality.length,"/",KP]})]}),d.jsxs("div",{children:[d.jsx(Er,{labelText:"Fandom(s)",infoText:"The name(s) of the fandom(s) to which your work belongs. Full names, rather than abbreviations, are preferred."}),d.jsx(HA,{selectedFandoms:U.values.fandoms,onChange:O=>U.setFieldValue("fandoms",O),transparentBackground:!0}),d.jsx(Er,{labelText:"Tags",infoText:"Add tags to further describe your story. Select from recommended tags or create your own."}),d.jsx(GA,{selectedTags:U.values.tags,onChange:O=>U.setFieldValue("tags",O),transparentBackground:!0})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("label",{htmlFor:"storyText",className:`block text-sm font-medium ${Be}`,children:"Story Text"}),d.jsxs(Nc,{children:[d.jsx(Rc,{asChild:!0,children:d.jsx("button",{type:"button",className:"ml-2",children:d.jsx(fS,{className:"w-4 h-4"})})}),d.jsx(Nl,{side:"right",sideOffset:8,className:`w-48 p-2 text-sm ${Pt(i==null?void 0:i.theme)} shadow-xl rounded-xl`,children:"Add a detailed narrative or background for your character."})]})]}),d.jsx(io,{id:"storyText",name:"storyText",onChange:U.handleChange,value:U.values.storyText,placeholder:"Enter story text...",maxLength:AS,className:`mt-1 w-full h-40 ${Be} bg-transparent border-input`}),d.jsxs("div",{className:`text-right text-sm ${Be}`,children:[U.values.storyText.length,"/",AS]})]})]}),d.jsx("div",{className:"flex justify-center mt-2",children:d.jsx(ct,{type:"submit",disabled:!U.dirty||U.isSubmitting,className:`px-6 py-2 rounded-full ${!U.dirty||U.isSubmitting?`${Bo} ${Xe} cursor-not-allowed`:`${ti} ${ri} ${ni}`}`,children:U.isSubmitting?d.jsx(yr,{className:"animate-spin h-6 w-6"}):"Save changes"})})]})]})]})]})},Cte=()=>{const{setOpen:n}=In();return C.useEffect(()=>n(!1),[]),d.jsxs("div",{className:`flex flex-col items-center justify-center h-screen ${_t}`,children:[d.jsxs("h1",{className:`text-4xl font-bold ${Be}`,children:[d.jsx("img",{rel:"icon",className:"h-8 mr-2 inline-block",src:"/Persoa_Logo.png"}),d.jsx("span",{className:`${Be}`,children:"persoa.ai"})]}),d.jsx("div",{className:"mt-6 w-10 h-10 border-4 border-t-[#d9d6d0] border-t-text-[#6e695d] rounded-full animate-spin"})]})},QCe=({setShowSettings:n,setShowPlans:e})=>{const{user:t,userData:r,loading:i}=kt(),{id:s}=V1(),a=Fr(),{summarizeFiles:o,summarizeText:l,loading:u}=vk(),[f,p]=C.useState(void 0),[m,y]=C.useState([]),[b,x]=C.useState([]),[w,S]=C.useState(i),[T,E]=C.useState(!1),[R,N]=C.useState(!1);if(C.useEffect(()=>{(async()=>{if(s)try{const P=await Cv(s);if(P){const H=await Pl(P.userId,s)??void 0;p({...P,photo:H});const X=await iY(s);x(X||[]);const I=await sY(s);y(I||[])}else a("/character/new")}catch{}finally{S(!1)}})()},[s,a]),w||!f)return d.jsx(Cte,{});const U={photo:null,characterName:f.name||"",uploadedFiles:[],storyText:"",visibility:"private",shortDescription:f.shortDescription||"",personality:f.personality||"",restriction:f.restriction||Un.TEEN_AND_UP,fandoms:m,tags:b},O=async M=>{if((r==null?void 0:r.plan)==="free"){N(!0);return}if(f.allowCloning)try{E(!0);let P=(t==null?void 0:t.id)||"",H=(t==null?void 0:t.user_metadata.full_name)||"";if(P){const B=await Xj(P);H=(B==null?void 0:B.username)||H}let X=f.context||"";M.storyText&&M.storyText.trim()&&(X+=`
`+M.storyText),M.uploadedFiles&&M.uploadedFiles.length>0&&(X=await o(f.name||"",f.shortDescription||"",M.uploadedFiles)+`
`+X),X.length>AS&&(X=await l(M.characterName,M.shortDescription,X));const I={name:M.characterName,shortDescription:M.shortDescription,personality:M.personality,restriction:M.restriction,fandoms:M.fandoms,tags:M.tags,context:X,isPublic:M.visibility==="public",userId:P,userName:H,chatCount:0,likeCount:0},q=await tY({...I,cloneOfId:f.id||"",allowCloning:!1});M.photo&&(t!=null&&t.id)&&await y4(M.photo,t==null?void 0:t.id,q.id);for(const B of M.fandoms)(await O3(B)).some(se=>se.toLowerCase()===B.toLowerCase())||await U3(B),await HR(B,q.id);for(const B of M.tags)(await VA(B)).some(se=>se.toLowerCase()===B.toLowerCase())||await M3(B),await VR(B,q.id);const L={userId:P,characterId:q.id,characterName:I.name},te=await $A(L);a(`/chat/${te.id}`)}catch{}finally{E(!1)}};return d.jsxs("div",{className:`min-h-screen ${Cr} pt-0.5`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx("div",{className:"flex justify-center overflow-auto px-4",children:d.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 w-full max-w-[1000px] bg-[hsl(var(--background-paper))] rounded-2xl shadow-xl p-10",children:[d.jsxs("div",{className:`flex justify-center mb-4 ${Xe}`,children:[d.jsx("h2",{className:"text-xl",children:"You are creating a new variant of"}),d.jsx("span",{children:d.jsxs(An,{className:"w-8 h-8 rounded-full ml-3 mr-2",children:[d.jsx(Mn,{src:f.photo}),d.jsx(Bn,{className:"text-sm",children:dr(f.name)})]})}),d.jsx("span",{className:"text-xl font-bold",children:f.name})]}),d.jsx(hte,{initialValues:U,validationSchema:cte,onSubmit:O,submitButtonText:"Create Clone",loading:u||T})]})}),r&&d.jsx(x3,{onClose:()=>N(!1),isOpen:R})]})},hN=30,JCe=({setShowSettings:n,setShowPlans:e})=>{const t=Fr(),{user:r,userData:i}=kt(),{chats:s}=Sk(),{isMobile:a}=In(),o=C.useMemo(()=>s.filter(te=>"characterId"in te),[s]),[l,u]=C.useState([]),[f,p]=C.useState(""),[m,y]=C.useState(null),[b,x]=C.useState(null),[w,S]=C.useState(!0),T={groupChatName:""},E=lm().shape({groupChatName:os().required("Group chat name is required").max(hN,`Group chat name cannot exceed ${hN} characters`)}),N=Mh({enableReinitialize:!0,initialValues:T,validationSchema:E,onSubmit:async te=>{if(r!=null&&r.id&&l.length!==0){if(l.length===1){tv(t,l[0]);return}try{const B=l.map(se=>se.id),W=await XL({userId:r==null?void 0:r.id,name:te.groupChatName,characterIds:B,responseLength:(i==null?void 0:i.plan)==="premium"?"moderate":"short"});t(`/groupchat/${W.id}`)}catch(B){throw B}}},validateOnChange:!1,validateOnBlur:!1}),U=12,[O,M]=C.useState(1);C.useEffect(()=>{document.title="persoa.ai | Write it, Live it"},[]),C.useEffect(()=>{(async()=>{S(!0);try{const B=await YL(f,120,jc(i==null?void 0:i.dateOfBirth));y(B)}catch(B){throw B}finally{S(!1)}})(),M(1)},[f]),C.useEffect(()=>{async function te(){S(!0);try{const B=await Promise.all(o.map(async K=>{const G=await Cv(K.characterId);if(G){const Y=await Pl(G==null?void 0:G.userId,G==null?void 0:G.id)||void 0;return{...G,photo:Y}}return G})),W=new Map;B.forEach(K=>{W.has(K==null?void 0:K.id)||W.set(K==null?void 0:K.id,K)});const se=Array.from(W.values());x(se)}catch(B){console.error("Failed to load characters from recent chats.",B)}finally{S(!1)}}te()},[s]);const P=f.length>0?m:b,H=(P==null?void 0:P.length)||0,X=Math.ceil(H/U),I=P?P.slice((O-1)*U,O*U):[],q=te=>{l.find(B=>B.id===te.id)||l.length>=20||u(B=>[...B,te])},L=te=>{u(B=>B.filter(W=>W.id!==te))};return d.jsxs("div",{className:`flex flex-col flex-h-screen min-h-screen ${_t}`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsxs("div",{className:"p-4 w-full mx-auto",children:[" ",d.jsxs("form",{onSubmit:N.handleSubmit,className:"space-y-8",children:[d.jsxs("div",{className:"flex-1 mb-6 max-w-3xl mx-auto mt-1",children:[d.jsx(Er,{labelText:"Group chat name",infoText:"Create a name or phrase to call your group chat"}),d.jsx(lr,{id:"groupChatName",name:"groupChatName",type:"text",placeholder:"E.g. Sherlock Holmes and Friends",onChange:N.handleChange,value:N.values.groupChatName,maxLength:hN,className:`${_t} mt-1 w-full rounded-lg shadow-sm p-2 transition-all duration-300 hover:shadow-md focus:ring-1 focus:ring-zinc-200 focus:outline-none focus:border-zinc-300`}),d.jsxs("div",{className:`text-xs ${Be} mt-1 text-right`,children:[N.values.groupChatName.length,"/",hN]}),N.errors.groupChatName&&N.submitCount>0&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:N.errors.groupChatName})]}),d.jsxs("div",{className:"mb-6 max-w-3xl mx-auto",children:[d.jsx(Er,{labelText:"Group members",infoText:"Select characters from your recent chats or by searching below."}),d.jsx("div",{className:`border ${Xe} mt-2 p-2 min-h-12 rounded-md w-360`,children:d.jsx(W8,{children:l.map(te=>d.jsxs(L1,{children:[te.name,d.jsx(z8,{onClick:()=>L(te.id)})]},te.id))})}),d.jsxs("div",{className:`text-xs ${Be} mt-1 text-right`,children:[l.length,"/",20]})]}),d.jsx("div",{className:"text-center",children:d.jsxs(ct,{type:"submit",disabled:l.length===0,className:`px-4 py-2 rounded-full font-semibold ${l.length===0?`${Xe} ${Bo} cursor-not-allowed`:`${ti} ${ri} ${ni}`}`,children:[d.jsx(Hre,{}),d.jsx("span",{children:"Create Group"})]})})]})]}),d.jsxs("div",{className:"m-8",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("h2",{className:`text-lg font-semibold ${Be}`,children:f.length>0?"Search Results":"Recent Chats"}),d.jsx(P1,{className:"max-w-[610px] w-full",showPopover:!1,value:f,onValueChange:te=>p(te),handleKeyDown:()=>{}})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:w?Array.from({length:U}).map((te,B)=>d.jsx(ba,{},B)):I.length>0?I.map(te=>d.jsx("div",{children:d.jsx(rv,{name:a?te.restriction===Un.MATURE?kn(te.name,22):kn(te.name,17):kn(te.name,25),imagePath:te.photo,description:te.shortDescription,userName:te.userName,isMature:te.restriction===Un.MATURE,onClick:()=>q(te),chatCount:te.chatCount,likeCount:te.likeCount})},te.id)):d.jsx("div",{className:"p-4 text-sm col-span-3",children:"No characters found."})})]}),X>1&&!w&&d.jsx("div",{className:"flex justify-center mb-6",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{onClick:()=>M(te=>Math.max(1,te-1)),className:`px-3 py-1 ${_t} rounded`,children:"Prev"}),Array.from({length:X},(te,B)=>d.jsx("button",{onClick:()=>M(B+1),className:`px-3 py-1 rounded ${O===B+1?`${ti} ${ri} ${ni}`:`${_t} ${Xe}`}`,children:B+1},B+1)),d.jsx("button",{onClick:()=>M(te=>Math.min(X,te+1)),className:`px-3 py-1 ${_t} ${Xe} rounded`,children:"Next"})]})})]})},Ff=({children:n})=>{const{user:e,loading:t}=kt();return t?d.jsx(Cte,{}):e?n:d.jsx(Fz,{to:"/login",replace:!0})},fz=n=>({role:n.characterId?Xt.MODEL:Xt.USER,parts:[{text:n.content}]}),eNe=n=>{const{user:e,userData:t,accessToken:r,refreshToken:i}=kt(),[s,a]=C.useState(null),[o,l]=C.useState({}),[u,f]=C.useState([]),[p,m]=C.useState([]),[y,b]=C.useState(null),[x,w]=C.useState(!1),[S,T]=C.useState(""),[E,R]=C.useState(!0),[N,U]=C.useState(!0),[O,M]=C.useState(void 0),[P,H]=C.useState(null),[X,I]=C.useState([]),[q,L]=C.useState("speedy"),[te,B]=C.useState(!0),[W,se]=C.useState(!1),[K,G]=C.useState(null),Y=C.useRef(n),ne=C.useRef(!1),le=O?O.name:P?P.name:t==null?void 0:t.displayName,xe=O&&(O==null?void 0:O.background.length)>0?"This is "+O.name+`'s background:
`+O.background+`
`:P?"This is "+P.name+`'s background:
`+P.shortDescription+`
`+P.context:"",we=(()=>{switch(s==null?void 0:s.responseLength){case"short":return"in 2 sentences";case"moderate":return"in 5 sentences";case"long":return"in 8 sentences";default:return"in 2 sentences"}})();return C.useEffect(()=>{Y.current=n},[n]),C.useEffect(()=>{(async()=>{if(!(!n||!(e!=null&&e.id)))try{R(!0),G("new");const $=await mTe(n);if(!$){a(null);return}a($);const[ge,ve,ae,ce,ye]=await Promise.all([$.personaId?kee($.personaId).catch(ke=>{console.error("Error fetching persona:",ke)}):Promise.resolve(void 0),$.storyPersonaId?TS($.storyPersonaId).catch(ke=>(console.error("Error fetching story persona:",ke),null)):Promise.resolve(null),bTe(n),CW(n),$.characterIds?(async()=>{U(!0);const ke={};try{return await Promise.all($.characterIds.map(async be=>{try{const J=await Cv(be);if(J){const Q=(J.userId&&await Pl(J.userId,be))??void 0;ke[J.id]={...J,photo:Q}}}catch(J){console.error(`Error fetching character ${be}:`,J)}})),ke}catch(be){return console.error("Error fetching characters:",be),{}}})():Promise.resolve({})]);M(ge),H(ve),I(ae),f(ce),l(ye),B(ce.length>=50)}catch($){console.error("Error fetching group chat data:",$),a(null)}finally{R(!1),U(!1)}})()},[n,e==null?void 0:e.id]),C.useEffect(()=>{(async()=>{if(!ne.current&&!E&&!N&&Math.floor(u.length/20)>X.length){ne.current=!0;const $=u.slice(-10).map(ae=>{var ce;return`${ae.characterId?(ce=o[ae.characterId])==null?void 0:ce.name:le}: ${ae.content}`}).join(`
`),ge=(t==null?void 0:t.plan)==="free"?"You must fit it into 1 concise sentence.":"You must fit it into 3 concise sentences.",ve={accessToken:r,refreshToken:i,chatId:n,isGroupChat:!0,messages:[{role:"user",parts:[{text:$}]},{role:"user",parts:[{text:"Given the following conversation, extract a vital summary that is essential for recalling the conversation and setting in the form of an outside narrator and using names rather than 'they', 'he', and 'she' "+ge}]}]};try{const ae=await fetch(`${mr}/generate-memory`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ve)});if(!ae.ok)throw await ae.text();const ye=(await ae.json()).memory;ye.memory&&ye.memory.trim()!==""&&I(ke=>[...ke,ye])}catch(ae){throw ae}finally{ne.current=!1}}})()},[u.length,E]),{groupChat:s,setGroupChat:a,loading:E||N,characters:o,chatMessages:u,errorMessages:p,characterInProgress:y,sceneChangeInProgress:x,handleGenerate:async(st,$)=>{var ke;b(st),G("new");const ge=st&&st.restriction===Un.TEEN_AND_UP?"Your response should never include explicit violence, profanity, nor sexual elements.":"You may include explicit violence, profanity, and sexual elements if it fits the character or storyline.",ve=$?`
 Avoid saying anything similar to this: `+$:"",ae={role:"user",parts:[{text:"We are doing a fictional roleplay between multiple characters. Your name is "+st.name+". Act only as "+st.name+"but don't start the response with '"+st.name+":'. All responses should be as "+st.name+" with a realistic dialogue and tone to your background and estimated age. All responses in the group chat should be "+we+" You are speaking in a group with "+le+" and others and responding to the conversation. "+xe+"Your response should always be short length. Do not simply chat; Narrate scenes with vivid detail, capturing the atmosphere, emotions, and movement around you. Include dialogue in first POV, as if you are part of a novel. Stay deeply in character, using a style that matches your personality and world. "+ge+"Your background as "+st.name+" is "+st.shortDescription+" "+st.context+ve}]},ye=[...((t==null?void 0:t.plan)!=="free"?u.slice(-25):u.slice(-10)).map(be=>{var Q;const J=be.characterId?(Q=o[be.characterId])==null?void 0:Q.name:"";return fz({...be,content:J?`${J}: ${be.content}`:`${le}: ${be.content}`})}),ae];try{const be=await fetch(`${mr}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:r,refreshToken:i,chatId:n,userId:t==null?void 0:t.id,characterId:st.id,messages:ye,isGroupChat:!0,modelName:q})});if(!be.ok){const Ge=await be.text();throw console.error("Error generating chat response:",Ge),new Error("Failed to generate chat response")}if(be.headers.get("X-Chat-Id")!==Y.current){console.warn("Response does not belong to the current chat, ignoring update.");return}const Q=(ke=be.body)==null?void 0:ke.getReader(),ue=new TextDecoder;let me=!1,Ae="";const Fe="temp-"+new Date().toISOString();for(f(Ge=>[...Ge,{id:Fe,chatId:n,userId:e==null?void 0:e.id,characterId:st.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),content:"",isNarrator:!1}]),b(null);!me;){const{value:Ge,done:at}=await Q.read();me=at;const ut=ue.decode(Ge);if(ut.startsWith("[DONE]")){const Te=ut.substring(6);if(Te==="{}")break;try{const He=JSON.parse(Te);f(et=>et.map(ht=>ht.id===Fe?He:ht))}catch(He){console.error("Error parsing final message:",He)}break}Ae+=ut,f(Te=>Te.map(He=>He.id===Fe?{...He,content:Ae}:He))}}catch{m(J=>[...J,{content:"handleGenerate error",chatId:n,userId:e==null?void 0:e.id,characterId:st.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNarrator:!1}])}},handleGenerateSceneChange:async()=>{var ve;w(!0),G("new");const st=u.slice(-10),$={role:"user",parts:[{text:"Based on the previous conversation, please respond with 1 sentence that narrates a scene change in third person, ensuring it makes sense given the prior context."}]},ge=[...st.map(ae=>{var ye;const ce=ae.characterId?(ye=o[ae.characterId])==null?void 0:ye.name:"";return fz({...ae,content:ce?`${ce}: ${ae.content}`:`${le}: ${ae.content}`})}),$];try{const ae=await fetch(`${mr}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({accessToken:r,refreshToken:i,chatId:n,userId:t==null?void 0:t.id,messages:ge,isGroupChat:!0,role:"narrator"})});if(!ae.ok){const ue=await ae.text();throw console.error("Error generating scene change:",ue),new Error("Failed to generate scene change")}if(ae.headers.get("X-Chat-Id")!==Y.current){w(!1);return}const ye=(ve=ae.body)==null?void 0:ve.getReader(),ke=new TextDecoder;let be=!1,J="";const Q="temp-"+new Date().toISOString();for(f(ue=>[...ue,{id:Q,chatId:n,userId:e==null?void 0:e.id,role:Xt.NARRATOR,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),content:"",isNarrator:!0}]);!be;){const{value:ue,done:me}=await ye.read();be=me;const Ae=ke.decode(ue);if(Ae.startsWith("[DONE]")){const Fe=Ae.substring(6);if(Fe==="{}")break;try{const Ge=JSON.parse(Fe);Ge.isNarrator=!0,f(at=>at.map(ut=>ut.id===Q?Ge:ut))}catch(Ge){console.error("Error parsing final message:",Ge)}break}J+=Ae,f(Fe=>Fe.map(Ge=>Ge.id===Q?{...Ge,content:J,isNarrator:!0}:Ge))}}catch(ae){m(ce=>[...ce,{id:"error-scene-change",content:ae.toString(),chatId:n,userId:e==null?void 0:e.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNarrator:!1}])}finally{w(!1)}},handleSubmit:async()=>{if(y||!(e!=null&&e.id))return;const st=S.trim();if(st==="")return;G("new");const $={id:"",chatId:n,userId:e.id,content:st,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNarrator:!1};f(ge=>[...ge,$]),T(""),await TF($)},handleDeleteMessage:async st=>{try{await vTe(n,st),f($=>$.filter(ge=>ge.id!==st))}catch{m(ge=>[...ge,{id:"error-delete",role:Xt.ERROR,content:"Failed to delete message.",chatId:n,userId:e==null?void 0:e.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNarrator:!1}])}},inputValue:S,setInputValue:T,persona:O,storyPersona:P,setPersona:M,chatMemories:X,handleUpvoteMessage:async st=>{try{if(!(await fetch(`${mr}/upvote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({accessToken:r,refreshToken:i,messageId:st.id,chatId:st.chatId,userId:t==null?void 0:t.id})})).ok)throw new Error("Failed to upvote message")}catch($){console.error("Error upvoting message:",$)}},handleDownvoteMessage:async(st,$)=>{try{if(!(await fetch(`${mr}/downvote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({accessToken:r,refreshToken:i,messageId:st.id,chatId:st.chatId,userId:t==null?void 0:t.id,reason:$})})).ok)throw new Error("Failed to downvote message")}catch(ge){console.error("Error downvoting message:",ge)}},speedMode:q,setSpeedMode:L,hasMoreMessages:te,loadingEarlierMessages:W,loadEarlierMessages:async()=>{if(!(!n||!(e!=null&&e.id)||W||u.length===0))try{se(!0),G("earlier");const st=[...u].sort((ge,ve)=>new Date(ge.createdAt).getTime()-new Date(ve.createdAt).getTime())[0],$=await CW(n,{limit:50,before:st.createdAt});$.length>0&&f(ge=>[...$,...ge]),B($.length>=50)}catch(st){console.error("Error loading earlier messages:",st),m($=>[...$,{content:"Failed to load earlier messages",chatId:n,userId:e.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isNarrator:!1}])}finally{se(!1)}},messageChangeSource:K}},tNe=({onClose:n,chat:e,persona:t,storyPersona:r,setShowPersonaPopover:i,setShowCoreMemoriesPopover:s,setGroupChat:a})=>{const{userData:o}=kt(),[l,u]=C.useState((o==null?void 0:o.plan)=="premium"?e.responseLength||"moderate":"short"),f=async p=>{u(p),a({...e,responseLength:p}),await bk(e==null?void 0:e.id,{responseLength:p})};return d.jsx(Yj,{open:!0,onOpenChange:n,children:d.jsxs(EA,{className:`w-[400px] rounded-lg min-h-screen p-8 ${_t} overflow-visible ${Pt(o==null?void 0:o.theme)}`,children:[d.jsx(Kj,{className:"gap-2",children:d.jsx("div",{className:"flex items-start",children:d.jsx("div",{className:"ml-4 flex flex-col",children:d.jsx(Zj,{className:`font-semibold text-xl ${it}`,children:e.name})})})}),d.jsx("hr",{className:"my-4 mb-2"}),d.jsxs("div",{className:"my-8",children:[d.jsx(Xee,{label:"Response Length",isRestricted:(o==null?void 0:o.plan)!=="premium",restrictedMessage:"Upgrade your plan to access longer response lengths.",unrestrictedMessage:"Manage the length of this group chat's responses."}),d.jsx("div",{className:(o==null?void 0:o.plan)!=="premium"?"pointer-events-none opacity-50 mt-2":"mt-2",children:d.jsx(dw,{value:l,defaultValue:"short",onValueChange:async p=>await f(p),children:d.jsx(Iv,{className:"grid grid-cols-3",children:Yee.map(p=>d.jsx(ro,{value:p.value,children:p.label},p.value))})})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx(Er,{labelText:"Core Memories",infoText:`This is ${e.name}'s story plots, gained from long chat histories.`}),d.jsx("div",{className:"flex flex-row justify-between mt-4",children:d.jsxs(ct,{onClick:()=>s(!0),className:`rounded-full text-sm flex items-center
                ${Zt} ${wn} ${Be} 
                transition duration-300 hover:shadow-md`,children:[d.jsx(t4,{className:"w-6 h-6"}),d.jsx("span",{children:"View"})]})})]}),d.jsxs("div",{className:"mt-6",children:[d.jsx("div",{className:"mb-4",children:d.jsx(Er,{labelText:"Persona",infoText:`${e.name} group chat will see you as your persona.`})}),d.jsxs("div",{className:"flex flex-row justify-between",children:[t?d.jsxs("span",{className:`flex flex-row text-md items-center gap-3 ${Be}`,children:[d.jsxs(R1,{children:[d.jsx(ov,{className:"object-cover rounded-full h-8 w-8",src:t.photo}),d.jsx(lv,{className:`text-sm ${Cr} border rounded-full p-2`,children:dr(t.name)})]}),kn(t.name,24)]}):r&&d.jsxs("span",{className:`flex flex-row text-md items-center gap-3 ${Be}`,children:[d.jsxs(R1,{children:[d.jsx(ov,{className:"object-cover rounded-full h-8 w-8",src:r.photo}),d.jsx(lv,{className:`text-sm ${Cr} border rounded-full p-2`,children:dr(r.name)})]}),kn(r.name,24)]}),!r&&d.jsxs(ct,{onClick:()=>i(!0),className:`rounded-full text-sm flex items-center
                    ${Zt} ${wn} ${Be} 
                    transition duration-300 hover:shadow-md`,children:[d.jsx(s4,{className:"w-6 h-6"}),d.jsx("span",{children:t?"Switch":"Add"})]})]})]})]})})},nNe=({setShowSettings:n,setShowPlans:e})=>{const{userData:t}=kt(),{chats:r,setChats:i}=Sk(),{id:s}=V1(),{isMobile:a}=In(),o=C.useRef(null),[l,u]=C.useState(void 0),[f,p]=C.useState(void 0),[m,y]=C.useState(!1),[b,x]=C.useState(!1),[w,S]=C.useState(!1),T=C.useRef(null),{groupChat:E,setGroupChat:R,loading:N,characters:U,chatMessages:O,errorMessages:M,characterInProgress:P,sceneChangeInProgress:H,handleSubmit:X,handleGenerate:I,handleGenerateSceneChange:q,handleDeleteMessage:L,inputValue:te,setInputValue:B,persona:W,storyPersona:se,setPersona:K,chatMemories:G,handleUpvoteMessage:Y,handleDownvoteMessage:ne,speedMode:le,setSpeedMode:xe,hasMoreMessages:we,loadingEarlierMessages:Re,loadEarlierMessages:Ee,messageChangeSource:Me}=eNe(s),Ye=C.useMemo(()=>({username:t==null?void 0:t.username,name:(E==null?void 0:E.name)||"Group Chat",setShowAccountSettings:n,setShowCharacterSettings:y,showTemporaryChatBadge:!1,setShowPlans:()=>e(!0)}),[E]);C.useEffect(()=>{if(!(t!=null&&t.id)||!s||!E)return;if(!r.some(ve=>ve.id===s)){const ve={id:s,userId:E.userId,name:E.name,characterIds:E.characterIds,createdAt:E.createdAt,updatedAt:E.updatedAt,storyPersonaId:E.storyPersonaId,personaId:E.personaId,responseLength:(t==null?void 0:t.plan)!=="free"?"moderate":"short"};i(ae=>[...ae,ve])}},[t==null?void 0:t.id,s,E]),C.useEffect(()=>{document.title="persoa.ai | Group chat with "+(E==null?void 0:E.name)},[E==null?void 0:E.name]);const Ke=ge=>{if(ge.length===0)return"";const ve=ge.sort((ye,ke)=>ye.localeCompare(ke));if(ve.length<=5)return ve.length===1?ve[0]:`${ve.slice(0,-1).join(", ")}, and ${ve[ve.length-1]}`;const ae=ge.slice(0,5),ce=ge.length-5;return`${ae.join(", ")}, and ${ce} other${ce>1?"s":""}`};C.useEffect(()=>{if(!(t!=null&&t.id))return;(async()=>{if(t!=null&&t.id)if(W){const ve=await sT(t.id,W.id);u(ve??void 0),p(ve??void 0)}else if(se&&se.userId){const ve=await Pl(se==null?void 0:se.userId,se.id);u(ve??void 0),p(ve??void 0)}else{const ve=await _v(t.id);u(ve??void 0)}})()},[t==null?void 0:t.id,W,se]),C.useEffect(()=>{var ge;Me==="new"&&((ge=o.current)==null||ge.scrollIntoView({behavior:"smooth"}))},[O]);const Le=C.useMemo(()=>W?{...t,displayName:W.name}:se?{...t,displayName:se.name}:t,[W,se,t==null?void 0:t.id]),lt=async ge=>{if(E)try{await bk(E.id,{personaId:ge==null?void 0:ge.id}),R({...E,personaId:ge==null?void 0:ge.id}),K(ge)}catch(ve){console.error("Error updating chat with persona:",ve)}},st=ge=>"userId"in ge&&"updatedAt"in ge?Y(ge):Promise.resolve(),$=(ge,ve)=>"userId"in ge&&"updatedAt"in ge?ne(ge,ve):Promise.resolve();return d.jsxs("div",{className:`w-full h-screen ${_t} overflow-auto relative`,ref:T,children:[d.jsx(Eee,{...Ye}),d.jsxs("div",{className:"pt-10 w-full mx-auto text-center",children:[d.jsx(An,{className:"h-24 w-24 mx-auto",children:d.jsx(Bn,{className:`${Yr} ${Xe} rounded-full text-5xl`,children:dr((E==null?void 0:E.name)||"")})}),d.jsxs("div",{className:"mt-4",children:[N?d.jsx("span",{className:`block animate-pulse ${Zt} w-36 h-6 rounded-lg mx-auto`,"aria-label":"Loading chat data"}):d.jsx("span",{className:`block ${it} font-sans font-semibold text-xl`,children:(E==null?void 0:E.name)??"Group chat not found"}),d.jsx("span",{className:`block ${it} font-sans text-md mt-1 max-w-lg mx-auto text-center mb-1`,children:Ke(Object.values(U).map(ge=>ge.name))})]})]}),d.jsxs("div",{className:`pt-10 w-full max-w-3xl mx-auto pb-32 ${a?"px-8 mb-4":""}`,children:[!N&&we&&d.jsx("div",{className:"w-full flex justify-center mb-4",children:d.jsx("button",{className:`px-4 py-2 rounded-full text-sm font-medium ${Xe} transition-all ${Re?"opacity-50 cursor-not-allowed":""} ${Bo} ${Dn}`,onClick:Ee,disabled:Re,children:Re?d.jsx("span",{className:"flex items-center",children:d.jsx(yr,{className:"animate-spin h-6 w-6"})}):d.jsxs("span",{className:"flex flex-row items-center",children:["Load earlier messages ",d.jsx(wA,{className:"ml-2",size:16})]})})}),d.jsx(Oee,{errorMessages:M}),O.map((ge,ve)=>{var ce;const ae=!ge.isNarrator&&ge.characterId?async ye=>{ge.characterId&&(await L(ge.id),await I(U[ge.characterId],ye))}:void 0;return d.jsx(lj,{message:ge,role:ge.isNarrator?Xt.NARRATOR:ge.characterId?Xt.MODEL:Xt.USER,character:ge.characterId?U[ge.characterId]:void 0,userProfile:Le,handleDeleteChatMessage:L,imageUrl:ge.characterId?(ce=U[ge.characterId])==null?void 0:ce.photo:l,onRegenerate:ae,allowRegenerate:ve===O.length-1,allowVote:ve===O.length-1,isGroupChat:!0,handleUpvoteMessage:st,handleDownvoteMessage:$},ge.id)}),P&&d.jsx(lj,{message:{id:"",chatId:"",role:Xt.MODEL,content:"",imageUrls:[],hasImage:!1,createdAt:new Date().toISOString()},role:Xt.MODEL,character:P,userProfile:Le,handleDeleteChatMessage:L,imageUrl:P.photo,allowRegenerate:!1,allowVote:!1,isGroupChat:!0,handleUpvoteMessage:st,handleDownvoteMessage:$}),d.jsx("div",{ref:o}),d.jsx(jee,{isGroupChat:!0,name:E==null?void 0:E.name,engineReady:!N,requestInProgress:!!P||H,handleSubmit:X,handleGenerate:I,handleGenerateSceneChange:q,inputValue:te,setInputValue:B,characters:Object.values(U),speedMode:le,setSpeedMode:ge=>xe(ge||"smart")})]}),m&&t&&E&&d.jsx(tNe,{onClose:()=>y(!1),chat:E,persona:W?{...W,photo:f}:void 0,storyPersona:se,setShowPersonaPopover:x,setShowCoreMemoriesPopover:S,setGroupChat:R}),d.jsx(Zee,{open:b,onOpenChange:x,userId:(t==null?void 0:t.id)||"",onSelectPersona:lt,persona:W}),d.jsx(Qee,{open:w,onOpenChange:S,title:`${E==null?void 0:E.name} story plots`,memories:G,loading:N})]})},rNe=()=>{const e=Pt(Fl("theme"))==="dark",t=C.useCallback(async()=>{try{const{error:r}=await qe.auth.signInWithOAuth({provider:"discord",options:{redirectTo:"/"}});if(r)throw r}catch(r){console.error("Error with Discord authentication: ",r)}},[]);return d.jsxs("button",{className:`flex items-center justify-center w-full 
        ${e?"bg-zinc-800 text-white":"bg-white text-black"}
        border border-[hsl(var(--border))] rounded-full shadow-md 
        px-8 py-3 text-base font-medium
        ${e?"hover:bg-zinc-700":"hover:bg-gray-100"} focus:outline-none focus:ring-none`,onClick:t,children:[d.jsx("svg",{className:"h-7 w-7 mr-3",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"800px",height:"800px",viewBox:"0 -28.5 256 256",version:"1.1",preserveAspectRatio:"xMidYMid",children:d.jsx("g",{children:d.jsx("path",{d:"M216.856339,16.5966031 C200.285002,8.84328665 182.566144,3.2084988 164.041564,0 C161.766523,4.11318106 159.108624,9.64549908 157.276099,14.0464379 C137.583995,11.0849896 118.072967,11.0849896 98.7430163,14.0464379 C96.9108417,9.64549908 94.1925838,4.11318106 91.8971895,0 C73.3526068,3.2084988 55.6133949,8.86399117 39.0420583,16.6376612 C5.61752293,67.146514 -3.4433191,116.400813 1.08711069,164.955721 C23.2560196,181.510915 44.7403634,191.567697 65.8621325,198.148576 C71.0772151,190.971126 75.7283628,183.341335 79.7352139,175.300261 C72.104019,172.400575 64.7949724,168.822202 57.8887866,164.667963 C59.7209612,163.310589 61.5131304,161.891452 63.2445898,160.431257 C105.36741,180.133187 151.134928,180.133187 192.754523,160.431257 C194.506336,161.891452 196.298154,163.310589 198.110326,164.667963 C191.183787,168.842556 183.854737,172.420929 176.223542,175.320965 C180.230393,183.341335 184.861538,190.991831 190.096624,198.16893 C211.238746,191.588051 232.743023,181.531619 254.911949,164.955721 C260.227747,108.668201 245.831087,59.8662432 216.856339,16.5966031 Z M85.4738752,135.09489 C72.8290281,135.09489 62.4592217,123.290155 62.4592217,108.914901 C62.4592217,94.5396472 72.607595,82.7145587 85.4738752,82.7145587 C98.3405064,82.7145587 108.709962,94.5189427 108.488529,108.914901 C108.508531,123.290155 98.3405064,135.09489 85.4738752,135.09489 Z M170.525237,135.09489 C157.88039,135.09489 147.510584,123.290155 147.510584,108.914901 C147.510584,94.5396472 157.658606,82.7145587 170.525237,82.7145587 C183.391518,82.7145587 193.761324,94.5189427 193.539891,108.914901 C193.539891,123.290155 183.391518,135.09489 170.525237,135.09489 Z",fill:"#5865F2",fillRule:"nonzero"})})}),d.jsx("span",{children:"Continue with Discord"})]})},iNe=()=>{const e=Pt(Fl("theme"))==="dark",t=C.useCallback(async()=>{try{const{error:r}=await qe.auth.signInWithOAuth({provider:"google",options:{redirectTo:"/"}});if(r)throw r}catch(r){console.error("Error with Google authentication: ",r)}},[]);return d.jsxs("button",{disabled:!1,className:`flex items-center justify-center w-full 
        ${e?"bg-zinc-800 text-white":"bg-white text-black"}
        border border-[hsl(var(--border))] rounded-full shadow-md 
        px-8 py-3 text-base font-medium
        ${e?"hover:bg-zinc-700":"hover:bg-gray-100"} focus:outline-none focus:ring-none`,onClick:t,children:[d.jsxs("svg",{className:"h-7 w-7 mr-3",version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[d.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),d.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),d.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),d.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),d.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),d.jsx("span",{children:"Continue with Google"})]})},sNe=()=>(C.useEffect(()=>{document.title="persoa.ai | Login or Sign Up"},[]),d.jsxs("div",{className:`relative flex flex-col items-center justify-center h-screen ${Pt(void 0)} ${_t}`,children:[d.jsx(Vfe,{}),d.jsxs("h1",{className:`rounded-lg w-[400px] text-6xl font-bold p-7 text-center ${it} ${_t} z-10 mr-2`,children:[d.jsx("img",{rel:"icon",className:"h-12 mr-2 inline-block",src:"/Persoa_Logo.png"}),"persoa.ai"]}),d.jsx("div",{className:`w-full z-10 max-w-[400px] p-6 rounded-lg ${_t}`,children:d.jsxs("div",{className:"flex flex-col items-center space-y-4 z-10 mr-2",children:[d.jsx(iNe,{}),d.jsx(rNe,{}),d.jsxs("p",{className:`text-xs z-10 ${Xe} text-center mt-8 p-12 w-full max-w-[320px]`,children:["By ","signing in",", you agree to Persoa's"," ",d.jsx("a",{href:"/tos",className:"underline cursor-pointer",style:{textDecoration:"underline"},children:"Terms of Service"})," ","and"," ",d.jsx("a",{href:"/privacy",className:"underline cursor-pointer",style:{textDecoration:"underline"},children:"Privacy Policy"}),"."]})]})})]})),aNe=({setShowSettings:n,setShowPlans:e})=>{const{userData:t,accessToken:r,refreshToken:i}=kt(),{readPdfFile:s,readDocFile:a}=vk(),[o,l]=C.useState("generate"),[u,f]=C.useState(null),[p,m]=C.useState(!1);C.useEffect(()=>{if((t==null?void 0:t.plan)!=="free"){m(!1);return}sTe(t==null?void 0:t.id).then(H=>m(H))},[t==null?void 0:t.id]);const y=H=>{f(X=>({...X,scenes:[...(X==null?void 0:X.scenes)||[],H],characters:(X==null?void 0:X.characters)||[],storyDescription:(X==null?void 0:X.storyDescription)||""}))},b=Mh({enableReinitialize:!0,initialValues:{cover:null,title:"",shortDescription:"",restriction:Un.TEEN_AND_UP,fandoms:[],tags:[],selectedCharacters:[],selectedScenes:[],uploadedFiles:[],storyText:"",instructions:""},validate:H=>{const X={};return H.title.trim()||(X.title="Title is required"),o==="generate"&&!H.shortDescription.trim()&&!u&&(X.shortDescription="Description is required"),o==="attach"&&!H.storyText.trim()&&H.uploadedFiles.length===0&&(X.storyText="Please provide your story either as text or via upload"),u&&H.selectedCharacters.length<1&&(X.selectedCharacters="Please select at least one persoa"),X},validateOnChange:!1,validateOnBlur:!0,onSubmit:H=>{u&&(H.selectedCharacters.length<1||U(H))}}),[x,w]=C.useState(null);C.useEffect(()=>{if(b.values.cover){const H=URL.createObjectURL(b.values.cover);return w(H),()=>URL.revokeObjectURL(H)}else w(null)},[b.values.cover]);const{handleFiles:S,removeFile:T}=dte(b),{loading:E,handleGenerateStory:R,handleAttachStory:N,handlePublish:U,toggleCharacter:O,toggleScene:M}=lee({formik:b,generatedData:u,setGeneratedData:f,accessToken:r,refreshToken:i,userData:t,readPdfFile:s,readDocFile:a}),P=H=>{H.preventDefault(),b.handleSubmit()};return d.jsxs("div",{className:`min-h-screen ${Cr} pt-0.5`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx("div",{className:"flex justify-center overflow-auto px-4 py-8",children:d.jsx(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-10 w-full max-w-[800px] bg-[hsl(var(--background-paper))] rounded-2xl shadow-lg p-8",children:d.jsxs("form",{onSubmit:H=>{H.preventDefault(),b.handleSubmit()},className:"space-y-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[d.jsx(H8,{coverURL:x??void 0,onCoverChange:H=>b.setFieldValue("cover",H),className:"mx-auto md:mx-0"}),d.jsxs("div",{className:"flex-1 min-w-[200px]",children:[d.jsxs("div",{children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${Be}`,children:"Title*"}),d.jsx(lr,{id:"title",name:"title",type:"text",placeholder:"Your story title",onChange:b.handleChange,value:b.values.title,maxLength:$o,className:"w-full border border-input rounded-lg p-2 focus:outline-none"}),d.jsxs("div",{className:`text-xs text-right mt-1 ${Xe}`,children:[b.values.title.length,"/",$o]}),b.errors.title&&b.touched.title&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:b.errors.title})]}),d.jsxs("div",{children:[d.jsx(Er,{labelText:"Restriction",infoText:"Content intended for Teen and up will remove explicit violence, profanity, and similar elements."}),d.jsxs(Rl,{name:"restriction",value:b.values.restriction,onValueChange:H=>b.setFieldValue("restriction",H),children:[d.jsx(kl,{className:`w-full h-9 mt-1 border border-input ${Xe} cursor-pointer bg-transparent`,children:d.jsx(jl,{placeholder:"None"})}),d.jsx(Ho,{className:Pt(t==null?void 0:t.theme),children:d.jsxs(fv,{children:[d.jsx(Mr,{value:"teen",children:"Teen and up"}),!jc(t==null?void 0:t.dateOfBirth)&&d.jsx(Mr,{value:"mature",children:"Mature"})]})})]})]}),d.jsxs("div",{className:"pt-4",children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${Be}`,children:"Fandom(s) (Optional)"}),d.jsx(HA,{selectedFandoms:b.values.fandoms,onChange:H=>b.setFieldValue("fandoms",H),transparentBackground:!0})]})]})]}),!u&&d.jsxs(dw,{defaultValue:"generate",value:o,onValueChange:l,className:"w-full mt-8",children:[d.jsxs(Iv,{className:"grid grid-cols-2 mb-6 w-full bg-[hsl(var(--background-secondary))] border border-[hsl(var(--input))]",children:[d.jsx(ro,{value:"generate",className:"text-sm font-medium data-[state=active]:bg-[hsl(var(--background-tertiary))]",children:"Generate with AI"}),d.jsx(ro,{value:"attach",className:"text-sm font-medium data-[state=active]:bg-[hsl(var(--background-tertiary))]",children:"Attach Existing Story"})]}),d.jsx(Hu,{value:"generate",className:"mt-0",children:d.jsx(Fg,{mode:"wait",children:E?d.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative flex flex-col items-center justify-center h-[300px]",children:[d.jsx("div",{className:"absolute inset-0 opacity-10 rounded-lg overflow-hidden",style:{backgroundImage:`linear-gradient(to bottom, rgba(var(--foreground-rgb), 0.05) 0%, rgba(var(--foreground-rgb), 0.05) 100%), url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100%25' height='100%25' fill='none' rx='8' ry='8' stroke='%23333' stroke-width='1' stroke-dasharray='6, 10' stroke-dashoffset='0' stroke-linecap='square'/%3E%3C/svg%3E")`,backgroundSize:"cover"}}),d.jsxs("div",{className:"flex flex-col items-center justify-center space-y-5 z-10",children:[d.jsxs("div",{className:"relative",children:[d.jsx(bt.div,{className:"w-20 h-20 rounded-full border-4 border-[hsl(var(--primary))]/20",initial:{opacity:0},animate:{opacity:1}}),d.jsx(bt.div,{className:"absolute top-0 left-0 w-20 h-20 rounded-full border-4 border-transparent border-t-[hsl(var(--primary))]",animate:{rotate:360},transition:{duration:1.5,ease:"linear",repeat:1/0}})]}),d.jsx(bt.p,{className:`text-sm font-medium ${Be}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Generating story elements..."}),d.jsx(bt.p,{className:`text-xs max-w-xs text-center ${Xe}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Creating characters and scenes based on your description"})]})]},"generate-loading"):d.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1",children:[d.jsx("label",{className:`block text-sm font-medium mb-1 ${it}`,children:"Describe your story*"}),d.jsx(io,{id:"shortDescription",name:"shortDescription",placeholder:"Describe your story idea in detail. Who are the characters? What's the plot? What's the setting?",onChange:b.handleChange,value:b.values.shortDescription,maxLength:1e5,className:`w-full h-40 border border-input rounded-lg p-3 bg-transparent focus:outline-none resize-none ${Be}`}),d.jsxs("div",{className:`text-xs text-right mt-1 ${Xe}`,children:[b.values.shortDescription.length,"/",1e5]}),b.errors.shortDescription&&b.touched.shortDescription&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:b.errors.shortDescription})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx(t0,{children:d.jsxs(Qy,{delayDuration:200,children:[d.jsx(Jy,{className:"cursor-pointer",children:d.jsx(ct,{type:"button",disabled:p,onClick:R,className:`px-8 py-3 rounded-full text-sm font-medium shadow-sm transition-all ${ri} ${ti} ${ni}`,children:"Generate Story Elements"})}),p&&d.jsx(yh,{className:Zt,children:d.jsx("p",{children:"Upgrade your plan to create more stories."})})]})})})]},"generate-form")})}),d.jsx(Hu,{value:"attach",className:"mt-0",children:d.jsx(Fg,{mode:"wait",children:E?d.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative flex flex-col items-center justify-center h-[300px]",children:[d.jsx("div",{className:"absolute inset-0 opacity-10 rounded-lg overflow-hidden",style:{backgroundImage:`linear-gradient(to bottom, rgba(var(--foreground-rgb), 0.05) 0%, rgba(var(--foreground-rgb), 0.05) 100%), url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='100%25' height='100%25' fill='none' rx='8' ry='8' stroke='%23333' stroke-width='1' stroke-dasharray='6, 10' stroke-dashoffset='0' stroke-linecap='square'/%3E%3C/svg%3E")`,backgroundSize:"cover"}}),d.jsxs("div",{className:"flex flex-col items-center justify-center space-y-5 z-10",children:[d.jsxs("div",{className:"relative",children:[d.jsx(bt.div,{className:"w-20 h-20 rounded-full border-4 border-[hsl(var(--primary))]/20",initial:{opacity:0},animate:{opacity:1}}),d.jsx(bt.div,{className:"absolute top-0 left-0 w-20 h-20 rounded-full border-4 border-transparent border-t-[hsl(var(--primary))]",animate:{rotate:360},transition:{duration:1.5,ease:"linear",repeat:1/0}})]}),d.jsx(bt.p,{className:`text-sm font-medium ${Be}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:"Processing your story..."}),d.jsx(bt.p,{className:`text-xs max-w-xs text-center ${Xe}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Analyzing content and creating characters and scenes"})]})]},"attach-loading"):d.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1",children:[d.jsx("label",{className:`block text-sm font-medium mb-3 ${Be}`,children:"Your Story*"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[d.jsx(bt.div,{className:"relative",children:d.jsx(ute,{uploadedFiles:b.values.uploadedFiles,handleFiles:S,removeFile:T})}),d.jsxs("div",{className:"relative",children:[d.jsx(io,{id:"storyText",name:"storyText",placeholder:"Type or paste your story here...",onChange:b.handleChange,value:b.values.storyText,maxLength:AS,className:`w-full h-[300px] border border-input rounded-lg p-3 bg-transparent focus:outline-none resize-none ${Be}`}),d.jsxs("div",{className:`text-xs mt-1 text-right ${Xe}`,children:[b.values.storyText.length,"/",AS]})]})]}),b.errors.storyText&&b.touched.storyText&&d.jsx("div",{className:"text-red-500 text-sm mt-1",children:b.errors.storyText})]}),d.jsxs("div",{children:[d.jsx(Er,{labelText:"Story instructions",infoText:"Explain specific wants and focuses such as chapters, characters, or scenes."}),d.jsx(lr,{id:"instructions",name:"instructions",type:"text",placeholder:"Focus on the romance in chapters...",onChange:b.handleChange,value:b.values.instructions,maxLength:Zu,className:"w-full border border-input rounded-lg p-2 mt-1 focus:outline-none"}),d.jsxs("div",{className:`text-xs text-right mt-1 ${Xe}`,children:[b.values.instructions.length,"/",Zu]})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx(t0,{children:d.jsxs(Qy,{delayDuration:200,children:[d.jsx(Jy,{className:"cursor-pointer",children:d.jsx(ct,{type:"button",disabled:p,onClick:N,className:`px-8 py-3 rounded-full text-sm font-medium ${ti} ${ni} ${ri} shadow-sm transition-all`,children:"Generate Attached Story"})}),p&&d.jsx(yh,{className:Zt,children:d.jsx("p",{children:"Upgrade your plan to create more stories."})})]})})})]},"attach-form")})})]}),d.jsx(Fg,{children:u&&d.jsxs(bt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8 mt-4",children:[d.jsx(cee,{characters:u.characters,selectedCharacters:b.values.selectedCharacters,toggleCharacter:O,error:b.errors.selectedCharacters}),d.jsx(uee,{scenes:u.scenes,addScene:y,selectedScenes:b.values.selectedScenes,toggleScene:M}),d.jsxs(bt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"space-y-2",children:[d.jsx("label",{className:`block text-sm font-medium ${Be}`,children:"Tags (Optional)"}),d.jsx(GA,{selectedTags:b.values.tags,onChange:H=>b.setFieldValue("tags",H),transparentBackground:!0})]}),d.jsx(bt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.8},className:"flex justify-center mt-8",children:d.jsx(ct,{type:"button",onClick:P,className:`px-10 py-4 rounded-full text-base font-medium shadow-md transition-all ${ti} ${ni} ${ri}`,disabled:E,children:E?d.jsxs("div",{className:"flex items-center",children:[d.jsx(yr,{className:"animate-spin h-5 w-5 mr-2"}),d.jsx("span",{children:"Publishing..."})]}):"Publish Story"})})]})})]})})})]})},oNe=({scene:n,setScene:e,show:t,isAuthor:r,onClose:i})=>{const{userData:s}=kt(),[a,o]=C.useState(!1),[l,u]=C.useState(n.title),[f,p]=C.useState(n.description),[m,y]=C.useState(!1),[b,x]=C.useState(null),[w,S]=C.useState(n.video),T=C.useRef(null);C.useEffect(()=>()=>{w&&w.startsWith("blob:")&&URL.revokeObjectURL(w)},[w]);const E=U=>new Promise(O=>{const M=document.createElement("video");M.preload="metadata",M.onloadedmetadata=()=>{window.URL.revokeObjectURL(M.src),M.duration<=10?O(!0):O(!1)},M.src=URL.createObjectURL(U)}),R=async U=>{var X;const O=(X=U.target.files)==null?void 0:X[0];if(!O)return;if(!q8(O)){alert("Invalid video file format. Please upload mp4, webm, mov, or other supported video formats.");return}if(!await E(O)){alert("Video must be 10 seconds or less in duration."),U.target.value="";return}const H=URL.createObjectURL(O);x(O),S(H)},N=async()=>{y(!0);try{if(await Hwe(n.id,{title:l,description:f}),b&&(s!=null&&s.id)){let U;n.video?U=await Pwe(b,s.id,n.id):(await Mwe(b,s.id,n.id),U=await j3(s.id,n.id)),e({...n,title:l,description:f,video:U||n.video})}else e({...n,title:l,description:f});x(null),w&&w.startsWith("blob:")&&(URL.revokeObjectURL(w),S(void 0)),o(!1)}catch(U){console.error("Error saving scene:",U),alert("Failed to save changes. Please try again.")}finally{y(!1)}};return d.jsx(ao,{open:t,onOpenChange:i,children:d.jsxs(Ta,{className:`sm:w-full md:w-1/2 rounded-xl focus:outline-none focus:border-none ${Zt} ${Pt(s==null?void 0:s.theme)}`,showX:!0,allowLeave:!0,children:[d.jsx(Kp,{children:d.jsxs(ls,{className:`flex flex-row text-lg font-medium w-full items-center ${Be} ${Zt}`,children:[a?d.jsx(lr,{type:"text",className:`w-full p-1 rounded-md bg-transparent outline-[hsl(var((--input)))] ${Be}`,value:l,onChange:U=>u(U.target.value)}):n.title,r&&!a&&d.jsx(ct,{variant:"ghost",size:"icon",onClick:()=>o(!0),className:`rounded-full ml-1 ${wn}`,children:d.jsx(X1,{className:"w-4 h-4 text-muted-foreground"})})]})}),d.jsx("div",{className:"py-2",children:a?d.jsx(io,{className:`w-full h-32 p-2 rounded-md bg-transparent outline-[hsl(var((--input)))] focus:border-none focus:ring-none text-md ${Be}`,value:f,onChange:U=>p(U.target.value)}):d.jsx("p",{className:`text-sm leading-relaxed ${Xe}`,children:n.description})}),a&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(ct,{variant:"outline",onClick:()=>{var U;return(U=T.current)==null?void 0:U.click()},className:`flex gap-2 items-center ${Be} ${Zt} ${wn} rounded-full`,children:[d.jsx(i4,{className:"w-4 h-4"}),w?"Change Video":"Upload Video"]}),d.jsx("input",{type:"file",ref:T,onChange:R,accept:"video/*",className:"hidden"})]}),w&&d.jsx("div",{className:"mx-2 my-4",children:d.jsx($F,{url:w,autoPlay:!1,loop:!0,className:"mb-4 max-w-[400px]"})})]}),d.jsx("div",{className:"flex justify-end mt-4",children:d.jsx(ct,{disabled:m,onClick:N,className:`${ti} ${ni} ${ri} rounded-full`,children:m?d.jsx(yr,{className:"animate-spin"}):"Save"})})]}),!a&&(n.video||w)&&d.jsx("div",{className:"mx-2 my-4",children:d.jsx($F,{url:w||n.video,autoPlay:!0,loop:!0})})]})})},lNe=async n=>{const{data:e,error:t}=await qe.from("character_tags").select("tag_name").eq("character_id",n);return t?(console.error("Error fetching tags:",t),[]):e.map(r=>r.tag_name)},cNe=({character:n,show:e,onClose:t,isAuthor:r})=>{const{userData:i}=kt(),[s,a]=C.useState([]),o=Fr();return C.useEffect(()=>{e&&n.id&&(async()=>{const u=await lNe(n.id);a(u)})()},[e,n.id]),d.jsx(ao,{open:e,onOpenChange:t,children:d.jsxs(Ta,{className:`sm:w-full md:w-3/5 lg:w-1/2 max-h-[90vh] overflow-y-auto rounded-xl focus:outline-none ${Zt} ${Pt(i==null?void 0:i.theme)}`,showX:!0,allowLeave:!0,children:[d.jsx(Kp,{className:"gap-2",children:d.jsxs("div",{className:"flex items-start",children:[d.jsxs(An,{className:"h-20 w-20",children:[d.jsx(Mn,{src:n.photo,alt:`${n.name} image`}),d.jsx(Bn,{className:`text-3xl border border-[hsl(var(--input))] ${Cr} ${Be}`,children:dr(n.name)})]}),d.jsxs("div",{className:"ml-4 flex flex-col",children:[d.jsxs(ls,{className:`font-semibold text-xl ${it}`,children:[n.name,r&&d.jsx(ct,{variant:"ghost",size:"icon",onClick:()=>o(`/character/${n.id}`),className:`rounded-full ml-1 ${wn}`,children:d.jsx(X1,{className:"w-4 h-4 text-muted-foreground"})})]}),d.jsxs("span",{className:`text-sm ${Be}`,children:["By"," ",d.jsxs(ui,{to:`/profile/${n.userName}`,className:`${it} hover:font-medium`,children:["@",n.userName]})]})]})]})}),d.jsx("div",{className:"py-2",children:d.jsx("p",{className:`text-sm leading-relaxed ${Xe}`,children:n.shortDescription})}),s.length>0&&d.jsx("div",{className:"my-4 flex flex-row items-center",children:d.jsx("div",{className:"flex gap-x-1 gap-y-2 flex-wrap",children:s.map(l=>d.jsx("span",{className:"mx-1",children:d.jsx(L1,{className:"bg-[hsl(var(--button-logo-orange))]/40",children:l})},l))})}),d.jsxs("div",{className:"my-4",children:[d.jsx("h3",{className:`text-md font-semibold mb-2 ${it}`,children:"Personality"}),d.jsx("p",{className:`text-sm whitespace-pre-wrap ${Be}`,children:kn(n.personality,500)})]}),d.jsxs("div",{className:"my-4",children:[d.jsx("h3",{className:`text-md font-semibold mb-2 ${it}`,children:"Context"}),d.jsx("p",{className:`text-sm whitespace-pre-wrap ${Be}`,children:n.context})]})]})})},uNe=({allCharacters:n,selectedCharacters:e,setSelectedCharacters:t,containerVariants:r,itemVariants:i})=>{const s=a=>{const o=e.some(l=>l.id===a.id);t(o?e.filter(l=>l.id!==a.id):[...e,a])};return d.jsxs(bt.div,{variants:r,initial:"hidden",animate:"visible",exit:"exit",className:"py-2",children:[d.jsx(bt.div,{variants:i,className:"mb-4",children:d.jsx("p",{className:`text-sm ${Xe}`,children:"Select one or more Persoas to chat with:"})}),d.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:n.map(a=>{const o=e.some(l=>l.id===a.id);return d.jsxs(bt.div,{variants:i,className:`cursor-pointer transition-all p-3 m-1 rounded-xl relative ${o?"ring-2 ring-[hsl(var(--button-logo-orange))] bg-[hsl(var(--background-tertiary))]":"hover:bg-[hsl(var(--background-tertiary))]/70 bg-[hsl(var(--card))]"}`,onClick:()=>s(a),children:[o&&d.jsx("div",{className:"absolute top-2 right-2 z-10 text-[hsl(var(--button-logo-orange))]",children:d.jsx(sie,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs(An,{className:"w-16 h-16 sm:w-20 sm:h-20 mb-2 ring-2 ring-[hsl(var(--border))]",children:[d.jsx(Mn,{src:a.photo,alt:a.name}),d.jsx(Bn,{className:`text-xl ${Be} ${Cr}`,children:dr(a.name)})]}),d.jsx("h4",{className:`font-medium text-center ${it}`,children:kn(a.name,18)}),d.jsx("p",{className:`text-xs text-center mt-1 line-clamp-2 ${Xe}`,children:a.shortDescription})]})]},a.id)})})]},"character-selection")},dNe=({selectedCharacters:n,otherCharacters:e,selectedPersona:t,setSelectedPersona:r,selectedCustomPersona:i,setSelectedCustomPersona:s,selectedSelf:a,setSelectedSelf:o,userPhoto:l,userProfile:u,personas:f,loadingPersonas:p,setShowPersonaPopover:m,containerVariants:y,itemVariants:b})=>{const x=T=>{(t==null?void 0:t.id)===T.id?r(void 0):(r(T),s(void 0),o(!1))},w=T=>{(i==null?void 0:i.id)===T.id?s(void 0):(s(T),r(void 0),o(!1))},S=()=>{o(!a),a||(r(void 0),s(void 0))};return d.jsxs(bt.div,{variants:y,initial:"hidden",animate:"visible",exit:"exit",className:"py-2",children:[d.jsxs(bt.div,{variants:b,className:"mb-4",children:[d.jsx("h3",{className:`text-lg font-medium ${Be}`,children:"You'll be chatting with:"}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 p-3 rounded-lg bg-[hsl(var(--background-tertiary))]/50",children:[n.map(T=>d.jsxs("div",{className:"flex items-center gap-2 bg-[hsl(var(--background-tertiary))]/70 p-2 rounded-lg",children:[d.jsxs(An,{className:"w-8 h-8",children:[d.jsx(Mn,{src:T.photo,alt:T.name}),d.jsx(Bn,{className:`${Be} ${Cr}`,children:dr(T.name)})]}),d.jsx("p",{className:`text-sm ${Be}`,children:T.name})]},T.id)),n.length>1&&d.jsxs("div",{className:`ml-2 text-sm ${it}`,children:[d.jsx(fP,{className:"inline h-4 w-4 mr-1"}),"Group Chat"]})]})]}),d.jsx(bt.h3,{variants:b,className:`text-lg font-medium mb-4 ${Be}`,children:"Choose who you'll be:"}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[e.filter(T=>!n.some(E=>E.id===T.id)).map(T=>d.jsx(bt.div,{variants:b,className:`cursor-pointer transition-all p-3 m-1 rounded-xl ${(t==null?void 0:t.id)===T.id?"ring-2 ring-[hsl(var(--button-logo-orange))] bg-[hsl(var(--background-tertiary))]":"hover:bg-[hsl(var(--background-tertiary))]/70 bg-[hsl(var(--card))]"}`,onClick:()=>x(T),children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs(An,{className:"w-16 h-16 sm:w-20 sm:h-20 mb-2 ring-2 ring-[hsl(var(--border))]",children:[d.jsx(Mn,{src:T.photo}),d.jsx(Bn,{className:`text-xl ${Be} ${Cr}`,children:dr(T.name)})]}),d.jsx("h4",{className:`font-medium text-center ${Be}`,children:kn(T.name,18)}),d.jsx("p",{className:`text-xs text-center mt-1 line-clamp-2 ${Xe}`,children:T.shortDescription})]})},T.id)),d.jsx(bt.div,{variants:b,className:`cursor-pointer transition-all p-3 rounded-xl ${a?"ring-2 ring-[hsl(var(--button-logo-orange))] bg-[hsl(var(--background-tertiary))]":"hover:bg-[hsl(var(--background-tertiary))]/70 bg-[hsl(var(--card))]"}`,onClick:S,children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs(An,{className:"w-16 h-16 sm:w-20 sm:h-20 mb-2 ring-2 ring-[hsl(var(--border))]",children:[d.jsx(Mn,{src:l||void 0}),d.jsx(Bn,{className:`text-xl ${Be} ${Cr}`,children:d.jsx(rq,{})})]}),d.jsx("h4",{className:`font-medium text-center ${Be}`,children:(u==null?void 0:u.displayName)||"Yourself"}),d.jsx("p",{className:`text-xs text-center mt-1 ${Xe}`,children:"Chat as yourself"})]})}),p?d.jsx(bt.div,{variants:b,className:"p-3 rounded-xl bg-[hsl(var(--card))] col-span-2",children:d.jsx(yr,{className:"animate-spin h-6 w-6"})}):f.length>0?f.map(T=>d.jsx(bt.div,{variants:b,className:`cursor-pointer transition-all p-3 rounded-xl ${(i==null?void 0:i.id)===T.id?"ring-2 ring-[hsl(var(--button-logo-orange))] bg-[hsl(var(--background-tertiary))]":"hover:bg-[hsl(var(--background-tertiary))]/70 bg-[hsl(var(--card))]"}`,onClick:()=>w(T),children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs(An,{className:"w-16 h-16 sm:w-20 sm:h-20 mb-2 ring-2 ring-[hsl(var(--border))]",children:[d.jsx(Mn,{src:T.photo}),d.jsx(Bn,{className:`text-xl ${Be} ${Cr}`,children:dr(T.name)})]}),d.jsx("h4",{className:`font-medium text-center ${Be}`,children:kn(T.name,18)}),d.jsx("p",{className:`text-xs text-center mt-1 line-clamp-2 ${Xe}`,children:T.background})]})},T.id)):null,d.jsx(bt.div,{variants:b,className:"cursor-pointer transition-all p-3 rounded-xl hover:bg-[hsl(var(--background-tertiary))]/40 bg-[hsl(var(--card))]",onClick:()=>m(!0),children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mb-2 flex items-center justify-center rounded-full bg-[hsl(var(--background-tertiary))]/50 ring-1 ring-[hsl(var(--border))]",children:d.jsx(Y1,{className:"h-8 w-8 sm:h-10 sm:w-10 text-[hsl(var(--button-logo-orange))]"})}),d.jsx("h4",{className:`font-medium text-center ${Be}`,children:"Create Persona"}),d.jsx("p",{className:`text-xs text-center mt-1 ${Xe}`,children:"Add a new identity"})]})})]})]},"persona-selection")},hNe=({selectedCharacters:n,selectedPersona:e,selectedCustomPersona:t,selectedSelf:r,userPhoto:i,userProfile:s,scenes:a,selectedScene:o,setSelectedScene:l,containerVariants:u,itemVariants:f})=>{const p=m=>{l((o==null?void 0:o.id)===m.id?void 0:m)};return d.jsxs(bt.div,{variants:u,initial:"hidden",animate:"visible",exit:"exit",className:"py-2",children:[d.jsxs(bt.div,{variants:f,className:"mb-4",children:[d.jsx("h3",{className:`text-lg font-medium ${Be}`,children:"Your conversation:"}),d.jsxs("div",{className:"flex flex-wrap gap-3 mt-2",children:[n.map(m=>d.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-[hsl(var(--background-tertiary))]/50",children:[d.jsxs(An,{className:"w-8 h-8",children:[d.jsx(Mn,{src:m.photo,alt:m.name}),d.jsx(Bn,{className:`text-lg ${Xe} ${Cr}`,children:dr(m.name)})]}),d.jsx("p",{className:`text-sm font-medium ${Be}`,children:m.name})]},m.id)),r&&d.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-[hsl(var(--background-tertiary))]/50",children:[d.jsxs(An,{className:"w-8 h-8",children:[d.jsx(Mn,{src:i||void 0}),d.jsx(Bn,{className:`${Cr} ${Xe}`,children:d.jsx(rq,{})})]}),d.jsx("p",{className:`text-sm font-medium ${Be}`,children:(s==null?void 0:s.displayName)||"You"})]}),e&&d.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-[hsl(var(--background-tertiary))]/50",children:[d.jsxs(An,{className:"w-8 h-8",children:[d.jsx(Mn,{src:e.photo}),d.jsx(Bn,{className:`${Cr} ${Xe}`,children:dr(e.name)})]}),d.jsx("p",{className:`text-sm font-medium ${Be}`,children:e.name})]}),t&&d.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-[hsl(var(--background-tertiary))]/50",children:[d.jsxs(An,{className:"w-8 h-8",children:[d.jsx(Mn,{src:t.photo}),d.jsx(Bn,{className:`${Cr} ${Xe}`,children:dr(t.name)})]}),d.jsx("p",{className:`text-sm font-medium ${Be}`,children:t.name})]})]})]}),a.length>0?d.jsxs(d.Fragment,{children:[d.jsx(bt.h3,{variants:f,className:`text-lg font-medium mb-3 ${Be}`,children:"Choose a setting for your story:"}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:a.map(m=>d.jsxs(bt.div,{variants:f,className:`p-3 rounded-xl m-1 cursor-pointer transition-all duration-200 ${(o==null?void 0:o.id)===m.id?"ring-2 ring-[hsl(var(--button-logo-orange))] bg-[hsl(var(--background-tertiary))]":"hover:bg-[hsl(var(--background-tertiary))]/70 bg-[hsl(var(--background-tertiary))]/40"}`,onClick:()=>p(m),children:[d.jsxs("h4",{className:`font-medium text-lg mb-1 ${Be} flex items-center`,children:[m.title,m.video&&d.jsxs(Qy,{delayDuration:200,children:[d.jsx(Jy,{asChild:!0,children:d.jsx("button",{className:"ml-2 rounded-full border border-current items-center justify-center p-1",children:d.jsx(Yz,{className:"w-3 h-3"})})}),d.jsx(yh,{className:"bg-background text-foreground border-none",children:d.jsx("p",{children:"Includes video scene"})})]})]}),d.jsx("p",{className:`text-sm line-clamp-3 ${Xe}`,children:m.description})]},m.id))})]}):d.jsxs(bt.div,{variants:f,className:`text-center p-6 ${Xe} bg-[hsl(var(--background-tertiary))]/30 rounded-xl`,children:[d.jsx("p",{className:"mb-2",children:"No scenes available for this story."}),d.jsx("p",{className:"text-sm",children:"You can still continue without setting a scene."})]})]},"scene-selection")},fNe=({step:n})=>{const e=[{key:"character",label:"Choose Persoas"},{key:"persona",label:"Your Persona"},{key:"scene",label:"Select Scene"}];return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-full bg-[hsl(var(--input))] h-1 rounded-full overflow-hidden flex-shrink-0",children:d.jsx("div",{className:"bg-[hsl(var(--button-logo-orange))] h-full transition-all duration-300",style:{width:n==="character"?"33.3%":n==="persona"?"66.6%":"100%"}})}),d.jsx("div",{className:"flex justify-between text-xs pt-1 px-1 mb-2 flex-shrink-0",children:e.map(t=>d.jsx("div",{className:`${n===t.key?it:Xe} transition-colors duration-300`,children:t.label},t.key))})]})},pNe=({step:n,canProceed:e,goBack:t,goNext:r,handleStartChat:i,selectedCharacters:s})=>d.jsxs("div",{className:"flex flex-row justify-between items-center mt-2 pt-2 border-t border-[hsl(var(--border))] flex-shrink-0 sticky bottom-0 bg-[hsl(var(--background-secondary))]",children:[d.jsx("div",{children:n!=="character"&&d.jsxs(ct,{onClick:t,className:`py-1.5 px-3 sm:py-2 sm:px-4 rounded-full bg-transparent border border-[hsl(var(--input))] ${Be} hover:bg-[hsl(var(--background-tertiary))]/50`,children:[d.jsx(Gz,{className:"mr-1 h-4 w-4"})," Back"]})}),d.jsx("div",{children:n!=="scene"?d.jsx(ct,{onClick:r,disabled:!e,className:`py-1.5 px-3 sm:py-2 sm:px-4 rounded-full ${ti} ${ni} ${ri}`,children:n==="character"?s.length>1?"Select Persoas":"Select Persoa":"Choose scene"}):d.jsxs(ct,{onClick:i,className:`py-1.5 px-3 sm:py-2 sm:px-4 rounded-full ${ti} ${ni} ${ri}`,children:[d.jsx(_A,{className:"mr-1 h-4 w-4"}),s.length>1?"Begin group chat":"Begin conversation"]})})]}),mNe=({storyUserId:n,storyDescription:e,show:t,onClose:r,character:i,otherCharacters:s,scenes:a})=>{const{userData:o,userPhoto:l,user:u}=kt(),[f,p]=C.useState([]),[m,y]=C.useState(void 0),[b,x]=C.useState(void 0),[w,S]=C.useState(!1),[T,E]=C.useState(void 0),[R,N]=C.useState("character"),[U,O]=C.useState(!1),[M,P]=C.useState([]),[H,X]=C.useState(!1),I=Fr(),q=i?[i,...s]:s;C.useEffect(()=>{i&&t&&(p([i]),N("persona"))},[i,t]),C.useEffect(()=>{t&&u&&(X(!0),cj(u.id).then(we=>{P(we)}).catch(we=>{console.error("Error fetching personas:",we)}).finally(()=>{X(!1)}))},[t,u==null?void 0:u.id]);const L=()=>{p([]),y(void 0),x(void 0),S(!1),E(void 0),N("character")},te=we=>we.length===2?`${we[0].name} & ${we[1].name}`:`${we[0].name} & ${we.length-1} others`,B=()=>{if(!(!u||f.length===0||!m&&!w&&!b)){try{if(f.length===1){const we={userId:(o==null?void 0:o.id)||"",characterId:f[0].id,characterName:f[0].name,storyPersonaId:m==null?void 0:m.id,personaId:b==null?void 0:b.id,sceneId:T==null?void 0:T.id};$A(we).then(async Re=>{await LW(Re.id,{role:Xt.NARRATOR,content:e,hasImage:!1}),T?LW(Re.id,{role:Xt.NARRATOR,content:T.description,sceneId:T.id,sceneUserId:n,hasImage:!1}).then(()=>{I(`/chat/${Re.id}`)}):I(`/chat/${Re.id}`)})}else{const we=f.map(Ee=>Ee.id),Re=te(f);XL({userId:(o==null?void 0:o.id)||"",name:Re,characterIds:we,personaId:b==null?void 0:b.id,storyPersonaId:m==null?void 0:m.id,responseLength:(o==null?void 0:o.plan)!=="free"?"moderate":"short"}).then(async Ee=>{await TF({userId:u==null?void 0:u.id,chatId:Ee.id,isNarrator:!0,content:e}),T?TF({userId:u==null?void 0:u.id,chatId:Ee.id,isNarrator:!0,content:T.description,sceneId:T.id,sceneUserId:n}).then(()=>{I(`/groupchat/${Ee.id}`)}):I(`/groupchat/${Ee.id}`)})}}catch(we){throw we}r(),L()}},W=()=>{R==="persona"?N("character"):R==="scene"&&N("persona")},se=()=>{R==="character"&&f.length>0?N("persona"):R==="persona"&&(m||w||b)&&N("scene")},K=()=>{r(),setTimeout(()=>L(),200)},G={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07}},exit:{opacity:0,transition:{staggerChildren:.05,staggerDirection:-1}}},Y={hidden:{y:20,opacity:0},visible:{y:0,opacity:1},exit:{y:-20,opacity:0}},ne=()=>{switch(R){case"character":return"Who would you like to chat with?";case"persona":return"Who will you be in this conversation?";case"scene":return"Choose a setting for your story";default:return""}},le=()=>{switch(R){case"character":return f.length>0;case"persona":return!!m||!!b||w;case"scene":return!0;default:return!1}},xe=()=>{switch(R){case"character":return d.jsx(uNe,{allCharacters:q,selectedCharacters:f,setSelectedCharacters:p,containerVariants:G,itemVariants:Y});case"persona":return d.jsx(dNe,{selectedCharacters:f,otherCharacters:s,selectedPersona:m,setSelectedPersona:y,selectedCustomPersona:b,setSelectedCustomPersona:x,selectedSelf:w,setSelectedSelf:S,userPhoto:l||null,userProfile:o,personas:M,loadingPersonas:H,setShowPersonaPopover:O,containerVariants:G,itemVariants:Y});case"scene":return d.jsx(hNe,{selectedCharacters:f,selectedPersona:m,selectedCustomPersona:b,selectedSelf:w,userPhoto:l||null,userProfile:o,scenes:a,selectedScene:T,setSelectedScene:E,containerVariants:G,itemVariants:Y});default:return null}};return t?d.jsx(ao,{open:t,onOpenChange:K,children:d.jsxs(Ta,{className:`max-w-4xl rounded-xl border-none focus:outline-none ${Pt(o==null?void 0:o.theme)} ${Zt} flex flex-col max-h-[90vh] sm:max-h-[95vh]`,children:[d.jsx(Kp,{className:"mb-2 flex-shrink-0",children:d.jsxs(ls,{className:"flex items-center gap-2 text-xl",children:[d.jsx(Pj,{className:"text-[hsl(var(--button-logo-orange))] h-5 w-5"}),d.jsx("span",{className:it,children:ne()})]})}),d.jsx(fNe,{step:R}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:xe()}),d.jsx(pNe,{step:R,canProceed:le(),goBack:W,goNext:se,handleStartChat:B,selectedCharacters:f}),d.jsx(nI,{isOpen:U,onClose:()=>{O(!1),u&&cj(u.id).then(we=>{P(we)}).catch(we=>{console.error("Error fetching personas:",we)})},setPersonas:P})]})}):null},gNe=lm({title:os().required("Title is required"),description:os(),tags:hj().of(os()),fandoms:hj().of(os())}),yNe=({story:n,open:e,onOpenChange:t,onUpdate:r})=>{const{userData:i}=kt(),[s,a]=C.useState(!1),[o,l]=C.useState(!1),[u,f]=C.useState(n.cover),p=Fr(),m=Mh({initialValues:{cover:null,title:n.title||"",description:n.description||"",tags:n.tags||[],fandoms:n.fandoms||[]},validationSchema:gNe,onSubmit:async b=>{l(!0);try{if(await Wwe(n.id,{title:b.title,description:b.description}),!uS.isEqual(b.fandoms,m.initialValues.fandoms)){for(const R of b.fandoms)await Jwe(R)?n.fandoms.includes(R)||await I$(R,n.id):(await U3(R),await I$(R,n.id));const E=n.fandoms.filter(R=>!b.fandoms.includes(R));for(const R of E)await t2e(R,n.id)}if(!uS.isEqual(b.tags,m.initialValues.tags)){for(const R of b.tags)(await VA(R)).some(U=>U.toLowerCase()===R.toLowerCase())?n.tags.includes(R)||await $$(R,n.id):(await M3(R),await $$(R,n.id));const E=n.tags.filter(R=>!b.tags.includes(R));for(const R of E)await s2e(R,n.id)}let S=u;!uS.isEqual(u,n.cover)&&b.cover&&i&&(S=await Ice(b.cover,i.id,n.id)||void 0,f(S||void 0)),r&&r({...n,title:b.title,description:b.description,tags:b.tags,fandoms:b.fandoms,cover:S}),t(!1)}catch(x){console.error("Error updating story:",x)}finally{l(!1)}}}),y=async()=>{try{await zwe(n.id),t(!1),p(`/profile/${i==null?void 0:i.username}`)}catch(b){console.error("Error deleting story:",b)}};return C.useEffect(()=>{e&&m.resetForm({values:{cover:null,title:n.title||"",description:n.description||"",tags:n.tags||[],fandoms:n.fandoms||[]}})},[e,n]),C.useEffect(()=>{if(m.values.cover){const b=URL.createObjectURL(m.values.cover);return f(b),()=>URL.revokeObjectURL(b)}else f(n.cover)},[m.values.cover]),d.jsxs(d.Fragment,{children:[d.jsx(Yj,{open:e,onOpenChange:t,children:d.jsxs(EA,{className:`sm:max-w-md md:max-w-lg overflow-y-auto ${_t} ${Pt(i==null?void 0:i.theme)}`,children:[d.jsx(Kj,{className:"mb-4",children:d.jsx(Zj,{className:`${it} w-full text-xl text-center`,children:"Story Settings"})}),d.jsxs("form",{onSubmit:m.handleSubmit,className:"space-y-6 py-4",children:[d.jsx("div",{className:"space-y-2",children:d.jsx(H8,{coverURL:u,onCoverChange:b=>m.setFieldValue("cover",b),className:"mx-auto md:mx-0"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Up,{htmlFor:"title",className:`${Be} font-medium`,children:"Title"}),d.jsx(lr,{id:"title",name:"title",placeholder:"Story title",value:m.values.title,onChange:m.handleChange,onBlur:m.handleBlur,className:`bg-transparent ${Be}`,maxLength:$o}),m.touched.title&&m.errors.title&&d.jsx("div",{className:"text-red-500 text-sm",children:m.errors.title})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Up,{htmlFor:"description",className:`${Be} font-medium`,children:"Description"}),d.jsx(io,{id:"description",name:"description",placeholder:"A brief description of your story",value:m.values.description,onChange:m.handleChange,onBlur:m.handleBlur,className:`${Be} h-36 bg-transparent`,maxLength:1e5})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Up,{htmlFor:"tags",className:`${Be} font-medium`,children:"Tags"}),d.jsx(GA,{selectedTags:m.values.tags,onChange:b=>m.setFieldValue("tags",b),transparentBackground:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Up,{htmlFor:"fandoms",className:`${Be} font-medium`,children:"Fandoms"}),d.jsx(HA,{selectedFandoms:m.values.fandoms,onChange:b=>m.setFieldValue("fandoms",b),transparentBackground:!0})]}),d.jsxs("div",{className:"flex justify-between pt-4",children:[d.jsx(ct,{type:"button",variant:"destructive",className:"rounded-full",onClick:()=>a(!0),children:"Delete Story"}),d.jsx(ct,{type:"submit",disabled:!m.dirty||o||!m.isValid,className:"rounded-full",children:o?d.jsx(yr,{className:"animate-spin"}):"Save Changes"})]})]})]})}),d.jsx(ao,{open:s,onOpenChange:a,children:d.jsxs(Ta,{className:`w-full md:w-1/2 rounded-xl ${Zt} ${Pt(i==null?void 0:i.theme)}`,children:[d.jsxs(Kp,{children:[d.jsx(ls,{className:it,children:"Delete Story"}),d.jsxs(h3,{className:Xe,children:["Are you sure you want to delete"," ",d.jsx("span",{className:"font-bold",children:n.title}),"? This action is irreversible."]})]}),d.jsxs(q4,{className:"gap-1",children:[d.jsx(ct,{variant:"outline",onClick:()=>a(!1),className:`rounded-full ${it} bg-transparent ${wn}`,children:"Cancel"}),d.jsx(ct,{variant:"destructive",onClick:y,className:"rounded-full",children:"Delete"})]})]})})]})},pz=({animatedPulse:n=!0,title:e})=>{const{isMobile:t}=In(),r=n?"animate-pulse":"";return d.jsxs("div",{className:`min-h-screen ${_t}`,children:[d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row lg:flex-row gap-8",children:[d.jsxs("div",{className:"w-full md:w-1/5 lg:w-1/5 md:sticky md:top-20 md:self-start",children:[d.jsx("div",{className:`${t?"flex justify-center":""}`,children:d.jsx("div",{className:`${Cr} rounded-tl-none rounded-bl-none rounded-tr-lg rounded-br-lg overflow-hidden ${t?"w-56 h-[350px]":"w-full h-[400px]"} ${r} ${$t}`})}),!t&&d.jsxs("div",{className:"flex flex-col mt-4",children:[d.jsx("div",{className:`w-full rounded-full h-10 ${r} ${$t} mb-2`}),d.jsxs("div",{className:"mt-2 flex flex-row",children:[d.jsx("div",{className:`w-1/2 py-3 px-4 rounded-full ${r} ${$t}`}),d.jsx("div",{className:`w-1/2 py-2 px-4 ml-1 rounded-full ${r} ${$t}`})]})]})]}),d.jsxs("div",{className:"w-full md:w-3/4 lg:w-4/5 overflow-y-auto",children:[t?d.jsxs("div",{className:"text-center mb-6",children:[e?d.jsx("div",{className:"p-4 font-bold text-lg",children:e}):d.jsx("div",{className:`h-10 ${$t} rounded-md w-3/4 mx-auto ${r} mb-4`}),d.jsx("div",{className:"space-y-2 mb-12",children:d.jsx("div",{className:`h-4 ${$t} rounded-md w-5/6 mx-auto ${r}`})})]}):d.jsx(d.Fragment,{children:e?d.jsx("div",{className:"p-4 font-bold text-lg",children:e}):d.jsx("div",{className:`h-10 ${$t} rounded-md w-1/2 ${r} mb-4`})}),d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex gap-x-4 gap-y-2 flex-wrap mb-4",children:d.jsx("div",{className:`h-6 ${$t} rounded-md w-1/4 ${r} mb-2`})}),d.jsx("div",{className:"flex gap-x-4 gap-y-2 flex-wrap",children:d.jsx("div",{className:`h-6 ${$t} rounded-md w-1/4 ${r} mb-2`})}),d.jsx("div",{className:"flex items-center gap-2 mt-6",children:d.jsx("div",{className:`h-4 ${$t} rounded-md w-1/6 ${r}`})})]})}),t&&d.jsxs("div",{className:"flex flex-col mt-4",children:[d.jsx("div",{className:`w-full rounded-full h-10 ${r} ${$t} mb-2`}),d.jsxs("div",{className:"mt-2 flex flex-row",children:[d.jsx("div",{className:`w-1/2 py-3 px-4 rounded-full ${r} ${$t}`}),d.jsx("div",{className:`w-1/2 py-2 px-4 ml-1 rounded-full ${r} ${$t}`})]})]})]}),n&&d.jsxs("div",{className:"border-t border-[hsl(var(--input))]/50 pt-6 mt-6",children:[d.jsx("div",{className:`h-8 ${$t} rounded-md w-1/4 ${r} mb-4`}),d.jsx("div",{className:"flex overflow-x-auto pb-4 gap-4",children:[1,2].map(i=>d.jsx(ba,{width:t?"w-[300px]":"w-[330px]"},i))})]}),d.jsxs("div",{className:"border-t border-[hsl(var(--input))]/50 pt-6 mt-6",children:[d.jsx("div",{className:`h-8 ${$t} rounded-md w-1/4 ${r} mb-4`}),d.jsx("div",{className:"flex overflow-x-auto pb-4 gap-4",children:[1,2,3].map(i=>d.jsxs("div",{className:`p-4 rounded-xl min-w-[280px] max-w-[280px] ${r} ${$t}`,children:[d.jsx("div",{className:`h-5 bg-[hsl(var(--background-secondary))] rounded-md w-2/3 ${r} mb-3`}),d.jsx("div",{className:`h-4 bg-[hsl(var(--background-secondary))] rounded-md w-full ${r} mb-2`}),d.jsx("div",{className:`h-4 bg-[hsl(var(--background-secondary))] rounded-md w-5/6 ${r} mb-2`}),d.jsx("div",{className:`h-4 bg-[hsl(var(--background-secondary))] rounded-md w-4/5 ${r}`})]},i))})]}),d.jsxs("div",{className:"border-t border-[hsl(var(--input))]/50 pt-6 mt-6",children:[d.jsx("div",{className:`h-8 ${$t} rounded-md w-1/4 ${r} mb-4`}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx("div",{className:`w-16 h-16 rounded-full ${r} ${$t}`}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:`h-6 ${$t} rounded-md w-1/3 ${r} mb-2`}),d.jsx("div",{className:`h-4 ${$t} rounded-md w-2/3 ${r} mb-3`})]}),d.jsx("div",{className:`h-10 w-24 ${$t} rounded-full ${r}`})]})]})]})]})}),d.jsx(rT,{})]})},mz=({description:n})=>{const[e,t]=C.useState(!1),[r,i]=C.useState(!1),s=C.useRef(null);C.useEffect(()=>{const o=s.current;if(o){const l=window.getComputedStyle(o),f=parseFloat(l.lineHeight)*7;o.scrollHeight>f+1&&i(!0)}},[n]);const a=()=>t(!e);return d.jsxs("div",{className:`mb-6 leading-relaxed ${it}`,children:[d.jsx("p",{ref:s,className:e?"":"line-clamp-7",style:e?{}:{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:7,overflow:"hidden"},children:n}),r&&d.jsx("div",{className:"mt-2",children:d.jsxs("button",{onClick:a,className:`${Xe} font-bold flex items-center`,style:{background:"none",border:"none",padding:0,cursor:"pointer"},children:[e?"Show Less":"Show More",d.jsx("span",{className:Xe,style:{marginLeft:"4px"},children:e?d.jsx(wA,{}):d.jsx(JF,{})})]})})]})},vNe=({setShowSettings:n,setShowPlans:e})=>{var Ee,Me,Ye,Ke;const{id:t}=V1(),{isMobile:r}=In(),i=Fr(),{userData:s,loading:a}=kt(),[o,l]=C.useState(void 0),[u,f]=C.useState(void 0),[p,m]=C.useState(!1),[y,b]=C.useState(!1),[x,w]=C.useState(!1),[S,T]=C.useState(!0),[E,R]=C.useState(!1),[N,U]=C.useState(!1),[O,M]=C.useState(!1),[P,H]=C.useState(null),[X,I]=C.useState(!1),[q,L]=C.useState(null),[te,B]=C.useState(!1),W=(s==null?void 0:s.id)==(u==null?void 0:u.userData.id);C.useEffect(()=>{t&&(B(!1),(async()=>{T(!0);try{const Le=await Fwe(t);if(l(Le),Lwe(t),s!=null&&s.id){const[ae,ce]=await Promise.all([Bwe(s.id,t),Ywe(s.id,t)]);b(ae),w(ce)}else b(!1),w(!1);const lt=await Xj(Le.userId);if(!lt)return;const[st,$,ge,ve]=await Promise.all([_v(lt.id),lH(lt.id),$R(lt.id,jc(lt.dateOfBirth),!0),$Y(lt.id)]);m(s!=null&&s.id?$.includes(s.id):!1),f({userData:lt,profilePhoto:st||void 0,characterCount:ge.length,storyCount:ve.length,followers:$.length})}catch(Le){console.error("Failed to fetch story:",Le)}finally{T(!1)}})())},[t,s==null?void 0:s.id]),C.useEffect(()=>{o&&u&&(document.title=`${o.title} by ${u.userData.displayName} | persoa.ai`)},[o,u]);const se=C.useCallback(async()=>{if(u){if(!s){i("/login");return}try{await cH(s.id,u.userData.id),m(!0)}catch(Le){console.error("Error following user:",Le)}}},[s,u]),K=C.useCallback(async()=>{if(!(!s||!u))try{await uH(s.id,u.userData.id),m(!1)}catch(Le){console.error("Error unfollowing user:",Le)}},[s,u]),G=async()=>{if(t){if(!s){i("/login");return}if(y)try{await $we(s.id,t),b(!1),l(Le=>Le&&{...Le,likeCount:Le.likeCount-1})}catch(Le){console.error("Error unliking story:",Le)}else try{await Iwe(s.id,t),b(!0),l(Le=>Le&&{...Le,likeCount:Le.likeCount+1})}catch(Le){console.error("Error liking story:",Le)}}},Y=async()=>{if(t){if(!s){i("/login");return}if(x)try{await Xwe(s.id,t),w(!1)}catch(Le){console.error("Error unsaving story:",Le)}else try{await Gwe(s.id,t),w(!0)}catch(Le){console.error("Error saving story:",Le)}}},ne=Le=>{H(Le),M(!0)},le=Le=>{L(Le),U(!0)},xe=()=>{if(!s){i("/login");return}o&&o.characters.length>0&&R(!0)};if(S||a)return d.jsxs(d.Fragment,{children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx(pz,{})]});if(!o)return d.jsxs(d.Fragment,{children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx(pz,{animatedPulse:!1,title:"Story not found."})]});const we=new Date(o.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}),Re=()=>d.jsxs("div",{className:"flex flex-col mt-4",children:[d.jsxs(ct,{onClick:xe,className:`w-full rounded-full bg-[hsl(var(--button-logo-orange))]/80 hover:bg-[hsl(var(--button-logo-orange))] font-semibold text-lg ${it}`,children:[d.jsx(_A,{}),"Enter story"]}),W&&d.jsxs(ct,{onClick:()=>I(!0),className:`w-full mt-2 rounded-full bg-transparent border-2 border-[hsl(var(--button-logo-orange))]/30 hover:bg-[hsl(var(--button-logo-orange))]/30 font-semibold text-lg ${Be}`,children:[d.jsx(X1,{}),"Edit story"]}),d.jsxs("div",{className:"mt-2 flex flex-row",children:[d.jsx(ct,{onClick:Y,className:`w-1/2 py-3 px-4 font-semibold text-md rounded-full bg-transparent border-2 border-[hsl(var(--input))] ${wn} ${Be}`,children:!s||!x?d.jsxs(d.Fragment,{children:["Save ",d.jsx(Kre,{})]}):d.jsxs(d.Fragment,{children:["Saved ",d.jsx(no,{})]})}),d.jsx(ct,{onClick:G,className:`w-1/2 py-2 px-4 ml-1 font-semibold text-md rounded-full bg-transparent border-2 border-[hsl(var(--input))] ${wn} ${Be}`,children:!s||!y?d.jsxs(d.Fragment,{children:["Like ",d.jsx(n4,{})]}):d.jsxs(d.Fragment,{children:["Liked ",d.jsx(no,{})]})})]})]});return d.jsxs("div",{className:`min-h-screen ${_t}`,children:[d.jsx(qo,{setShowSettings:n,setShowPlans:e}),d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row lg:flex-row gap-8",children:[d.jsxs("div",{className:"w-full md:w-1/5 lg:w-1/5 md:sticky md:top-20 md:self-start",children:[d.jsx("div",{className:`${r?"flex justify-center":""}`,children:d.jsx(bt.div,{whileHover:{scale:1.02},className:`${Cr} rounded-tl-none rounded-bl-none rounded-tr-lg rounded-br-lg overflow-hidden ${r?"w-56 h-[350px]":"w-full h-[400px]"}`,children:o.cover?d.jsx("img",{src:o.cover,alt:o.title,className:"w-full h-full object-cover"}):d.jsx("div",{className:"h-full w-full flex items-center justify-center text-[hsl(var(--background-tertiary))]",children:d.jsx("span",{className:"text-4xl",children:"✦"})})})}),!r&&d.jsx(Re,{})]}),d.jsxs("div",{className:"w-full md:w-3/4 lg:w-4/5 overflow-y-auto",children:[r?d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("h1",{className:"flex flex-row gap-2 items-center justify-center",children:[d.jsx("span",{className:`text-3xl md:text-4xl font-bold ${Be} mb-1`,children:o.title}),o.restriction===Un.MATURE&&d.jsx("span",{className:"ml-2 font-semibold",children:d.jsx(B1,{})})]}),d.jsxs("div",{className:`flex items-center mb-3 ${Xe} justify-center flex-col`,children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-lg",children:"By "}),d.jsxs("a",{href:`/profile/${u==null?void 0:u.userData.username}`,className:"text-lg font-medium hover:font-semibold",children:["@",u==null?void 0:u.userData.username]}),d.jsx(ct,{className:`ml-4 rounded-full h-8 w-4 bg-transparent border border-[hsl(var(--input))] ${Xe} ${Dn}`,onClick:async()=>{await navigator.clipboard.writeText(`https://www.persoa.ai/${cP(window.location.pathname)}`),B(!0)},children:te?d.jsx(no,{}):d.jsx(dP,{})})]}),d.jsxs("span",{className:`mt-2 text-sm ${Xe}`,children:[d.jsxs("span",{children:[Or(o.viewCount)," views"]}),d.jsx("span",{children:" • "}),d.jsxs("span",{children:[Or(o.likeCount)," likes"]})]})]}),d.jsx("div",{className:`mb-12 ${Xe} leading-relaxed`,children:d.jsx(mz,{description:o.description})})]}):d.jsxs(d.Fragment,{children:[d.jsxs("h1",{className:"flex flex-row gap-2 items-center",children:[d.jsx("span",{className:`text-3xl md:text-4xl font-bold ${Be} mb-1`,children:o.title}),o.restriction===Un.MATURE&&d.jsx("span",{className:"ml-2 font-semibold",children:d.jsx(B1,{})})]}),d.jsxs("div",{className:`flex items-center mb-3 ${Xe}`,children:[d.jsx("span",{className:"text-lg",children:"By "}),d.jsxs("a",{href:`/profile/${u==null?void 0:u.userData.username}`,className:"text-lg font-medium hover:font-semibold ml-2",children:["@",u==null?void 0:u.userData.username]}),d.jsxs("span",{className:`ml-4 text-sm ${Xe}`,children:[d.jsxs("span",{children:[Or(o.viewCount)," views"]}),d.jsx("span",{children:" • "}),d.jsxs("span",{children:[Or(o.likeCount)," likes"]})]}),d.jsx(ct,{className:`ml-4 rounded-full h-8 w-4 bg-transparent border border-[hsl(var(--input))] ${Xe} ${Dn}`,onClick:async()=>{await navigator.clipboard.writeText(`https://www.persoa.ai/${cP(window.location.pathname)}`),B(!0)},children:te?d.jsx(no,{}):d.jsx(dP,{})})]}),d.jsx("div",{className:`mb-6 ${Xe} leading-relaxed`,children:d.jsx(mz,{description:o.description})})]}),d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"flex gap-x-4 gap-y-2 flex-wrap mb-4",children:d.jsxs("div",{children:[((Ee=o.fandoms)==null?void 0:Ee.length)>0&&d.jsx("span",{className:`font-semibold mr-2 ${Xe}`,children:"Fandoms"}),(Me=o.fandoms)==null?void 0:Me.map(Le=>d.jsx("span",{className:"mx-1",children:d.jsx(L1,{className:$t,children:Le})},Le))]})}),d.jsx("div",{className:"flex gap-x-4 gap-y-2 flex-wrap",children:d.jsxs("div",{children:[((Ye=o.tags)==null?void 0:Ye.length)>0&&d.jsx("span",{className:`font-semibold mr-2 ${Xe}`,children:"Tags"}),(Ke=o.tags)==null?void 0:Ke.map(Le=>d.jsx("span",{className:"mx-1",children:d.jsx(L1,{className:$t,children:Le})},Le))]})}),d.jsx("div",{className:"flex items-center gap-2 mt-6",children:d.jsxs("div",{className:`${Xe}`,children:[d.jsx("span",{className:"mr-1",children:"Published on"}),d.jsx("span",{children:we})]})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`${Xe}`,children:Or(o.characterCount)}),d.jsx("span",{className:`${Xe} ml-1 mr-2`,children:"Persoas"}),d.jsx("span",{className:`${Xe}`,children:" • "}),d.jsx("div",{className:`${Xe} ml-2`,children:Or(o.scenes.length)}),d.jsx("span",{className:`${Xe} ml-1`,children:"Scenes"})]})]})}),r&&d.jsx(Re,{})]}),d.jsxs("div",{className:"border-t border-[hsl(var(--input))]/50 pt-6 mt-6",children:[d.jsx("h2",{className:`text-2xl font-bold mb-4 ${Be}`,children:"Persoas"}),d.jsx(Og,{children:o.characters.map((Le,lt)=>d.jsx(bt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1+lt*.1},className:`flex-none ${r?"w-[300px]":"w-[330px]"} pb-1`,children:d.jsx(rv,{name:r?Le.restriction===Un.MATURE?kn(Le.name,14):kn(Le.name,15):kn(Le.name,20),imagePath:Le.photo,userName:Le.userName,description:Le.shortDescription,likeCount:Le.likeCount,chatCount:Le.chatCount,isPublic:Le.isPublic,isMature:Le.restriction===Un.MATURE,onClick:()=>ne(Le)})},Le.id))})]}),d.jsxs("div",{className:"border-t border-[hsl(var(--input))]/50 pt-6 mt-6",children:[d.jsx("h2",{className:`text-2xl font-bold mb-4 ${Be}`,children:"Story Scenes"}),d.jsx(Og,{children:o.scenes.map((Le,lt)=>d.jsxs(bt.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1+lt*.1},className:`p-4 rounded-xl transition-all duration-300 min-w-[280px] max-w-[280px] cursor-pointer
                      bg-[hsl(var(--background-tertiary))]/50 hover:bg-[hsl(var(--background-tertiary))]/50 hover:shadow-sm`,onClick:()=>le(Le),children:[d.jsxs("h4",{className:`text-base font-medium ${Be} flex items-center`,children:[Le.title,Le.video&&d.jsx(Yz,{className:"w-3.5 h-3.5 ml-3"})]}),d.jsx("p",{className:`text-sm mt-1 ${Xe} line-clamp-3`,children:Le.description})]},Le.id))})]}),d.jsxs("div",{className:"border-t border-[hsl(var(--input))]/50 pt-6 mt-6",children:[d.jsx("h2",{className:`text-2xl font-bold mb-4 ${Be}`,children:"Author"}),d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsxs(An,{className:"w-16 h-16 rounded-full ml-3 mr-2 object-cover",children:[d.jsx(Mn,{src:u==null?void 0:u.profilePhoto}),d.jsx(Bn,{className:`text-3xl ${Yr}`,children:dr((u==null?void 0:u.userData.displayName)||"")})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-semibold",children:d.jsx("a",{href:`/profile/${u==null?void 0:u.userData.username}`,className:`cursor-pointer ${Be}`,children:u==null?void 0:u.userData.displayName})}),d.jsxs("p",{className:`text-sm mb-3 ${Xe}`,children:[Or(u==null?void 0:u.storyCount)," ",(u==null?void 0:u.storyCount)===1?"story":"stories"," ·"," ",Or(u==null?void 0:u.characterCount)," persoas ·"," ",Or(u==null?void 0:u.followers)," followers"]})]}),!W&&(p?d.jsx(ct,{className:`px-4 py-2 rounded-full ${Be} ${Zt} ${wn}`,onClick:K,children:"Following"}):d.jsx(ct,{className:`px-4 py-2 rounded-full ${ti} ${ni} ${ri}`,onClick:se,children:"Follow"}))]})]})]})]})}),d.jsx(rT,{}),O&&P&&d.jsx(cNe,{show:O,onClose:()=>M(!1),character:P,isAuthor:W}),N&&q&&d.jsx(oNe,{show:N,onClose:()=>U(!1),scene:q,setScene:L,isAuthor:W}),E&&d.jsx(mNe,{storyUserId:o.userId,storyDescription:o.description,show:E,onClose:()=>R(!1),character:null,otherCharacters:(o==null?void 0:o.characters)||[],scenes:(o==null?void 0:o.scenes)||[],startChat:()=>{}}),d.jsx(yNe,{story:o,open:X,onOpenChange:I,onUpdate:Le=>l(Le)})]})},bNe=()=>{const{userData:n}=kt(),[e,t]=C.useState(0),[r,i]=C.useState(1),[s,a]=C.useState(!1),o=Pt(n==null?void 0:n.theme);return C.useEffect(()=>{const l=setInterval(()=>{a(!0),i((e+1)%wi.length),setTimeout(()=>{t((e+1)%wi.length),a(!1)},3e3)},5e3);return()=>clearInterval(l)},[e,wi.length]),d.jsxs("div",{className:`min-h-screen ${_t}`,children:[d.jsxs("section",{className:"relative mb-8 rounded-xl border p-6 md:p-56 min-h-screen overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url(${wi[e]})`,opacity:s?0:1}}),d.jsx("div",{className:"absolute inset-0 bg-center bg-cover ",style:{backgroundImage:`url(${wi[r]})`,opacity:s?1:0}}),d.jsx("div",{className:"absolute inset-0",style:{backgroundColor:o==="light"?"white":"black",opacity:.85}}),d.jsxs("div",{className:"relative z-10 max-w-full font-sans",children:[d.jsxs("h1",{className:`mb-2 text-3xl font-bold ${it}`,children:["Welcome to persoa",d.jsx("span",{className:T1,children:"+"}),","," ",n==null?void 0:n.displayName]}),d.jsx("p",{className:`mb-8 ${it}`,children:"Enjoy unlimited and exclusive experiences with characters from your favorite fandoms"}),d.jsx("div",{className:"py-16",children:d.jsxs("div",{className:`flex flex-row justify-between max-w-6xl mx-auto gap-8 ${it}`,children:[d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Extended chat responses"}),d.jsx("p",{className:Be,children:"Enjoy longer, more detailed conversations without restrictions."})]}),d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Improved core memories"}),d.jsx("p",{className:Be,children:"Better conversation context and recall for a more personalized experience."})]}),d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Access to multiple chat models"}),d.jsx("p",{className:Be,children:"Choose from a variety of specialized models for different types of conversations."})]})]})}),d.jsx("div",{className:"flex",children:d.jsx(ui,{to:"/",children:d.jsxs(ct,{variant:"default",className:"px-4 py-2 rounded-full px-3",children:[d.jsx(_A,{className:"h-3 w-3"}),"Begin experience"]})})})]})]}),d.jsx(rT,{})]})},xNe=()=>{const{userData:n}=kt(),[e,t]=C.useState(0),[r,i]=C.useState(1),[s,a]=C.useState(!1),o=Pt(n==null?void 0:n.theme);return C.useEffect(()=>{const l=setInterval(()=>{a(!0),i((e+1)%wi.length),setTimeout(()=>{t((e+1)%wi.length),a(!1)},3e3)},5e3);return()=>clearInterval(l)},[e,wi.length]),d.jsxs("div",{className:`min-h-screen ${_t}`,children:[d.jsxs("section",{className:"relative mb-8 rounded-xl border p-6 md:p-56 min-h-screen overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-center bg-cover",style:{backgroundImage:`url(${wi[e]})`,opacity:s?0:1}}),d.jsx("div",{className:"absolute inset-0 bg-center bg-cover ",style:{backgroundImage:`url(${wi[r]})`,opacity:s?1:0}}),d.jsx("div",{className:"absolute inset-0",style:{backgroundColor:o==="light"?"white":"black",opacity:.85}}),d.jsxs("div",{className:"relative z-10 max-w-full font-sans",children:[d.jsxs("h1",{className:`mb-2 text-3xl font-bold ${it}`,children:["We're sad to see you go, ",n==null?void 0:n.displayName]}),d.jsx("p",{className:`mb-8 ${it}`,children:"You are returning to the freemium experience"}),d.jsx("div",{className:"py-16",children:d.jsxs("div",{className:`flex flex-row justify-between max-w-6xl mx-auto gap-8 ${it}`,children:[d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Short chat responses"}),d.jsx("p",{className:Be,children:"All conversations are now reverted to the short response length."})]}),d.jsxs("div",{className:"flex flex-col items-center text-center max-w-[300px]",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Regular core memories"}),d.jsx("p",{className:Be,children:"We'll preserve your old core memories, but all new core memories will be under the freemium tier."})]}),d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx("h3",{className:"text-xl font-bold mb-2",children:"Access to one model"}),d.jsx("p",{className:Be,children:"All chats will now use the freemium model."})]})]})}),d.jsx("div",{className:"flex",children:d.jsx(ui,{to:"/",children:d.jsxs(ct,{variant:"default",className:"px-4 py-2 rounded-full px-3",children:[d.jsx(_A,{className:"h-3 w-3"}),"Return to home page"]})})})]})]}),d.jsx(rT,{})]})};function wNe(){const{user:n,userData:e,loading:t}=kt(),[r,i]=C.useState(!1),[s,a]=C.useState(!1),[o,l]=C.useState(!1),[u,f]=C.useState(!1);C.useEffect(()=>{!t&&n?e&&e.username!==""?i(!1):e!==null&&i(!0):i(!1)},[n,e,t]);const p={setShowSettings:a,setShowPlans:l,setShowCreatePersoaPopover:f},m=Pt((e==null?void 0:e.theme)||Fl("theme"));return d.jsx(Dre,{children:d.jsx("div",{className:`${m} ${_t}`,children:d.jsx(OEe,{children:d.jsxs(TI,{children:[d.jsx(ji,{path:"/tos",element:d.jsx(bCe,{})}),d.jsx(ji,{path:"/privacy",element:d.jsx(xCe,{})}),d.jsx(ji,{path:"/help",element:d.jsx(_Ce,{})}),d.jsx(ji,{path:"/login",element:d.jsx(sNe,{})}),d.jsx(ji,{path:"/success",element:d.jsx(bNe,{})}),d.jsx(ji,{path:"/canceled",element:d.jsx(xNe,{})}),d.jsx(ji,{path:"/*",element:d.jsx(zH,{children:d.jsxs("div",{className:"flex h-screen w-screen",children:[d.jsx(qH,{className:`${_t} ${m}`,themeOverride:m,children:d.jsx(ECe,{setShowPlans:l,setShowCreatePersoaPopover:f})}),d.jsxs("div",{className:"flex-1 relative overflow-auto",children:[d.jsx(jCe,{isOpen:r,onClose:()=>i(!1),setShowOnboarding:i}),e&&d.jsxs(d.Fragment,{children:[d.jsx(OCe,{isOpen:s,onClose:()=>a(!1),setShowPlans:()=>l(!0)}),d.jsx(x3,{isOpen:o,onClose:()=>l(!1)}),d.jsx(nI,{isOpen:u,onClose:()=>f(!1)})]}),d.jsxs(TI,{children:[d.jsx(ji,{path:"/",element:d.jsx(nEe,{...p})}),d.jsx(ji,{path:"/search",element:d.jsx(Ff,{children:d.jsx(SCe,{...p})})}),d.jsx(ji,{path:"/character/new",element:d.jsx(Ff,{children:d.jsx(vCe,{...p})})}),d.jsx(ji,{path:"/groupchat/new",element:d.jsx(Ff,{children:d.jsx(JCe,{...p})})}),d.jsx(ji,{path:"/story/new",element:d.jsx(Ff,{children:d.jsx(aNe,{...p})})}),d.jsx(ji,{path:"/chat/:id",element:d.jsx(Ff,{children:d.jsx(FEe,{...p})})}),d.jsx(ji,{path:"/story/:id",element:d.jsx(vNe,{...p})}),d.jsx(ji,{path:"/groupchat/:id",element:d.jsxs(Ff,{children:[d.jsx(nNe,{...p})," "]})}),d.jsx(ji,{path:"/character/:id",element:d.jsx(Ff,{children:d.jsx(ZCe,{...p})})}),d.jsx(ji,{path:"/clone/:id",element:d.jsx(Ff,{children:d.jsx(QCe,{...p})})}),d.jsx(ji,{path:"/profile/:username",element:d.jsx(zCe,{...p})}),d.jsx(ji,{path:"*",element:d.jsx(Fz,{to:"/",replace:!0})})]})]})]})})})]})})})})}const _Ne=new ITe({defaultOptions:{queries:{refetchOnMount:!1,staleTime:1e3*60*5,gcTime:1e3*60*60}}});cne.createRoot(document.getElementById("root")).render(d.jsx(Wi.StrictMode,{children:d.jsx(qTe,{client:_Ne,children:d.jsx(Kce,{children:d.jsx(wNe,{})})})}));export{ki as _,xk as a,lEe as b,kh as g,xv as r};
